Debian GNU/Linux Installationsguide

Copyright © 2004 - 2021 Debian Installer-teamet

Den här handboken är fri programvara; du kan distribuera den och/eller
modifiera den under villkoren för GNU General Public License. Referera till
licensen i Appendix F, GNU General Public License.

Bygg version av denna manual: 20220129~deb11u1.

Sammanfattning

Det här dokumentet innehåller installationsinstruktioner för Debian GNU/Linux
11 system (kodnamn "bullseye") för arkitekturen 64-bit PC ("amd64"). Den
innehåller även referenser till mer information och information om hur du får
ut det mesta av ditt nya Debian-system.

Varning

This translation of the installation guide is not up-to-date and currently
there is noone actively working on updating it. Keep this in mind when reading
it; it may contain outdated or wrong information. Read or double-check the
English variant, if in doubt. If you can help us with updating the translation,
please contact <debian-boot@lists.debian.org> or the debian-l10n-xxx
mailinglist for this language. Many thanks

Översatt av Daniel Nylander <po@danielnylander.se>. Stort tack till Anders
Lennartsson för korrekturläsningen. GNU General Public License översattes av 
Mikael Pawlo. Skicka synpunkter på översättningen till 
<debian-l10n-swedish@lists.debian.org> eller <tp-sv@listor.tp-sv.se>.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Innehållsförteckning

Installation av Debian GNU/Linux 11 för amd64
1. Välkommen till Debian

    1.1. Vad är Debian?
    1.2. Vad är GNU/Linux?
    1.3. Vad är Debian GNU/Linux?
    1.4. Vad är Debian-installatören?
    1.5. Få tag på Debian
    1.6. Få tag på senaste versionen av det här dokumentet
    1.7. Organisering av det här dokumentet
    1.8. Om copyright och programvarulicenser

2. Systemkrav

    2.1. Maskinvara som stöds

        2.1.1. Arkitekturer som stöds
        2.1.2. CPU-stöd
        2.1.3. Bärbara datorer
        2.1.4. Flera processorer
        2.1.5. Stöd för grafikhårdvara
        2.1.6. Maskinvara för anslutning till nätverk
        2.1.7. Punktskriftsskärmar
        2.1.8. Talsyntes (maskinvara)
        2.1.9. Kringutrustning och annan maskinvara

    2.2. Enheter som kräver fast programvara
    2.3. Köpa maskinvara specifikt för GNU/Linux

        2.3.1. Undvik proprietär eller sluten maskinvara

    2.4. Installationsmedia

        2.4.1. Cd-rom/Dvd-rom/Bd-rom
        2.4.2. USB-minne
        2.4.3. Nätverk
        2.4.4. Hårddisk
        2.4.5. Un*x eller GNU-system
        2.4.6. Lagringssystem som stöds

    2.5. Krav för minne och diskplats

3. Före installation av Debian GNU/Linux

    3.1. Översikt av installationsprocessen
    3.2. Säkerhetskopiera dina befintliga data!
    3.3. Information du behöver

        3.3.1. Dokumentation
        3.3.2. Hitta informationskällor för maskinvara
        3.3.3. Maskinvarukompatibilitet
        3.3.4. Nätverksinställningar

    3.4. Matcha minimikrav för maskinvara
    3.5. Förpartionering för system med flera operativsystem
    3.6. Inställning av maskinvara och operativsystem före installation

        3.6.1. Starta BIOS/UEFI-inställningsmenyn
        3.6.2. Val av uppstartsenhet
        3.6.3. System med UEFI firmware
        3.6.4. Säker uppstart
        3.6.5. Inaktivera Windows "snabbuppstart"/"snabbstart" funktion
        3.6.6. Maskinvaruproblem att se upp för

4. Få tag på installationsmedia

    4.1. Officiella Debian GNU/Linux installationsavbildningar
    4.2. Hämta filer från Debian-speglar

        4.2.1. Var man får tag på installationsfiler

    4.3. Förbereda filer för uppstart med USB-minne

        4.3.1. Förbereder ett USB-minne med en hybrid CD/DVD-avbildning
        4.3.2. Manuell kopiering av filer till USB-minnet
        4.3.3. Manuellt kopiera filerna till ett USB minne -- det flexibla
            sättet

    4.4. Förbereda filer för uppstart med hårddisk

        4.4.1. Starta upp hårddiskinstalleraren från Linux med GRUB
        4.4.2. Starta upp hårddiskinstalleraren från DOS genom att använda 
            loadlin

    4.5. Förbered filerna för nätverksuppstart via TFTP

        4.5.1. Konfigurering av DHCP-server
        4.5.2. Konfigurera en BOOTP-server
        4.5.3. Aktivering av TFTP-server
        4.5.4. Flytta TFTP-avbildningarna till rätt plats

    4.6. Automatisk installation

        4.6.1. Automatisk installation med Debian Installer

    4.7. Verifiera integriteten för installationsfiler

5. Starta upp installationssystemet

    5.1. Starta upp installationsprogrammet på 64-bit PC

        5.1.1. Uppstart från USB-minne
        5.1.2. Starta upp från optiskt media (CD/DVD)
        5.1.3. Starta upp från Windows
        5.1.4. Starta upp från DOS genom att använda loadlin
        5.1.5. Uppstart från Linux med GRUB
        5.1.6. Uppstart via TFTP
        5.1.7. Uppstartsskärmen
        5.1.8. Det grafiska installationsprogrammet

    5.2. Hjälpmedel

        5.2.1. Installationsprogrammets frontend
        5.2.2. Punktskriftsskärmar med USB
        5.2.3. Punktskriftsskärmar med seriekabel
        5.2.4. Talsynteser (mjukvara)
        5.2.5. Talsyntes (maskinvara)
        5.2.6. Brädenheter
        5.2.7. Tema med hög kontrast
        5.2.8. Zooma
        5.2.9. Expertinstallation, räddningsläge, automatisk installation
        5.2.10. Tillgänglighet för det installerade systemet

    5.3. Uppstartsparametrar

        5.3.1. Startkonsol
        5.3.2. Parametrar för Debian Installer
        5.3.3. Använding av uppstartsparametrar för att besvara frågor
        5.3.4. Skicka parametrar till kärnmoduler
        5.3.5. Svartlistning av kärnmoduler

    5.4. Felsök installationsprocessen

        5.4.1. Tillförlitligheten för optiska medier
        5.4.2. Uppstartskonfiguration
        5.4.3. Talsynteser (mjukvara)
        5.4.4. Vanliga 64-bit PC Installationsproblem
        5.4.5. Tolkning av kärnans uppstartsmeddelanden
        5.4.6. Rapportering av installationsproblem
        5.4.7. Skicka installationsrapporter

6. Användning av Debian Installer

    6.1. Hur installationsprogrammet fungerar

        6.1.1. Användning av det grafiska installationsprogrammet

    6.2. Introduktion till komponenter
    6.3. Användning av individuella komponenter

        6.3.1. Konfiguration av Debians installationsprogram och maskinvara
        6.3.2. Skapa användare och lösenord
        6.3.3. Konfigurera klockan och tidszon
        6.3.4. Partitionering och val av monteringspunkter
        6.3.5. Installation av grundsystemet
        6.3.6. Installera ytterligare programvara
        6.3.7. Gör ditt system klart för uppstart
        6.3.8. Färdigställ installationen
        6.3.9. Felsökning
        6.3.10. Installation over network-console

    6.4. Läsa in saknad fast programvara

        6.4.1. Förbereda ett media
        6.4.2. Fast programvara och det installerade systemet
        6.4.3. Slutför det installerade systemet

    6.5. Customization

        6.5.1. Installing an alternative init system

7. Starta upp ditt nya Debian-system

    7.1. Sanningens minut
    7.2. Montering av krypterade volymer

        7.2.1. Felsökning

    7.3. Logga in

8. Nästa steg och hur man ska gå vidare

    8.1. Stänga av systemet
    8.2. Orientera dig runt i Debian

        8.2.1. Debians paketsystem
        8.2.2. Ytterligare mjukvara tillgängligt för Debian
        8.2.3. Hantera programversioner
        8.2.4. Hantera cronjobb

    8.3. Ytterligare läsning och information
    8.4. Konfigurera ditt system att använda e-post

        8.4.1. Standardkonfiguration för e-post
        8.4.2. Skicka e-post utanför systemet
        8.4.3. Konfigurera e-postservern Exim4

    8.5. Bygg en ny kärna
    8.6. Återställning av ett trasigt system

A. Installationshjälp

    A.1. Förberedelser
    A.2. Starta upp installationsprogrammet

        A.2.1. Optisk skiva
        A.2.2. USB-minne
        A.2.3. Uppstart från nätverk
        A.2.4. Uppstart från hårddisk

    A.3. Installation
    A.4. Sänd oss en installationsrapport
    A.5. Och till slut...

B. Automatiserad installation med förinställningar

    B.1. Introduktion

        B.1.1. Metoder för förinställning
        B.1.2. Begränsningar

    B.2. Användning av förinställningar

        B.2.1. Inläsning av förkonfigurationsfilen
        B.2.2. Användning av uppstartsparametrar för att förinställa frågor
        B.2.3. Auto-läget
        B.2.4. Användbara alias vid förinställning
        B.2.5. Examples of boot prompt preseeding
        B.2.6. Använd en DHCP-server för att ange förkonfigurationsfiler

    B.3. Skapa en förkonfigurationsfil
    B.4. Innehållet av en förkonfigurationsfil (för bullseye)

        B.4.1. Lokalanpassning
        B.4.2. Nätverkskonfiguration
        B.4.3. Nätverkskonsoll
        B.4.4. Spegelinställningar
        B.4.5. Kontoinställning
        B.4.6. Inställning av klocka och tidszon
        B.4.7. Partitionering
        B.4.8. Installation av grundsystem
        B.4.9. Apt-inställning
        B.4.10. Paketval
        B.4.11. Installation av starthanteraren
        B.4.12. Färdigställande av installationen
        B.4.13. Förinställning av andra paket

    B.5. Avancerade inställningar

        B.5.1. Kör anpassade kommandon under installationen
        B.5.2. Användning av förinställningar för att ändra på standardvärden
        B.5.3. Kedjeinläsning av förkonfigurationsfiler

C. Partitionera för Debian

    C.1. Bestämma Debian-partitioner och storlekar
    C.2. Katalogträdet
    C.3. Rekommenderad partitionstabell
    C.4. Enhetsnamn i Linux
    C.5. Debians partitioneringsprogram

        C.5.1. Partitionera för 64-bit PC

D. Diverse bitar

    D.1. Linux-enheter

        D.1.1. Konfigurera din mus

    D.2. Nödvändig diskplats för funktioner
    D.3. Installera Debian GNU/Linux från ett Unix/Linux-system

        D.3.1. Påbörja arbetet
        D.3.2. Installera debootstrap
        D.3.3. Kör debootstrap
        D.3.4. Konfigurera grundsystemet
        D.3.5. Installera en kärna
        D.3.6. Ställ in starthanteraren
        D.3.7. Fjärråtkomst: installera SSH och konfigurera åtkomst
        D.3.8. Slutgiltiga justeringar

    D.4. Installera Debian GNU/Linux över Parallel Line IP (PLIP)

        D.4.1. Krav
        D.4.2. Ställ in källor
        D.4.3. Installera måldatorn

    D.5. Installera Debian GNU/Linux över PPP over Ethernet (PPPoE)

E. Administrivia

    E.1. Om det här dokumentet
    E.2. Bidrag till det här dokumentet
    E.3. Stora bidragsgivare
    E.4. Varumärken

F. GNU General Public License

Tabellförteckning

3.1. Maskinvaruinformation som som kan vara hjälpfulla för en installation
3.2. Rekommenderade minimala systemkrav

Installation av Debian GNU/Linux 11 för amd64

Vi är glada att du har valt att prova Debian och är säkra på att du kommer att
tycka att utgåvan av Debian GNU/Linux är unik. Debian GNU/Linux sammanför
högkvalitativa fria programvaror från hela världen och integrerar dem i en
sammanhängande helhet. Vi tror att du kommer att tycka att resultatet verkligen
är mer än summan av delarna.

Vi förstår att många av er vill installera Debian utan att läsa den här
handboken och Debian Installer är designad för att göra det möjligt. Om du inte
har tid att läsa hela installationsguiden just nu rekommenderar vi att du läser
installationshjälpen som går igenom den grundläggande installationsprocessen
och länkar till manualen för mer avancerade ämnen eller när saker går fel.
Installationshjälpen kan du hitta i Appendix A, Installationshjälp.

Med det sagt hoppas vi att du får tid att läsa större delen av den här
handboken och genom att göra det bli mer informerad och få positiva
erfarenheter av installationen.

Kapitel 1. Välkommen till Debian

Innehållsförteckning

1.1. Vad är Debian?
1.2. Vad är GNU/Linux?
1.3. Vad är Debian GNU/Linux?
1.4. Vad är Debian-installatören?
1.5. Få tag på Debian
1.6. Få tag på senaste versionen av det här dokumentet
1.7. Organisering av det här dokumentet
1.8. Om copyright och programvarulicenser

Det här kapitlet ger en överblick av Debian-projektet och Debian GNU/Linux. Om
du redan känner till historien bakom Debian-projektet och Debian GNU/
Linux-utgåvan kan du hoppa till nästa kapitel.

1.1. Vad är Debian?

Debian är en frivilligorganisation som är engagerad med att utveckla fri
programvara och främja idealen för Free Software Foundation. Debian-projektet
startade 1993 när Ian Murdock skickade ut en öppen inbjudan till
programvaruutvecklare om att bidra till en komplett och sammanhållen
programvaruutgåva baserad på den då relativt nya Linux-kärnan. Den relativt
lilla skaran av dedicerade entusiaster, ursprungligen finansierade av Free
Software Foundation och påverkade av GNU:s filosofi, har över åren som gått
växt till en organisation på ungefär 1000 Debian-utvecklare.

Debian-utvecklare är involverade i en uppsjö av aktiviteter såsom
administration av webbplatsen och FTP-servern, grafisk design, juridiska
aspekter för programvarulicenser, dokumentation samt, så klart, underhåll av
programvarupaketen.

Med avsikt att kommunicera vår filosofi och attrahera utvecklare som tror på
principerna som Debian står för har Debian-projektet publicerat ett antal
dokument som pekar ut våra värderingar och fungerar som guider till vad det
betyder att vara en Debian-utvecklare:

  • Debians sociala kontrakt är ett resultat av Debians engagemang för
    användare och utvecklare av fri programvara. Alla som godtar att följa det
    sociala kontraktet kan bli en underhållare. Alla underhållare kan
    introducera ny programvara i Debian -- om programvaran tillgodoser våra
    kriterier för att vara fritt och att paketet följer våra
    kvalitetsstandarder.

  • Debians riktlinjer för fri programvara (DFSG) är klara och koncisa regler
    för Debians kriterier för fri programvara. DFSG är ett mycket
    inflytelserikt dokument i den fria programvarurörelsen och var grundstenen
    för The Open Source Definition.

  • Debians Policymanual är en omfattande specifikation av Debian-projektets
    kvalitetsstandarder.

Debian-utvecklarna är också involverade i ett antal andra projekt, vissa
specifika till Debian, andra involverar några eller alla Linux-relaterade
projekt. Några exempel är:

  • Filesystem Hierarchy Standard (FHS) är ett försök att standardisera
    organiseringen av filsystemet för Linux. FHS kommer att tillåta
    programvaruutvecklare att fokusera på att utveckla program utan att behöva
    oroa sig för hur paketen kommer att installeras i olika utgåvor av GNU/
    Linux.

  • Debian Jr. är ett internt projekt vars mål är att göra Debian attraktivt
    även för unga användare.

För mer allmän information om Debian, se Debian GNU/Linux FAQ.

1.2. Vad är GNU/Linux?

GNU/Linux är ett operativsystem: ett antal program som låter dig interagera med
din dator och köra andra program.

Ett operativsystem innehåller olika fundamentala program som behövs för att din
dator så att den kan kommunicera och ta emot instruktioner från användare; läs
och skriva data till hårddiskar, band och skrivare; kontrollera användningen av
minne; och köra annan programvara. Den viktigaste delen av ett operativsystem
är kärnan. I ett GNU/Linux-system är Linux kärnkomponenten. Resten av systemet
innehåller andra program, många av dem skrevs av eller för GNU-projektet. För
att Linux-kärnan själv inte utgör ett fungerande operativsystem har vi
föredragit att använda termen "GNU/Linux" för att referera till system som
många personer vardagligen refererar till som "Linux".

GNU/Linux är modellerad efter ett Unix-operativsystem. Från början var GNU/
Linux designad att vara ett parallellbearbetande fleranvändarsystem. Dessa
fakta är tillräckliga att göra GNU/Linux olikt från andra välkända
operativsystem. Dock är GNU/Linux ännu mer olik än du kanske tror. I kontrast
till andra operativsystem äger ingen GNU/Linux. Mycket av dess utveckling är
gjord av obetalda frivilliga.

Utvecklingen av vad senare blev GNU/Linux började 1984 när Free Software
Foundation började utvecklingen av ett fritt Unix-liknande operativsystem
kallat GNU.

GNU-projektet har utvecklat en omfattande samling av fria programverktyg för
att användas med Unix (tm) och Unix-liknande operativsystem såsom GNU/Linux.
Dessa verktyg ger användarna möjligheten att utföra vardagliga uppgifter (såsom
kopiering och borttagning av filer från systemet) till det mystiska (såsom
skriva och bygga program eller göra sofistikerad redigering i ett antal olika
dokumentformat).

Även om många grupper och individer har bidragit till GNU/Linux är den största
enskilda bidragsgivaren fortfarande Free Software Foundation som har skapat
inte bara de flesta av verktygen som används i GNU/Linux men även filosofin och
gemenskapen som gjorde GNU/Linux möjlig.

Linux-kärnan dök ursprungligen upp 1991 när en finsk systemvetare vid namn
Linus Torvalds tillkännagav en tidig version av ett alternativ till Minix till
en diskussionsgrupp på Usenet kallad comp.os.minix. Se Linux Internationals
sida om Linux historia.

Linux Torvalds fortsätter än idag att koordinera arbetet för flera hundra
utvecklare med hjälp av ett antal delansvariga. Det finns en officiell
webbplats för Linux-kärnan. Information om sändlistan linux-kernel kan hittas
på linux-kernel mailing list FAQ.

GNU/Linux users have immense freedom of choice in their software. For example,
they can choose from a dozen different command line shells and several
graphical desktops. This selection is often bewildering to users of other
operating systems, who are not used to thinking of the command line or desktop
as something that they can change.

GNU/Linux är också mindre benägen att krascha, bättre på att köra fler än ett
program samtidigt och säkrare än många andra operativsystem. Med dessa fördelar
är Linux det snabbast växande operativsystemet på servermarknaden. På senare
tid har också Linux börjat bli populärt hos hem- och företagsanvändare.

1.3. Vad är Debian GNU/Linux?

Kombinationen av Debians filosofi, metodik, GNU-verktygen, Linux-kärnan och
andra viktiga fria programvaror formar en unik utgåva av programvaror kallad
Debian GNU/Linux. Den här utgåvan är uppbyggd av ett större antal av
programvarupaket. Varje paket i utgåvan innehåller exekverbara filer, skript,
dokumentation och konfigurationsinformation och har en paketansvarig som är
primärt ansvarig för att hålla paketen uppdaterade, hantera felrapporter och
kommunicera med den ursprungliga upphovsmannen/männen för den paketerade
programvaran. Vår extremt stora användarbas, kombinerad med vårt
felhanteringssystem ser till att problem hittas och löses snabbt.

Debians beaktande av detaljer gör att vi kan skapa en högkvalitativ, stabil och
skalbar utgåva. Installationer kan lätt konfigureras för att hantera olika
roller, från bantade installationer för brandväggar till arbetsstationer för
vetenskapliga ändamål eller högprestandaservrar.

Debian är speciellt populär bland erfarna användare för dess tekniska
förträfflighet och sitt djupa engagemang för behov och förväntningar hos
användare och utvecklare av Linux. Debian har också introducerat många
funktioner till Linux som nu är vardagsmat.

Till exempel var Debian den första Linux-utgåvan som inkluderade ett
pakethanteringssystem för enkel installation och borttagning av programvara.
Den var också den första Linux-utgåvan som kunde bli uppgraderad utan att kräva
ominstallation.

Debian fortsätter att vara ledande inom Linux-utvecklingen. Dess
utvecklingsprocess är ett exempel på hur bra utvecklingsmodellen för öppen
källkod kan fungera -- även för mycket komplexa uppgifter såsom byggnation och
underhåll av ett komplett operativsystem.

Funktionen som mest utmärker Debian från de andra Linux-utgåvorna är dess
pakethanteringssystem. Dessa verktyg ger administratören för Debian-systemet
total kontroll över paketen som installeras på ett system inklusive möjligheten
att installera enstaka paket eller automatiskt uppdatering av hela
operativsystemet. Individuella paket kan också skyddas från att uppdateras. Du
kan även tala om för pakethanteringssystemet om programvara du själv har byggt
och vilka beroenden de uppfyller.

För att skydda ditt system mot "trojanska hästar" och annan ondsint programvara
verifierar Debians servrar att uppskickade paket verkligen kommer från dess
registrerade Debian-ansvarige. Debian-paketerare är också noggranna med att
deras paket konfigureras på ett säkert sätt. Om säkerhetsproblem upptäcks i
utsända paket kommer normalt sett rättningar på problemen mycket snabbt. Men
Debians enkla uppdateringsmöjligheter kan säkerhetsrättningar hämtas och
installeras automatiskt över hela Internet.

Den primära, och bästa, metoden att få support för ditt Debian GNU/Linux-system
och kommunicera med Debians utvecklare är genom de många sändlistor som
underhålls av Debian-projektet (det är mer än 322 listor när det här skrivs).
Det enklaste sättet att prenumerera på en eller flera av dessa listor är att
besöka Prenumerera på Debians sändlistor och fylla i formuläret du hittar där.

1.4. Vad är Debian-installatören?

Debian Installer, även känd som "d-i", är programvaran för att installera ett
grundläggande fungerande Debian-system. Ett stort antal hårdvara som inbäddade
enheter, bärbara datorer, stationära datorer och servermaskiner stöds och en
stor uppsättning gratis programvara för många ändamål erbjuds.

Installationen utförs genom att besvara en grundläggande uppsättning frågor.
Det finns också ett expertläge som gör det möjligt att styra alla aspekter av
installationen och en avancerad funktion för att utföra automatiserade
installationer. Det installerade systemet kan användas som det är eller
anpassas ytterligare. Installationen kan utföras från en mängd källor: USB, CD/
DVD/Blu-Ray eller nätverket. Installationsprogrammet stöder lokaliserade
installationer på mer än 80 språk.

Installationsprogrammet har sitt ursprung i boot-floppies-projektet och det var
förstnämnda av Joey Hess 2000. Sedan dess har installationssystemet
kontinuerligt utvecklats av volontärer som förbättrar och lägger till fler
funktioner.

Mer information finns på Debian Installer-sida, på Wiki och på e-postlista för
debian-boot.

1.5. Få tag på Debian

För information om hur man hämtar Debian GNU/Linux från Internet eller från var
man kan köpa officiella Debian installationsmedia, se webbsidan Få tag på
Debian. Webbsidan Hämta Debian från Internet innehåller en full lista av
officiella Debian-speglar så du lätt kan hitta den närmaste.

Debian kan efter installationen uppgraderas på ett enkelt sätt.
Installationsprocessen kommer att hjälpa till att ställa in systemet så att du
kan göra dessa uppgraderingar när installation är klar, om det behövs.

1.6. Få tag på senaste versionen av det här dokumentet

Det här dokumentet är under konstant omarbetning. Se på webbsidorna för Debian
11 efter den absolut senaste information om 11-utgåvan av Debian GNU/
Linux-systemet. Uppdaterade versioner av den här installationshandboken finns
också tillgängliga från officiella installationshandboken.

1.7. Organisering av det här dokumentet

Det här dokumentet är tänkt att fungera som en handbok för nybörjare av Debian.
Den försöker göra så få antaganden som möjligt om din kunskapsnivå. Dock antar
vi att du har en allmän uppfattning av hur maskinvaran i din dator fungerar.

Expertanvändare kan också hitta intressant referensinformation i det här
dokumentet inklusive minimistorlek för installation, detaljer om vilken
maskinvara som stöds av Debians installationssystem och så vidare. Vi
uppmuntrar expertanvändare att hoppa runt i dokumentet.

I allmänhet är handboken uppbyggd i en linjär form som tar dig genom
installationsprocessen från början till slut. Här är stegen som krävs för att
installera Debian GNU/Linux och avsnitten i det här dokumentet som motsvarar
varje steg:

 1. Ta reda på om din maskinvara möter kraven för att använda
    installationssystemet i Kapitel 2, Systemkrav.

 2. Säkerhetskopiering av ditt system, all nödvändig planering och
    maskinvarukonfigurering före du installerar Debian finns i Kapitel 3, Före
    installation av Debian GNU/Linux. Om du förbereder ett system med flera
    operativsystem kan du behöva skapa ytterligare partitioner på din hårddisk
    som Debian kan användas för.

 3. I Kapitel 4, Få tag på installationsmedia kan du hitta de nödvändiga
    installationsfilerna för din installationsmetod.

 4. Nästa Kapitel 5, Starta upp installationssystemet beskriver uppstart av
    installationssystemet. Det här kapitlet diskuterar också procedurer för
    problemlösning om du har problem med det här steget.

 5. Genomför den aktuella installationen enligt Kapitel 6, Användning av Debian
    Installer. Det här innefattar ditt val av språk, konfiguration av
    drivrutiner för kringutrustning, konfiguration av nätverksanslutning så att
    återstående installationsfiler kan hämtas direkt från en Debian-server (om
    du inte installerar från en uppsättning CD/DVD-installationsavbildningar),
    partitionering av dina hårddiskar och installation av ett grundsystem och
    efter det val och installation av paket för vissa funktioner. (Viss
    bakgrund om inställning av partitioner för ditt Debian-system finns
    förklarat i Appendix C, Partitionera för Debian.)

 6. Starta upp ditt nyinstallerade grundsystem, från Kapitel 7, Starta upp ditt
    nya Debian-system.

När du har fått ditt system installerat kan du läsa Kapitel 8, Nästa steg och
hur man ska gå vidare. Det här kapitlet förklarar var man letar för att finna
mer information om Unix och Debian och hur du ersätter din kärna.

Till slut, information om det här dokumentet och hur man bidrar till det kan
hittas i Appendix E, Administrivia.

1.8. Om copyright och programvarulicenser

Vi är säkra på att du läst några av licenserna som kommer med de flesta
kommersiella programvaror -- de säger normalt sett att du bara kan använda en
kopia av programvaran på en enda dator. Licensen för det här systemet är inte
alls som sådan. Vi uppmuntrar dig att lägga en kopia av Debian GNU/Linux på
varje dator i din skola eller arbetsplats. Låna ut ditt installationsmedium
till dina vänner och hjälp dem att installera det på deras datorer! Du kan även
göra tusentals kopior och sälja dem -- dock med några få restriktioner. Din
frihet att installera och använda systemet kommer direkt från att Debian är
baserad på fri programvara.

Att kalla programvara för fri betyder inte att programvaran inte är
upphovsrättsskyddad och det betyder inte att installationsmedia som innehåller
den programvaran måste distribueras gratis. Fri programvara, i den bemärkelsen
betyder att licenser för individuella program inte kräver att du betalar för
rättigheten att distribuera eller använda de programmen. Fri programvara
betyder också att alla inte bara kan utöka, justera och ändra programvaran men
också att du kan distribuera resultatet av sådant arbete.

Notera

Debian-projektet gör som ett praktiskt tillmötesgående mot sina användare vissa
paket med programvara tillgängliga, vilka inte uppfyller våra kriterier för att
vara fria. Dessa paket är dock inte en del av den officiella utgåvan och är
bara tillgängliga från områdena contrib eller non-free av Debian-speglarna
eller på tredjeparts cd/dvd-skivor, se Debian GNU/Linux FAQ under "Debians
FTP-arkiv" för mer information om utseendet och innehåller av arkiven.

Många av programmen i system är licensierade under GNU General Public License
och refereras ofta till som "GPL". GPL kräver att du gör källkoden av
programmen tillgängliga när du distribuerar en binär kopia av programmet; det
villkoret av licensen ser till att alla användare har möjligheten att modifiera
programvaran. På grund av det här villkoret är källkoden^[1] för alla sådana
program är tillgänglig i Debian-systemet.

Det finns ytterligare flera olika copyrightvillkor och programvarulicenser som
används av programmen i Debian. Du kan hitta information om copyright och
licenser för varje installerat paket på ditt system genom att se i filen /usr/
share/doc/paketnamn/copyright .

För mer information om licenser och hur Debian fastställer om programvaran är
tillräckligt fri för att inkluderas i huvudutgåvan, se Debians riktlinjer för
fri programvara.

Den mest viktiga juridiska informationen är att den här programvaran kommer 
utan garanti. Programmerarna som har skapat denna programvara har gjort det som
förmån för gemenskapen. Ingen garanti lämnas för anpassningen av programvaran
för vilket ändamål som helst. Dock, eftersom programvaran är fri, är du
berättigad att modifiera så programvaran passar dina behov -- och att njuta av
fördelarna av de ändringar gjorda av andra som har utökat programvaran på det
här sättet.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[1] För information om hur man hittar, packar upp och bygger binärer från
Debians källkodspaket, se Debian GNU/Linux FAQ under "Grunder för Debians
pakethanteringssystem".

Kapitel 2. Systemkrav

Innehållsförteckning

2.1. Maskinvara som stöds

    2.1.1. Arkitekturer som stöds
    2.1.2. CPU-stöd
    2.1.3. Bärbara datorer
    2.1.4. Flera processorer
    2.1.5. Stöd för grafikhårdvara
    2.1.6. Maskinvara för anslutning till nätverk
    2.1.7. Punktskriftsskärmar
    2.1.8. Talsyntes (maskinvara)
    2.1.9. Kringutrustning och annan maskinvara

2.2. Enheter som kräver fast programvara
2.3. Köpa maskinvara specifikt för GNU/Linux

    2.3.1. Undvik proprietär eller sluten maskinvara

2.4. Installationsmedia

    2.4.1. Cd-rom/Dvd-rom/Bd-rom
    2.4.2. USB-minne
    2.4.3. Nätverk
    2.4.4. Hårddisk
    2.4.5. Un*x eller GNU-system
    2.4.6. Lagringssystem som stöds

2.5. Krav för minne och diskplats

Det här avsnittet innehåller information om vilken maskinvara du behöver för
att börja med Debian. Du kommer också att hitta länkar till ytterligare
information om vilken maskinvara som stöds av GNU och Linux.

2.1. Maskinvara som stöds

Debian ställer inga maskinvarukrav utöver kraven ställda för Linux- eller
kFreeBSD-kärnan och GNU:s verktyg. Därför kan alla arkitekturer eller
plattformar till vilka Linuxkärnan, libc, gcc och så vidare, blivit porterade,
och för vilken en portering till Debian finns, köra Debian. Referera till
ports-sidorna på https://www.debian.org/ports/amd64/ för mera detaljer om 
64-bit PC-arkitektursystem som har blivit testade med Debian GNU/Linux.

Hellre än att försöka att beskriva alla de olika maskinvarukonfigurationerna
som finns stöd för i 64-bit PC innehåller det här avsnittet allmän information
och pekar till källor för ytterligare information.

2.1.1. Arkitekturer som stöds

Debian GNU/Linux 11 har stöd för 9 större arkitekturer och ett flertal
variationer av varje arkitektur kända som "varianter".

┌─────────────────────┬─────────────────┬──────────────────────────┬──────────┐
│     Arkitektur      │Debian-beteckning│     Underarkitektur      │ Variant  │
├─────────────────────┼─────────────────┼──────────────────────────┼──────────┤
│AMD64 & Intel 64     │amd64            │                          │          │
├─────────────────────┼─────────────────┼──────────────────────────┼──────────┤
│                     │                 │standard x86-maskiner     │standard  │
│Intel x86-baserad    │i386             ├──────────────────────────┼──────────┤
│                     │                 │Endast Xen PV-domäner     │xen       │
├─────────────────────┼─────────────────┼──────────────────────────┼──────────┤
│ARM                  │armel            │Marvell Kirkwood och Orion│marvell   │
├─────────────────────┼─────────────────┼──────────────────────────┼──────────┤
│ARM med hårdvara FPU │armhf            │multiplatform             │armmp     │
├─────────────────────┼─────────────────┼──────────────────────────┼──────────┤
│64bit ARM            │arm64            │                          │          │
├─────────────────────┼─────────────────┼──────────────────────────┼──────────┤
│                     │                 │MIPS Malta                │5kc-malta │
│64bit MIPS           │                 ├──────────────────────────┼──────────┤
│(little-endian)      │mips64el         │Cavium Octeon             │octeon    │
│                     │                 ├──────────────────────────┼──────────┤
│                     │                 │Loongson 3                │loongson-3│
├─────────────────────┼─────────────────┼──────────────────────────┼──────────┤
│                     │                 │MIPS Malta                │4kc-malta │
│32bit MIPS           │                 ├──────────────────────────┼──────────┤
│(little-endian)      │mipsel           │Cavium Octeon             │octeon    │
│                     │                 ├──────────────────────────┼──────────┤
│                     │                 │Loongson 3                │loongson-3│
├─────────────────────┼─────────────────┼──────────────────────────┼──────────┤
│Power Systems        │ppc64el          │IBM POWER8 eller nyare    │          │
│                     │                 │maskiner                  │          │
├─────────────────────┼─────────────────┼──────────────────────────┼──────────┤
│64bit IBM S/390      │s390x            │IPL från VM-läsare och    │generisk  │
│                     │                 │DASD                      │          │
└─────────────────────┴─────────────────┴──────────────────────────┴──────────┘

Det här dokumentet täcker in installationen för 64-bit PC--arkitekturen med 
Linux-kärnan. Om du letar efter information om någon av de andra arkitekturerna
som Debian stöder kan du se på sidorna för Debian-porteringar.

2.1.2. CPU-stöd

Både AMD64 och Intel 64-processorer stöds.

2.1.3. Bärbara datorer

From a technical point of view, laptops are normal PCs, so all information
regarding PC systems applies to laptops as well. Installations on laptops
nowadays usually work out of the box, including things like automatically
suspending the system on closing the lid and laptop specfic hardware buttons
like those for disabling the wifi interfaces ("airplane mode"). Nonetheless
sometimes the hardware vendors use specialized or proprietary hardware for some
laptop-specific functions which might not be supported. To see if your
particular laptop works well with GNU/Linux, see for example the Linux Laptop
pages.

2.1.4. Flera processorer

Multiprocessor support -- also called "symmetric multiprocessing" or SMP -- is
available for this architecture. The standard Debian 11 kernel image has been
compiled with SMP-alternatives support. This means that the kernel will detect
the number of processors (or processor cores) and will automatically deactivate
SMP on uniprocessor systems.

Having multiple processors in a computer was originally only an issue for
high-end server systems but has become common in recent years nearly everywhere
with the introduction of so called "multi-core" processors. These contain two
or more processor units, called "cores", in one physical chip.

2.1.5. Stöd för grafikhårdvara

Debian's support for graphical interfaces is determined by the underlying
support found in X.Org's X11 system, and the kernel. Basic framebuffer graphics
is provided by the kernel, whilst desktop environments use X11. Whether
advanced graphics card features such as 3D-hardware acceleration or
hardware-accelerated video are available, depends on the actual graphics
hardware used in the system and in some cases on the installation of additional
"firmware" blobs (see Avsnitt 2.2, "Enheter som kräver fast programvara").

On modern PCs, having a graphical display usually works out of the box. For
quite a lot of hardware, 3D acceleration also works well out of the box, but
there is still some hardware that needs binary firmware blobs to work well. In
some cases there have been reports about hardware on which installation of
additional graphics card firmware was required even for basic graphics support.

Detaljer om grafikhårdvaraoch pekenheter kan hittas på https://
wiki.freedesktop.org/xorg/. Debian 11 skickar med X.Org version 7.7.

2.1.6. Maskinvara för anslutning till nätverk

Nästan alla nätverkskort (NIC) som stöds av Linux-kärnan stöds även av
installationssystemet; modulära drivrutiner ska vanligtvis läsas in
automatiskt. Det här inkluderat de flesta PCI/PCI-Express-kort samt PCMCIA /
Express-kort på bärbara datorer

ISDN stöds men inte under installationen.

2.1.6.1. Trådlösa nätverkskort

Trådlösa nätverk stöds i allmänhet också och ett växande antal av trådlösa
nätverkskort stöds av den officiella Linux-kärnan, även om många av dem kräver
att fast programvara läses in.

Om fast programvara krävs så kommer installationsprogrammet att fråga dig om
att läsa in den fasta programvaran. Se Avsnitt 6.4, "Läsa in saknad fast
programvara" för ytterligare information om hur man läser in fast programvara
under installationen.

Trådlösa nätverkskort som inte stöds av den officiella Linux-kärnan går i
allmänhet att få igång under Debian GNU/Linux men de stöds inte under
installationen.

Om det uppstår ett problem med det trådlösa och det inte finns något annat
nätverkskort som du kan använda under installationen så är det fortfarande
möjligt att installera Debian GNU/Linux med en komplett cd-rom- eller
dvd-avbildning. Välj alternativet att inte konfigurera ett nätverk och
installera endast de paket som finns tillgängliga på cd/dvd-skivan. Du kan
sedan installera drivrutinen och den fasta programvara som du behöver efter att
installationen är färdigställd (efter omstarten) och konfigurera ditt nätverk
manuellt.

I vissa fall finns drivrutinen du behöver inte tillgänglig som ett
Debian-paket. Du kommer då att behöva leta om det finns källkod tillgänglig på
Internet och själv bygga drivrutinen. Hur man gör det här är utanför omfånget
för den här handboken. Om ingen Linux-drivrutin finns tillgänglig, är din sista
utväg att använda paketet ndiswrapper, vilket tillåter att du använder en
drivrutin från Windows.

2.1.7. Punktskriftsskärmar

Stöd för punktskriftsskärmar bestäms av det underliggande stödet som finns i
brltty. De flesta skärmar fungerar under brltty, anslutna via antingen en
serieport, USB eller Bluetooth. Information om vilka punktskriftsenheter som
stöds kan hittas på webbplatsen för brltty. Debian GNU/Linux 11 levereras med
brltty version 6.3.

2.1.8. Talsyntes (maskinvara)

Stöd för talsyntes (maskinvara) bestäms av det underliggande stödet som finns i
speakup. speakup har endast stöd för integrerade kort och external enheter
anslutnas till en serieport (inga USB-, serie-till-USB- eller PCI-adaptrar
stöds). Information om stöd för talsyntesenheter (maskinvara) kan hittas på
webbplatsen för speakup. Debian GNU/Linux 11 levereras med speakup version
3.1.6.

2.1.9. Kringutrustning och annan maskinvara

Linux har stöd för ett stort antal maskinvaruenheter såsom möss, skrivare,
skannrar, PCMCIA/CardBus/ExpressCard och USB-enheter. Dock krävs inte de flesta
av dessa enheter vid installation av systemet.

USB hardware generally works fine. On some very old PC systems some USB
keyboards may require additional configuration (see Avsnitt 3.6.6,
"Maskinvaruproblem att se upp för"). On modern PCs, USB keyboards and mice work
without requiring any specific configuration.

2.2. Enheter som kräver fast programvara

Besides the availability of a device driver, some hardware also requires
so-called firmware or microcode to be loaded into the device before it can
become operational. This is most common for network interface cards (especially
wireless NICs), but for example some USB devices and even some hard disk
controllers also require firmware.

With many graphics cards, basic functionality is available without additional
firmware, but the use of advanced features requires an appropriate firmware
file to be installed in the system. In some cases, a successful installation
can still end up in a black screen or garbled display when rebooting into the
installed system. If that happens, some workarounds can be tried to log in
anyway (see Avsnitt 6.4.3, "Slutför det installerade systemet").

On many older devices which require firmware to work, the firmware file was
permanently placed in an EEPROM/Flash chip on the device itself by the
manufacturer. Nowadays most new devices do not have the firmware embedded this
way anymore, so the firmware file must be uploaded into the device by the host
operating system every time the system boots.

I de flesta fall så är den fasta programvaran icke-fri enligt de kriteria som
används av Debian GNU/Linux-projektet och kan därför inte inkluderas i
huvuddistributionen eller i installationssystemet. Om själva enhetsdrivrutinen
är inkluderad i distributionen och om Debian GNU/Linux juridiskt sett kan
distribuera den fasta programvaran så finns den ofta tillgänglig som ett
separat paket från sektionen non-free i arkivet.

Dock betyder inte det att sådan maskinvara inte kan användas under en
installation. Från och med Debian GNU/Linux 5.0, debian-installer finns stöd
för inläsning av fast programvara eller paket som innehåller fast programvara
från ett flyttbart media, såsom ett USB-minne. Se Avsnitt 6.4, "Läsa in saknad
fast programvara" för detaljerad information om hur man läser in fast
programvara eller paket under installationen.

If the debian-installer prompts for a firmware file and you do not have this
firmware file available or do not want to install a non-free firmware file on
your system, you can try to proceed without loading the firmware. There are
several cases where a driver prompts for additional firmware because it may be
needed under certain circumstances, but the device does work without it on most
systems (this e.g. happens with certain network cards using the tg3 driver).

2.3. Köpa maskinvara specifikt för GNU/Linux

Det finns ett flertal tillverkare som levererar system med Debian eller andra
distributioner av GNU/Linux förinstallerat. Du kan betala mer för privilegiet
men det ger en känsla av trygghet eftersom du kan vara säker på att maskinvaran
har bra stöd av GNU/Linux.

Om du måste köpa en maskin paketerad med Windows, läs noga igenom
programvarulicensen som kommer med Windows; du kan ha möjligheten att vägra
licensen och hämta ut en återbetalning från din försäljare. Sök på Internet
efter "windows refund" och du kan hitta användbar information för det här
ändamålet.

Oavsett om du köper ett system paketerat med Linux eller inte, eller kanske
till och med ett begagnat system, är det fortfarande viktigt att kontrollera
att din maskinvara stöds av Linux-kärnan. Kontrollera om din maskinvara finns
listad i referenserna som hittas ovan. Låt din försäljare (om någon) veta att
du vill köpa ett system för Linux. Stöd de maskinvarutillverkare som är
Linux-vänliga.

2.3.1. Undvik proprietär eller sluten maskinvara

Some hardware manufacturers simply won't tell us how to write drivers for their
hardware. Others won't allow us access to the documentation without a
non-disclosure agreement that would prevent us from releasing the driver's
source code, which is one of the central elements of free software. Since we
haven't been granted access to usable documentation on these devices, they
simply won't work under Linux.

In many cases there are standards (or at least some de-facto standards)
describing how an operating system and its device drivers communicate with a
certain class of devices. All devices which comply to such a (de-facto-)
standard can be used with a single generic device driver and no device-specific
drivers are required. With some kinds of hardware (e.g. USB "Human Interface
Devices", i.e. keyboards, mice, etc., and USB mass storage devices like USB
flash disks and memory card readers) this works very well and practically every
device sold in the market is standards-compliant.

In other fields, among them e.g. printers, this is unfortunately not the case.
While there are many printers which can be addressed via a small set of
(de-facto-)standard control languages and therefore can be made to work without
problems in any operating system, there are quite a few models which only
understand proprietary control commands for which no usable documentation is
available and therefore either cannot be used at all on free operating systems
or can only be used with a vendor-supplied closed-source driver.

Even if there is a vendor-provided closed-source driver for such hardware when
purchasing the device, the practical lifespan of the device is limited by
driver availability. Nowadays product cycles have become short and it is not
uncommon that a short time after a consumer device has ceased production, no
driver updates get made available any more by the manufacturer. If the old
closed-source driver does not work anymore after a system update, an otherwise
perfectly working device becomes unusable due to lacking driver support and
there is nothing that can be done in this case. You should therefore avoid
buying closed hardware in the first place, regardless of the operating system
you want to use it with.

Du kan hjälpa till att förbättra denna situation genom att uppmuntra
tillverkare av sluten hårdvara att släppa dokumentationen och andra resurser
som är nödvändiga för att vi ska kunna tillhandahålla fria drivrutiner för
deras hårdvara.

2.4. Installationsmedia

Det här avsnittet hjälper dig att fastställa vilka olika medietyper som du kan
använda för att installera Debian. Det finns ett helt kapitel tillägnat media,
Kapitel 4, Få tag på installationsmedia, som listar fördelar och nackdelar med
varje typ av media. Du kanske vill referera tillbaka till den här sidan när du
har nått fram till det avsnittet.

2.4.1. Cd-rom/Dvd-rom/Bd-rom

Installation från optisk skiva stöds för de flesta arkitekturer.

På datorer stöds optiska SATA-, IDE / ATAPI-, USB- och SCSI-enheter, liksom
FireWire-enheter som stöds av drivrutinerna ohci1394 och sbp2.

2.4.2. USB-minne

USB flash disks a.k.a. USB memory sticks have become a commonly used and cheap
storage device. Most modern computer systems also allow booting the
debian-installer from such a stick. Many modern computer systems, in particular
netbooks and thin laptops, do not have an optical drive anymore at all and
booting from USB media is the standard way of installing a new operating system
on them.

2.4.3. Nätverk

Nätverket kan användas under installationen för att hämta filer som behövs för
installationen. Huruvida nätverket används eller inte beror på
installationsmetoden du valde samt dina svar på vissa frågor som kommer att
ställas under installationen. Installationssystemet har stöd för de flesta
typer av nätverksanslutningar (inkluderat PPPoE, men inte ISDN eller PPP),
antingen via HTTP eller FTP. Efter att installationen är färdig, kan du även
konfigurera ditt system att använda ISDN och PPP.

You can also boot the installation system over the network without needing any
local media like CDs/DVDs or USB sticks. If you already have a
netboot-infrastructure available (i.e. you are already running DHCP and TFTP
services in your network), this allows an easy and fast deployment of a large
number of machines. Setting up the necessary infrastructure requires a certain
level of technical experience, so this is not recommended for novice users.

Disklös installation med nätverksuppstart från ett lokalt nätverk och
nfs-montering av alla lokala filsystem är ett annat alternativ.

2.4.4. Hårddisk

Starta upp installationssystemet direkt från en hårddisk är en annan möjlighet
för många arkitekturer. Det här kräver ett annat operativsystem för att läsa in
installationsprogrammet på hårddisken. Denna metod rekommenderas endast i
speciella fall när ingen annan installationsmetod är tillgänglig.

2.4.5. Un*x eller GNU-system

Om du kör ett annat Unix-liknande system skulle du kunna använda det för att
installera Debian GNU/Linux utan att använda debian-installer som beskrivs i
resten av den här handboken. Den här typen av installation kan vara användbar
för användare med maskinvara som annars inte stöds eller på datorer som inte
kan vara frånkopplade. Om du är intresserad av den här tekniken, hoppa till
Avsnitt D.3, "Installera Debian GNU/Linux från ett Unix/Linux-system". Denna
installationsmetod rekommenderas endast för avancerade användare om ingen annan
installationsmetod är tillgänglig.

2.4.6. Lagringssystem som stöds

Debian installationsprogrammet innehåller en kärna som är byggd för att
maximera antalet system den kan köras på.

Generellt sett inkluderar Debians installationssystem stöd för IDE-diskar (även
känd som PATA), SATA och SCSI-styrkort samt diskar, USB och FireWire.
Filsystemen som stöds inkluderar FAT, Win-32 FAT-utökningar (VFAT) och NTFS.

2.5. Krav för minne och diskplats

Du måste ha minst 780MB minne och 920MB hårddiskutrymme för att genomföra en
normal installation. Observera att dessa siffror endast är ett absolut minimum.
Se Avsnitt 3.4, "Matcha minimikrav för maskinvara" för mer realistiska siffror.

The installer normally automatically enables memory-saving tricks to be able to
run on such low-memory system, but on architectures that are less tested it may
miss doing so. It can however be enabled manually by appending the lowmem=1 or
even lowmem=2 boot parameter (see also Avsnitt 6.3.1.1, "Kontrollera
tillgängligt minne / minimalt minnesläge" and Avsnitt 5.3.2, "Parametrar för
Debian Installer").

Installation on systems with less memory^[2] or disk space available may be
possible but is only advised for experienced users.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[2] Installation images that support the graphical installer require more
memory than images that support only the text-based installer and should not be
used on systems with less than 780MB of memory. If there is a choice between
booting the text-based and the graphical installer, the former should be
selected on such systems.

Kapitel 3. Före installation av Debian GNU/Linux

Innehållsförteckning

3.1. Översikt av installationsprocessen
3.2. Säkerhetskopiera dina befintliga data!
3.3. Information du behöver

    3.3.1. Dokumentation
    3.3.2. Hitta informationskällor för maskinvara
    3.3.3. Maskinvarukompatibilitet
    3.3.4. Nätverksinställningar

3.4. Matcha minimikrav för maskinvara
3.5. Förpartionering för system med flera operativsystem
3.6. Inställning av maskinvara och operativsystem före installation

    3.6.1. Starta BIOS/UEFI-inställningsmenyn
    3.6.2. Val av uppstartsenhet
    3.6.3. System med UEFI firmware
    3.6.4. Säker uppstart
    3.6.5. Inaktivera Windows "snabbuppstart"/"snabbstart" funktion
    3.6.6. Maskinvaruproblem att se upp för

Det här kapitlet går igenom förberedelser för installation av Debian innan du
ens startar upp installationsprogrammet. Det inkluderar säkerhetskopiering av
ditt data, insamling av information om din maskinvara och att hitta all
nödvändig information.

3.1. Översikt av installationsprocessen

Först, bara som en notering angående ominstallationer. Med Debian är
omständigheter som kräver en total ominstallation av ditt system mycket
ovanliga; kanske är mekaniska fel på hårddisken vanligaste orsaken.

Många vanliga operativsystem kan kräva att en total installation genomförs när
kritiska fel inträffar eller för uppgraderingar till nyare versioner av
operativsystemet. Även om en total nyinstallation inte krävs måste ofta program
du använder installeras om för att fungera korrekt i det nya operativsystemet.

Med Debian GNU/Linux är det troligt att ditt operativsystem kan lagas istället
för att bytas ut om saker går fel. Uppgraderingar kräver aldrig en total
fullständig installation; du kan alltid uppgradera direkt. Program är nästan
alltid kompatibla med tidigare utgåvor av operativsystemet. Om en ny
programversion kräver nyare hjälpprogramvara kommer Debians paketsystem att se
till att all nödvändig programvara automatiskt identifieras och installeras.
Mycket arbete har lagts på att ominstallationer inte ska behövas, så utgå
därför ifrån att det är din absolut sista utväg. Installationsprogrammet är 
inte designad för att ominstallera ett befintligt system.

Här är en översikt av de steg du kommer att ta under installationsprocessen.

 1. Säkerhetskopiera befintliga data eller dokument från hårddisken där du
    planerar att installera.

 2. Samla information om din dator och annan behövlig dokumentation innan du
    startar installationen.

 3. Skaffa installeringsprogramvaran och eventuella specialdrivrutiner eller
    firmware som din maskin kräver.

 4. Ställ in startmedia som CD-skivor/DVD-skivor/USB-minnen eller ge en
    nätverksstartinfrastruktur från vilken installationsprogrammet kan startas.

 5. Starta upp installationssystemet.

 6. Välj installationsspråket.

 7. Aktivera anslutning mot Ethernet-nätverket, om tillgängligt.

 8. Om det behövs ändrar du storlek på befintliga partitioner på din hårddisk
    för att skapa utrymme för installationen.

 9. Skapa och montera partitioner på vilka Debian kommer att installeras.

10. Se den automatiska hämtningen, installeringen och konfigureringen av
    grundsystemet.

11. Välj och installera ytterligare programvara.

12. Installera en starthanterare som kan starta upp Debian GNU/Linux eller dina
    andra operativsystem.

13. Starta det nyligen installerade systemet för första gången.

För 64-bit PC har du möjligheten att använda en grafisk version av
installationssystemet. För mer information om det grafiska
installationsprogrammet, se Avsnitt 5.1.8, "Det grafiska
installationsprogrammet".

Om du får problem under installationen hjälper det att veta vilka paket som
ingår i varje steg. Här är de ledande programvaruskådisarna i det här
installationsdramat:

Installeringsprogramvaran, debian-installer, är det primära målet för den här
handboken. Den identifierar maskinvara och läser in lämpliga drivrutiner,
använder dhcp-client för att ställa in nätverksanslutningen, och kör
debootstrap för att installera paketen för grundsystemet och kör tasksel för
att låta dig installera ytterligare programvara. Många fler skådespelare spelar
mindre roller i den här processen, men debian-installer har gjort klart sin
funktion när du startar upp det nya systemet för första gången.

För att anpassa systemet för att passa dina behov, låter tasksel dig välja att
installera olika fördefinierade samlingar av programvara såsom en webbserver
eller en skrivbordsmiljö.

One important option during the installation is whether or not to install a
graphical desktop environment, consisting of the X Window System and one of the
available graphical desktop environments. If you choose not to select the "
Desktop environment" task, you will only have a relatively basic, command line
driven system. Installing the Desktop environment task is optional because in
relation to a text-mode-only system it requires a comparatively large amount of
disk space and because many Debian GNU/Linux systems are servers which don't
really have any need for a graphical user interface to do their job.

Tänk dock på att X Window System är fullständigt separerat från
debian-installer, och är dessutom mycket mer komplicerat. Felsökning av X
Window System täcks inte in av den här handboken.

3.2. Säkerhetskopiera dina befintliga data!

Before you start, make sure to back up every file that is now on your system.
If this is the first time a non-native operating system is going to be
installed on your computer, it is quite likely you will need to re-partition
your disk to make room for Debian GNU/Linux. Anytime you partition your disk,
you run a risk of losing everything on the disk, no matter what program you use
to do it. The programs used in the installation of Debian GNU/Linux are quite
reliable and most have seen years of use; but they are also quite powerful and
a false move can cost you. Even after backing up, be careful and think about
your answers and actions. Two minutes of thinking can save hours of unnecessary
work.

If you are creating a multi-boot system, make sure that you have the
distribution media of any other present operating systems on hand. Even though
this is normally not necessary, there might be situations in which you could be
required to reinstall your operating system's boot loader to make the system
boot or in a worst case even have to reinstall the complete operating system
and restore your previously made backup.

3.3. Information du behöver

3.3.1. Dokumentation

3.3.1.1. Installationshandbok

Det här dokumentet du nu läser, finns i ren ASCII, HTML eller PDF-format.

  • install.sv.txt

  • install.sv.html

  • install.sv.pdf

3.3.1.2. Maskinvarudokumentation

Innehåller ofta användbar information om hur du konfigurerar eller använder din
maskinvara.

  • Debians Wiki-hårdvarusida

3.3.2. Hitta informationskällor för maskinvara

I många fall kan installationsprogrammet automatiskt identifiera din
maskinvara. Men för att vara förberedd rekommenderar vi att du gör dig
hemmastadd med din maskinvara före installationen.

Maskinvaruinformation kan samlas in från:

  • Handböckerna som kommer med varje maskinvarudel.

  • The BIOS/UEFI setup screens of your computer. You can view these screens
    when you start your computer by pressing a combination of keys. Check your
    manual for the combination. Often, it is the Delete or the F2 key, but some
    manufacturers use other keys or key combinations. Usually upon starting the
    computer there will be a message stating which key to press to enter the
    setup screen.

  • Förpackningarna och lådorna för varje del av maskinvaran.

  • Systemfönstret i Windows kontrollpanel.

  • Systemkommandon eller verktyg i ett annat operativsystem, inklusive
    filhanterarskärmar. Den här källan är speciellt användbar för information
    om RAM-minne och hårddisksutrymme.

  • Din systemadministratör eller Internetleverantör. De här källorna kan
    informera dig om de inställningar du behöver för att ställa in din
    nätverksanslutning och e-post.

Tabell 3.1. Maskinvaruinformation som som kan vara hjälpfulla för en
installation

┌──────────────────┬─────────────────────────────────────────────────────┐
│    Maskinvara    │              Information du kan behöva              │
├──────────────────┼─────────────────────────────────────────────────────┤
│                  │Hur många du har.                                    │
│                  ├─────────────────────────────────────────────────────┤
│                  │Deras ordning i systemet.                            │
│                  ├─────────────────────────────────────────────────────┤
│                  │Om IDE (även känd som PATA), SATA eller SCSI används.│
│Hårddiskar        ├─────────────────────────────────────────────────────┤
│                  │Tillgängligt ledigt utrymme.                         │
│                  ├─────────────────────────────────────────────────────┤
│                  │Partitioner.                                         │
│                  ├─────────────────────────────────────────────────────┤
│                  │Partitioner där andra operativsystem är installerade.│
├──────────────────┼─────────────────────────────────────────────────────┤
│Nätverksinterfaces│Typ/model av tillgängliga nätverkssgränssnitt.       │
├──────────────────┼─────────────────────────────────────────────────────┤
│Skrivare          │Modell och tillverkare.                              │
├──────────────────┼─────────────────────────────────────────────────────┤
│Grafikkort        │Typ/modell och tillverkare.                          │
└──────────────────┴─────────────────────────────────────────────────────┘


3.3.3. Maskinvarukompatibilitet

Många produkter fungerar utan problem på Linux. Mängden maskinvara som stöds av
Linux ökar dagligen. Dock kan Linux fortfarande inte köra lika många olika
typer av maskinvara som en del andra operativsystem.

Drivers in Linux in most cases are not written for a certain "product" or "
brand" from a specific manufacturer, but for a certain hardware/chipset. Many
seemingly different products/brands are based on the same hardware design; it
is not uncommon that chip manufacturers provide so-called "reference designs"
for products based on their chips which are then used by several different
device manufacturers and sold under lots of different product or brand names.

This has advantages and disadvantages. An advantage is that a driver for one
chipset works with lots of different products from different manufacturers, as
long as their product is based on the same chipset. The disadvantage is that it
is not always easy to see which actual chipset is used in a certain product/
brand. Unfortunately sometimes device manufacturers change the hardware base of
their product without changing the product name or at least the product version
number, so that when having two items of the same brand/product name bought at
different times, they can sometimes be based on two different chipsets and
therefore use two different drivers or there might be no driver at all for one
of them.

För USB och PCI/PCI-Express/ExpressCard-enheter, så är ett bra sätt att ta reda
på vilken chipset de är baserade på är att titta på deras enhets-ID. Alla USB/
PCI/PCI-Express/ExpressCard-enheter har ett så kallat "leverantörs" och "
produkt" IDs, och kombinationen av dessa två är vanligtvis densamma för alla
produkter baserade på samma chipset.

På Linux system, så kan dessa IDn läsas med lsusb kommandot för USB enheter och
med lspci -nn kommandot för PCI/PCI-Express/ExpressCard enheter. Dessa
leverantörs och produkt IDn är oftast angivna i form av två hexadecimala tal,
separerade med ett kolon, som t.ex "1d6b:0001".

Ett exempel för utdata från lsusb: "Bus 001 Device 001: ID 1d6b:0002 Linux
Foundation 2.0 root hub", varvid 1d6b är leverantörs-ID och 0002 är produkt-ID.

Ett exempel för utdata från lspci -nn för ett Ethernetkort: "03:00.0 Ethernet
controller [0200]: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI Express
Gigabit Ethernet controller [10ec:8168] (rev 06)". ID:erna ges inom de högra
hakparenteserna, dvs här är 10ec leverantören och 8168 är produkt-ID:t.

Som ett annat exempel kan ett grafikkort ge följande utdata: "04:00.0 VGA
compatible controller [0300]: Advanced Micro Devices [AMD] nee ATI RV710
[Radeon HD 4350] [1002:954f]".

On Windows systems, the IDs for a device can be found in the Windows device
manager on the tab "details", where the vendor ID is prefixed with VEN_ and the
product ID is prefixed with DEV_. On Windows 7 systems, you have to select the
property "Hardware IDs" in the device manager's details tab to actually see the
IDs, as they are not displayed by default.

Searching on the internet with the vendor/product ID, "Linux" and "driver" as
the search terms often results in information regarding the driver support
status for a certain chipset. If a search for the vendor/product ID does not
yield usable results, a search for the chip code names, which are also often
provided by lsusb and lspci ("RTL8111"/"RTL8168B" in the network card example
and "RV710" in the graphics card example), can help.

3.3.3.1. Testa hårdvarukompabilitet med ett Live-System

Debian GNU/Linux is also available as a so-called "live system" for certain
architectures. A live system is a preconfigured ready-to-use system in a
compressed format that can be booted and used from a read-only medium like a CD
or DVD. Using it by default does not create any permanent changes on your
computer. You can change user settings and install additional programs from
within the live system, but all this only happens in the computer's RAM, i.e.
if you turn off the computer and boot the live system again, everything is
reset to its defaults. If you want to see whether your hardware is supported by
Debian GNU/Linux, the easiest way is to run a Debian live system on it and try
it out.

There are a few limitations in using a live system. The first is that as all
changes you do within the live system must be held in your computer's RAM, this
only works on systems with enough RAM to do that, so installing additional
large software packages may fail due to memory constraints. Another limitation
with regards to hardware compatibility testing is that the official Debian GNU/
Linux live system contains only free components, i.e. there are no non-free
firmware files included in it. Such non-free packages can of course be
installed manually within the system, but there is no automatic detection of
required firmware files like in the debian-installer, so installation of
non-free components must be done manually if needed.

Information om tillgängliga varianter av Debian liveavbilder finns kan hittas
på Debian Liveavbilder webbplatsen.

3.3.4. Nätverksinställningar

If your computer is connected to a fixed network (i.e. an Ethernet or
equivalent connection -- not a dialup/PPP connection) which is administered by
somebody else, you should ask your network's system administrator for this
information:

  • Ditt datornamn (du kanske kan välja det här helt på egen hand).

  • Ditt domännamn.

  • Din dators IP-adress.

  • Nätmasken som används på ditt nätverk.

  • IP-adressen till den gateway som är standardrutten ut från ditt nätverk, om
    ditt nätverk har en gateway.

  • Systemet på ditt nätverk som du ska använda som en DNS-server
    (Domännamnstjänst).

If the network you are connected to uses DHCP (Dynamic Host Configuration
Protocol) for configuring network settings, you don't need this information
because the DHCP server will provide it directly to your computer during the
installation process.

Om du har internetåtkomst via DSL eller kabelmodem (dvs. via ett kabel-tv
nätverk) och har en router (som ofta tillhandahålls förkonfigurerad av din
telefon eller catv -leverantör) som hanterar din nätverksanslutning, är DHCP
vanligtvis tillgängligt som standard.

Som en tumregel: om du kör ett Windows-system i ditt hemnätverk och inte
behövde manuellt utföra några nätverksinställningar där för att uppnå
internetåtkomst, kan nätverksanslutning i Debian GNU/Linux också konfigureras
automatiskt.

Om du använder ett WLAN/WiFi nätverk, bör du ta reda på:

  • Ditt ESSID ("network name") för ditt trådlösa nätverk.

  • WEP- och WPA/WPA2säkerhetsnyckel för att ansluta till nätverket (om sådan
    används).

3.4. Matcha minimikrav för maskinvara

När du har samlat in information om maskinvaran i din dator, kontrollera att
din maskinvara låter dig göra den typ av installation som du vill göra.

Beroende på dina behov, kan du klara dig med mindre än vad som rekommenderas av
maskinvaran listad i tabellen nedan. Många användare riskerar dock troligen att
bli frustrerade om de ignorerar de här förslagen.

En Pentium 4 med 1 GHz-processor är minsta rekommenderade datorn för ett
skrivbordssystem.

Tabell 3.2. Rekommenderade minimala systemkrav

┌─────────────────────┬─────────────┬───────────────────┬───────────┐
│  Installationstyp   │RAM (minimum)│RAM (rekommenderat)│ hårddisk  │
├─────────────────────┼─────────────┼───────────────────┼───────────┤
│Ingen skrivbordsmiljö│256 megabyte │512 megabyte       │2 gigabyte │
├─────────────────────┼─────────────┼───────────────────┼───────────┤
│Med skrivbordsmiljö  │1 gigabyte   │2 gigabyte         │10 gigabyte│
└─────────────────────┴─────────────┴───────────────────┴───────────┘


The minimum values assumes that swap will be enabled and a non-liveCD image is
used. The "No desktop" value assumes that the non-graphical (text-based)
installer is used.

The actual minimum memory requirements are a lot less than the numbers listed
in this table. With swap enabled, it is possible to install Debian with as
little as 350MB. The same goes for the disk space requirements, especially if
you pick and choose which applications to install; see Avsnitt D.2, "Nödvändig
diskplats för funktioner" for additional information on disk space
requirements.

Det är möjligt att köra en grafisk skrivbordsmiljö på äldre eller mindre
kraftfulla system, men i det fallet rekommenderas det att installera en
fönsterhanterare som är mindre resurshungrig än skrivbordsmiljöerna GNOME eller
KDE Plasma; tänkbara alternativ är xfce4, icewm och wmaker, men det finns även
andra att välja bland.

Det är praktiskt omöjligt att ge allmänna krav för minne eller diskutrymme för
serverinstallationer eftersom det beror mycket på vad servern kommer att
användas till.

Kom ihåg att dessa storlekar inte inkluderar alla de andra material som
vanligtvis hittas på ett system, såsom användarfiler, e-post och data. Det är
alltid bäst att vara generös när du uppskattar utrymmet för dina egna filer och
data.

Diskutrymmet som krävs för oproblematisk körning av själva Debian GNU/
Linux-systemet är inkluderat i dessa rekommenderade systemkrav. Noterbart är
att partitionen /var innehåller en hel del tillståndsinformation som är
specifik för Debian i tillägg till dess vanliga innehåll, som loggfiler.
Filerna för dpkg (med information om alla installerade paket) kan enkelt
konsumera 40 MB. Även apt lägger hämtade paket här innan de installeras. Du bör
vanligtvis allokera åtminstone 200 MB för /var, och en hel del mer om du
installerar en grafisk skrivbordsmiljö.

3.5. Förpartionering för system med flera operativsystem

Partitionering av din disk refererar helt enkelt till processen att dela upp
din disk i sektioner. Varje sektion blir då oberoende av de andra. Det är grovt
sett likvärdigt med att sätta upp väggar inne i ett hus; om du ställer in
möbler i ett rum så påverkar de inte något annat rum.

If you already have an operating system on your system (Windows 9x, Windows NT/
2000/XP/2003/Vista/7, OS/2, MacOS, Solaris, FreeBSD, ...) which uses the whole
disk and you want to stick Debian on the same disk, you will need to
repartition it. Debian requires its own hard disk partitions. It cannot be
installed on Windows or Mac OS X partitions. It may be able to share some
partitions with other Unix systems, but that's not covered here. At the very
least you will need a dedicated partition for the Debian root filesystem.

You can find information about your current partition setup by using a
partitioning tool for your current operating system, such as the integrated
Disk Manager in Windows or fdisk in DOS. Partitioning tools always provide a
way to show existing partitions without making changes.

Normalt sett så kommer data och filer i ett filsystem på en partition att
förstöras om partitionen ändras. Därför bör du alltid göra säkerhetskopior
innan du partitionerar om. Om man använder jämförelsen med huset skulle du
antagligen vilja flytta ut alla möbler innan väggarna flyttas då de annars
riskerar att de förstörs.

Several modern operating systems offer the ability to move and resize certain
existing partitions without destroying their contents. This allows making space
for additional partitions without losing existing data. Even though this works
quite well in most cases, making changes to the partitioning of a disk is an
inherently dangerous action and should only be done after having made a full
backup of all data. For FAT/FAT32 and NTFS partitions as used by DOS and
Windows systems, the ability to move and resize them losslessly is provided
both by debian-installer as well as by the integrated Disk Manager of Windows
7.

To losslessly resize an existing FAT or NTFS partition from within
debian-installer, go to the partitioning step, select the option for manual
partitioning, select the partition to resize, and simply specify its new size.

Creating and deleting partitions can be done from within debian-installer as
well as from an existing operating system. As a rule of thumb, partitions
should be created by the system for which they are to be used, i.e. partitions
to be used by Debian GNU/Linux should be created from within debian-installer
and partitions to be used from another operating system should be created from
there. debian-installer is capable of creating non-Linux partitions, and
partitions created this way usually work without problems when used in other
operating systems, but there are a few rare corner cases in which this could
cause problems, so if you want to be sure, use the native partitioning tools to
create partitions for use by other operating systems.

If you are going to install more than one operating system on the same machine,
you should install all other system(s) before proceeding with the Debian
installation. Windows and other OS installations may destroy your ability to
start Debian, or encourage you to reformat non-native partitions.

Du kan oftast reparera eventuella fel som uppstår efter de här åtgärderna eller
undvika att felen uppstår, men att installera det ursprungliga systemet först
besparar dig troligen en hel del problem.

3.6. Inställning av maskinvara och operativsystem före installation

This section will walk you through pre-installation hardware setup, if any,
that you will need to do prior to installing Debian. Generally, this involves
checking and possibly changing BIOS/UEFI/system firmware settings for your
system. The "BIOS/UEFI" or "system firmware" is the core software used by the
hardware; it is most critically invoked during the bootstrap process (after
power-up).

3.6.1. Starta BIOS/UEFI-inställningsmenyn

The BIOS/UEFI provides the basic functions needed to boot your machine and to
allow your operating system to access your hardware. Your system provides a
BIOS/UEFI setup menu, which is used to configure the BIOS/UEFI. To enter the
BIOS/UEFI setup menu you have to press a key or key combination after turning
on the computer. Often it is the Delete or the F2 key, but some manufacturers
use other keys. Usually upon starting the computer there will be a message
stating which key to press to enter the setup screen.

3.6.2. Val av uppstartsenhet

I BIOS/UEFI-inställningsmenyn kan du välja vilka enheter som ska kontrolleras i
vilken sekvens för ett startbart operativsystem. Möjliga val inkluderar
vanligtvis de interna hårddiskarna, CD/DVD-ROM-enheten och
USB-masslagringsenheter som USB-minnen eller externa USB-hårddiskar. På moderna
system finns det också ofta en möjlighet att aktivera nätverksstart via PXE.

Beroende på installationsmediet (CD/DVD-ROM, USB-minne, nätverksboot) du har
valt bör du aktivera lämpliga startenheter om de inte redan är aktiverade.

Most BIOS/UEFI versions allow you to call up a boot menu on system startup in
which you select from which device the computer should start for the current
session. If this option is available, the BIOS/UEFI usually displays a short
message like "press F12 for boot menu" on system startup. The actual key used
to select this menu varies from system to system; commonly used keys are F12, 
F11 and F8. Choosing a device from this menu does not change the default boot
order of the BIOS/UEFI, i.e. you can start once from a USB stick while having
configured the internal harddisk as the normal primary boot device.

If your BIOS/UEFI does not provide you with a boot menu to do ad-hoc choices of
the current boot device, you will have to change your BIOS/UEFI setup to make
the device from which the debian-installer shall be booted the primary boot
device.

Unfortunately some computers may contain buggy BIOS/UEFI versions. Booting
debian-installer from a USB stick might not work even if there is an
appropriate option in the BIOS/UEFI setup menu and the stick is selected as the
primary boot device. On some of these systems using a USB stick as boot medium
is impossible; others can be tricked into booting from the stick by changing
the device type in the BIOS/UEFI setup from the default "USB harddisk" or "USB
stick" to "USB ZIP" or "USB CDROM". In particular if you use an isohybrid
installation image on a USB stick (see Avsnitt 4.3.1, "Förbereder ett USB-minne
med en hybrid CD/DVD-avbildning"), changing the device type to "USB CDROM"
helps on some BIOSes which will not boot from a USB stick in USB harddisk mode.
You may need to configure your BIOS/UEFI to enable "USB legacy support".

If you cannot manipulate the BIOS/UEFI to boot directly from a USB stick you
still have the option of using an ISO copied to the stick. Boot
debian-installer using Avsnitt 4.4, "Förbereda filer för uppstart med hårddisk"
and, after scanning the hard drives for an installer ISO image, select the USB
device and choose an installation image.

3.6.3. System med UEFI firmware

UEFI ("Unified Extensible Firmware Interface") is a new kind of system firmware
that is used on many modern systems and is - among other uses - intended to
replace the classic PC BIOS.

Currently most PC systems that use UEFI also have a so-called "Compatibility
Support Module" (CSM) in the firmware, which provides exactly the same
interfaces to an operating system as a classic PC BIOS, so that software
written for the classic PC BIOS can be used unchanged. Nonetheless UEFI is
intended to one day completely replace the old PC BIOS without being fully
backwards-compatible and there are already a lot of systems with UEFI but
without CSM.

On systems with UEFI there are a few things to take into consideration when
installing an operating system. The way the firmware loads an operating system
is fundamentally different between the classic BIOS (or UEFI in CSM mode) and
native UEFI. One major difference is the way the harddisk partitions are
recorded on the harddisk. While the classic BIOS and UEFI in CSM mode use a DOS
partition table, native UEFI uses a different partitioning scheme called "GUID
Partition Table" (GPT). On a single disk, for all practical purposes only one
of the two can be used and in case of a multi-boot setup with different
operating systems on one disk, all of them must therefore use the same type of
partition table. Booting from a disk with GPT is only possible in native UEFI
mode, but using GPT becomes more and more common as hard disk sizes grow,
because the classic DOS partition table cannot address disks larger than about
2 Terabytes while GPT allows for far larger disks. The other major difference
between BIOS (or UEFI in CSM mode) and native UEFI is the location where boot
code is stored and in which format it has to be. This means that different
bootloaders are needed for each system.

The latter becomes important when booting debian-installer on a UEFI system
with CSM because debian-installer checks whether it was started on a BIOS- or
on a native UEFI system and installs the corresponding bootloader. Normally
this simply works but there can be a problem in multi-boot environments. On
some UEFI systems with CSM the default boot mode for removable devices can be
different from what is actually used when booting from hard disk, so when
booting the installer from a USB stick in a different mode from what is used
when booting another already installed operating system from the hard disk, the
wrong bootloader might be installed and the system might be unbootable after
finishing the installation. When choosing the boot device from a firmware boot
menu, some systems offer two separate choices for each device, so that the user
can select whether booting shall happen in CSM or in native UEFI mode.

3.6.4. Säker uppstart

Another UEFI-related topic is the so-called "secure boot" mechanism. Secure
boot means a function of UEFI implementations that allows the firmware to only
load and execute code that is cryptographically signed with certain keys and
thereby blocking any (potentially malicious) boot code that is unsigned or
signed with unknown keys. In practice the only key accepted by default on most
UEFI systems with secure boot is a key from Microsoft used for signing the
Windows bootloader. Debian includes a "shim" bootloader signed by Microsoft, so
should work correctly on systems with secure boot enabled.

3.6.5. Inaktivera Windows "snabbuppstart"/"snabbstart" funktion

Windows offers a feature (called "fast boot" in Windows 8, "fast startup" in
Windows 10) to cut down system startup time. Technically, when this feature is
enabled, Windows does not do a real shutdown and a real cold boot afterwards
when ordered to shut down, but instead does something resembling a partial
suspend to disk to reduce the "boot" time. As long as Windows is the only
operating system on the machine, this is unproblematic, but it can result in
problems and data loss, when you have a dual boot setup, in which another
operating system accesses the same filesystems as Windows does. In that case
the real state of the filesystem can be different from what Windows believes it
to be after the "boot" and this could cause filesystem corruption upon further
write accesses to the filesystem. Therefore in a dual boot setup, to avoid
filesystem corruption the "fast boot"/"fast startup" feature has to be disabled
within Windows.

Dessutom har Windows Update-mekanismen (ibland) varit känd för att automatiskt
återaktivera denna funktion efter att den tidigare har inaktiverats av
användaren. Vi rekommenderar att du kontrollerar den här inställningen
regelbundet.

It may also be necessary to disable "fast boot" to even allow access to UEFI
setup to choose to boot another operating system or debian-installer. On some
UEFI systems, the firmware will reduce "boot" time by not initialising the
keyboard controller or USB hardware; in these cases, it is necessary to boot
into Windows and disable this feature to allow for a change of boot order.

3.6.6. Maskinvaruproblem att se upp för

USB BIOS-stöd och tangentbord. If you have no PS/2-style keyboard, but only a
USB model, on some very old PCs you may need to enable legacy keyboard
emulation in your BIOS setup to be able to use your keyboard in the bootloader
menu, but this is not an issue for modern systems. If your keyboard does not
work in the bootloader menu, consult your mainboard manual and look in the BIOS
for "Legacy keyboard emulation" or "USB keyboard support" options.

Kapitel 4. Få tag på installationsmedia

Innehållsförteckning

4.1. Officiella Debian GNU/Linux installationsavbildningar
4.2. Hämta filer från Debian-speglar

    4.2.1. Var man får tag på installationsfiler

4.3. Förbereda filer för uppstart med USB-minne

    4.3.1. Förbereder ett USB-minne med en hybrid CD/DVD-avbildning
    4.3.2. Manuell kopiering av filer till USB-minnet
    4.3.3. Manuellt kopiera filerna till ett USB minne -- det flexibla sättet

4.4. Förbereda filer för uppstart med hårddisk

    4.4.1. Starta upp hårddiskinstalleraren från Linux med GRUB
    4.4.2. Starta upp hårddiskinstalleraren från DOS genom att använda loadlin

4.5. Förbered filerna för nätverksuppstart via TFTP

    4.5.1. Konfigurering av DHCP-server
    4.5.2. Konfigurera en BOOTP-server
    4.5.3. Aktivering av TFTP-server
    4.5.4. Flytta TFTP-avbildningarna till rätt plats

4.6. Automatisk installation

    4.6.1. Automatisk installation med Debian Installer

4.7. Verifiera integriteten för installationsfiler

4.1. Officiella Debian GNU/Linux installationsavbildningar

Överlägset det enklaste sättet att installera Debian GNU/Linux är från en
uppsättning officiella Debian installationsavbildningar. Du kan köpa en
uppsättning CD-/DVD-skivor från en leverantör (se sidan CD-leverantörer). Du
kan också ladda ner installationsavbildningar från en Debian spegel och göra
din egen uppsättning, om du har en snabb nätverksanslutning och en CD/
DVD-brännare (se Debian CD/DVD Page och Debian CD FAQ för detaljerade
instruktioner). Om du har sådana optiska installationsmedia, och de är startbar
på din dator, vilket är fallet på alla moderna datorer, kan du hoppa till höger
till Kapitel 5, Starta upp installationssystemet. Mycket ansträngning har varit
förbrukat för att säkerställa att de mest använda filerna på den första CD-och
DVD-avbildning, så att en grundläggande stationär installation kan göras med
endast den första DVD eller-i begränsad utsträckning-även med bara den första
CD-avbildningen.

Eftersom CD-skivor har en ganska begränsad kapacitet av dagens standarder, är
inte alla grafiska skrivbordsmiljöer installerbara med endast den första CD;
för vissa skrivbordsmiljöer kräver en CD-installation antingen
nätverksanslutning under installationen för att hämta återstående filer eller
ytterligare CD-skivor.

Tänk också på följande: om installationsmediet du använder inte innehåller
några paket som du behöver, kan du alltid installera paketen efteråt från ditt
nya Debiansystem (när installationen är klar). Om du behöver veta vilken
installationsavbildning du ska hitta för ett visst paket kan du besöka https://
cdimage-search.Debian.org/.

Om din maskin inte stöder uppstart från optiska media (endast relevant på
mycket gamla PC-system) , men du har en uppsättning CD/DVD, du kan använda en
alternativ strategi som hårddisk, USB-minne, net boot, eller manuellt läsa in
kärnan från skivan för att initialt starta upp systeminstalleraren. De filer du
behöver för att starta upp med ett annat sätt är också på skivan; Debian
nätverks Arkiv och mapporganisation på skivan är identiska. Så när arkivera
arkivera vägen är givit nedan för särskild arkivera du behov för starter upp,
blick för den här arkivera i samme direktören och underkatalogerna på din
installationen median.

När installationsprogrammet har startat upp kan den hämta de andra filerna den
behöver från skivan.

Om du inte har en uppsättning installationsmedia behöver du hämta systemfiler
för installationsprogrammet och placera dem på hårddisk eller usb-minne eller 
en ansluten dator så att de kan användas för att starta upp
installationsprogrammet.

4.2. Hämta filer från Debian-speglar

För att hitta den närmaste (och kanske även den snabbaste) spegeln, se Hämta
Debian från Internet.

4.2.1. Var man får tag på installationsfiler

Dom olika Installationsfilerna kan hittas på varje Debian-spegel i katalogen
debian/dists/bullseye/main/installer-amd64/current/images/ -- MANIFEST listar
varje avbild och dess funktion.

4.3. Förbereda filer för uppstart med USB-minne

To prepare the USB stick, we recommend to use a system where GNU/Linux is
already running and where USB is supported. With current GNU/Linux systems the
USB stick should be automatically recognized when you insert it. If it is not
you should check that the usb-storage kernel module is loaded. When the USB
stick is inserted, it will be mapped to a device named /dev/sdX, where the "X"
is a letter in the range a-z. You should be able to see to which device the USB
stick was mapped by running the command lsblk before and after inserting it.
(The output of dmesg (as root) is another possible method for that.) To write
to your stick, you may have to turn off its write protection switch.

Varning

The procedures described in this section will destroy anything already on the
device! Make very sure that you use the correct device name for your USB stick.
If you use the wrong device the result could be that all information on, for
example, a hard disk is lost.

4.3.1. Förbereder ett USB-minne med en hybrid CD/DVD-avbildning

Debian installation images for this architecture are created using the 
isohybrid technology; that means they can be written directly to a USB stick,
which is a very easy way to make an installation media. Simply choose an image
(such as the netinst, CD or DVD-1) that will fit on your USB stick. See
Avsnitt 4.1, "Officiella Debian GNU/Linux installationsavbildningar" to get an
installation image.

Alternativt, för mycket små USB-pinnar, bara några få megabyte i storlek, kan
du ladda ner mini.iso avbildningen från katalogen netboot (på den plats som
nämns i Avsnitt 4.2.1, "Var man får tag på installationsfiler").

Den installationsbild du väljer ska skrivas direkt till USB-sticken och skriva
över dess nuvarande innehåll. När du till exempel använder ett befintligt GNU /
Linux-system kan bildfilen skrivas till ett USB-minne på följande sätt, efter
att ha säkerställt att sticket är omonterat:

 #   cp  debian.iso  / dev /  sdX  
 #   sync 

Information om hur du gör detta på andra operativsystem finns i Debian CD FAQ .

Viktigt

Bilden måste skrivas till hela diskenheten och inte till en partition, t.ex. /
dev / sdb och inte / dev / sdb1. Använd inte verktyg som unetbootin som ändrar
bilden.

Viktigt

Att bara skriva installationsbilden till USB så här skulle fungera bra för de
flesta användare. De andra alternativen nedan är mer komplexa, främst för
personer med specialiserade behov.

Hybridbilden på pinnen upptar inte allt lagringsutrymme, så det kan vara värt
att överväga att använda det fria utrymmet för att hålla firmwarefiler eller
paket eller andra filer du väljer. Detta kan vara användbart om du bara har en
pinne eller bara vill behålla allt du behöver på en enhet.

To do so, use cfdisk or any other partitioning tool to create an additional
partition on the stick. Then create a (FAT) filesystem on the partition, mount
it and copy or unpack the firmware onto it, for example with:

# mkdosfs -n FIRMWARE /dev/sdX3
# mount /dev/sdX3 /mnt
# cd /mnt
# tar zxvf /path/to/firmware.tar.gz
# cd /
# umount /mnt

Take care that you use the correct device name for your USB stick. The mkdosfs
command is contained in the dosfstools Debian package.

Notera

If you have chosen the mini.iso to be written to the USB stick, the second
partition doesn't have to be created, as - very nicely - it will already be
present. Unplugging and replugging the USB stick should make the two partitions
visible.

4.3.2. Manuell kopiering av filer till USB-minnet

Prior to isohybrid technology being used for Debian installation images, the
methods documented in the chapters below were used to prepare media for booting
from USB devices. These have been superseded by the technique in Avsnitt 4.3.1,
"Förbereder ett USB-minne med en hybrid CD/DVD-avbildning", but have been left
here for educational and historical purposes and in case they are useful to
some user.

An alternative to the method described in Avsnitt 4.3.1, "Förbereder ett
USB-minne med en hybrid CD/DVD-avbildning" is to manually copy the installer
files, and also an installation image to the stick. Note that the USB stick
should be at least 1 GB in size (smaller setups are possible using the files
from netboot, following Avsnitt 4.3.3, "Manuellt kopiera filerna till ett USB
minne -- det flexibla sättet").

There is an all-in-one file hd-media/boot.img.gz which contains all the
installer files (including the kernel) as well as syslinux and its
configuration file.

Notera

Observera att, även om det är bekvämt, denna metod har en stor nackdel: den
logiska storleken för enheten kommer att vara begränsad till 1 GB, även om
kapaciteten för USB-minnet är större. Du kommer att behöva partitionera om
USB-minnet och skapa nya filsystem för att få dess fullständiga kapacitet
tillbaka om du någon gång vill använda det för andra ändamål.

Simply extract this image directly to your USB stick:

# zcat boot.img.gz > /dev/sdX

After that, mount the USB memory stick (mount /dev/sdX /mnt), which will now
have a FAT filesystem on it, and copy a Debian ISO image (netinst or full CD;
see Avsnitt 4.1, "Officiella Debian GNU/Linux installationsavbildningar") to
it. Unmount the stick (umount /mnt) and you are done.

4.3.3. Manuellt kopiera filerna till ett USB minne -- det flexibla sättet

Om du vill ha mer flexibilitet eller bara vill veta vad som händer så bör du
använda följande metod att lägga in filerna på ditt minne. En fördel av att
använda denna metod är att -- om kapaciteten för ditt USB-minne är tillräckligt
stort -- du har alternativet att kopiera en vilken ISO-avbildning (även en DVD
avbildning, till det.

4.3.3.1. Partitioning and adding a boot loader

Vi kommer nu att visa hur man ställer in USB-minnet att använda första
partitionen, istället för hela enheten.

För att kunna starta kärnan efter uppstart från USB-minnet så lägger vi på en
starthanterare på minnet. Även om valfri starthanterare bör fungera så är det
bekvämt att använda syslinux, eftersom den använder en FAT16-partition och kan
konfigureras om genom att redigera en textfil. Alla operativsystem som har stöd
för FAT-filsystemet kan användas för att göra ändringar i konfigurationen av
starthanteraren.

First, you need to install the syslinux and mtools packages on your system.

Notera

Since most USB sticks come pre-configured with a single FAT16 partition, you
probably won't have to repartition or reformat the stick. If you have to do
that anyway, use cfdisk or any other partitioning tool to create a FAT16
partition now^[3], and then install an MBR using:

# cat /usr/lib/syslinux/mbr/mbr.bin
>/dev/sdX

Now create the filesystem using:

# mkdosfs /dev/sdX1

Take care that you use the correct device name for your USB stick. The mkdosfs
command is contained in the dosfstools Debian package.

Having a correctly partitioned USB stick (now), you need to put syslinux on the
FAT16 partition with:

# syslinux /dev/sdX1

Again, take care that you use the correct device name. The partition must not
be mounted when starting syslinux. This procedure writes a boot sector to the
partition and creates the file ldlinux.sys which contains the boot loader code.

4.3.3.2. Adding the installer files

There are two different installation variants to choose here: The hd-media
variant needs an installation ISO file on the stick, to load installer modules
and the base system from. The netboot installer however will load all that from
a Debian mirror.

According to your choice, you have to download some installer files from the
hd-media or netboot subdirectory of debian/dists/bullseye/main/installer-amd64/
current/images/ on any Debian mirror:

  • vmlinuz or linux (kernel binary)

  • initrd.gz (initial ramdisk image)

You can choose between either the text-based version of the installer (the
files can be found directly in hd-media or netboot) or the graphical version
(look in the respective gtk subdirectories).

Then mount the partition (mount /dev/sdX1 /mnt) and copy the downloaded files
to the root directory of the stick.

Next you should create a text file named syslinux.cfg in the root directory of
the stick as configuration file for syslinux, which at a bare minimum should
contain the following line:

default vmlinuz initrd=initrd.gz

Change the name of the kernel binary to "linux" if you used files from netboot.

For the graphical installer (from gtk) you should add vga=788 at the end of the
line. Other parameters can be appended as desired.

Lägg till en prompt 1-rad för att aktivera startprompt för att tillåta
ytterligare parametertillägg.

If you used files from hd-media, you should now copy the ISO file of a Debian
installation image onto the stick. (For the netboot variant this is not
needed.)

You can use either a netinst or a full CD/DVD image (see Avsnitt 4.1,
"Officiella Debian GNU/Linux installationsavbildningar"). Be sure to select one
that fits on your stick. Note that the "netboot mini.iso" image is not usable
for this purpose.

When you are done, unmount the USB memory stick (umount /mnt).

4.4. Förbereda filer för uppstart med hårddisk

Installationsprogrammet kan startas upp med uppstartsfiler placerade på en
befintlig hårddiskpartition, antingen startade från ett annat operativsystem
eller genom att kalla upp en starthanterare direkt från BIOS. På moderna
UEFI-system kan kärnan startas direkt från UEFI-partitionen utan behov av en
startladdare.

En full installation, "helt över nätverket" kan göras med den här tekniken. Det
här förhindrar problem med flyttbar media, hitta och bränna CD/
DVD-avbildningar.

4.4.1. Starta upp hårddiskinstalleraren från Linux med GRUB

Det här avsnittet förklarar hur man lägger till eller ersätter en befintlig
Linux-installation med GRUB.

Vid uppstart har GRUB stöd för att läsa in en kärna och även en diskavbildning
i minnet. Den här RAM-disken kan användas som rotfilsystem av kärnan.

Kopiera följande filer från Debian-arkiven till en lämplig plats på din
hårddisk exempelvis till /boot/newinstall/.

  • vmlinuz (kärnbinär)

  • initrd.gz (ramdiskavbildning)

Om du tänkte använda hårddisken bara för att starta upp och sedan hämta allt
över nätverket, bör du hämta filen netboot/debian-installer/amd64/initrd.gz och
dess motsvarande kärna, netboot/debian-installer/amd64/linux. Den låter dig
partionera om hårddisken från vilken du startar upp installationsprogrammet,
dock bör du göra med försiktighet.

Alternatively, if you intend to keep an existing partition on the hard drive
unchanged during the install, you can download the hd-media/initrd.gz file and
its kernel hd-media/vmlinuz, as well as copy an installation image to the hard
drive (make sure the file is named ending in .iso). The installer can then boot
from the hard drive and install from the installation image, without needing
the network.

Till slut, för att konfigurera starthanteraren kan du fortsätta till
Avsnitt 5.1.5, "Uppstart från Linux med GRUB".

4.4.2. Starta upp hårddiskinstalleraren från DOS genom att använda loadlin

Det här avsnittet förklarar hur man förbereder din hårddisk för att starta upp
installationsprogrammet från DOS med loadlin.

Kopiera följande kataloger från en installations-avbildning av Debian till c:\.

  • /install.amd (kärnans binärfil och ramdisk-avbildning)

  • /tools (loadlin-verktyg)

4.5. Förbered filerna för nätverksuppstart via TFTP

Om din maskin är ansluten till ett lokalt nätverk har du möjligheten att starta
upp via nätverket från en annan maskin med TFTP. Om du tänker starta upp
installationssystemet från en annan maskin behöver uppstartsfilerna placeras på
specifika platser på den maskinen och maskinen konfigureras för att få stöd för
uppstart av din specifika maskin.

Du behöver konfigurera en TFTP-server, och för många maskiner även en
DHCP-server, eller BOOTP-server.

BOOTP är ett IP-protokoll som informerar en dator om dess IP-adress och var på
nätverket den kan hämta en uppstartsavbildning. DHCP (Dynamic Host
Configuration Protocol) är en mer flexibel, bakåtkompatibel utökning av BOOTP.
Vissa system kan endast konfigureras via DHCP.

Trivial File Transfer Protocol (TFTP) används för att erbjuda
uppstartsavbildningar till klienten. Teoretiskt sett kan alla servrar, på alla
plattformar, som implementerat de här protokollen, kan användas. I exemplen i
det här avsnittet, tillhandahåller vi kommandon för SunOS 4.x, SunOS 5.x (även
kallad Solaris) och GNU/Linux.

Notera

För en Debian GNU/Linux-server så rekommenderar vi tftpd-hpa. Den är skriven av
samma upphovsman som starthanteraren syslinux och är därför minst sannolik att
orsaka problem. Ett bra alternativ är atftpd.

4.5.1. Konfigurering av DHCP-server

En fri DHCP-serverprogramvara är ISC dhcpd. För Debian GNU/Linux, rekommenderas
paketet isc-dhcp-server. Här är en exempelkonfigurationsfil för det (se /etc/
dhcp/dhcpd.conf):

option domain-name "exempel.se";
option domain-name-servers ns1.exempel.se;
option subnet-mask 255.255.255.0;
default-lease-time 600;
max-lease-time 7200;
server-name "servernamn";

subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option routers 192.168.1.1;
}

host klientnamn {
  filename "/tftpboot.img";
  server-name "servernamn";
  next-server servernamn;
  hardware ethernet 01:23:45:67:89:AB;
  fixed-address 192.168.1.90;
}

I det här exemplet finns det en server kallad servernamn som gör allt arbete
som DHCP-server, TFTP-server och nätverksgateway. Du behöver nästan säkert
ändra domännamnsalternativen, såväl som servernamnet och klientens
maskinvaruadress. Alternativet filename bör vara ange namnet på den fil som ska
hämtas via TFTP.

Efter du har redigerat konfigurationsfilen för dhcpd, starta om den med /etc/
init.d/isc-dhcp-server restart.

4.5.1.1. Aktivera PXE-uppstart i DHCP-konfigurationen

Här är ett annat exempel på en dhcp.conf, som använder Pre-boot Execution
Environment-metoden (PXE) för TFTP.

option domain-name "exempel.se";

default-lease-time 600;
max-lease-time 7200;

allow booting;
allow bootp;

# Nästa paragraf behöver ändras för att passa din miljö
subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option broadcast-address 192.168.1.255;
# gatewayadressen kan vara olik
# (tillgång till Internet till exempel)
  option routers 192.168.1.1;
# indikerar dns-servern du vill använda
  option domain-name-servers 192.168.1.3;
}

group {
 next-server 192.168.1.3;
 host tftpclient {
# maskinvaruadressen för tftp-klienten
  hardware ethernet  00:10:DC:27:6C:15;
  filename "pxelinux.0";
 }
}

Observera att för PXE-uppstarter är klientfilnamnet pxelinux.0 en
starthanterare, inte en kärnavbildning (se Avsnitt 4.5.4, "Flytta
TFTP-avbildningarna till rätt plats" nedan).

Om din maskin använder UEFI för att starta måste du ange en startladdare som är
lämplig för UEFI-maskiner, till exempel

group {
  next-server 192.168.1.3;
  host tftpclient {
# tftp client hardware address
  hardware ethernet  00:10:DC:27:6C:15;
  filename "debian-installer/amd64/bootnetx64.efi";
 }
}

4.5.2. Konfigurera en BOOTP-server

Det finns två BOOTP-servrar tillgängliga för GNU/Linux. Den första är CMU 
bootpd. Den andra är faktiskt en DHCP-server: ISC dhcpd. I Debian GNU/Linux
finns dessa i paketen bootp respektive isc-dhcp-server.

För att använda CMU bootpd, måste du först kommentera bort (eller lägga till)
den relevanta raden i /etc/inetd.conf. På Debian GNU/Linux kan du köra
update-inetd --enable bootps, sedan /etc/init.d/inetd reload för att göra det.
Om din BOOTP-server inte kör Debian, bör raden i fråga se ut så här:

bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120

Nu måste du skapa filen /etc/bootptab. Den har samma sorts familjära och
kryptiska format som de gamla goda BSD-filerna printcap, termcap och disktab.
Se manualsidan för bootptab för mer information. För CMU bootpd behöver du
känna till maskinvaruadressen (MAC) för klienten. Här är ett exempel på en /etc
/bootptab:

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

Du behöver ändra åtminstone alternativet "ha", som anger maskinvaruadressen för
klienten. Alternativet "bf" anger filen som klienten bör hämta via TFTP; se
Avsnitt 4.5.4, "Flytta TFTP-avbildningarna till rätt plats" för mer detaljer.

Tvärtemot är konfigurering av BOOTP med ISC dhcpd riktigt enkelt, för att den
behandlar BOOTP-klienter som vanliga specialfall av DHCP-klienter. Vissa
arkitekturer kräver en komplex konfiguration för att starta upp klienter via
BOOTP. Om din dator är en av dessa, läs avsnittet Avsnitt 4.5.1, "Konfigurering
av DHCP-server". Om inte, kommer du antagligen komma undan med att bara lägga
till direktivet allow bootp till konfigurationsblocket för subnätet som
innehåller klienten i /etc/dhcp/dhcpd.conf, och starta om dhcpd med /etc/init.d
/isc-dhcp-server restart.

4.5.3. Aktivering av TFTP-server

För att få igång TFTP-servern så bör du först försäkra dig om att tftpd är
aktiverad.

I det fallet med tftpd-hpa så finns det två sätt som tjänsten kan köras på. Den
kan startas vid behov av systemets inetd-demon, eller så kan den konfigureras
till att köras som en oberoende demon. Vilken av dessa metoder som används
väljs när paketet installeras och kan ändras genom att konfigurera om paketet.

Notera

Historiskt sett hanterade TFTP-servrarna avbildningar från katalogen /tftpboot.
Dock kan Debian GNU/Linux-paket använda andra kataloger för att följa
Filesystem Hierarchy Standard. Till exempel, tftpd-hpa använder som standard /
srv/tftp. Du kan därför behöva justera konfigurationsexemplen i det här
avsnittet.

Alla tillgängliga alternativ för in.tftpd i Debian bör logga TFTP-begäran till
systemloggarna som standard. Vissa av dem har stöd för argumentet -v för att
öka informationsnivån. Det rekommenderas att kontrollera dessa loggmeddelanden
när uppstartsproblem sker eftersom de är en bra startpunkt för att
diagnostisera orsaken till felen.

4.5.4. Flytta TFTP-avbildningarna till rätt plats

Placera sedan TFTP-uppstartsavbildningen du behöver, som du hittar i
Avsnitt 4.2.1, "Var man får tag på installationsfiler", i katalogen för
uppstartsavbildningar för tftpd. Du kan behöva att skapa en länk från den filen
till den fil som tftpd kommer att använda för att starta upp en specifik
klient. Tyvärr fastställs filnamnet av TFTP-klienten och det finns inga riktiga
standarder.

För PXE-uppstart är allt du behöver konfigurerat i filen netboot/
netboot.tar.gz. Extrahera helt enkelt den här filen till katalogen för
uppstartsavbildningar för tftpd. Se till att din dhcp-server är konfigurerad
att skicka pxelinux.0 till tftpd som det filnamn som ska användas för uppstart.
För UEFI maskiner, så måste du skicka ut ett lämpligt EFI-startavbildsnamn (som
/debian-installer/amd64/bootnetx64.efi ).

4.6. Automatisk installation

For installing on multiple computers it's possible to do fully automatic
installations. Debian packages intended for this include fai-quickstart (which
can use an install server) and the Debian Installer itself. Have a look at the
FAI home page for detailed information.

4.6.1. Automatisk installation med Debian Installer

Debian Installer har stöd för att automatisera installationer via
förkonfigurationsfiler. En förkonfigurationsfil kan läsas in från nätverket
eller från flyttbart media, och används för att fylla i svar på frågor som
ställs under installationsprocessen.

Full dokumentation om förinställning inklusive ett fungerande exempel som du
kan redigera finns i Appendix B, Automatiserad installation med
förinställningar.

4.7. Verifiera integriteten för installationsfiler

Du kan verifiera integriteten för nedladdade filer mot kontrollsummor som finns
i SHA256SUMS eller SHA512SUMS filer på Debian speglarna. Du hitta dom på samma
platser som själva installationsavbilderna. Besök följande platser:

  • kontrollsummafiler för CD-avbilder,

  • kontrollsummafiler för DVD-avbilder,

  • kontrollsummafiler för BD-avbilder,

  • kontrollsummafiler för andra installationsfiler.

För att beräkna kontrollsumman för en nedladdad installationsfil, använd

sha256sum filename.iso

respektive

sha512sum filename.iso

och jämför sedan den visade kontrollsumman med motsvarande i en av
SHA256SUMSrespektiveSHA512SUMS filerna.

Debian CD FAQ har mer användbar information på detta ämne. som t.ex skriptet
check_debian_iso, för att halvautomatisera ovanstående procedur), samt
instruktioner, hur man själva verifierar integriteten för ovanstående
kontrollsumfiler.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[3] Don't forget to activate the "bootable" flag.

Kapitel 5. Starta upp installationssystemet

Innehållsförteckning

5.1. Starta upp installationsprogrammet på 64-bit PC

    5.1.1. Uppstart från USB-minne
    5.1.2. Starta upp från optiskt media (CD/DVD)
    5.1.3. Starta upp från Windows
    5.1.4. Starta upp från DOS genom att använda loadlin
    5.1.5. Uppstart från Linux med GRUB
    5.1.6. Uppstart via TFTP
    5.1.7. Uppstartsskärmen
    5.1.8. Det grafiska installationsprogrammet

5.2. Hjälpmedel

    5.2.1. Installationsprogrammets frontend
    5.2.2. Punktskriftsskärmar med USB
    5.2.3. Punktskriftsskärmar med seriekabel
    5.2.4. Talsynteser (mjukvara)
    5.2.5. Talsyntes (maskinvara)
    5.2.6. Brädenheter
    5.2.7. Tema med hög kontrast
    5.2.8. Zooma
    5.2.9. Expertinstallation, räddningsläge, automatisk installation
    5.2.10. Tillgänglighet för det installerade systemet

5.3. Uppstartsparametrar

    5.3.1. Startkonsol
    5.3.2. Parametrar för Debian Installer
    5.3.3. Använding av uppstartsparametrar för att besvara frågor
    5.3.4. Skicka parametrar till kärnmoduler
    5.3.5. Svartlistning av kärnmoduler

5.4. Felsök installationsprocessen

    5.4.1. Tillförlitligheten för optiska medier
    5.4.2. Uppstartskonfiguration
    5.4.3. Talsynteser (mjukvara)
    5.4.4. Vanliga 64-bit PC Installationsproblem
    5.4.5. Tolkning av kärnans uppstartsmeddelanden
    5.4.6. Rapportering av installationsproblem
    5.4.7. Skicka installationsrapporter

5.1. Starta upp installationsprogrammet på 64-bit PC

Varning

Om du har andra operativsystem på din dator som du önskar att behålla (via en
uppstartsmeny), bör du försäkra dig om att de har stängts av på ett korrekt
sätt innan du startar installationsprogrammet. Installation av ett
operativsystem under tiden ett annat operativsystem står i viloläge (har
växlats ut till disk) kan resultera i att tillståndsinformationen om
operativsystemet går förlorad eller skadas, vilket kan leda till problem vid en
omstart.

Notera

För information om hur man startar upp det grafiska installationsprogrammet, se
Avsnitt 5.1.8, "Det grafiska installationsprogrammet".

5.1.1. Uppstart från USB-minne

If your computer will boot from USB, this will probably be the easiest route
for installation. Assuming you have prepared everything from Avsnitt 3.6.2,
"Val av uppstartsenhet" and Avsnitt 4.3, "Förbereda filer för uppstart med
USB-minne", just plug your USB stick into some free USB connector and reboot
the computer. The system should boot up, and unless you have used the flexible
way to build the stick and not enabled it, you should be presented with a
graphical boot menu (on hardware that supports it). Here you can select various
installer options, or just hit Enter.

5.1.2. Starta upp från optiskt media (CD/DVD)

If you have a set of optical discs, and your machine supports booting directly
off those, great! Simply configure your system for booting off an optical disc
as described in Avsnitt 3.6.2, "Val av uppstartsenhet", insert the disc,
reboot, and proceed to the next chapter.

Observera att vissa optiska-enheter kan kräva speciella drivrutiner och kan
därför vara otillgängliga i de tidiga stegen av installationen. Om det visar
sig att det vanliga sättet att starta upp från en optisk skiva inte fungerar på
din maskinvara, besök det här kapitlet igen och läs om alternativa kärnor och
installationsmetoder som kan fungera för dig.

Even if you cannot boot from optical disc, you can probably install the Debian
system components and any packages you want from such disc. Simply boot using a
different medium and when it's time to install the operating system, base
system, and any additional packages, point the installation system at the
optical drive.

Om du har problem att starta upp, se Avsnitt 5.4, "Felsök
installationsprocessen".

5.1.3. Starta upp från Windows

För att starta installationen från Windows, så kan du antingen

  • Hämta installation media som beskrivet i Avsnitt 4.1, "Officiella Debian
    GNU/Linux installationsavbildningar" och Avsnitt 4.3, "Förbereda filer för
    uppstart med USB-minne" eller

  • download a standalone Windows executable, which is available as tools/
    win32-loader/stable/win32-loader.exe on the Debian mirrors.

Om du ett optiskt installationsmedia, kommer ett förinstallationsprogram att
startas automatiskt när du matar in skivan. I fall att Windows inte startar det
automatiskt eller om du använder en USB-minnespinne, kan du starta det manuellt
genom att gå in på enheten och starta setup.exe.

Efter att programmet har startats så kommer ett par inledande frågor att
ställas och systemet kommer att förberedas för att starta om till Debian GNU/
Linux installationsprogrammet.

5.1.4. Starta upp från DOS genom att använda loadlin

Starta i DOS (inte Windows). För att göra detta kan du till exempel starta från
en återställnings-eller diagnos disk.

If you can access the installation CD, change the current drive to the CD-ROM
drive, e.g.

d:

else make sure you have first prepared your hard disk as explained in
Avsnitt 4.4.2, "Starta upp hårddiskinstalleraren från DOS genom att använda 
loadlin", and change the current drive to it if needed.

Enter the subdirectory for the flavor you chose, e.g.,

cd \install.amd

If you prefer using the graphical installer, enter the gtk sub-directory.

cd gtk

Next, execute install.bat. The kernel will load and launch the installer
system.

5.1.5. Uppstart från Linux med GRUB

För att starta upp installationsprogrammet från hårddisk måste du första hämta
och placera de nödvändiga filerna som beskrivs i Avsnitt 4.4, "Förbereda filer
för uppstart med hårddisk".

För GRUB2, så behöver du konfigurera två grundläggande saker i /boot/grub/
grub.cfg:

  • för att ladda initrd.gz installationsprogrammet vid uppstart;

  • ha vmlinuz kärna som en RAM-disk som dess rotpartition.

An entry for the installer would be for example:

menuentry 'New Install' {
insmod part_msdos
insmod ext2
set root='(hd0,msdos1)'
linux /boot/newinstall/vmlinuz
initrd /boot/newinstall/initrd.gz
}

5.1.6. Uppstart via TFTP

Uppstart från nätverket kräver att du har en nätverksanslutning och en
TFTP-server konfigurerad för uppstarter (och antagligen även en DHCP-, RARP-
eller BOOTP-server för automatisk närverkskonfiguration).

The server-side setup to support network booting is described in Avsnitt 4.5,
"Förbered filerna för nätverksuppstart via TFTP".

Det finns olika sätt att göra en TFTP-uppstart på i386.

5.1.6.1. Nätverkskort eller moderkort med stöd för PXE

Det kan vara så att ditt nätverkskort eller moderkort tillhandahåller
funktionalitet för uppstart via PXE. Det är en återimplementation av
TFTP-uppstart från Intel (tm). Om så är fallet kan du konfigurera ditt BIOS/
UEFI att starta upp från nätverket.

5.1.6.2. Nätverkskort med Network BootROM

Det kan vara så att ditt nätverkskort erbjuder funktionalitet för att starta
upp via TFTP.

5.1.6.3. Etherboot

Etherboot-projektet erbjuder startdisketter och även ROM-filer som kan göra
uppstarter via TFTP.

5.1.7. Uppstartsskärmen

När installationsprogrammet startar bör du presenteras med en vänlig grafisk
skärm som visar Debian logotypen och en meny:

Debian GNU/Linux installer boot menu

Graphical install
Install
Advanced options                            >
Accessible dark contrast installer menu     >
Help
Install with speech synthesis

Notera

Den här grafiska skärmen kommer att se väldigt annorlunda ut beroende på hur
din dator har startats (BIOS eller UEFI), men samma alternativ kommer att
visas.

Depending on the installation method you are using, the "Graphical install"
option may not be available. Bi-arch images additionally have a 64 bit variant
for each install option, right below it, thus almost doubling the number of
options.

For a normal installation, select either the "Graphical install" or the "
Install" entry -- using either the arrow keys on your keyboard or by typing the
first (highlighted) letter -- and press Enter to boot the installer. The "
Graphical install" entry is already selected by default.

Alternativet "Advanced options" ger dig åtkomst till en annan meny som låter
dig starta upp installationsprogrammet i expertläge, räddningsläge och för
automatiserade installationer.

If you wish or need to add any boot parameters for either the installer or the
kernel, press Tab (BIOS boot), or e then down arrow three times then end (UEFI
boot). This will bring the boot command for the selected menu entry and allow
you to edit it to suit your needs. Note that the keyboard layout at this point
is still QWERTY. The help screens (see below) list some common possible
options. Press Enter (BIOS boot) or F10 (UEFI boot) to boot the installer with
your options; pressing Esc will return you to the boot menu and undo any
changes you made.

Choosing the "Help" entry will result in the first help screen being displayed
which gives an overview of all available help screens. To return to the boot
menu after the help screens have been displayed, type "menu" at the boot prompt
and press Enter. All help screens have a boot prompt at which the boot command
can be typed:

Press F1 for the help index, or ENTER to boot:

At this boot prompt you can either just press Enter to boot the installer with
default options or enter a specific boot command and, optionally, boot
parameters. A number of boot parameters which might be useful can be found on
the various help screens. If you do add any parameters to the boot command
line, be sure to first type the boot method (the default is install) and a
space before the first parameter (e.g., install fb=false).

Notera

Tangentbordet antas ha standardlayouten Amerikansk engelska vid det här
tillfället. Detta betyder att om ditt tangentbord har en annan (språkspecifik)
layout kan bokstäverna som visas på skärmen att vara olika från vad du
förväntar dig när du anger parametrar. Wikipedia har ett schema över den
amerikanska tangentbordslayouten som kan användas som en referens för att hitta
de korrekta tangenterna.

Notera

Om du använder ett system som har BIOS konfigurerat att använda en seriell
konsoll så kanske du inte kan se den initiala startbilden vid uppstart av
installationsprogrammet; du kanske inte ens ser uppstartsmenyn. Det samma kan
ske om du installerar systemet via en fjärrhanteringsenhet som tillhandahåller
ett textgränssnitt till VGA-konsollen. Exempel på dessa enheter inkluderar
textkonsollen för Compaqs "integrated Lights Out" (iLO) och HP:s "Integrated
Remote Assistant" (IRA).

För att komma förbi den grafiska uppstartsskärmen kan du antingen i blindo
trycka på Esc för att få en textuppstartsprompt eller (lika blint) trycka på "H
" följt av Enter för att välja alternativet "Help", som beskrivs här ovan.
Efter det bör dina tangenttryckningar att ekas på prompten. För att förhindra
installationsprogrammet från att använda framebufferten för resten av
installationen kan du lägga till vga=normal fb=false till uppstartsprompten,
som beskrivet i hjälptexten.

5.1.8. Det grafiska installationsprogrammet

The graphical version of the installer is only available for a limited number
of architectures, including 64-bit PC. The functionality of the graphical
installer is essentially the same as that of the text-based installer as it
basically uses the same programs, but with a different frontend.

Although the functionality is identical, the graphical installer still has a
few significant advantages. The main advantage is that it supports more
languages, namely those that use a character set that cannot be displayed with
the text-based "newt" frontend. It also has a few usability advantages such as
the option to use a mouse, and in some cases several questions can be displayed
on a single screen.

The graphical installer is available with all CD/DVD images and with the
hd-media installation method. To boot the graphical installer simply select the
relevant option from the boot menu. Expert and rescue mode for the graphical
installer can be selected from the "Advanced options" menu. The previously used
boot methods installgui, expertgui and rescuegui can still be used from the
boot prompt which is shown after selecting the "Help" option in the boot menu.

There is also a graphical installer image that can be netbooted. And there is a
special "mini" ISO image^[4], which is mainly useful for testing.

Precis som med det textbaserade installationsprogrammet är det möjligt att
lägga till startparametrar när du startar det grafiska installationsprogrammet.

Notera

The graphical installer requires significantly more memory to run than the
text-based installer: 810MB. If insufficient memory is available, it will
automatically fall back to the text-based "newt" frontend.

If the amount of memory in your system is below 780MB, the graphical installer
may fail to boot at all while booting the text-based installer would still
work. Using the text-based installer is recommended for systems with little
available memory.

5.2. Hjälpmedel

Some users may need specific support because of e.g. some visual impairment. 
USB braille displays are detected automatically (not serial displays connected
via a serial-to-USB converter), but most other accessibility features have to
be enabled manually. On machines that support it, the boot menu emits beeps
when it is ready to receive keystrokes. It beeps once on BIOS systems, and
beeps twice on UEFI systems. Some boot parameters can then be appended to
enable accessibility features (see also Avsnitt 5.1.7, "Uppstartsskärmen").
Note that on most architectures the boot loader interprets your keyboard as a
QWERTY keyboard.

5.2.1. Installationsprogrammets frontend

The Debian installer supports several front-ends for asking questions, with
varying convenience for accessibility: notably, text uses plain text while newt
uses text-based dialog boxes. The choice can be made at the boot prompt, see
the documentation for DEBIAN_FRONTEND in Avsnitt 5.3.2, "Parametrar för Debian
Installer".

With the newt front-end (used mostly with braille), one mostly just selects
answers with arrow keys and presses Enter to validate the choice. Pressing Tab
or Shift - Tab allows to switch between dialog elements, and notably to access
the Go Back button, which brings back again to previous questions. Some dialogs
contain check boxes, which can be ticked on and off by pressing Space.

With the text front-end (used mostly with speech), one mostly selects answers
by typing their number followed by pressing Enter. One can also not type
anything and just press Enter to simply accept the default value. Typing < and
pressing Enter brings back again to previous questions. When a selection of
choices has to be made (e.g. during task selection), one can type ! to express
an empty selection.

5.2.2. Punktskriftsskärmar med USB

Punktskriftsskärmar för USB ska identifieras automatiskt. En textversion av
installationsprogrammet kommer sedan att väljas automatiskt och stöd för
punktskriftsskärmen kommer att installeras automatiskt på målsystemet. Du kan
därför bara trycka på Enter vid uppstartsmenyn. När brltty har startats så kan
du välja en punktskriftstabell genom att gå in i inställningsmenyn.
Dokumentation för tangentbindingar för punktskriftsskärmar finns tillgänglig på
webbsidan för brltty.

5.2.3. Punktskriftsskärmar med seriekabel

Serial braille displays cannot safely be automatically detected (since that may
damage some of them). You thus need to append the brltty=driver,port boot
parameter to tell brltty which driver and port it should use. driver should be
replaced by the two-letter driver code for your terminal (see the BRLTTY manual
). port should be replaced by the name of the serial port the display is
connected to, ttyS0 is the default, ttyUSB0 can be typically used when using a
serial-to-USB converter. A third parameter can be provided, to choose the name
of the braille table to be used (see the BRLTTY manual); the English table is
the default. Note that the table can be changed later by entering the
preference menu. A fourth parameter can be provided to pass parameters to the
braille driver, such as protocol=foo which is needed for some rare models.
Documentation on key bindings for braille devices is available on the brltty
website.

5.2.4. Talsynteser (mjukvara)

Support for software speech synthesis is available on all installer images
which have the graphical installer, i.e. all netinst, CD and DVD images, and
the netboot gtk variant. It can be activated by selecting it in the boot menu
by typing s Enter. The textual version of the installer will then be
automatically selected, and support for software speech synthesis will be
automatically installed on the target system.

Om flera ljudkort upptäcks uppmanas du att trycka på Enter när du hör tal från
önskat ljudkort.

Den första frågan (språket) talas på engelska, och resten av installationen
talas på det valda språket (om tillgängligt i espeak).

The default speech rate is quite slow. To make it faster, press CapsLock+6. To
make it slower, press CapsLock+5. The default volume should be medium. To make
it louder, press CapsLock+2. To make it quieter, press CapsLock+1. To get more
details on the browsing shortcuts, see the Speakup guide. To just accept the
default answer for a question, simply press Enter at the prompt. To provide an
empty answer for a question, type ! at the prompt. To get back to the previous
question, type < at the prompt.

5.2.5. Talsyntes (maskinvara)

Support for hardware speech synthesis devices is available on all installer
images which have the graphical installer, i.e. all netinst, CD and DVD images,
and the netboot gtk variant. You thus need to select a "Graphical install"
entry in the boot menu.

Talsyntesenheter (maskinvara) kan inte identifieras automatiskt. Du behöver
därför lägga till uppstartsparametern speakup.synth=drivrutin för att berätta
för speakup vilken drivrutin som den ska använda. drivrutin ska ersättas med
koden för drivrutinen för din enhet (se kodlista för drivrutiner).
Textversionen av installationsprogrammet kommer sedan att väljas automatiskt
och stöd för talsynteser kommer automatiskt att installeras på målsystemet.

5.2.6. Brädenheter

Vissa hjälpmedelsenheter är faktiska kort som ansluts inne i datorn och som
läser test direkt från grafikminnet. För att få dem att fungera så måste stöd
för framebuffer inaktiveras genom att använda uppstartsparametern vga=normal.fb
=false Detta kommer dock att minska antalet tillgängliga språk.

If desired a textual version of the bootloader can be activated before adding
the boot parameter by typing h Enter.

5.2.7. Tema med hög kontrast

For users with low vision, the installer can use a high-contrast color theme
that makes it more readable. To enable it, you can use the "Accessible high
contrast" entry from the boot screen with the d shortcut, or append the theme=
dark boot parameter.

5.2.8. Zooma

For users with low vision, the graphical installer has a very basic zoom
support: the Control++ and Control+- shortcuts increase and decrease the font
size.

5.2.9. Expertinstallation, räddningsläge, automatisk installation

Expert, Rescue, and Automated installation choices are also available with
accessibility support. To access them, one has to first enter the "Advanced
options" submenu from the boot menu by typing a. When using a BIOS system (the
boot menu will have beeped only once), this has to be followed by Enter ; for
UEFI systems (the boot menu will have beeped twice) that must not be done.
Then, to enable speech synthesis, s can optionally be pressed (followed again
by Enter on BIOS systems but not on UEFI systems). From there, various
shortcuts can be used: x for expert installation, r for rescue mode, or a for
automated installation. Again these need to be followed by Enter when using a
BIOS system.

The automated install choice allows to install Debian completely automatically
by using preseeding, whose source can be entered after accessibility features
get started. Preseeding itself is documented in Appendix B, Automatiserad
installation med förinställningar.

5.2.10. Tillgänglighet för det installerade systemet

Dokumentation om tillgänglighet för det installerade systemet finns på Debian
tillgänglighet wikisidan.

5.3. Uppstartsparametrar

Uppstartsparametrar är parametrar för Linux-kärnan som generellt sett används
för att se till att kringutrustning hanteras korrekt. För det mesta kan kärnan
automatiskt identifiera information om din kringutrustning. Ibland behöver du
dock hjälpa kärnan en bit på vägen.

Om det här är första gången du startar upp systemet kan du prova de
uppstartsparametrar som är standard (alltså, ställ inte in några parametrar)
och se om det fungerar korrekt. Det kommer säkert att göra det. Om inte, kan du
starta om senare och leta efter några speciella parametrar som informerar
systemet om din maskinvara.

Information om många uppstartsparametrar kan hittas i Linux BootPrompt HOWTO,
inklusive tips för ovanlig maskinvara. Det här avsnittet innehåller endast en
del av de mest vanliga parametrarna. Vissa vanliga problem finns beskrivna i
Avsnitt 5.4, "Felsök installationsprocessen".

5.3.1. Startkonsol

If you are booting with a serial console, generally the kernel will autodetect
this. If you have a videocard (framebuffer) and a keyboard also attached to the
computer which you wish to boot via serial console, you may have to pass the
console=device argument to the kernel, where device is a serial device of the
target, which is usually something like ttyS0.

You may need to specify parameters for the serial port, such as speed and
parity, for instance console=ttyS0,9600n8; other typical speeds may be 57600 or
115200. Be sure to specify this option after "---", so that it is copied into
the bootloader configuration for the installed system (if supported by the
installer for the bootloader).

In order to ensure the terminal type used by the installer matches your
terminal emulator, the parameter TERM=type can be added. Note that the
installer only supports the following terminal types: linux, bterm, ansi, vt102
and dumb. The default for serial console in debian-installer is vt102. If you
are using an IPMI console, or a virtualization tool which does not provide
conversion into such terminals types itself, e.g. QEMU/KVM, you can start it
inside a screen session. That will indeed perform translation into the screen
terminal type, which is very close to vt102.

5.3.2. Parametrar för Debian Installer

The installation system recognizes a few additional boot parameters^[5] which
may be useful.

Ett antal parametrar har en "kort form" som hjälper till att undvika
begränsningarna i kärnans kommandoradsflaggor och gör dem enklare att ange. Om
en parameter har en kort form, kommer den att listas inom hakparanteser bakom
den (normala) långa formen. Exemplen i den här handboken kommer vanligtvis att
använda den korta formen också.

debconf/priority (priority)

    Den här parametern ställer in så att meddelanden med lägst prioritet visas.

    Standardinstallationen använder priority=high. Det betyder att både
    meddelanden med prioriteterna hög och kritisk visas, men meddelanden med
    prioriteterna medium och låg hoppas över. Om problem påträffas justerar
    installationsprogrammet prioriteten efter behov.

    Om du lägger till priority=medium som uppstartsparameter kommer du att få
    se installationsmenyn och få mer kontroll över installationen. När priority
    =low används kommer alla meddelanden visas (det här är likvärdigt med
    uppstartsmetoden expert). Med priority=critical kommer
    installationssystemet endast att visa kritiska meddelanden och försöka göra
    det rätta utan att krångla till det.

DEBIAN_FRONTEND

    This boot parameter controls the type of user interface used for the
    installer. The current possible parameter settings are:

      □ DEBIAN_FRONTEND=noninteractive

      □ DEBIAN_FRONTEND=text

      □ DEBIAN_FRONTEND=newt

      □ DEBIAN_FRONTEND=gtk

    The default frontend is DEBIAN_FRONTEND=newt. DEBIAN_FRONTEND=text may be
    preferable for serial console installs. Some specialized types of install
    media may only offer a limited selection of frontends, but the newt and
    text frontends are available on most default install media. On
    architectures that support it, the graphical installer uses the gtk
    frontend.

BOOT_DEBUG

    Ställ in den här uppstartsparametern till 2 innebär att
    installationsprogrammets uppstartsprocess kommer att loggas på ett
    informativt sätt. Ställ in den till 3 och felsökningsloggar blir
    tillgängliga på strategiska punkter i uppstartsprocessen. (Avsluta skalen
    för att fortsätta uppstartsprocessen.)

    BOOT_DEBUG=0

        Det här är standardinställningen.

    BOOT_DEBUG=1

        Mer information än normalt.

    BOOT_DEBUG=2

        Mycket felsökningsinformation.

    BOOT_DEBUG=3

        Skal kommer att köras på olika punkter i uppstartsprocessen för
        detaljerad felsökning. Avsluta skalet för att fortsätta uppstarten.

logg_värd, logg_port

    Gör att installationsprogrammet skickar loggmeddelanden till ett
    fjärranslutet syslog på den angivna värden och porten samt till en lokal
    fil. Om den inte anges, är porten standard på standard syslog port 514.

lowmem

    Kan användas för att tvinga installationsprogrammet till en lowmem-nivå
    högre än den som installationsprogrammet ställer in som standard baserat på
    tillgängligt minne. Möjliga värden är 1 och 2. Se även Avsnitt 6.3.1.1,
    "Kontrollera tillgängligt minne / minimalt minnesläge".

noshell

    Förhindrar att installationsprogrammet erbjuder interaktiva skal på tty2
    och tty3. Användbart för oövervakade installationer där fysisk säkerhet är
    begränsad.

debian-installer/framebuffer (fb)

    Vissa arkitekturer använder kärnans framebuffer för att erbjuda en
    installation på ett antal olika språk. Om framebuffer orsakar ett problem
    på ditt system kan du inaktivera funktionen genom att använda parametern
    vga=normal fb=false. Symptom på problemet är felmeddelanden om bterm eller
    bogl, en blank skärm, eller en frysning inom ett par minuter efter påbörjad
    installation.

debian-installer/theme (theme)

    A theme determines how the user interface of the installer looks (colors,
    icons, etc.). Which themes are available may differ per frontend. Currently
    both the newt and gtk frontend have (apart from the default look) only one
    additional theme named "dark" theme, which was designed for visually
    impaired users. Set this theme by booting with theme=dark (there is also
    the keyboard shortcut d for this in the boot menu).

netcfg/disable_autoconfig

    By default, the debian-installer automatically probes for network
    configuration via IPv6 autoconfiguration and DHCP. If the probe succeeds,
    you won't have a chance to review and change the obtained settings. You can
    get to the manual network setup only in case the automatic configuration
    fails.

    If you have an IPv6 router or a DHCP server on your local network, but want
    to avoid them because e.g. they give wrong answers, you can use the
    parameter netcfg/disable_autoconfig=true to prevent any automatic
    configuration of the network (neither v4 nor v6) and to enter the
    information manually.

hw-detect/start_pcmcia

    Ställ in till false för att förhindra att PCMCIA-tjänster startas, om det
    orsakar problem. Vissa bärbara datorer är kända för det här problemet.

disk-detect/dmraid/enable (dmraid)

    Ställ in till true för att aktivera stöd för Serial ATA RAID-diskar (kallas
    även för ATA RAID, BIOS RAID eller fake RAID) i installationsprogrammet.
    Observera att stödet för närvarande är experimentellt. Ytterligare
    information kan hittas på Debian Installer Wiki.

preseed/url (url)

    Ange url:en till en förkonfigurationsfil som ska hämtas ner och användas
    för att automatisera installationen. Se Avsnitt 4.6, "Automatisk
    installation".

preseed/file (file)

    Ange sökvägen till en förkonfigurationsfil som ska läsas in för att
    automatisera installationen. Se Avsnitt 4.6, "Automatisk installation".

preseed/interactive

    Ställ in till true för att visa frågor även om de har blivit förinställda.
    Kan vara användbart för testning eller felsökning av en
    förkonfigurationsfil. Observera att det här inte har någon effekt på
    parametrar som skickas som uppstartsparametrar, men för de kan en speciell
    syntax användas. Se Avsnitt B.5.2, "Användning av förinställningar för att
    ändra på standardvärden" för detaljer.

auto-install/enable (auto)

    Fördröj frågor som vanligtvis frågas innan förinställning är möjlig efter
    att nätverket har konfigurerats. Se Avsnitt B.2.3, "Auto-läget" för
    detaljer om hur man automatiserar installationer.

finish-install/keep-consoles

    Under installationer från seriella eller hanteringskonsoller är de vanliga
    virtuella konsollerna (VT1 till VT6) oftast inaktiverade i /etc/inittab.
    Ställ in till true för att förhindra detta.

cdrom-detect/eject

    Som standard, före omstart, matar debian-installer automatiskt ut det
    optiska mediat som användes under installationen. Det kan vara onödigt om
    systemet inte startar upp automatiskt på sådant media. I vissa fall kan det
    inte vara önskvärt, till exempel om den optiska enheten inte kan mata in
    mediat själv om användaren inte finns där för att göra det manuellt. Många
    cd-läsare kan inte mata in media automatiskt.

    Ställ in till false för att inaktivera automatisk utmatning och tänk på att
    du kan behöva se till att systemet inte startar upp automatiskt från den
    optiska enheten efter den initiala installationen.

base-installer/install-recommends (recommends)

    Genom att ställa in denna flagga till false så kommer
    pakethanteringssystemet att konfigureras till att inte automatiskt
    installera paket som anges med "Recommends", både under installationen och
    för det installerade systemet. Se även Avsnitt 6.3.5, "Installation av
    grundsystemet".

    Observera att denna flagga ger ett smidigare system men kan även resultera
    i att funktioner saknas som du kanske vanligtvis skulle förvänta dig vara
    tillgängliga. Du kan behöva att manuellt installera några av de
    rekommenderade paketen för att få den fullständiga funktionalitet som du
    vill uppnå. Denna flagga bör därför endast användas av mycket erfarna
    användare.

debian-installer/allow_unauthenticated

    Som standard kräver installationsprogrammet att förråden autentiseras med
    en känd gpg-nyckel. Ställ in till true för att inaktivera den
    autentiseringen. Varning: osäkert, rekommenderas inte.

rescue/enable

    Ställ in till true för att gå in i räddningsläget istället för att
    genomföra en normal installation. Se Avsnitt 8.6, "Återställning av ett
    trasigt system".

5.3.3. Använding av uppstartsparametrar för att besvara frågor

Med några undantag kan ett värde ställas in vid uppstartsprompten för valfri
fråga som ställs under installationen, även om det här bara är verkligen
användbart i specifika fall. Allmänna instruktioner om hur man kan göra det här
kan hittas i Avsnitt B.2.2, "Användning av uppstartsparametrar för att
förinställa frågor". Några specifika exempel listas här nedan.

debian-installer/language (language), debian-installer/country (country), 
    debian-installer/locale (locale)

    Det finns två sätt att ange språk, land och lokal att använda för
    installationen och det installerade systemet.

    Första och enklaste är att endast skicka parametern locale. Språk och land
    kommer sedan att ställas in efter dess värde. Du kan till exempel använda
    locale=sv_SE för att välja svenska som språk och Sverige som land
    (sv_SE.UTF-8 kommer att ställas in som standardlokal för det installerade
    systemet). Begränsningen är att inte alla möjliga kombinationer av språk,
    land och lokal kan uppnås på detta sätt.

    Det andra, mer flexibla alternativet är att ange language och country
    separat. I detta fall kan locale valfritt läggas till för att ange en
    specifik standardlokal för det installerade systemet. Exempel: language=sv
    country=SE locale=sv_SE.UTF-8.

anna/choose_modules (modules)

    Kan användas för att automatiskt läsa in installerarkomponenter som inte
    läses in som standard. Exempel på valfria komponenter som kan vara
    användbara är openssh-client-udeb (så att du kan använda scp under
    installationen) och ppp-udeb (se Avsnitt D.5, "Installera Debian GNU/Linux
    över PPP over Ethernet (PPPoE)").

netcfg/disable_autoconfig

    Ställ in till true om du vill inaktivera IPv6 autokonfiguration och DHCP
    och istället tvinga fram statisk nätverkskonfiguration.

mirror/protocol (protocol)

    Som standard använder installationsprogrammet http-protokollet för att
    hämta filer från Debian-speglar och ändring av det till ftp är inte möjligt
    under installationer med normal prioritet. Genom att ställa in den här
    parametern till ftp, kan du tvinga installationsprogrammet att använda det
    protokollet istället. Observera att du inte kan välja en ftp-spegel från en
    lista, du måste ange värdnamnet manuellt.

tasksel:tasksel/first (tasks)

    Kan användas för att välja funktioner som inte finns tillgängliga från den
    interaktiva funktionslistan, såsom funktionen kde-desktop. Se
    Avsnitt 6.3.6.2, "Val och installation av programvara" för ytterligare
    information.

5.3.4. Skicka parametrar till kärnmoduler

Om drivrutiner är kompilerade in i kärnan kan du skicka parametrar till dem som
beskrivs i dokumentationen för kärnan. Dock om drivrutinerna är byggda som
moduler och därför att kärnmoduler läses in lite annorlunda under en
installation än vid uppstart av ett installerat system, är det inte möjligt att
skicka parametrar till moduler kan samma sätt som du normalt gör. Istället
behöver du använda en speciell syntax som känns igen av installationsprogrammet
som ser till att parametrarna sparas i de korrekta konfigurationsfilerna och på
så sätt kommer att användas när modulerna faktiskt läses in. Parametrarna
kommer även att propageras automatiskt till konfigurationen för det
installerade systemet.

Observera att det är nuförtiden ganska ovanligt att parametrar behöver skickas
till moduler. I de flesta fall kommer kärnan att söka av befintlig hårdvara i
ett system och ställa in bra standardvärden på det sättet. Dock, i vissa fall,
kan det fortfarande krävas att parametrar ställs in manuellt.

Syntaxen att använda för att ställa in parametrar för moduler är:

modulnamn.parameternamn=värde

Om du behöver skicka flera parametrar till samma eller olika moduler är det
bara att upprepa detta. Till exempel, för att ställa in ett gammalt
3Com-nätverkskort till att använda BNC-kontakten (coax) och IRQ 10, skulle du
skicka:

3c509.xcvr=3 3c509.irq=10

5.3.5. Svartlistning av kärnmoduler

Ibland är kan det vara nödvändigt att svartlista en modul för att förhindra den
från att automatiskt läsas in av kärnan och udev. En anledning kan vara attt en
specifik modul orsakar problem med din maskinvara. Kärnan kan ibland även lista
två olika drivrutiner för samma enhet. Det här kan orsaka att enheten inte
fungerar korrekt om drivrutinerna är i konflikt eller om fel drivrutin läses in
först.

Du kan svartlista en modul genom att använda följande syntax: modulnamn
.blacklist=yes. Det här kommer att göra att modulen blir svartlistad i /etc/
modprobe.d/blacklist.local, både under installationen och för det installerade
systemet.

Observera att en modul fortfarande kan läsas in av själva
installationssystemet. Du kan förhindra det från att hända genom att köra
installationen i expertläget och avmarkera modulen från listan över moduler som
visas under maskinvaruidentifieringsfaserna.

5.4. Felsök installationsprocessen

5.4.1. Tillförlitligheten för optiska medier

Sometimes, especially with older drives, the installer may fail to boot from an
optical disc. The installer may also -- even after booting successfully from
such disc -- fail to recognize the disc or return errors while reading from it
during the installation.

Det finns många olika möjliga orsaker till dessa problem. Vi kan endast lista
några vanliga problem och tillhandahålla allmänna förslag på hur man hanterar
dem. Resten är upp till dig.

Det finns två mycket enkla saker som du bör prova först.

  • If the disc does not boot, check that it was inserted correctly and that it
    is not dirty.

  • If the installer fails to recognize the disc, try just running the option 
    Detect and mount installation media a second time. Some DMA related issues
    with very old CD-ROM drives are known to be resolved in this way.

Om det inte fungerar, prova nedanstående förslag. De flesta, men inte alla,
förslag som diskuteras där gäller för cd-rom och dvd.

If you cannot get the installation working from optical disc, try one of the
other installation methods that are available.

5.4.1.1. Vanliga problem

  • Några äldre cd-rom-enheter saknar stöd för att läsa från skivor som blev
    brända med höga hastigheter med en modern cd-brännare.

  • Några cd-rom-enheter fungerar inte korrekt om "direkt minnesåtkomst" (DMA)
    är aktiverat på dom.

5.4.1.2. Hur man undersöker och kanske även löser problem

If the optical disc fails to boot, try the suggestions listed below.

  • Check that your BIOS/UEFI actually supports booting from optical disc (only
    an issue for very old systems) and that booting from such media is enabled
    in the BIOS/UEFI.

  • If you downloaded an iso image, check that the md5sum of that image matches
    the one listed for the image in the MD5SUMS file that should be present in
    the same location as where you downloaded the image from.

    $ md5sum debian-testing-i386-netinst.iso
    a20391b12f7ff22ef705cee4059c6b92  debian-testing-i386-netinst.iso

    Next, check that the md5sum of the burned disc matches as well. The
    following command should work. It uses the size of the image to read the
    correct number of bytes from the disc.

    $ dd if=/dev/cdrom | \
    > head -c `stat --format=%s debian-testing-i386-netinst.iso` | \
    > md5sum
    a20391b12f7ff22ef705cee4059c6b92  -
    262668+0 poster in
    262668+0 poster ut
    134486016 bytes (134 MB) kopierade, 97.474 sekunder, 1.4 MB/s

If, after the installer has been booted successfully, the disc is not detected,
sometimes simply trying again may solve the problem. If you have more than one
optical drive, try changing the disc to the other drive. If that does not work
or if the disc is recognized but there are errors when reading from it, try the
suggestions listed below. Some basic knowledge of Linux is required for this.
To execute any of the commands, you should first switch to the second virtual
console (VT2) and activate the shell there.

  • Växla till VT4 eller visa innehållet i /var/log/syslog (använd nano som
    redigerare) för att leta efter specifika felmeddelenden. Efter det,
    kontrollera även utskriften för dmesg.

  • Check in the output of dmesg if your optical drive was recognized. You
    should see something like (the lines do not necessarily have to be
    consecutive):

    ata1.00: ATAPI: MATSHITADVD-RAM UJ-822S, 1.61, max UDMA/33
    ata1.00: configured for UDMA/33
    scsi 0:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ-822S  1.61 PQ: 0 ANSI: 5
    sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw xa/form2 cdda tray
    cdrom: Uniform CD-ROM driver Revision: 3.20

    If you don't see something like that, chances are the controller your drive
    is connected to was not recognized or may be not supported at all. If you
    know what driver is needed for the controller, you can try loading it
    manually using modprobe.

  • Check that there is a device node for your optical drive under /dev/. In
    the example above, this would be /dev/sr0. There should also be a /dev/
    cdrom.

  • Använd kommandot mount för att kontrollera att din optiska skiva redan är
    monterad, om inte, försök att montera den manuellt:

    $ mount /dev/hdc /cdrom

    Kontrollera om det uppstod felmeddelanden efter körning av kommandot.

  • Check if DMA is currently enabled:

    $ cd /proc/ide/hdc
    $ grep using_dma settings
    using_dma      1       0       1       rw

    A "1" in the first column after using_dma means it is enabled. If it is,
    try disabling it:

    $ echo -n "using_dma:0" >settings

    Make sure that you are in the directory for the device that corresponds to
    your optical drive.

  • Om det uppstår problem under installationen, prova att kontrollera
    integriteten för installationsmedia med alternativen nära slutet på
    installationsprogrammets huvudmeny. Det här alternativet kan även användas
    som ett allmänt test för att se om skivan kan läsas tillförlitligt.

5.4.2. Uppstartskonfiguration

Om du har problem med att kärnan hänger sig under uppstartsprocessen, inte
känner igen kringutrustning som du faktiskt har, eller inte korrekt detekterar
vissa enheter, är uppstartsparametrarna det första att kontrollera, vilket
diskuteras i Avsnitt 5.3, "Uppstartsparametrar".

I vissa fall kan funktionsstörningar orsakas av att enhetens firmware saknas
(se Avsnitt 2.2, "Enheter som kräver fast programvara" och Avsnitt 6.4, "Läsa
in saknad fast programvara").

5.4.3. Talsynteser (mjukvara)

If software speech synthesis does not work, there is most probably an issue
with your sound board, usually because either the driver for it is not included
in the installer, or because it has unusual mixer level names which are set to
muted by default. You should thus submit a bug report which includes the output
of the following commands, run on the same machine from a Linux system which is
known to have sound working (e.g., a live CD).

  • dmesg

  • lspci

  • lsmod

  • amixer

5.4.4. Vanliga 64-bit PC Installationsproblem

Det finns några vanliga installationsproblem som kan lösas eller undvikas genom
att skicka med vissa uppstartsparametrar till installationsprogrammet.

Om din skärm börjar visa en konstig bild vid uppstart av kärnan, exempelvis
vitt, svart eller färgat bildpunktsskräp, kan ditt system innehålla ett
problematiskt grafikkort som inte kan byta till framebuffer-läget korrekt. Då
kan du använda uppstartsparametern fb=false för att inaktivera
framebuffer-konsollen. Endast ett fåtal språk kommer då att finnas tillgängliga
under installationen på grund av begränsade konsollfunktioner. Se Avsnitt 5.3,
"Uppstartsparametrar" för detaljer.

5.4.4.1. Systemet fryser under konfigurationsfasen för PCMCIA

Vissa väldigt gamla modeller av bärbara datorer producerade av Dell är kända
att krascha när identifiering av PCMCIA-enheter försöker komma åt vissa
maskinvaruadresser. Andra bärbara kan visa liknande problem. Om du upplever
sådana problem och du inte behöver PCMCIA-stöd under installationen kan du
inaktivera PCMCIA med uppstartsparametern hw-detect/start_pcmcia=false. Du kan
då konfigurera PCMCIA efter installationen är genomförd och undanta
resursintervallet som orsakar problemen.

Alternativt kan du starta upp installationsprogrammet i expertläget. Du kommer
då att bli frågad att ange inställningar för resursintervall som din maskinvara
behöver. Till exempel, om du har en av Dells bärbara datorer som nämndes ovan,
bör du ange exclude port 0x800-0x8ff här. Det finns också en lista på några
vanliga resursintervall i System resource settings section of the PCMCIA HOWTO.
Observera att du måste ta bort eventuella kommatecken när du anger det här
värdet i installationsprogrammet.

5.4.5. Tolkning av kärnans uppstartsmeddelanden

Under uppstartssekvensen kanske du se många meddelanden liknande can't find
någonting , eller någonting not present, can't initialize någonting, eller till
och med this driver release depends on någonting. De flesta av de här
meddelandena är harmlösa. Du ser dem för att kärnan för installationssystemet
är byggd för att köras på många olika datorer och med många olika
kringutrustningsenheter. Ingen dator kommer så klart att innehålla alla
tänkbara kringutrustningsenheter, så operativsystemet kan klaga en hel del när
den letar efter kringutrustning som du inte har. Du kan också se att systemet
gör en paus. Det händer när det väntar på att en enhet ska svara, och att den
enheten finns inte i ditt system. Om du tycker att tiden det tar att starta upp
systemet är på tok för lång, kan du skapa en anpassad kärna senare (se
Avsnitt 8.5, "Bygg en ny kärna").

5.4.6. Rapportering av installationsproblem

If you get through the initial boot phase but cannot complete the install, the
menu option Save debug logs may be helpful. It lets you store system error logs
and configuration information from the installer on a storage medium, or
download them using a web browser. This information may provide clues as to
what went wrong and how to fix it. If you are submitting a bug report, you may
want to attach this information to the bug report.

Andra relevanta installationsmeddelanden kan hittas i /var/log/ under
installationen, och /var/log/installer/ efter datorn har startats om till det
nyligen installerade systemet.

5.4.7. Skicka installationsrapporter

Om du fortfarande har problem, skicka in en installationsrapport. Vi uppmuntrar
att installationsrapporter skickas in även om installationen lyckats, så att vi
kan få så mycket information som möjligt om många olika
maskinvarukonfigurationer.

Observera att din installationsrapport kommer att publiceras i Debians
felhanteringssystem (BTS) och vidarebefordras till en publik sändlista. Se till
att du använder en e-postadress som du inte har några problem med att den
används publikt.

Om du har ett fungerande Debian-system är det enklaste sättet att skicka in en
installationsrapport att installera paketen installation-report och reportbug (
apt install installation-report reportbug), konfigurera reportbug som det
förklaras i Avsnitt 8.4.2, "Skicka e-post utanför systemet", och kör kommandot 
reportbug installation-reports.

Alternatively you can use this template when filling out installation reports,
and file the report as a bug report against the installation-reports pseudo
package, by sending it to <submit@bugs.debian.org>.

Package: installation-reports

Boot method: <How did you boot the installer? CD/DVD? USB stick? Network?>
Image version: <Full URL to image you downloaded is best>
Date: <Date and time of the install>

Machine: <Description of machine (eg, IBM Thinkpad R32)>
Processor:
Memory:
Partitions: <df -Tl will do; the raw partition table is preferred>

Output of lspci -knn (or lspci -nn):

Base System Installation Checklist:
[O] = OK, [E] = Error (please elaborate below), [ ] = didn't try it

Initial boot:           [ ]
Detect network card:    [ ]
Configure network:      [ ]
Detect media:           [ ]
Load installer modules: [ ]
Detect hard drives:     [ ]
Partition hard drives:  [ ]
Install base system:    [ ]
Clock/timezone setup:   [ ]
User/password setup:    [ ]
Install tasks:          [ ]
Install boot loader:    [ ]
Overall install:        [ ]

Comments/Problems:

<Description of the install, in prose, and any thoughts, comments
      and ideas you had during the initial install.>

In the bug report, describe what the problem is, including the last visible
kernel messages in the event of a kernel hang. Describe the steps that you did
which brought the system into the problem state.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[4] The mini ISO image can be downloaded from a Debian mirror as described in
Avsnitt 4.2, "Hämta filer från Debian-speglar". Look for netboot/gtk/mini.iso.

^[5] With current kernels (2.6.9 or newer) you can use 32 command line options
and 32 environment options. If these numbers are exceeded, the kernel will
panic. Also there is a limit of 255 characters for the whole kernel command
line, everything above this limit may be silently truncated.

Kapitel 6. Användning av Debian Installer

Innehållsförteckning

6.1. Hur installationsprogrammet fungerar

    6.1.1. Användning av det grafiska installationsprogrammet

6.2. Introduktion till komponenter
6.3. Användning av individuella komponenter

    6.3.1. Konfiguration av Debians installationsprogram och maskinvara
    6.3.2. Skapa användare och lösenord
    6.3.3. Konfigurera klockan och tidszon
    6.3.4. Partitionering och val av monteringspunkter
    6.3.5. Installation av grundsystemet
    6.3.6. Installera ytterligare programvara
    6.3.7. Gör ditt system klart för uppstart
    6.3.8. Färdigställ installationen
    6.3.9. Felsökning
    6.3.10. Installation over network-console

6.4. Läsa in saknad fast programvara

    6.4.1. Förbereda ett media
    6.4.2. Fast programvara och det installerade systemet
    6.4.3. Slutför det installerade systemet

6.5. Customization

    6.5.1. Installing an alternative init system

6.1. Hur installationsprogrammet fungerar

For this architecture the debian-installer supports two different user
interfaces: a graphical one and a text-based one. The graphical interface is
used by default unless you select an "Install" option in the boot menu. For
more information about booting the graphical installer, please refer to
Avsnitt 5.1.8, "Det grafiska installationsprogrammet".

Debians installationsprogram innehåller ett antal komponenter för speciella
ändamål för att genomföra varje funktion i installationen. Varje komponent gör
sin funktion och ställer frågor till användaren vars svar behövs för att utföra
jobbet. Själva frågorna ger olika prioriteringar och prioriteten för frågorna
som kommer att ställas ställs in när installationsprogrammet startas.

När en standardinstallation är genomförd kommer endast viktiga (hög prioritet)
frågor att ställas. Det här resulterar i en mycket automatiserad
installationsprocess med liten interaktivitet för användaren. Komponenter körs
automatiskt i sekvens; vilka komponenter som körs beror huvudsakligen på
installationsmetoden du använder och på din maskinvara. Installationsprogrammet
kommer att använda förvalda värden för frågor som inte ställs.

Om problem uppstår kommer användaren att se ett felmeddelande och
installationsmenyn kan visas för att välja en alternativ åtgärd. Om det inte
uppstår problem kommer användaren aldrig att se installationsmenyn utan kommer
helt enkelt svara på frågor för varje komponent i turordning. Meddelanden om
allvarliga fel har "kritisk" prioritet så att användaren alltid blir
notifierad.

Några av de förvalda värden som installationsprogrammet använder kan ges genom
att skicka med uppstartsargument när debian-installer startas. Om, till exempel
du önskar att tvinga fram statisk nätverkskonfiguration (IPv6-autokonfiguration
och DHCP används som standard om tillgänglig) kan du lägga till
uppstartsparametern netcfg/disable_autoconfig=true. Se Avsnitt 5.3.2,
"Parametrar för Debian Installer" för tillgängliga flaggor.

Erfarna användare kan känna sig mer komfortabla med ett menydrivet gränssnitt
där varje steg kontrolleras av användaren i stället för att
installationsprogrammet genomför varje steg automatiskt i sekvens. För att
använda installationsprogrammet på ett manuellt menydrivet sätt kan du lägga
till uppstartsargumentet priority=medium.

Om din maskinvara kräver att du skickar med flaggor till kärnmodulerna när de
installeras behöver du starta upp installationsprogrammet i "expert"läget. Det
här kan göras genom att antingen använda kommandot expert för att starta
installationsprogrammet eller genom att lägga till uppstartsargumentet priority
=low. Expertläget ger dig full kontroll över debian-installer.

In the text-based environment the use of a mouse is not supported. Here are the
keys you can use to navigate within the various dialogs. The Tab or right arrow
keys move "forward", and the Shift+Tab or left arrow keys move "backward"
between displayed buttons and selections. The up and down arrow select
different items within a scrollable list, and also scroll the list itself. In
addition, in long lists, you can type a letter to cause the list to scroll
directly to the section with items starting with the letter you typed and use 
Pg-Up and Pg-Down to scroll the list in sections. The space bar selects an item
such as a checkbox. Use Enter to activate choices.

Vissa dialogrutor kan erbjuda ytterligare hjälp. Om hjälp finns så kommer det
att indikeras på nedre raden i skärmen och den hjälpinformationen kan kommas åt
genom att trycka på F1-tangenten.

Felmeddelanden omdirigeras till den tredje konsollen. Du kan tillgå den här
konsollen genom att trycka Vänster Alt+F3 (håll nere vänster Alt-tangent när du
trycker ned funktionstangenten F3); gå tillbaka till huvudkonsollen för
installationsprogrammet med Vänster Alt+F1.

Dessa meddelanden kan också hittas i /var/log/syslog. Efter installation blir
den här loggen kopierad till /var/log/installer/syslog på ditt nya system.
Andra installationsmeddelanden kan hittas i /var/log/ under installationen och
/var/log/installer/ efter att datorn har startats om till det nya systemet.

6.1.1. Användning av det grafiska installationsprogrammet

Det grafiska installationsprogrammet fungerar i princip på samma sätt som det
textbaserade installationsprogrammet och resten av denna handbok kan därmed
användas för att vägleda dig genom installationsprocessen.

If you prefer using the keyboard over the mouse, there are two things you need
to know. To expand a collapsed list (used for example for the selection of
countries within continents), you can use the + and - keys. For questions where
more than one item can be selected (e.g. task selection), you first need to tab
to the Fortsätt button after making your selections; hitting enter will toggle
a selection, not activate Fortsätt.

If a dialog offers additional help information, a Help button will be
displayed. The help information can be accessed either by activating the button
or by pressing the F1 key.

To switch to another console, you will also need to use the Ctrl key, just as
with the X Window System. For example, to switch to VT2 (the first debug shell)
you would use: Ctrl+Left Alt+F2. The graphical installer itself runs on VT5, so
you can use Left Alt+F5 to switch back.

6.2. Introduktion till komponenter

Här är en lista på installationskomponenter med en kort beskrivning av varje
komponents syfte. Detaljer du kanske behöver känna till om en specifik
komponent finns i Avsnitt 6.3, "Användning av individuella komponenter".

main-menu

    Visar listan av komponenter för användaren under installationen och startar
    en komponent när den väljs. Huvudmenyns frågor är satta till medium
    prioritet så om din prioritet är satt till hög eller kritisk (hög är
    förvald) kommer du inte att se den här menyn. Om det inträffar fel som
    kräver ingripande från dig kommer prioriteten att nergraderas temporärt för
    att låta dig lösa problemet och i så fall kommer menyn att visas.

    Du kan komma till huvudmenyn genom att välja Bakåt-knappen flera gånger för
    att backa hela vägen ut ur nuvarande komponent.

localechooser

    Låter användaren lokalanpassa installationen och det installerade systemet:
    språk, land och lokaler. Installationsprogrammet kommer att visa
    meddelanden på det valda språket om inte översättningen för det språket
    inte är komplett och då kommer vissa meddelanden att visas på engelska.

console-setup

    Visar en lista på tangentbord(layouter) från vilken användaren kan välja en
    som passar bäst för hans egen modell.

hw-detect

    Identifierar automatiskt det mesta av systemets maskinvara inklusive
    nätverkskort, diskettenheter och PCMCIA.

cdrom-detect

    Letar efter och monterar Debians installations-media.

netcfg

    Konfigurerar datorns nätverksanslutning så att den kan kommunicera mot
    Internet.

iso-scan

    Söker efter ISO-avbildningar (.iso-filer) på hårddiskar.

choose-mirror

    Presenterar en lista av Debian-arkivets speglar. Användaren kan välja
    källan för sina installationspaket.

cdrom-checker

    Kontrollerar installationsmediets integritet. På detta sätt kan användaren
    försäkra sig om att installationsavbilden inte är skadad.

lowmem

    Lowmem försöker att identifiera system med lite minne och gör då olika
    trick att ta bort onödiga delar av debian-installer från minnet (på
    bekostnad av vissa funktioner).

anna

    Anna's Not Nearly APT. Installerar paket som har hämtats från den valda
    spegeln eller installations media.

user-setup

    Ställer in root-lösenordet och lägger till en icke-root-användare.

clock-setup

    Uppdaterar systemklockan och fastställer huruvida klockan är inställd till
    UTC eller inte.

tzsetup

    Väljer tidszonen, baserat på platsen som valdes tidigare.

partman

    Låter användaren partitionera hårddiskar ansluta till systemet, skapa
    filsystem på de valda partitionerna och ansluta dem till monteringspunkter.
    Inkluderat är också intressanta funktioner som ett fullt automatiskt läge
    eller stöd för LVM. Det här är det verktyg som föredras för partitionering
    i Debian.

partitioner

    Låter användaren partitionera disks kopplade till systemet. Ett
    partitioneringsprogram som lämpar sig för din dators arkitektur väljs.

partconf

    Visar en lista av partitioner och skapar filsystem på de valda
    partitionerna enligt användarens instruktioner.

partman-lvm

    Hjälper användaren med konfigurationen av LVM (logisk volymhantering).

partman-md

    Låter användaren ställa in programvaru-RAID (Redundant Array of Inexpensive
    Disks). Den här programvaru-RAID är normalt sett överlägsen till de billiga
    IDE (pseudomaskinvara) RAID-styrkort som finns på nyare moderkort.

base-installer

    Installerar de mest enkla paketuppsättningar som tillåter datorn att köra
    Debian GNU/Linux efter omstart.

apt-setup

    Konfigurerar apt, mestadels automatiskt, baserad på vilket media som
    installationsprogrammet körs från.

pkgsel

    Använder tasksel för att välja och installera ytterligare programvara.

os-prober

    Identifierar nuvarande installerade operativsystem på datorn och skickar
    informationen till bootloader-installer vilken kan erbjuda dig möjligheten
    att lägga till upptäckta operativsystem till starthanterarens startmeny.
    Det här sättet gör att användaren lätt kan välja vilken operativsystem som
    ska startas vid uppstart.

bootloader-installer

    De olika installerarna av starthanterare installerar ett
    starthanteringsprogram på hårddisken som är nödvändig för att datorn ska
    starta upp med Linux utan att använda en USB-minne eller cd-rom. Många
    starthanterare låter användaren välja ett alternativt operativsystem varje
    gång datorn startas.

shell

    Låter användaren starta ett skal från menyn eller på den andra konsollen.

save-logs

    Ger ett sätt för användaren att spela in information på ett USB-minne,
    nätverk, hårddisk eller andra media när problem påträffas för att senare
    kunna skicka en noggrann rapport om problem i installationsprogramvaran
    till Debian-utvecklarna.

6.3. Användning av individuella komponenter

I det här avsnittet kommer vi att beskriva varje installationskomponent i
detalj. Komponenterna har blivit grupperade i steg som bör kännas igen av
användarna. De presenteras i den ordning de dyker upp under installationen.
Observera att inte alla moduler kommer att användas för varje installation;
vilka moduler som faktiskt används beror på installationsmetoden du använder
och på din maskinvara.

6.3.1. Konfiguration av Debians installationsprogram och maskinvara

Låt oss anta att Debian Installer har startat upp och du ser dess första skärm.
Vid den här punkten är de färdigheter som debian-installer har ganska
begränsade. Den vet inte mycket om din maskinvara, vilket språk som föredras
eller inte ens vilken funktion installation ska ha. Var lugn. På grund av att
debian-installer är ganska smart kan den automatiskt söka av din maskinvara,
lokalisera resten av sina komponenter och uppgradera sig själv till ett
kapabelt installationssystem. Dock, du behöver fortfarande hjälpa
debian-installer med viss information som den inte kan fastställa automatiskt
(såsom välja ditt föredragna språk, tangentbordslayout eller val av
nätverksspegel).

Du kommer att märka att debian-installer genomför identifiering av maskinvara
flera gånger under det här steget. Första gången är målet den maskinvara som
behövs för att läsa in komponenter för installationsprogrammet (exempelvis din
cd-rom eller nätverkskort). Eftersom alla drivrutiner kanske inte finns
tillgängliga under den första körningen behövs en repetering av identifieringen
senare i processen.

Under maskinvarudetektering så kontrollerar debian-installer om några av
drivrutinerna för maskinvaran i ditt system kräver att fast programvara läses
in. Om någon fast programvara begärs men inte finns tillgänglig så kommer en
dialogruta att visas där saknad fast programvara läses in från ett flyttbart
media. Se Avsnitt 6.4, "Läsa in saknad fast programvara" för ytterligare
detaljer.

6.3.1.1. Kontrollera tillgängligt minne / minimalt minnesläge

En av de första sakerna som debian-installer gör är att kontrollera
tillgängligt minne. Om det tillgängliga minnet är begränsat kommer den här
komponenten att göra ändringar i installationsprocessen som förhoppningsvis
låter dig installera Debian GNU/Linux på ditt system.

Den första åtgärden man kan göra för att minska installationsprogrammets
minneskonsumtion är att inaktivera översättningar, vilket betyder att
installationen endast kan göras på engelska. Du kan så klart fortfarande
lokalanpassa det installerade system tefter installationen har färdigställts.

Om detta inte är tillräckligt kommer installationsprogrammet att minska
minnesbehovet ytterligare genom att enbart läsa in de komponenter som är
nödvändiga för att genomföra en grundinstallation. Det här minskar
installationssystemets funktionalitet. Du kommer att ges möjlighet att läsa in
individuella komponenter manuellt, men du ska vara medveten om att varje
komponent du väljer använder ytterligare minne och kan således göra att
installationen misslyckas.

När installationsprogrammet har anpassat sig till ett litet minne så bör du
skapa en förhållandevis stor växlingspartition (64-128 MB). Växlingspartitionen
används som virtuellt minne och ökar således mängden minne som är tillgängligt
för systemet. Installationsprogrammet kommer att använda växlingspartitionen så
snart som möjligt i installationsprocessen. Observera att mycket användning av
växlingsutrymmet kommer att minska ditt systems prestanda och kan leda till hög
nyttjandegrad av systemets disk.

Trots dessa åtgärder är det ändå möjligt att ditt system låser sig, att
oväntade fel uppstår eller att processer avslutas av kärnan för att systemet
har slut på minne (vilket resulterar i "Out of memory"-meddelanden på VT4 och i
systemloggen).

Det har till exempel rapporterats om misslyckanden med att skapa ett stort
filsystem av typen ext3 i lågminnesläget, när det finns för lite
växlingsutrymme. Om ett stort växlingsutrymme inte hjälper, prova då istället
att skapa filsystemet som ext2 (vilket är en basfunktion i
installationsprogrammet). Det är möjligt att ändra en ext2-partition till ext3
efter installationen.

Det är möjligt att tvinga installationsprogrammet till att använda en högre
lowmem-nivå än den som är baserad på tillgängligt minne genom att använda
uppstartsparametern "lowmem" som beskrivs i Avsnitt 5.3.2, "Parametrar för
Debian Installer".

6.3.1.2. Val av lokalanpassningsalternativ

I de flesta fall är de första frågorna som ställs angående valet av
lokalanpassningsalternativ som kommer att användas både för installationen och
för det installerade systemet. Lokalanpassningsalternativen består av plats och
lokaler.

Språket du väljer kommer att användas i resten av installationsprocessen om en
översättning av de olika dialogerna finns tillgänglig. Om ingen giltig
översättning finns tillgänglig för det valda språket kommer
installationsprogrammet att falla tillbaka på engelska.

The selected geographic location (in most cases a country) will be used later
in the installation process to select the correct time zone and a Debian mirror
appropriate for that country. Language and country together will help determine
the default locale for your system and select the correct keyboard layout.

Du kommer först att bli frågad att välja ditt föredragna språk. Namnen på
språken listas på både engelska (vänstra sidan) och på själva språket (högra
sidan); namnen på högra sidan visas också i språkets korrekta skrift. Listan är
sorterad efter de engelska namnen. På toppen av listan finns ett extra
alternativ som låter dig att välja lokalen "C" istället för ett språk. Välja
lokalen "C" betyder att installationen fortsätter på engelska; det installerade
systemet kommer inte att ha något stöd för lokalanpassning eftersom paketet
locales inte kommer att installeras.

Därefter blir du ombedd att välja din geografiska plats. Om du valde ett språk
som är erkänt som ett officiellt språk för fler än ett land^[6], kommer du
härnäst att bli visad en lista över endast dessa länder. För att välja ett land
som inte finns i listan väljer du Annat (sista alternativet). Du kommer då att
få se en lista över kontinenter; välj en kontintent för att lista relevanta
länder på den kontinenten.

Om språket bara har ett land associerat med det kommer en lista med länder att
visas för kontinenten eller regionen landet tillhör, med det landet som
standard. Använd Gå tillbaka alternativet för att välja länder på en annan
kontinent.

Notera

Det är viktigt att välja det land där du bor eller var du befinner dig eftersom
det bestämmer den tidszon som ska konfigureras för det installerade systemet.

If you selected a combination of language and country for which no locale is
defined and there exist multiple locales for the language, then the installer
will allow you to choose which of those locales you prefer as the default
locale for the installed system^[7]. In all other cases a default locale will
be selected based on the selected language and country.

Alla standardlokaler som valts enligt beskrivningen i föregående stycke kommer
att använda UTF-8 som teckenkodning.

If you are installing at low priority, you will have the option of selecting
additional locales, including so-called "legacy" locales^[8], to be generated
for the installed system; if you do, you will be asked which of the selected
locales should be the default for the installed system.

6.3.1.3. Val av tangentbord

Tangentbord är ofta anpassade efter de tecken som används i ett språk. Välj en
layout som gäller för tangentbordet du använder, eller välj något som liknar
det om tangentbordslayouten du vill välja inte finns. När installationen av
systemet är färdig kommer du kunna välja en tangentbordslayout från en bredare
skala (kör dpkg-reconfigure keyboard-configuration som root efter att du har
färdigställt installationen).

Flytta markören till tangentbordsvalet du önskar och tryck på Enter. Använd
piltangenterna för att flytta markören -- de är på samma plats för alla
tangentbordslayouter på alla språk, så de är oberoende av
tangentbordskonfiguration.

6.3.1.4. Leta efter en ISO-avbildning för Debian Installer

När installation görs via metoden hd-media kommer du till en punkt där du
behöver hitta och montera iso-avbildningen för Debian Installer för att få tag
på resten av installationsfilerna. Komponenten iso-scan gör exakt det.

Först monterar iso-scan automatiskt alla blockenheter (exempelvis partitioner
och logiska volymer) som har något känt filsystem på sig och söker sekventiellt
efter filnamn som slutar på .iso (eller .ISO för den sakens skull). Tänk på att
det första försöket söker endast av filer i rotkatalogen på i första nivån av
underkatalogerna (alltså, den hittar /vadsomhelst.iso, /data/vadsomhelst.iso,
men inte /data/tmp/vadsomhelst.iso). Efter en iso-avbildning har hittats,
kontrollerar iso-scan dess innehåll för att fastställa om avbilden är en giltig
Debian-avbild eller inte. I det första fallet är vi klara, i det senare söker 
iso-scan efter en annan avbild.

Om det tidigare försöket att hitta en iso-avbildning för
installationsprogrammet misslyckades, kommer iso-scan att fråga dig om du vill
genomföra en mer genomgående sökning. Den här fasen kommer inte bara att se på
de översta katalogerna utan gå igenom hela filsystemet.

Om iso-scan inte hittar din iso-avbildning för installationsprogrammet, starta
om till ditt ursprungliga operativsystem och kontrollera om avbilden är
namngiven korrekt (slutar på .iso), om den är placerad på ett filsystem som
känns igen av debian-installer, och om det inte är skadat (validera
kontrollsumman). Erfarna Unix-användare kunde ha gjort det här på andra
konsollen, utan att starta om.

Note that the partition (or disk) hosting the ISO image can't be reused during
the installation process as it will be in use by the installer. To work-around
this, and provided that you have enough system memory, the installer can copy
the ISO image into RAM before mounting it. This is controlled by the low
priority iso-scan/copy_iso_to_ram debconf question (it is only asked if the
memory requirement is met).

6.3.1.5. Konfigurera nätverket

När du kommer till det här steget, om systemet upptäcker att du har fler än en
nätverksenhet, kommer du att bli frågad att välja vilken enhet som ska vara
ditt primära nätverksgränssnitt, alltså det som du vill använda för
installationen. Övriga gränssnitt kommer inte att bli konfigurerade vid den här
tidpunkten. Du kan konfigurera ytterligare gränssnitt efter att installationen
är färdig; se manualsidan interfaces(5).

6.3.1.5.1. Automatisk nätverkskonfiguration

By default, debian-installer tries to configure your computer's network
automatically as far as possible. If the automatic configuration fails, that
may be caused by many factors ranging from an unplugged network cable to
missing infrastructure for automatic configuration. For further explanation in
case of errors, check the error messages on the fourth console. In any case,
you will be asked if you want to retry, or if you want to perform a manual
setup. Sometimes the network services used for autoconfiguration can be slow in
their responses, so if you are sure everything is in place, simply start the
autoconfiguration attempt again. If autoconfiguration fails repeatedly, you can
instead choose the manual network setup.

6.3.1.5.2. Manuell nätverkskonfiguration

The manual network setup in turn asks you a number of questions about your
network, notably IP address, Netmask, Gateway, Name server addresses, and a
Hostname. Moreover, if you have a wireless network interface, you will be asked
to provide your Wireless ESSID ("wireless network name") and a WEP key or WPA/
WPA2 passphrase. Fill in the answers from Avsnitt 3.3, "Information du behöver"
.

Notera

Några tekniska detaljer du kanske, eller kanske inte, tycker är smidiga:
programmet antar att nätverkets IP-adress är bitvis-OCH av ditt systems
IP-adress och din nätmask. Den kommer att gissa att broadcast-adressen är
bitvis-ELLER av ditt systems IP-adress med bitvis negation av nätmasken. Den
kommer även att gissa din gateway. Om du inte kan hitta något av de här svaren,
använd dessa standardvärden -- du kan ändra dem när systemet har installerats,
om det behövs, genom att redigera /etc/network/interfaces när systemet har
blivit installerat.

6.3.1.5.3. IPv4 och IPv6

Från Debian GNU/Linux 7.0 ("Wheezy") och framåt, debian-installer stödjer IPv6
så väl som "klassisk" IPv4. Alla kombinationer av IPv4 och IPv6 (IPv4-endast,
IPv6-endast och dual-stack-konfigurationer) är stöda.

Autoconfiguration for IPv4 is done via DHCP (Dynamic Host Configuration
Protocol). Autoconfiguration for IPv6 supports stateless autoconfiguration
using NDP (Neighbor Discovery Protocol, including recursive DNS server (RDNSS)
assignment), stateful autoconfiguration via DHCPv6 and mixed stateless/stateful
autoconfiguration (address configuration via NDP, additional parameters via
DHCPv6).

6.3.2. Skapa användare och lösenord

Strax innan du konfigurerar klockan kommer installationsprogrammet att låta dig
konfigurera "root"-kontot och/eller ett konto för den första användaren. Andra
användarkonton kan skapas efter att installationen har färdigställts.

6.3.2.1. Ställa in ett lösenord för root

Kontot root kallas även för superanvändare; det är ett konto som kringgår alla
säkerhetsskydd på ditt system. Root-kontot bör endast användas för
systemadministration och endast användas under en så kort tid som möjligt.

Lösenord som du skapar bör innehålla åtminstone 6 tecken och bör innehålla både
versaler och gemener, såväl som specialtecken. Ta extra hänsyn när du ställer
in ditt root-lösenord eftersom det är ett sådant kraftfullt konto. Undvik ord
som man hittar i ordböcker eller användning av personlig information som lätt
kan gissas.

Om någon berättar för dig att de behöver ditt root-lösenord, var extremt
försiktig. Du bör normalt sett aldrig ge ut ditt root-lösenord, om du inte
administrerar en maskin med fler än en systemadministratör.

In case you do not specify a password for the "root" user here, this account
will be disabled but the sudo package will be installed later to enable
administrative tasks to be carried out on the new system. By default, the first
user created on the system will be allowed to use the sudo command to become
root.

6.3.2.2. Skapa en vanlig användare

Systemet kommer att fråga dig om du önskar att skapa ett vanligt användarkonto
vid den här punkten. Det här kontot bör vara ditt huvudsakliga personliga
konto. Du bör inte använda rootkontot för dagligt bruk eller som ditt
personliga konto.

Varför inte? Tja, en anledning är att undvika att använda roots privilegier är
att det är mycket lätt att skada något som root och som inte går att rätta
till. En annan anledning är att du kanske luras till att köra en trojansk häst
-- det är ett program som utnyttjar krafterna av din superanvändare för att
åsidosätta säkerheten i ditt system bakom din rygg. En bra bok om
systemadministration i Unix täcker in det här ämnet mer i detalj -- om det här
är nytt för dig, fundera på att läsa en sådan bok.

Du kommer första att bli frågad efter användarens fullständiga namn. Sedan
kommer du att bli frågad efter ett namn på användarens konto; generellt sett
ditt förnamn eller något liknande det bör räcka och det är även standardvalet
här. Till slut kommer du bli frågad efter ett lösenord för kontot.

Om du vill skapa en annan användare vid en senare punkt efter installationen,
använd kommandot adduser.

6.3.3. Konfigurera klockan och tidszon

Installationsprogrammet kommer först att försöka att ansluta till en tidsserver
på Internet (med NTP-protokollet) för att ställa in systemtiden korrekt. Om
detta inte lyckas kommer installationsprogrammet att anta att den tid och datum
som hämtas från systemklockan, när installationssystemet startades upp, är
korrekt. Det är inte möjligt att manuellt ställa in systemtiden under
installationsprocessen.

Beroende på platsen som valdes i tidigare i installationsprocessen så kommer du
kanske att bli visad en lista över tidszoner som är relevanta för den platsen.
Om din plats endast har en tidszon och du gör en standardinstallation kommer du
inte att bli tillfrågad någonting, systemet antar att det är rätt tidszon.

I expertläge eller när du installerar med medelprioritet har du det extra
alternativet att välja "Coordinated Universal Time" (UTC) som tidszon.

Om du av någon anledning vill ställa in en tidszon för det installerade
systemet som inte matchar den valda platsen så finns det två alternativ.

 1. Det enklaste alternativet är att bara välja en annan tids-zon efter att
    installationen har färdigställts och du har startat upp det nya systemet.
    Kommandot för att göra detta är:

    # dpkg-reconfigure tzdata

 2. Alternativt kan tidszonen ställas in i början av installationen genom att
    skicka parametern time/zone=värde när du startar upp installationssystemet.
    Värdet ska så klart vara en giltig tidszon, till exempel Europe/London
    eller UTC.

För automatiska installationer kan tidszonen ställas in till önskat värde med
förinställning.

6.3.4. Partitionering och val av monteringspunkter

Vid den här tidpunkten, efter identifiering av maskinvara har startats en sista
gång, bör debian-installer vara vid sin fulla kraft, anpassad för användarens
behov och klar att göra ett riktigt jobb. Precis som titeln på det här
avsnittet indikerar är huvudfunktionen för de nästkommande komponenterna
partitionering av dina diskar, skapande av filsystem, tilldelning av
monteringspunkter och även konfigurering av närliggande saker som krypterade
LVM eller RAID-enheter.

Om du känner dig osäker med partitionering eller bara vill veta mer detaljer,
se Appendix C, Partitionera för Debian.

Först kommer du få möjligheten att automatiskt partitionera antingen en hel
disk eller ledigt utrymme på en disk. Det finns också en så kallad "guidad"
partitionering. Om du inte vill partitionera automatiskt, välj Manuell från
menyn.

6.3.4.1. Partitionsflaggor som stöds

The partitioner used in debian-installer is fairly versatile. It allows to
create many different partitioning schemes, using various partition tables,
file systems and advanced block devices.

Exactly which options are available depends mainly on the architecture, but
also on other factors. For example, on systems with limited internal memory
some options may not be available. Defaults may vary as well. The type of
partition table used by default can for example be different for large capacity
hard disks than for smaller hard disks. Some options can only be changed when
installing at medium or low debconf priority; at higher priorities sensible
defaults will be used.

Installationsprogrammet har stöd för olika former av avancerad partitionering
och användningen av lagringsenheter, vilket i många fall kan kombineras.

  • Logisk volymhantering (LVM)

  • Programvaru-RAID

    RAID-nivåer som stöds är 0, 1, 4, 5, 6 och 10.

  • Kryptering

  • Serial ATA RAID (med dmraid)

    Också kallad "fake RAID" eller "BIOS RAID". Stöd för Seriell ATA RAID är
    för närvarande endast tillgänglig om den är aktiverad när
    installationsprogrammet startas. Mer information finns på vår Wiki.

  • Multipath(experimentell)

    Se vår Wiki för mer information. Stöd för multipath är för närvarande
    endast tillgänglig om det är aktiverat när installationsprogrammet startas.

Följande filsystem stöds.

  • ext2, ext3, ext4

    Standardfilsystemet som väljs i de flesta fall är ext4; för /boot partionen
    så väljs ext2 som standard när guidad partitionering används.

  • jfs (inte tillgänglig på alla arkitekturer)

  • xfs (inte tillgänglig på alla arkitekturer)

  • reiserfs (valfri; inte tillgänglig på alla arkitekturer)

    Stöd för Reiser-filsystemet är inte längre tillgängligt som standard. När
    installationsprogrammet körs med medium eller låg debconf-prioritet kan det
    aktiveras genom att välja partman-reiserfs komponent. Endast version 3 av
    filsystemet stöds.

  • qnx4

    Befintliga partitioner kommer att kännas igen och det är möjligt att
    tilldela monteringspunkter för dem. Det är inte möjligt att skapa nya
    qnx4-partitioner.

  • FAT16, FAT32

  • NTFS (skrivskyddad)

    Befintliga NTFS-partitioner kan ändras och det är möjligt att tilldela
    monteringspunkter för dem. Det är inte möjligt att skapa nya
    NTFS-partitioner.

6.3.4.2. Guidad partitionering

Om du väljer guidad partitionering har du tre alternativ: skapa partitioner
direkt på hårddisken (klassisk metod), skapa dem med logisk volymhantering
(LVM), eller att skapa dem med krypterad LVM^[9].

Notera

Alternativet att använda (krypterad) LVM kanske inte är tillgängligt på alla
arkitekturer.

När LVM eller krypterad LVM används kommer installationsprogrammet att skapa de
flesta partitioner inne i en stor partition; fördelen med den här metoden är
att partitioner inne i den här stora partitionen kan man enkelt ändra storlek
på senare. I fallet med krypterad LVM, kommer den stora partitionen inte vara
läsbar utan att känna till en speciell nyckelfras, vilket ger extra säkerhet
för ditt (personliga) data.

När krypterad LVM används, kommer installationsprogrammet även att automatiskt
radera disken genom att skriva slumpmässig data till den. Det här ökar på
säkerheten ytterligare (och gör det omöjligt att se vilka delar av disken som
används och ser även till att eventuella spår av tidigare installationer
raderas), men kan ta lite tid beroende på storleken på din disk.

Notera

Om du väljer guidad partitionering med LVM eller krypterad LVM, kommer vissa
ändringar i partitionstabellen att behöva skrivas till den valda disken när LVM
konfigureras. Dessa ändringar raderar effektivt all data som för närvarande
finns på den valda hårddisken och du kommer inte kunna ångra den här åtgärden.
Dock kommer installationsprogrammet fråga dig att bekräfta dessa ändringar
innan de skrivs till disken.

Om du väljer guidad partitionering (antingen klassisk eller med (krypterad)
LVM) för en hel disk, kommer du först att bli tillfrågad att välja disken som
du vill använda. Kontrollera att alla dina diskar är listade och, om du har
flera diskar, se till att väljer den korrekta disken. Ordningen som de listas i
kan skilja sig från vad du är van med. Storleken på diskarna kan hjälpa dig att
särskilja dem.

Allt data på disken du har valt kommer eventuellt att förloras, men du kommer
alltid att bli tillfrågad att bekräfta ändringarna innan de skrivs på disken .
Om du har valt klassisk metod för partitioneringen, kommer du kunna ångra
ändringarna fram till slutet; när (krypterad) LVM används är det här inte
möjligt.

Härnäst kommer du att kunna välja från de planer som listas i tabellen nedan.
Alla planer har sina för- och nackdelar, vissa av dem diskuteras i Appendix C, 
Partitionera för Debian. Om du är osäker, välj den första. Tänk dock på att
guidad partitionering behöver en viss minimal mängd av ledigt utrymme att
arbeta med. Om du inte ger den åtminstone 1 GB utrymme (beroende på vald plan),
kommer den guidade partitioneringen att misslyckas.

┌────────────────────────────────────────┬────────────┬───────────────────────┐
│          Partitioneringsplan           │   Minsta   │  Skapade partitioner  │
│                                        │  utrymme   │                       │
├────────────────────────────────────────┼────────────┼───────────────────────┤
│Alla filer på en partition              │600 MB      │/, växl                │
├────────────────────────────────────────┼────────────┼───────────────────────┤
│Separat partition för /home             │500 MB      │/, /home, växl         │
├────────────────────────────────────────┼────────────┼───────────────────────┤
│Separata partitioner för /home, /var och│1 GB        │/, /home, /var, /tmp,  │
│/tmp                                    │            │växl                   │
└────────────────────────────────────────┴────────────┴───────────────────────┘

Om du väljer guidad partitionering med (krypterad) LVM kommer
installationsprogrammet även att skapa en separat partition för /boot. De andra
partitionerna, inklusive växlingsutrymmet, kommer att skapas inom
LVM-partitionen.

If you have booted in EFI mode then within the guided partitioning setup there
will be an additional partition, formatted as a FAT32 bootable filesystem, for
the EFI boot loader. This partition is known as an EFI System Partition (ESP).
There is also an additional menu item in the formatting menu to manually set up
a partition as an ESP.

Efter du valt en plan kommer nästa skärm att visa din nya partitionstabell,
inklusive information om hur och om partitionerna kommer att formateras och var
de kommer att monteras.

Listan över partitioner kan se ut som den här:

  SCSI1 (0,0,0) (sda) - 6.4 GB WDC AC36400L
        #1 primär    16.4 MB  B f ext2       /boot
        #2 primär   551.0 MB      växl       växl
        #3 primär     5.8 GB      ntfs
           pri/log    8.2 MB      LEDIGT UTRYMME

  SCSI2 (1,0,0) (sdb) - 80.0 GB ST380021A
        #1 primär    15.9 MB      ext3
        #2 primär   996.0 MB      fat16
        #3 primär     3.9 GB      xfs        /home
        #5 logical    6.0 GB    f ext4       /
        #6 logisk     1.0 GB    f ext3       /var
        #7 logisk   498.8 MB      ext3

Det här exemplet visar två hårddiskar som delats upp i flera partitioner;
första disken har ledigt utrymme. Varje partitionsrad innehåller
partitionsnumret, dess typ, storlek, valfria flaggor, filsystem och
monteringspunkt (om det finns någon). Observera: denna specifika konfiguration
kan inte skapas med en guidad partitionering men det visar en möjlig variation
som kan uppnås med manuell partitionering.

Det här sammanfattar den guidade partitioneringen. Om du är nöjd med den
genererade partitionstabellen kan du välja Slutför partitioneringen och skriv
ändringarna till hårddisken från menyn för att implementera den nya
partitionstabellen (som beskrivs i slutet av det här avsnittet). Om du inte är
nöjd kan du välja att Ångra ändringarna på partitionerna och köra den guidade
partitioneringen igen eller modifiera de föreslagna ändringarna som beskrivs
nedan för manuell partitionering.

6.3.4.3. Manuell partitionering

En liknande skärm till den som visades ovanför kommer att visas om du väljer
manuell partitionering förutom att din befintliga partitionstabell kommer att
visas och utan monteringspunkterna. Hur du manuellt konfigurerar din
partitionstabell och användningen av partitioner av ditt nya Debian-system
kommer att täckas in av den återstående delen av det här avsnittet.

Om du väljer en ren disk som inte har några partitioner eller ledigt utrymme på
sig, kommer du bli tillfrågad om en ny partitionstabell ska skapas (det behövs
så att du kan skapa nya partitioner). Efter det här ska en ny rad med texten "
LEDIGT UTRYMME" visas i tabellen under en valda disken.

Om du väljer ett ledigt utrymme kommer du bli erbjuden att skapa en ny
partition. Du kommer att få svara på några snabba frågor om dess storlek, typ
(primär eller logisk), och plats (början eller slutet på det lediga utrymmet).
Efter det kommer du att bli visad en detaljerad överblick av din nya partition.
Huvudinställningen är Använd som:, vilken bestämmer om partitionen kommer att
innehålla ett filsystem, eller användas som växlingsutrymme, programvaru-RAID,
LVM, ett krypterat filsystem, eller inte användas alls. Andra inställningar
inkluderar monteringspunkt, monteringsalternativ, och startbar-flaggan; vilka
inställningar som visas beror på hur partitionen kommer att användas. Om de
förinställda standardvärdena inte passar dig, kan du ändra dem för att passa
ditt system. Till exempel genom att välja alternativet Använd som:, kan du
välja ett annat filsystem för den här partitionen, inklusive alternativ för att
använda partitionen som växlingsutrymme, programvaru-RAID, LVM,, eller inte
använda alls. När du är nöjd med din nya partition, välj Klar med partitionen
och du återvänder till huvudskärmen i partman.

Om du bestämmer dig för att du vill ändra någonting på din partition, välj helt
enkelt partitionen för att ta dig till konfigurationsmenyn för partitioner. Det
här är samma skärm som när man skapar en ny partition, så du kan ändra samma
inställningar. En sak som kanske inte är självklar vid första anblicken är att
du kan ändra storleken på partitionen genom att välja posten som visar
partitionens storlek. Filsystem som är kända att fungera är bland annat fat16,
fat32, ext2, ext3 och swap (växlingsutrymme). Den här menyn låter dig även ta
bort en partition.

Var säker på att du skapar åtminstone två partitioner: en för rotfilsystemet
(som måste monteras som /) och en för swap (växlingsutrymme). Om du glömde att
montera rotfilsystemet kommer partman inte låta dig fortsätta förrän du har
rättat till det.

If you boot in EFI mode but forget to select and format an EFI System
Partition, partman will detect this and will not let you continue until you
allocate one.

Färdigheterna som partman besitter kan utökas med moduler, men är beroende på
din systemarkitektur. Om du inte kan se alla utlovade godsaker, kontrollera om
du har läst in alla nödvändiga moduler (exempelvis partman-ext3, partman-xfs
eller partman-lvm).

Efter att du är nöjd med partitioneringen, välj Slutför partitioneringen och
skriv ändringarna till hårddisken från partitioneringsmenyn. Du kommer att bli
visad ett sammandrag på ändringar gjorda på diskarna och bli frågad att
bekräfta skapandet av begärda filsystem.

6.3.4.4. Konfiguration av multidiskenheter (Programvaru-RAID)

Om du har fler än en hårddisk^[10] i din dator, kan du använda partman-md för
att ställa in dina diskar för ökad prestanda eller bättre tillförlitlighet på
ditt data. Resultatet kallas för Multidisk Device (eller efter dess mest kända
variant programvaru-RAID).

MD är enkelt sett en samling partitioner som finns på olika diskar och
kombineras ihop för att skapa en logisk enhet. Den här enheten kan sedan
användas som en vanlig partition (alltså, i partman kan du formatera den, ge
den en monteringspunkt, etc.).

Fördelarna som du får beror på den typ av MD-enhet du skapar. För närvarande
stöds:

RAID0

    Är huvudsakligen riktad mot prestanda. RAID0 delar upp all inkommande data
    i stripes och distribuerar dem jämnt över alla diskar i kedjan. Det här kan
    öka hastigheten på läs- och skrivoperationer men när en av diskarna går
    sönder kommer du att förlora allting (delar av informationen finns
    fortfarande på den friska disken (eller flera), den andra delen fanns på
    den trasiga disken).

    Typisk användning för RAID0 är en partition för videoredigering.

RAID1

    Är lämplig för konfigurationer där tillförlitlighet är ledordet. Den
    innehåller flera (vanligtvis två) lika stora partitioner där varje
    partition innehåller exakt samma data. Det här betyder tre saker. För det
    första, om en av dina diskar går sönder, kommer du fortfarande att ha data
    speglat på de återstående diskarna. För det andra, du kan endast använda en
    liten del av den tillgängliga kapaciteten (mer specifikt, det är storleken
    på den minsta partitionen i RAID-kedjan). För det tredje, filläsningar är
    lastbalanserade mellan diskarna, vilket kan öka prestandan på en server,
    såsom en filserver, som brukar vara belastad med fler diskläsningar än
    skrivningar.

    Du kan även ha en reservdisk i kedjan som kommer att ta över platsen för en
    trasig disk om något går fel.

RAID5

    Är en bra kompromiss mellan hastighet, tillförlitlighet och dataredundans.
    RAID5 delar upp all inkommande data i "stripes" och distribuerar dem jämnt
    på alla utan en disk (liknande RAID0). Tvärtemot RAID0 beräknar även RAID5
    paritetsinformation, som skrivs på den återstående disken. Paritetsdisken
    är inte statisk (det skulle kallas för RAID4), utan förändras periodvis, så
    att partitetsinformationen distribueras jämnt över alla diskar. När en av
    diskarna går sönder, kan den saknade delen av informationen beräknas
    utifrån det återstående datat och dess paritet. RAID5 måste innehålla
    åtminstone tre aktiva partitioner. Du kan även ha en reservdisk i kedjan
    som kommer att ta över platsen för en trasig disk om något går fel.

    Som du kan se, RAID5 har tillförlitlighet som liknar den för RAID1 men
    erbjuder mindre redundans. Å andra sidan är den kanske lite långsammare på
    skrivoperationer än RAID0 på grund av beräkningarna av paritetsinformation.

RAID6

    Liknar RAID5 förutom att den använder två paritetsdiskar istället för en.

    En RAID6-kedja kan överleva upp till två trasiga diskar.

RAID10

    RAID10 kombinerar stripning (som i RAID0) och spegling (som i RAID1). Den
    skapar n kopior av inkommande data och distribuerar dem över partitionerna
    så att ingen av kopiorna av samma data finns på samma disk. Standardvärdet
    för n är 2, men det kan ställas in till något annat expertläget. Antalet
    partitioner som används måste vara minst n. RAID10 har olika layouter för
    distribuering av kopior. Standard är nära kopior. Nära kopior har alla
    kopior på samma position på alla diskarna. Fjärran kopior har kopiorna på
    olika positioner på diskarna. Positionskopior kopierar stripen, men inte de
    individuella kopiorna.

    RAID10 kan användas för att uppnå tillförlitlighet och redundans utan
    nackdelen att behöva beräkna paritetsinformation.

För att summera:

┌──────┬─────────┬───────────┬─────────┬──────────────────────────────────────┐
│      │ Minimum │           │Överlever│                                      │
│ Typ  │  antal  │Reservenhet│diskfel? │          Tillgänglig plats           │
│      │ enheter │           │         │                                      │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│      │         │           │         │Storlek för den minsta partitionen    │
│RAID0 │2        │nej        │nej      │multiplicerat med antalet enheter i   │
│      │         │           │         │RAID                                  │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│RAID1 │2        │valfri     │ja       │Storlek för den minsta partitionen i  │
│      │         │           │         │RAID                                  │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│      │         │           │         │Storlek för den minsta partitionen    │
│RAID5 │3        │valfri     │ja       │multiplicerat med (antalet enheter i  │
│      │         │           │         │RAID minus en)                        │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│      │         │           │         │Storlek för den minsta partitionen    │
│RAID6 │4        │valfri     │ja       │multiplicerat med (antalet enheter i  │
│      │         │           │         │RAID minus två)                       │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│RAID10│2        │valfri     │ja       │Totalen för alla partitioner delat med│
│      │         │           │         │antalet delkopior (standard är två)   │
└──────┴─────────┴───────────┴─────────┴──────────────────────────────────────┘

Om du vill veta mer om programvaru-RAID, ta en titt på Software RAID HOWTO.

För att skapa en MD-enhet behöver du markera de partitioner som den ska
innehålla markerade för användning i ett RAID. (Det här gör man i partman i
menyn Partitionsinställningar där du bör välja Använd som: → fysisk volym för
RAID.)

Notera

Försäkra dig om att systemet kan startas upp med partitioneringsplanen som du
planerar. I allmänhet är det nödvändigt att skapa ett separat filsystem för /
boot när man använder RAID för rotfilsystemet (/). De flesta starthanterare 
(inklusive grub) har stöd för speglad (inte striped!) RAID1, så om man till
exempel använder RAID5 för / och RAID1 för /boot kan det vara ett alternativ.

Efter det ska du välja Konfigurera programvaru-RAID från huvudmenyn i partman.
(Menyn kommer endast att visas om du markerat minst en partition för användning
som fysisk volym för RAID.) På första skärmen i partman-md, välj helt enkelt 
Skapa MD-enhet. Du kommer att bli visad en lista på typer av MD-enheter som
stöds, från vilken du bör välja en (t.ex. RAID1). Vad som kommer härnäst beror
på den MD-typ du har valt.

  • RAID0 är enkel -- du kommer att visas en lista över tillgängliga
    RAID-partitioner och du behöver endast välja de partitioner som ska utgöra
    MD-enheten.

  • RAID1 är lite mer besvärlig. Först kommer du bli tillfrågad att ange
    antalet aktiva enheter samt antalet reservenheter som ska utgöra din MD.
    Sedan behöver du från listan av tillgängliga RAID-partitioner välja vilka
    som ska vara aktiva och sedan de som ska vara reserver. Antalet valda
    partitioner måste vara samma som antalet som angavs tidigare. Var lugn, om
    du gör ett misstag och väljer ett olikt antal partitioner kommer
    debian-installer inte låta dig fortsätta förräns du har rättat till det.

  • RAID5 har en liknande inställningsprocedur som RAID1 med undantaget att du
    behöver använda åtminstone tre aktiva partitioner.

  • RAID6 har en liknande inställningsprocedur som RAID1 med undantaget att du
    behöver använda åtminstone fyra aktiva partitioner.

  • RAID10 har också en liknande inställningsprocedur som RAID1 förutom i
    expertläget. I expertläget kommer debian-installer att fråga dig om
    layouten. Layouten har två delar. Den första delen är layouttypen. Den är
    antingen n (för nära kopior), f (för fjärran kopior) eller o (för
    positionskopior). Den andra delen är antalet kopior som ska göras av datat.
    Det måste finnas minst så många aktiva enheter så att var och en av
    kopiorna kan distribueras till olika diskar.

Det är fullt möjligt att ha flera MD-typer samtidigt. Till exempel om du har
tre stycken 200 GB stora hårddiskar dedicerade till MD, där varje hårddisk
innehåller två stycken 100 GB stora partitioner, kan du kombinera de första
partitionerna på alla tre hårddiskar till en RAID0 (300 GB stor för snabb
videoredigering) och använda de övriga tre partitionerna (2 aktiva och 1
reserv) för RAID1 (ganska tillförlitlig 100 GB stor partition för /home).

Efter att du har konfigurerat MD-enheterna efter dina behov kan du välja 
Slutför i partman-md för att återgå till partman för att skapa filsystem på
dina nya MD-enheter och ge dem de vanliga attributen såsom monteringspunkter.

6.3.4.5. Konfigurering av den logiska volymhanteraren (LVM)

Om du arbetar med datorer som en systemadministratör eller "avancerad"
användare har du säkert upplevt en situation där någon diskpartition (oftast
den mest viktiga) fått slut på ledigt utrymme medan någon annan partition haft
otroligt mycket oanvänt utrymme och du har behövt att hantera den här
situationen genom att flytta runt saker, symboliska länkar, etc.

För att undvika de beskrivna situationen kan du använda logisk volymhantering
(LVM). Med LVM kan du kort sagt kombinera dina partitioner (fysiska volymer på
LVM-språk) för att forma en virtuell disk (en så kallad volymgrupp) som sedan
kan delas upp i virtuella partitioner (logiska volymer). Meningen är att
logiska volymer (och så klart de underliggande volymgrupperna) kan spänna över
ett flertal fysiska diskar.

Nu när du har insett att du behöver mer utrymme för din gamla 160 GB stora /
home-partition kan du helt enkelt lägga till en ny 300 GB stor disk till
datorn, låta den bli medlem av din befintliga volymgrupp och sedan förändra
storleken på den logiska volymen som tillhandahåller filsystemet för /home och
voilá -- dina användare har mer plats igen på sin nya 460 GB stora partition.
Det här exemplet är så klart lite grovt förenklat. Om du inte har läst den än
bör du konsultera LVM HOWTO.

LVM-konfiguration i debian-installer är ganska enkel och stöds fullständigt i 
partman. Först måste du markera de partitioner som ska användas som fysiska
volymer för LVM. Det här görs i menyn Partitionsinställningar där du ska välja 
Använd som: → fysisk volym för LVM.

Varning

Be aware: the new LVM setup will destroy all data on all partitions marked with
an LVM type code. So, if you already have an LVM on some of your disks, and
want to install Debian additionally to that machine, the old (already existing)
LVM will be wiped out! The same counts for partitions, which are (for any
reason) misleadingly marked with an LVM type code, but contain something
different (like an encrypted volume). You need to remove such disks from the
system, before performing a new LVM setup!

När du återvänder till huvudskärmen i partman kommer du att se ett nytt
alternativ Konfigurera den logiska volymhanteraren. När du väljer den kommer du
att först bli frågad om att bekräfta väntande ändringar till partitionstabellen
(om det finns några) och sedan kommer LVM-konfigurationsmenyn att visas.
Ovanför menyn visas en sammanfattning av LVM-konfigurationen. Själva menyn är
sammanhangskänslig och visar endast giltiga åtgärder. De möjliga åtgärderna är:

  • Visa konfigurationsdetaljer: visar LVM-enhetsstrukturen, namn och storlekar
    på logiska volymer och annat

  • Skapa volymgrupp

  • Skapa logisk volym

  • Ta bort volymgrupp

  • Ta bort logisk volym

  • Utöka volymgrupp

  • Minska volymgrupp

  • Slutför: återvänd till huvudskärmen för partman

Använd alternativen i den menyn för att först skapa en volymgrupp och sedan
skapa dina logiska volymer i den.

Efter du återvänt till huvudskärmen i partman kommer du att se skapade logiska
volymer på samma sätt som vanliga partitioner (och du bör även behandla dem som
det).

6.3.4.6. Konfigurera krypterade volymer

debian-installer låter dig konfigurera krypterade partitioner. Varje fil som du
skriver på en sådan partition kommer omedelbart att sparas till enheten i
krypterad form. Tillgång till krypterat data ges endast efter att en lösenfras
har angivits när den krypterade partitionen ursprungligen skapades. Denna
funktion är användbart för att skydda känsligt data om till exempel din bärbara
dator eller hårddisk blir stulna. Tjuven kanske får fysisk tillgång till
hårddisken men utan att känna till den rätta lösenfrasen kommer det data som
finns på hårddisken bara att se ut som slumpmässiga tecken.

The two most important partitions to encrypt are: the home partition, where
your private data resides, and the swap partition, where sensitive data might
be stored temporarily during operation. Of course, nothing prevents you from
encrypting any other partitions that might be of interest. For example /var
where database servers, mail servers or print servers store their data, or /tmp
which is used by various programs to store potentially interesting temporary
files. Some people may even want to encrypt their whole system. Generally the
only exception here is the /boot partition which must remain unencrypted,
because historically there was no way to load the kernel from an encrypted
partition. (GRUB is now able to do that, but debian-installer currently lacks
native support for encrypted /boot. The setup is therefore covered in a
separate document.)

Notera

Observera att prestandan för krypterade partitioner kommer att vara mindre än
för okrypterade eftersom datan behöver dekrypteras eller krypteras för varje
läsning eller skrivning. Prestandaskillnaden beror på din processorhastighet,
vald kryptering och nyckellängd.

För att använda kryptering måste du skapa en ny partition genom att välja ett
fritt utrymme i huvudpartitioneringsmenyn. Ett annat alternativ är att välja en
befintlig partition (t.ex. en vanlig partition, en logisk LVM-volym eller en
RAID-volym). I menyn Partitionsinställningar behöver du välja fysisk volym för
kryptering för alternativet Använd som:. Menyn kommer att ändras till att
inkludera flera krypteringsalternativ för partitionen.

Krypteringsmetoden som stöds av debian-installer är dm-crypt (ingår i nyare
Linux-kärnor, som också kan vara värd för fysiska LVM-volymer).

Låt oss ta en titt på tillgängliga alternativ när du väljer kryptering via
Device-mapper (dm-crypt). Som vanligt: när du är osäker, använd standardvalen
därför att de har noga valts ut med tanke på säkerhet.

Kryptering: aes

    Detta alternativ låter dig välja krypteringsalgoritm (chiffer) som kommer
    att användas för att kryptera data på partitionen. debian-installer har för
    närvarande stöd för följande blockchiffer: aes, blowfish, serpent och
    twofish. Det är utanför omfånget för detta dokument att diskutera
    kvaliteterna för dessa olika algoritmer, dock kan det hjälpa dig i ditt val
    att år 2000 valdes AES av American National Institute of Standards and
    Technology som standardkrypteringsalgoritm för skydd av känslig information
    för 2000-talet.

Nyckellängd: 256

    Här kan du ange längden för krypteringsnyckeln. En större nyckellängd ökar
    generellt styrkan på krypteringen. På andra sidan, ökning av längden på
    nyckeln har en negativ inverkan på prestandan. Tillgängliga nyckellängder
    är olika beroende på valt chiffer.

IV-algoritm: xts-plain64

    Initieringsvektorn eller IV-algoritm används i kryptografi för att se till
    att tillämpningen av chiffret på samma klartextdata med samma nyckel,
    alltid producerar en unik chiffertext. Idén är att förhindra en attackerare
    från att kunna utläsa information från upprepade mönster i krypterat data.

    Det minst sårbara alternativet för kända attacker av de som tillhandahålls
    är standardvalet xts-plain64. Använd endast de andra alternativen när du
    behöver kompatibilitet med tidigare installerade system som inte kan
    använda nyare algoritmer.

Krypteringsnyckel: Lösenfras

    Här kan du välja typ av krypteringsnyckel för denna partition.

    Lösenfras

        Krypteringsnyckeln kommer att beräknas^[11] med en lösenfras som basis
        och som du kan ange senare i processen.

    Slumpmässig nyckel

        En ny krypteringsnyckel kommer att genereras från slumpmässigt data
        varje gång du försöker att ta fram den krypterade partitionen. Med
        andra ord: vid varje nedstängning av systemet kommer innehållet på
        partitionen att förloras eftersom nyckeln raderas från minnet. (Så
        klart, du kan försöka att ta fram nyckeln via en brute force-attack,
        men såvida det inte finns en okänd sårbarhet i chifferalgoritmen kommer
        detta inte kunna göras under vår livstid.)

        Slumpmässiga nycklar är användbara för växlingspartitioner därför att
        du inte behöver bry dig om att komma ihåg lösenfrasen eller att radera
        känslig information från växlingspartitionen före nedstängning av din
        dator. Dock betyder det även att du inte kommer att kunna använda
        funktionalitet som "suspend-to-disk" som erbjuds av nyare Linux-kärnor
        eftersom det blir omöjligt (under en efterföljande uppstart) att
        återhämta suspenderat data som skrivits på växlingspartitionen.

Radera data: ja

    Bestämmer huruvida innehållet på denna partition ska skrivas över med
    slumpmässigt data före krypteringen ställs in. Detta rekommenderas därför
    att det kan annars vara möjligt för en attackerare att avgöra vilka delar
    av partitionen som används och vilka som inte används. Dessutom blir det
    svårare att återskapa data som partitionen innehållit tidigare^[12].

När du har valt de önskade parametrarna för dina krypterade partitioner, återgå
till huvudmenyn för partitionering. Det ska nu finnas en ny menypost som kallas
Konfigurera krypterade volymer. När du väljer den kommer du att bli frågad att
bekräfta borttagningen av data på de partitioner som markerats för radering och
möjligen även andra åtgärder såsom skrivning av en ny partitionstabell. För
större partitioner kan detta ta lite tid.

Härnäst kommer du att bli frågad att ange en lösenfras för de partitioner som
konfigurerats att använda en. Bra lösenfraser bör vara längre än 8 tecken, bör
innehålla en blandning av bokstäver, siffror och andra tecken och bör inte
innehålla vanliga ord som hittas i ordböcker eller information som lätt kan
kopplas samman med dig (såsom födelsedatum, eventuell hobby, namn på husdjur,
namn på familjemedlemmar eller närstående, etc.).

Varning

Innan du matar in några lösenfraser bör du se till att ditt tangentbord är
konfigurerat korrekt och genererar de tecken som förväntas. Om du är osäker kan
du växla till den andra virtuella konsollen och skriva in text vid prompten.
Detta för att du inte bli förvånad senare, t.ex. genom att försöka mata in en
lösenfras med en qwerty-tangentbordslayout när du använde en azerty-layout
under installationen. Denna situation kan ha flera orsaker. Kanske har du bytt
till en annan tangentbordslayout under installationen, eller att den valda
tangentbordslayouten kanske inte har ställts in ännu när lösenfrasen för
rotfilsystemet anges.

Om du väljer att använda andra metoder än ett lösenord för att skapa
krypteringsnycklar, kan de genereras nu. På grund av att kärnan kanske inte har
samlat in en tillräcklig mängd av slumpmässigt data så tidigt i installationen
kan denna process ta lång tid. Du kan hjälpa till att snabba på processen genom
att generera slumpmässigt data: t.ex. genom att trycka slumpmässigt valda
tangenter eller genom att växla till skalet på den andra virtuella konsollen
och generera lite nätverk- och disktrafik (hämta några filer, skicka stora
filer till /dev/null, etc.). Detta kommer att upprepas för varje partition som
ska krypteras.

After returning to the main partitioning menu, you will see all encrypted
volumes as additional partitions which can be configured in the same way as
ordinary partitions. The following example shows a volume encrypted via
dm-crypt.

Encrypted volume (sda2_crypt) - 115.1 GB Linux device-mapper
     #1 115.1 GB  F ext3

Now is the time to assign mount points to the volumes and optionally change the
file system types if the defaults do not suit you.

En sak att notera här är identifierarna inom parantes (sda2_crypt och i detta
fall) samt monteringspunkterna du har tilldelat varje krypterad volym. Du
kommer att behöva denna information senare vid uppstart av det nya systemet.
Skillnaderna mellan en vanlig uppstartsprocess och en uppstartsprocess med
kryptering beskrivs senare i Avsnitt 7.2, "Montering av krypterade volymer".

När du är nöjd med partitioneringsplanen, fortsätt med installationen.

6.3.5. Installation av grundsystemet

Även om det här steget är det minst problematiska så tar det en större del av
installationen på grund av att det hämtar, validerar och packar upp hela
grundsystemet. Om du har en långsam dator eller nätverksanslutning kan det här
ta en stund.

Under installationen av grundsystemet, kommer meddelanden om uppackning och
konfigurering omdirigeras till tty4. Du kan komma åt den här terminalen genom
att trycka Vänster Alt+F4; gå tillbaka till huvudprocessen för
installationsprogrammet med Vänster Alt+F1.

De olika meddelandena om uppackning/konfigurering som genereras under den här
fasen, sparas i /var/log/syslog. Du kan kontrollera dem där om installationen
genomförs över en seriekonsoll.

Som en del av installationen kommer en Linux-kärna att installeras. Vid
standardprioritet kommer installationsprogrammet att välja en åt dig som bäst
passar din maskinvara. I lägre prioritetslägen kommer du kunna välja från en
lista av tillgängliga kärnor.

When packages are installed using the package management system, it will by
default also install packages that are recommended by those packages.
Recommended packages are not strictly required for the core functionality of
the selected software, but they do enhance that software and should, in the
view of the package maintainers, normally be installed together with that
software.

Notera

For technical reasons packages installed during the installation of the base
system are installed without their "Recommends". The rule described above only
takes effect after this point in the installation process.

6.3.6. Installera ytterligare programvara

Vid det här tillfället kan du ett användbart men begränsat system. De flesta
användare kommer att installera ytterligare programvara på systemet för att
anpassa det till sina behov och installationsprogrammet låter dem göra det. Det
här steget kan ta ännu längre tid än installationen av grundsystemet om du har
en långsam dator eller nätverk.

6.3.6.1. Konfigurera apt

One of the tools used to install packages on a Debian GNU/Linux system is the
program apt, from the apt package^[13]. Other front-ends for package
management, like aptitude and synaptic, are also in use. These front-ends are
recommended for new users, since they integrate some additional features
(package searching and status checks) in a nice user interface.

apt måste konfiguras så att den vet var den ska hämta paket ifrån. Resultat av
den här konfigurationen skrivs till filen /etc/apt/sources.list och du kan
undersöka och redigera den för att passa dina behov efter att installationen är
färdig.

Om du installerar med standardprioritet kommer installationsprogrammet att ta
hand om det mesta av konfigurationen automatiskt, baserat på
installationsmetoden som du använder och om möjligt använda val gjorda tidigare
i installationen. I de flesta fall kommer installationsprogrammet att
automatiskt lägga till en säkerhetsspegel och, om du installerar den stabila
distributionen, en spegel för uppdateringstjänsten "stable-updates".

Om du installerar med en lägre priotet (t.ex. i expertläget) kommer du att
kunna bestämma mer vad som ska göras. Du kan välja om du vill använda
uppdateringstjänsten för säkerhet och/eller stable-updates, och du kan välja
att lägga till paket från sektionerna "contrib" och "non-free" i arkivet.

6.3.6.1.1. Installera från fler än en cd eller dvd-avbild

Om du installerar från en cd eller dvd-avbild som är del av en större
uppsättning så kommer installationsprogrammet att fråga om du vill söka igenom
ytterligare installationsmedia. Om du har flera media tillgängliga kommer du
antagligen att vilja göra det så att installationsprogrammet kan använda
paketen som finns på dem.

Om du inte har fler cd eller dvd-media så är det inget problem: användning av
dem är inte nödvändigt. Om du i tillägg till det inte använder en
nätverksspegel (som förklaras i nästa avsnitt) kandet betyda att inte alla
paket som tillhör funktionerna kan installeras som du har valt i nästa steg i
installationen.

Notera

Paketen på cd-skivor (och dvd-avbilder) inkluderas enligt deras populäritet.
Det betyder att för de flesta kommer endast de första avbilderna behövs en
uppsättning att behövas och att endast mycket få personer faktiskt kommer att
använda paketen som inkluderats på de sista avbilderna i en uppsättning.

Det betyder också att om man köper eller hämtar ner och bränner en komplett
cd-uppsättning bara är slöseri eftersom du aldrig kommer att använda de flesta
av dem. I de flesta fall klarar du dig med endast de första 3 till 8 skivor och
installera ytterligare paket från Internet genom att använda en spegelserver.
Samma gäller för dvd-uppsättningar: första skivan eller kanske de första två
skivorna täcker behovet för de flesta.

If you do scan multiple installation media, the installer will prompt you to
exchange them when it needs packages from one that isn't currently in the
drive. Note that only discs that belong to the same set should be scanned. The
order in which they are scanned does not really matter, but scanning them in
ascending order will reduce the chance of mistakes.

6.3.6.1.2. Använda en nätverksspegel

En fråga som kommer att ställas under de flesta installationer är om en
nätverksspegel ska användas som en paketkälla. I de flesta fall är
standardsvaret ett bra svar men det finns några undantag.

Om du inte installerar från en komplett cd/dvd-avbildning, bör du använda en
nätverksspegel eftersom du annars kommer att få ett mycket minimalt system.
Dock, om du har en begränsad internetanslutning är det bäst att inte välja
funktionen desktop i nästa steg av installationen.

Om du installerar från en komplett cd avbildning, är användningen av en
nätverksspegel inte nödvändig, men det rekommenderas starkt eftersom en enda
cd-avbildning endast innehåller ett ganska begränsat antal paket. Om du har en
begränsad internetanslutning kan det fortfarande vara bäst att inte välja en
nätverksspegel här, utan att färdigställa installationen med endast det som
finns tillgängliga på cd-avbildning och installera ytterligare paket efter
installationen (alltså efter att du har startat upp det nya systemet).

Om du installerar från DVD kommer de paket som behövs under installationen att
finnas på den första dvd-skivan. avbild Användning av en nätverksspegel är
valfritt.

En fördel med att lägga till en nätverksspegel är att uppdateringar, som har
skett sedan cd/dvd-avbilderna skapades och har inkluderats i en punktutgåva,
kommer att bli tillgängliga för installation, och därigenom förlänga
livslängden för din cd/dvd-uppsättning utan att kompromettera säkerheten eller
stabiliteten för det installerade systemet.

För att summera: välja en nätverksspegel är oftast en bra idé, förutom när du
har en långsam internetanslutning. Om den aktuella versionen för ett paket
finns tillgänglig på installationsmedia, så kommer installationsprogrammet att
använda den. Mängden data som kommer att hämtas ner om du väljer en spegel
beror på

 1. funktionera som du väljer i nästa steg av installationen,

 2. vilka paket som behövs för dessa funktioner,

 3. vilka av dessa paket som finns på de installationsmedia som du har sökt
    igenom, samt

 4. huruvida några uppdaterade versioner av paketen som inkluderats på
    installationsmedia finns tillgängliga från en spegelserver (antingen en
    vanlig paketspegel eller en spegelserver för säkerhet eller stabila
    uppdateringar).

Observera att sista punkten betyder, även om du väljer att inte använda en
nätverksspegel, att vissa paket kan hämtas ner från Internet ändå om det finns
en säkerhets eller stabila uppdatering tillgänglig för dem och att dessa
tjänster har konfigurerats.

6.3.6.1.3. Välj en nätverksspegel

Om du inte väljer att använda en nätverksspegel, kommer du att få en lista över
nätverksspeglar baserat på ditt landsval tidigare i installationsprocessen. Att
välja standard erbjuds är vanligtvis bra.

Den erbjudna standard är deb.debian.org, som inte är en spegel i sig utan
kommer att omdirigera till en spegel som ska vara uppdaterad och snabb. Dessa
speglar stöder TLS (https-protokoll) och IPv6. Denna tjänst underhålls av
Debian System Administration (DSA)-teamet.

En spegel kan också specificeras för hand genom att välja "ange information
manuellt"Du kan sedan ange ett spegelvärdnamn och ett valfritt portnummer.
Detta måste faktiskt vara en URL bas, dvs när man anger en IPv6-adress måste
man till exempel lägga till hakparenteser runt den t.ex "[2001:db8::1]".

If your computer is on an IPv6-only network (which is probably not the case for
the vast majority of users), using the default mirror for your country might
not work. All the mirrors in the list are reachable via IPv4, but only some of
them can be used via IPv6. As connectivity of individual mirrors can change
over time, this information is not available in the installer. If there is no
IPv6 connectivity for the default mirror for your country, you can either try
some of the other mirrors offered to you or choose the "enter information
manually" option. You can then specify "ftp.ipv6.debian.org" as the mirror
name, which is an alias for a mirror available via IPv6, although it will
probably not be the fastest possible one.

6.3.6.2. Val och installation av programvara

Under installationsprocessen får du möjligheten att välja ytterligare
programvara att installera. Hellre än att välja individuella programvarupaket
från de 87573 paket som finns tillgängliga fokuserar det här steget av
installationsprocessen på att välja och installera fördefinierade samlingar av
programvara för att snabbt ställa in din dator att genomföra olika funktioner.

De här funktionerna representerar löst ett antal olika jobb eller saker du vill
utföra med din dator, såsom "Skrivbordsmiljö", "Webbserver", eller "SSHserver"^
[14]. Avsnitt D.2, "Nödvändig diskplats för funktioner" listar utrymmet som
krävs för de tillgängliga funktionerna.

Vissa funktioner kan vara förvalda baserade på egenskaperna för datorn som du
installerar. Om du inte godkänner de här valen kan du avmarkera dem. Du kan
även välja att inte installera några funktioner alls.

Tips

I standardanvändargränssnittet för installationsprogrammet kan du använda
blankslag för att växla markering av en funktion.

Notera

The "Desktop environment" task will install a graphical desktop environment.

By default, debian-installer installs the Gnome desktop environment. It is
possible to interactively select a different desktop environment during the
installation. It is also possible to install multiple desktops, but some
combinations of desktop may not be co-installable.

Note that this will only work if the packages needed for the desired desktop
environment are actually available. If you are installing using a single full
CD image, they will possibly need to be downloaded from a network mirror as
they might not be available on the CD image due to its limited amount of space.
Installing any of the available desktop environments this way should work fine
if you are using a DVD image or any other installation method.

De olika serveruppgifterna installerar programvara ungefär enligt följande.
Webbserver:apache2;SSH server: openssh.

Funktionen "Standardsystem" kommer att installera alla paket som har
prioriteten "standard". Detta inkluderar en mängd vanliga verktyg som normallt
finns tillgängliga på de flesta Linux- eller Unix-system. Du bör lämna denna
funktion markeras såvida inte du vet vad du gör och vill ha ett mycket minimalt
system.

Om en standardlokal annan än lokalen "C" väljs under språkvalet så kommer 
tasksel att kontrollera om några lokalanpassningsfunktioner har definierats för
den lokalen och kommer sedan automatiskt att försöka installera relevanta
lokalanpassningspaket. Detta inkluderar till exempel paket som innehåller
ordlistor eller speciella typsnitt för ditt språk. Om en skrivbordsmiljö har
valts så kommer den även att installera lämpliga lokalanpassningspaket för det
(om det finns några).

När du har valt dina funktioner, välj Fortsätt. Vid det här tillfället kommer 
apt att installera paketen som är en del av de funktioner som du har valt. Om
ett specifikt program behöver mer information från användare så kommer den att
fråga dig under denna process.

Du bör vara medveten om att speciellt funktionen Skrivbord är mycket stor.
Speciellt vid installation från en normal cd-rom i kombination med en spegel
för paket som inte finns på cd-skivan, kan installationsprogrammet behöva hämta
en hel del paket över nätverket. Om du har en relativt långsam
Internetanslutning, kan det här ta lång tid. Det finns inget alternativ att
avbryta installationen av paket när den väl har startats.

Även när paket har inkluderats på cd-skivan, kan installationsprogrammet
fortfarande behöva hämta dem från spegeln om den tillgängliga versionen på
spegeln är nyare än den som inkluderats på cd-skivan. Om du installerar den
stabila utgåvan, kan det här hända efter en punktutgåva (en uppdatering av den
ursprungliga stabila utgåvan); om du installerar testutgåvan kommer det här att
hända om du använder en äldre avbildning.

6.3.7. Gör ditt system klart för uppstart

Om du installerar en disklös arbetsstation, är uppstarter från den lokala
disken så klart inte ett användbart alternativ och det här steget kommer att
hoppas över.

6.3.7.1. Sökning efter andra operativsystem

Innan en starthanterare blir installerad kommer installationsprogrammet att
försöka att söka efter andra operativsystem som finns installerade på maskinen.
Om den hittar ett operativsystem som stöds kommer du bli informerad om det
under installationssteget för starthanteraren och datorn kommer att bli
konfigurerad att starta upp det här andra operativsystemet i tillägg till
Debian.

Observera att uppstart av flera operativsystem på samma maskin fortfarande är
lite av svart magi. Det automatiska stödet för identifiering och inställning av
starthanterare för att starta upp andra operativsystem varierar mellan
arkitekturer och även för underarkitekturer. Om det inte fungerar bör du
konsultera dokumentationen för din starthanterare för mer information.

6.3.7.2. Installera starthanteraren Grub på en disk

Den starthanterare som är standard på amd64 kallas för "grub". Grub är en
flexibel och robust starthanterare och ett bra standardval både för nybörjare
och erfarna användare.

By default, grub will be installed on the UEFI partition/the Boot Record of the
primary drive, where it will take over complete control of the boot process. If
you prefer, you can install it elsewhere. See the grub manual for complete
information.

Om du inte vill installera grub alls kan du använda Bakåt-knappen för att komma
till huvudmenyn och därifrån välja den starthanterare som du vill använda.

6.3.7.3. Fortsätt utan starthanterare

Det här alternativet kan användas för att färdigställa installationen även om
inte starthanterare kommer att installeras, antingen på grund av att
arkitekturen/underarkitekturen inte erbjuder en eller på grund av att ingen
önskas (exempelvis, du vill använda den befintliga starthanteraren).

Om du planerar att manuellt konfigurera din starthanterare, bör du kontrollera
namnet på den installerade kärnan i /target/boot. Du bör också kontrollera den
katalogen om det finns en initrd; om det finns en ska du antagligen instruera
din starthanterare att använda den. Övrig information som du behöver ange är
disken och partition du har valt för ditt /-filsystem och, om du valde att
installera /boot på en separat partition, även ditt /boot-filsystem.

6.3.8. Färdigställ installationen

Det här är det sista steget i Debians installationsprocess under vilket
installationsprogrammet kommer att göra de sista justeringarna. Det består
mestadels av att knyta ihop allt efter debian-installer.

6.3.8.1. Ställa in systemklockan

Installationsprogrammet kan fråga dig om datorns klocka är inställd till UTC.
Normalt sett undviks den här frågan om möjligt och installationsprogrammet
försöker lista ut om klockan är inställd till UTC baserat på vilka andra
operativsystem som är installerade.

I expertläget kan du alltid välja om eller inte klockan är inställd till UTC. 
System som (även) kör Dos eller Windows är vanligtvis inställda till lokal tid.
Om du vill använda dubbel uppstart, välj lokal tid istället för UTC.

Vid det här tillfället kommer debian-installer även att försöka spara den
aktuella tiden till systemets hårdvaruklocka. Det här görs antingen i UTC eller
lokal tid, beroende på det val som tidigare gjordes.

6.3.8.2. Starta om systemet

Du kommer att bli uppmanad att mata ut uppstartsmediumet (cd-skiva, USB minne,
etc) som du använde för att starta upp installationsprogrammet med. Efter det
kommer systemet att startas om till ditt nya Debian-system.

6.3.9. Felsökning

Komponenterna som listas i det här avsnittet är normalt sett inte inblandade i
installationsprocessen men väntar i bakgrunden för att hjälpa användaren om
något går fel.

6.3.9.1. Spara installationsloggar

Om installationen lyckas, kommer loggfilerna som skapas under
installationsprocessen att automatiskt sparas till /var/log/installer/ på ditt
nya Debian-system.

Välj Spara felsökningsloggar från huvudmenyn låter dig spara loggfilerna till
en USB minne, nätverk, hårddisk eller annat media. Det kan vara användbart om
du påträffar allvarliga problem under installationen och vill undersöka
loggarna på ett annat system eller bifoga dem i en installationsrapport.

6.3.9.2. Användning av skalet och visning av loggar

Det finns flera metoder som du kan välja för att få ett skal under tiden du kör
en installation. På de flesta system, och om du inte installerar över en
seriekonsoll, är den enklaste metoden att växla till den andra virtuella
konsollen genom att trycka Vänster Alt+F2^[15] (på ett Mac-tangentbord, Option+
F2). Använd Vänster Alt+F1 för att växla tillbaka till själva
installationsprogrammet.

För det grafiska installationsprogrammet, se även Avsnitt 6.1.1, "Användning av
det grafiska installationsprogrammet".

Om du inte kan växla mellan konsollerna finns även alternativet Starta ett skal
i huvudmenyn som kan användas för att starta ett skal. Du kan komma till
huvudmenyn från de flesta dialoger genom att använda Bakåt-knappen en eller
flera gånger. Ange exit för att stänga skalet och återvända till
installationsprogrammet.

Vid den här tidpunkten har du startat upp från RAM-disken, och det finns en
begränsad uppsättning Unix-verktyg tillgängliga för dig. Du kan se vilka
program som finns tillgängliga med kommandot ls /bin /sbin /usr/bin /usr/sbin
och genom att skriva help. Skalet är ett Bourne-skalklon kallat ash och har
några trevliga funktioner som till exempel automatisk komplettering och
historik.

För att redigera och visa filer, använd textredigeraren nano. Loggfiler för
installationssystemet kan hittas i katalogen /var/log.

Notera

Även om du kan göra i stort sett allt ett skal som de tillgängliga kommandona
tillåter dig att göra, är alternativet att använda ett skal egentliga endast
där om någonting skulle gå fel och att du behöver felsöka.

Göra saker manuellt från skalet kan störa installationsprocessen och resultera
i fel eller en ofullständig installation. Specifikt bör du alltid låta
installationsprogrammet aktivera din växlingspartition och inte göra det själv
från ett skal.

6.3.10. Installation over network-console

En av de mer intressanta komponenterna är network-console. Den låter dig göra
en stor del av installationen över nätverket via SSH. Användningen av nätverk
antyder att du måste genomföra de första stegen av installationen från
konsollen, åtminstone till punkten där nätverket ställs in. (Dock kan du
automatisera den delen med Avsnitt 4.6, "Automatisk installation".)

Den här komponenten läses inte in i huvudmenyn som standard så du måste
specifikt begära den. Om du installerar från ett optiskt media behöver du
starta upp med mediumprioritet eller annars kan du starta huvudmenyn och välja 
Läs in installationskomponenter från installationsmedia och från listan av
ytterligare komponenter välja network-console: Fortsätt installationen genom
fjärråtkomst med SSH. En lyckad inläsning indikeras av en ny menypost kallad 
Fortsätt installationen genom fjärråtkomst med SSH.

Efter du har valt den här nya posten kommer du att bli frågad efter ett nytt
lösenord som ska användas för anslutning till installationssystemet och för att
bekräfta det. Det är allt. Nu bör du se en skärm som instruerar dig att göra en
fjärrinloggning som användaren installer med lösenordet som du precis angav. En
annan viktig detalj att notera på den här skärmen är fingeravtrycket av det här
systemet. Du behöver överföra fingeravtrycket på ett säkert sätt till personen
som kommer att fortsätta fjärrinstallationen.

Bestämmer du dig för att fortsätta med installationen lokalt kan du alltid
trycka Enter, vilket tar dig tillbaka till huvudmenyn, där du kan välja en
annan komponent.

Låt oss nu hoppa över till andra sidan av kabeln. Som en förutsättning behöver
du konfigurera din terminal för teckenkodningen UTF-8, på grund av att
installationssystemet använder den kodningen. Om du inte gör det kommer
fjärrinstallation fortfarande vara möjlig men du kommer att uppleva konstiga
skärmproblem som förstörda dialogrutor eller oläsbara tecken som inte är ascii.
Etablera en anslutning till installationssystemet är så enkelt som att ange:

$ ssh -l installer installationsvärd

Där installationsvärd är antingen namnet eller IP-adress till den dator som ska
installeras. Före den faktiska inloggningen kommer fingeravtrycket för
fjärrsystemet att visas och du behöver bekräfta att det är korrekt.

Notera

ssh-servern i installationsprogrammet använder en standardkonfiguration som
inte skickar keep-alive-paket. I princip ska en anslutning till systemet som
blir installerat hållas öppen hela tiden. Dock kan i vissa situationer --
beroende på din lokala nätverkskonfiguration -- anslutning kopplas ned efter en
viss inaktivitetsperiod. Ett vanligt fall där detta kan hända är när det finns
någon form av adressöversättning (NAT) på nätverket mellan klienten och
systemet som blir installerat. Beroende på var i installationen anslutningen
bröts så kanske du kan, eller kanske inte kan, återuppta installationen efter
ny etablering av anslutningen.

Du kanske kan förhindra att anslutningen bryts genom att lägga till flaggan
-o ServerAliveInterval=värde när ssh-anslutningen startas, eller genom att
lägga till den flaggan i din konfigurationsfil för ssh. Observera dock att i
vissa fall kan denna flagga även orsaka att en anslutning bryts (till exempel
om keep-alive-paket skickas under en kort tid med nätverkproblem, från vilken 
ssh själv skulle ha återhämtat sig), så den ska endast användas när den behövs.

Notera

Om du installerar flera datorer i turordning och de råkar ha samma IP-adress
eller värdnamn kommer ssh att vägra att ansluta till en sådan värd. Anledningen
är att den kommer att ha ett olikt fingeravtryck, vilket är ett vanligt tecken
på en spoofingattack. Om du är säker att så inte är fallet, behöver du ta bort
den relevanta raden från ~/.ssh/known_hosts^[16] och försöka igen.

Efter inloggningen kommer du att se den initiala skärmen där du har två
möjligheter kallade Starta menyn och Starta ett skal. Den första tar dig till
huvudmenyn i installationsprogrammet, där du kan fortsätta med installationen
som vanligt. Den senare startar upp ett skal från vilket du kan undersöka och
möjligen rätta till fjärrsystemet. Du bör endast starta en SSH-session för
installationsmenyn, men kan starta flera sessioner för skal.

Varning

Efter att du har startat fjärrinstallationen över SSH bör du inte gå tillbaka
till installationssessionen som kör på den lokala konsollen. Om du gör det kan
databasen som tillhandahåller konfigurationen av det nya systemet skadas. Det i
sin tur kan resultera i en misslyckad installation eller problem med det
installerade systemet.

6.4. Läsa in saknad fast programvara

Vissa enheter kräver att fast programvara läses in, vilket beskrivs i
Avsnitt 2.2, "Enheter som kräver fast programvara". I de flesta fall kommer
enheten inte att fungera alls om inte den fasta programvaran finns tillgänglig;
ibland kan grundläggande funktionalitet erbjudas om den fasta programvaran
saknas och att den fasta programvaran endast behövs för att aktivera
ytterligare funktioner.

Om en enhet begära fast programvara som inte finns tillgänglig kommer
debian-installer att visa en dialogruta som erbjuder att läsa in den saknade
fasta programvaran. Om detta alternativ väljs kommer debian-installer att söka
av tillgängliga enheter efter antingen fristående filer för fast programvara
eller paket som innehåller den fasta programvaran. Om den hittas kommer den
fasta programvaran att kopieras till den rätta platsen (/lib/firmware) och
drivrutinsmodulen kommer att läsas om.

Notera

Vilka enheter som söks av och vilka filsystem som stöds är beroende på
arkitekturen, installationsmetoden och vilket steg i installationen. Speciellt
under tidiga steg i installationen kommer inläsning av fast programvara att
fungera bäst från ett FAT-formaterat USB-minne. På i386 och amd64 kan även fast
programvara läsas in från ett MMC- eller SD-kort.

Observera att det är möjligt att hoppa över inläsning av fast programvara om du
vet att enheten kommer att fungera även utan den eller om enheten inte behövs
under installationen.

debian-installer only prompts for firmware needed by kernel modules loaded
during the installation. Not all drivers are included in debian-installer, in
particular radeon is not, so this implies that the capabilities of some devices
may be no different at the end of the installation from what they were at the
beginning. Consequently, some of your hardware may not be being used to its
full potential. If you suspect this is the case, or are just curious, it is not
a bad idea to check the output of the dmesg command on the newly booted system
and search for "firmware".

6.4.1. Förbereda ett media

Official installation images do not include non-free firmware. The most common
method to load such firmware is from some removable medium such as a USB stick.
Alternatively, unofficial installation images containing non-free firmware can
be found at https://cdimage.debian.org/cdimage/unofficial/non-free/
cd-including-firmware/. To prepare a USB stick (or other medium like a hard
drive partition), the firmware files or packages must be placed in either the
root directory or a directory named /firmware of the file system on the medium.
The recommended file system to use is FAT as that is most certain to be
supported during the early stages of the installation.

Tar-arkiv och zip filer som innehåller aktuella paket för de flesta vanliga
fasta programvaror finns tillgängliga från:

  • https://cdimage.debian.org/cdimage/unofficial/non-free/firmware/

Hämta helt enkelt ner tar-arkivet eller zip filer för den korrekta utgåvan och
packa upp den på mediats filsystem.

Om den fasta programvaran du behöver inte finns inkluderad i tar-arkivet så kan
du även hämta ner specifika paket för fast programvara från (sektionen non-free
av) arkivet. Följande översikt bör lista de flesta tillgängliga paket med fast
programvara men det garanteras inte att listan är komplett och kan även
innehålla paket som inte innehåller fast programvara:

  • https://packages.debian.org/search?keywords=firmware

Det är också möjligt att kopiera individuella filer med fast programvara i
valfritt media. Fristående fast programvara kan till exempel hämtas från ett
redan installerat system eller från maskinvarans tillverkare.

6.4.2. Fast programvara och det installerade systemet

All fast programvara som läses in under installationen kommer att automatiskt
att kopieras till det installerade systemet. I de flesta fall kommer detta att
försäkra att enheten som kräver den fasta programvaran även kommer att fungera
korrekt när systemet har startats om till det installerade systemet. Dock kan
problem uppstå med inläsning av den fasta programvaran om det installerade
systemet kör en annan kärnversion än den som användes under installationen.

Om den fasta programvaran lästes in från ett paket med fast programvara så
kommer debian-installer även att installera detta paket för det installerade
systemet och automatiskt lägga till sektionen non-free för paketarkivet i APT:s
sources.list. Detta har fördelen att den fasta programvaran kommer att
uppdateras automatiskt om en ny version blir tillgänglig.

Om inläsningen av den fasta programvaran hoppades över under installationen så
kommer den relevanta enheten antagligen inte att fungera med det installerade
systemet tills den fasta programvaran (paket) har installerats manuellt.

Notera

Om den fasta programvaran lästes in från fristående filer kommer den fasta
programvaran som kopierades till det installerade systemet inte att uppdateras
automatiskt såvida inte motsvarande paket för fast programvara (om tillgänglig)
har installerats efter att installationen färdigställdes.

6.4.3. Slutför det installerade systemet

Depending on how the installation was performed, it might be that the need for
some firmware was not detected during installation, that the relevant firmware
was not available, or that one chose not to install some firmware at that time.
In some cases, a successful installation can still end up in a black screen or
a garbled display when rebooting into the installed system. When that happens,
the following workarounds can be tried:

  • Pass the nomodeset option on the kernel command line. This might help boot
    into a "fallback graphics" mode.

  • Använd Ctrl+Alt+F2 knappkombinationen för att byta till VT2, vilket kan
    erbjuda en funktionell inloggningsprompt.

När du väl har loggat in på det installerade systemet är det möjligt att
automatisera upptäckten av saknad firmware och utföra de steg som krävs för att
aktivera dem enligt denna procedur:

 1. Installera isenkram-cli paketet.

 2. Kör isenkram-autoinstall-firmware kommandot som "root" användaren.

Vanligtvis är omstart det enklaste sättet att se till att alla kärnmoduler är
korrekt initierade. det är särskilt viktigt när man har startat upp systemet
med nomodeset alternativet som en tillfällig åtgärd.

Notera

Installing firmware packages is very likely to require enabling the non-free
section of the package archive. As of Debian GNU/Linux 11.0, running the 
isenkram-autoinstall-firmware command will do that automatically by creating a
dedicated file (/etc/apt/sources.list.d/isenkram-autoinstall-firmware.list),
pointing at a generic mirror.

6.5. Customization

Using the shell (see Avsnitt 6.3.9.2, "Användning av skalet och visning av
loggar"), the installation process can be carefully customized, to fit
exceptional use cases:

6.5.1. Installing an alternative init system

Debian uses systemd as its default init system. However, other init systems
(such as sysvinit and OpenRC) are supported, and the easiest time to select an
alternative init system is during the installation process. For detailed
instructions on how to do so, please see the Init page on the Debian wiki.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[6] I tekniska termer: där flera lokalanpassningar finns för det språket men
med olika landskoder.

^[7] At medium and low priority you can always select your preferred locale
from those available for the selected language (if there's more than one).

^[8] Legacy locales are locales which do not use UTF-8, but one of the older
standards for character encoding such as ISO 8859-1 (used by West European
languages) or EUC-JP (used by Japanese).

^[9] Installationsprogrammet kommer att kryptera LVM-volymgruppen med en 256
bitars AES-nyckel och använder kärnans stöd för "dm-crypt".

^[10] Det går faktiskt att bygga en MD-enhet även från partitioner som finns på
samma fysiska disk, men det kommer inte att ge dig några fördelar.

^[11] Att använda en lösenfras som nyckel betyder att partitionen måste
konfigureras med LUKS.

^[12] Det är dock troligt att personal från tre-bokstavs-myndigheter kan
återskapa data från magnetoptiska media även efter ett flertal överskrivningar.

^[13] Note that the program which actually installs the packages is called dpkg
. However, this program is more of a low-level tool. apt is a higher-level
tool, which will invoke dpkg as appropriate. It knows how to retrieve packages
from your installation media, the network, or wherever. It is also able to
automatically install other packages which are required to make the package
you're trying to install work correctly.

^[14] Du bör känna till att för att visa den här listan, anropar
installationsprogrammet helt enkelt programmet tasksel. Det kan köras när som
helst efter installationen för att installera (eller ta bort) fler paket, eller
så kan du använda ett mer finkornigt verktyg såsom aptitude. Om du letar efter
ett enda specifikt paket, efter att installationen är färdig, kör helt enkelt
aptitude install paket, där paket är namnet på paketet du letar efter.

^[15] Alltså: tryck ner Alt-tangenten på vänster sida av blankstegs-tangenten
och funktionstangenten F2 samtidigt.

^[16] Följande kommando kommer att ta bort en befintlig post för en värd: 
ssh-keygen -R <värdnamn|IP-adress>.

Kapitel 7. Starta upp ditt nya Debian-system

Innehållsförteckning

7.1. Sanningens minut
7.2. Montering av krypterade volymer

    7.2.1. Felsökning

7.3. Logga in

7.1. Sanningens minut

Första uppstarten av ditt nya system är vad elingenjörer kallar för "röktest".

Om du gjorde en standardinstallation, är det första du kommer att se när du
startar upp systemet, menyn för starthanteraren. De första valen i menyn kommer
att vara för ditt nya Debian-system. Om du hade några andra operativsystem på
din dator (som Windows) som identifierades av installationssystemet, kommer
dessa att listas längre ner i menyn.

Få inte panik om systemet misslyckas med att starta upp korrekt. Om
installationen lyckades är chanserna goda att det bara är ett relativt litet
problem som förhindrar systemet från att starta upp Debian. I de flesta fall
kan problem rättas till utan att behöva upprepa installationen. Ett
tillgängligt alternativ för att rätta till uppstartsproblem är att använda
installationsprogrammets inbyggda räddningsläge (se Avsnitt 8.6, "Återställning
av ett trasigt system").

Om du är nybörjare när det gäller Debian och Linux, kanske du behöver lite
hjälp från mer erfarna användare. För direkthjälp på Internet kan du prova
IRC-kanalerna #debian eller #debian-boot på OFTC-nätverket. Alternativt kan du
kontakta sändlistan debian-user. Du kan även skicka in en installationsrapport,
som beskrivs i Avsnitt 5.4.7, "Skicka installationsrapporter". Se till att du
beskriver ditt problem i detalj och inkluderar eventuella meddelanden som visas
och kan hjälpa andra att felsöka problemet.

Skicka in en installationsrapport om du har andra operativsystem på din dator
som inte identifierades eller inte identifierades korrekt.

7.2. Montering av krypterade volymer

Om du skapade krypterade volymer under installationen och tilldelade
monteringspunkter till dem, kommer du att bli efterfrågad vid uppstart om att
ange lösenfrasen för varje av dessa volymer.

För partitioner som är krypterade med dm-crypt kommer följande prompt att visas
under uppstarten:

Starting early crypto disks... del_crypt(starting)
Enter LUKS passphrase:

På första raden av prompten är del namnet på underliggande partition, t.ex.
sda2 eller md0. Du undrar kanske nu för vilken volym du faktiskt anger
lösenfrasen. Relaterar det till /home? Eller till /var? Om du bara skapade en
krypterad volym är detta enkelt och du behöver bara ange lösenfrasen som du
angav för den volymen. Om du har skapat fler än en krypterad volym under
installationen kan anteckningarna du skrev ner i sista steget i
Avsnitt 6.3.4.6, "Konfigurera krypterade volymer" komma till hands. Om du inte
antecknade relationerna mellan cryptX och monteringspunkterna kan du
fortfarande hitta dem i /etc/crypttab och /etc/fstab på ditt nya system.

Prompten kan se annorlunda ut när ett krypterat rotfilsystem monteras. Detta
beror på vilken initramfs-generator som användes för att generera den initrd
som används för att starta upp systemet. Exemplet nedan är för en initrd som
genererats med initramfs-tools:

Begin: Mounting root file system... ...
Begin: Running /scripts/local-top ...
Enter LUKS passphrase:

Inga tecken (inte ens stjärnor) kommer att visas när lösenfrasen matas in. Om
du matar in fel lösenfras har du ytterligare två försök till att mata in den
korrekta lösenfrasen. Efter det tredje försöket kommer uppstartsprocessen att
hoppa över denna volym och fortsätta montera nästa filsystem. Se Avsnitt 7.2.1,
"Felsökning" för ytterligare information.

Efter att alla lösenfraser har matats in ska uppstarten fortsätta som normalt.

7.2.1. Felsökning

Om någon av de krypterade volymerna inte kunde monteras på grund av att en
felaktig lösenfras matades in, kan du montera dem manuellt efter uppstart. Det
finns ett flertal olika situationer.

  • Det första fallet gäller rotpartitionen. När den inte har monterats korrekt
    kommer uppstartsprocessen att stanna och du måste då starta om datorn och
    försöka igen.

  • Det enklaste fallet är för krypterade volymer som innehåller data som /home
    eller /srv. Du kan helt enkelt montera dem manuellt efter uppstarten.

    För dm-crypt är detta lite svårare. Först behöver du registrera volymerna
    med device mapper genom att köra:

    # /etc/init.d/cryptdisks start

    Detta kommer att söka av alla volymer som angivits i /etc/crypttab och
    skapa lämpliga enheter under katalogen /dev efter att de korrekta
    lösenfraserna har angivits. (Redan registrerade volymer kommer att hoppas
    över så att du kan upprepa detta kommando flera gånger utan att vara
    orolig.) Efter en lyckad registrering kan du helt enkelt montera volymerna
    på vanligt sätt:

    # mount /monteringspunkt

  • Om någon volym som innehåller ickekritiska systemfiler inte kan monteras (/
    usr eller /var), ska systemet fortfarande kunna starta upp och du bör kunna
    montera volymerna manuellt precis som i föregående situation. Dock behöver
    du även starta (om) de tjänster som normalt kör i din standardkörnivå på
    grund av att det är mycket sannolikt att de inte startades. Det enklaste
    sättet är att bara starta om datorn.

7.3. Logga in

När ditt system startar upp kommer du bli presenterad med inloggningsprompten.
Logga in med ditt personliga användarnamn och lösenord som du valde under
installationsprocessen. Ditt system är nu färdigt att användas.

Om du är en ny användare kanske du vill utforska dokumentationen som redan
finns installerad på ditt system när du börjar använda det. Det finns för
närvarande flera dokumentationssystem, men arbete fortgår på att integrera de
olika dokumentationstyperna. Här är ett par startpunkter.

Dokumentation som följer med program och andra paket som du du har installerat
kan hittas i /usr/share/doc/, i en katalog med samma namn som programmet (eller
rättare sagt, Debian-paketet som innehåller programmet). Dock är mer detaljerad
dokumentation ofta paketerad separat i speciella dokumentationspaket som oftast
inte blir installerade som standard. Till exempel kan dokumentation om
pakethanteringsverktyget apt hittas i paketen apt-doc eller apt-howto.

I tillägg finns det några speciella mappar i hierarkin /usr/share/doc/. Ett
flertal Linux HOWTO finns installerade i .gz-formatet, under /usr/share/doc/
HOWTO/en-txt/. Efter installation av dhelp kommer du att hitta ett
bläddringsbart dokumentationsindex i /usr/share/doc/HTML/index.html.

Ett enkelt sätt att visa dessa dokument med en textbaserad webbläsare är att
köra följande kommandon:

$ cd /usr/share/doc/
$ w3m .

Punkten efter kommandot w3m talar om för det att visa innehållet i den aktuella
katalogen.

Om du har en grafisk skrivbordsmiljö installerad, kan du även använda dess
grafiska webbläsare. Starta webbläsaren från programmenyn och skriv in /usr/
share/doc/ i adressfältet.

Du kan också skriva info kommando eller man kommando för att se dokumentationen
för de flesta tillgängliga kommandon på kommandoprompten. Skriva help kommer
att visa hjälp om skalkommandon. Skriva ett kommando följt av --help visar
vanligtvis kortfattad information om hur kommandot används. Om ett kommandos
resultat rullar förbi på skärmen, skriv | more efter kommandot för att pausa
resultatet före det rullar förbi på skärmen. För att se en lista på alla
tillgängliga kommandon som börjar med en speciell bokstav, skriv bokstaven och
tryck sedan två gånger på tabulatortangenten.

Kapitel 8. Nästa steg och hur man ska gå vidare

Innehållsförteckning

8.1. Stänga av systemet
8.2. Orientera dig runt i Debian

    8.2.1. Debians paketsystem
    8.2.2. Ytterligare mjukvara tillgängligt för Debian
    8.2.3. Hantera programversioner
    8.2.4. Hantera cronjobb

8.3. Ytterligare läsning och information
8.4. Konfigurera ditt system att använda e-post

    8.4.1. Standardkonfiguration för e-post
    8.4.2. Skicka e-post utanför systemet
    8.4.3. Konfigurera e-postservern Exim4

8.5. Bygg en ny kärna
8.6. Återställning av ett trasigt system

8.1. Stänga av systemet

För att stänga av ett körande Debian GNU/Linux-system ska du inte starta om med
reset-knappen på fram- eller baksidan av din dator, eller helt enkelt stänga av
datorn. Debian GNU/Linux bör stängas ner på ett kontrollerat sätt, annars kan
filer gå förlorade eller hårddisken bli skadad. Om du kör en skrivbordsmiljö
finns det ofta ett alternativ tillgängligt för att "logga ut" från programmenyn
som låter dig stänga av (eller starta om) systemet.

Alternativt kan du trycka på tangentkombinationen Ctrl+Alt+Del . Om
tangentkombinationerna inte fungerar är ett sista alternativ att logga in som
root och skriva in nödvändiga kommandon. Använd reboot för att starta om
systemet. Använd halt för att stoppa systemet utan att stänga av det ^[17]. För
att stänga av maskinen, använd poweroff eller shutdown -h now. Systemd
init-systemet ger ytterligare kommandon som utför samma funktioner; till
exempel systemctl reboot eller systemctl poweroff.

8.2. Orientera dig runt i Debian

Debian är lite olik från övriga distributioner. Även om du känner till Linux i
andra distributioner är det några saker du bör känna till om Debian för att
hjälpa dig att behålla ditt system i gott skick. Det här kapitlet innehåller
material för att hjälpa dig att ta dig fram i systemet; det är inte menat att
vara en hjälp för att använda Debian utan helt enkelt en kort sammanfattning av
systemet för de som har bråttom.

8.2.1. Debians paketsystem

Det viktigaste konceptet att få grepp om är Debians paketsystem. Stora delar av
ditt system bör anses vara under paketsystemets kontroll. Dessa inkluderar:

  • /usr (undantaget /usr/local)

  • /var (inga filer från paket placeras i /var/local, varför detta går att
    använda till lokala kataloger och filer)

  • /bin

  • /sbin

  • /lib

Till exempel om du ersätter /usr/bin/perl kommer det att fungera men om du
uppgraderar ditt perl-paket kommer filen du placerade där att ersättas.
Experter kan komma runt det här genom att "hålla kvar" paket i aptitude.

En av de bästa installationsmetoderna är apt. Du kan använda
kommandoradsversionen av apt samt verktyg som aptitude eller synaptic (som bara
är grafiska klienter för apt). Observera att apt också låter dig slå samman
main, contrib och non-free så att du kan ha begränsade paket (som strängt taget
inte tillhör Debian) samt paket från Debian GNU/Linux på samma gång.

8.2.2. Ytterligare mjukvara tillgängligt för Debian

Det finns officiella och icke-officiella mjukvaruförråd som inte är aktiverade
i som standard vid intallation av Debian. Dessa innehåller mjukvara som många
tycker är viktiga och förväntar sig att ha. Information om dessa ytterligare
förråd kan hittas på wikisidan med titeln The Software Available for Debian's
Stable Release.

8.2.3. Hantera programversioner

Alternativa versioner av programmen hanteras av update-alternatives. Om du
hanterar ett flertal versioner av dina program, läs manualsidan för
update-alternatives.

8.2.4. Hantera cronjobb

Alla jobb under systemadministratörens ansvar bör ligga i /etc eftersom de är
konfigurationsfiler. Om root har ett cronjobb för dagliga, veckomässiga eller
månatliga körningar, lägg dem i /etc/cron.{daily,weekly,monthly}. Dessa startas
från /etc/crontab och kommer att köras i alfabetisk ordning.

Men om du har ett cronjobb som (a) behöver köras som en speciell användare,
eller (b) behöver köras vid en speciell tidpunkt eller frekvens, kan du
antingen använda /etc/crontab, eller ännu bättre, /etc/cron.d/vadsomhelst.
Dessa speciella filer har också ett extra fält som låter dig bestämma under
vilket användarkonto som cronjobbet ska köras.

I annat fall kan du bara redigera filerna och cron kommer att upptäcka dem
automatiskt. Det finns inget behov att köra ett speciellt kommando. För mer
information, se manualsidorna cron(8), crontab(5) och /usr/share/doc/cron/
README.Debian.

8.3. Ytterligare läsning och information

Debians webbplats innehåller en mängd dokumentation om Debian. Se gärna Debian
GNU/Linux FAQ och Debian Reference. Ett index av mera Debian-dokumentation är
tillgänglig från Debians dokumentationsprojekt. Debians gemenskap är
självförsörjande; för att prenumerera på en eller flera av Debians sändlistor,
se webbsidan Prenumerera på sändlistor. Sist men inte minst, Debian Mailing
List Archives innehåller mycket värdefull information om Debian.

Om du behöver information om ett speciellt program bör du först prova man 
program eller info program.

Det finns också en mängd användbar dokumentation i /usr/share/doc. Speciellt /
usr/share/doc/HOWTO och /usr/share/doc/FAQ innehåller mycket intressant
information. För att skicka in felrapporter, ta en titt på /usr/share/doc/
debian/bug*. För att läsa om Debian-specifika problem för specifika program, ta
en titt på /usr/share/doc/(paketnamn)/README.Debian.

En allmän källa för information för GNU/Linux är webbplatsen för Linux
Documentation Project. Där kan du hitta HOWTO-dokument och pekare till annan
mycket värdefull information om delar av GNU/Linux-systemet.

Linux är en implementering av Unix. Linux Documentation Project (LDP) samlar in
ett antal HOWTO: er och onlineböcker som rör Linux.

Om du är nybörjare i Unix-världen bör du antagligen gå ut och köpa några böcker
att läsa. Den här listan av Unix FAQ innehåller ett antal av UseNet-dokument
som ger trevliga historiska referenser.

8.4. Konfigurera ditt system att använda e-post

Idag är e-post en viktig del av många personers liv. Eftersom det finns många
alternativ för hur man gör konfigurationen, och eftersom det är viktigt för
några Debian-verktyg att den är rätt konfigurerad, kommer vi försöka att täcka
in grunderna i det här avsnittet.

Det finns tre huvudfunktioner som definierar ett e-postsystem. Först är det
e-postklienten (MUA) som är det program som en användare använder för att
skriva och läsa e-post. Sedan är det Mail Transfer Agent (MTA) som tar hand om
överföringen av meddelanden från en dator till en annan. Till sist är det Mail
Delivery Agent (MDA) som tar hand om leveransen av inkommande e-post till
användarens inkorg.

Dessa tre funktioner kan genomföras av separata program, men de kan även
kombineras till ett eller två program. Det är också möjligt att ha olika
program som hanterar dessa funktioner för olika typer av e-post.

På Linux- och Unix-system är mutt historiskt sett en mycket populär
e-postklient. Som de flesta traditionella Linux-program är den textbaserad. Den
används ofta i kombination med exim eller sendmail som MTA och procmail som
MDA.

Med den ökande populariteten för grafiska skrivbordssystem, har användningen av
grafiska e-postprogram som GNOME:s evolution, KDE:s kmail eller Mozilla:s 
thunderbird blivit mer populär. Dessa program kombinerar funktionerna av en
MUA, MTA och MDA, men kan -- och används ofta -- i kombination med de
traditionella Linux-verktygen.

8.4.1. Standardkonfiguration för e-post

Även om du planerar att använda ett grafiskt e-postprogram, skulle det vara
användbart att ha en traditionell MTA/MDA installerad och rätt konfigurerad på
ditt Debian GNU/Linux-system. Anledningen är att olika verktyg som kör på
systemet^[18] kan skicka viktiga notifieringar via e-post för att informera
systemadministratören om (potentiella) problem eller ändringar.

För detta kan du installera exim4 och mutt med apt install exim4 mutt. exim4 är
en kombination av MTA/MDA som är relativt liten men mycket flexibel. Den kommer
som standard att konfigureras för att endast hantera e-post lokalt till själva
systemet, och e-post adresserad till systemadministratören (root-kontot) kommer
att levereras till det vanliga användarkontot som skapades under installationen
^[19].

När e-post från systemet levereras kommer de att läggas till i en fil i /var/
mail/kontonamn. E-postmeddelandena kan läsas med mutt.

8.4.2. Skicka e-post utanför systemet

Som tidigare nämnts, är det installerade Debian-systemet endast konfigurerat
att hantera e-post lokalt för systemet, inte för att skicka e-post till andra
eller för att ta emot post från andra.

Om du vill att exim4 ska hantera extern e-post, referera till nästa
underavsnitt för de grundläggande konfigurationsalternativen. Se till att testa
att post kan skickas och tas emot korrekt.

Om du tänker använda ett grafiskt e-postprogram och använda en e-postserver hos
din Internetleverantör (ISP) eller ditt företag, finns det egentligen inget
behov att konfigurera exim4 till att hantera extern e-post. Konfigurera helt
enkelt ditt grafiska favoritpostprogram till att använda de rätta servrarna
till att skicka och ta emot e-post (hur man gör det är utanför omfånget för den
här handboken).

Men om så är fallet behöver du konfigurera individuella verktyg till att
korrekt skicka e-post. Ett sådant verktyg är reportbug, ett program som
hanterar insändandet av felrapporter mot Debian-paket. Det förväntar sig som
standard att kunna använda exim4 för att skicka in felrapporter.

För att korrekt konfigurera reportbug till att använda en extern e-postserver,
kör kommandot reportbug --configure och svara "nej" på frågan om en MTA finns
tillgänglig. Du kommer då att bli frågad efter den SMTP-server som ska användas
för att skicka in felrapporter.

8.4.3. Konfigurera e-postservern Exim4

Om du vill att ditt system även ska hantera extern e-post, behöver du
konfigurera om paketet exim4^[20]:

# dpkg-reconfigure exim4-config

Efter det kommandot har angivits (som root), kommer du att bli frågad om du
vill dela upp konfigurationen i mindre filer. Välj standardalternativet om du
är osäker.

Härnäst kommer du att bli presenterad med flera vanliga postscenarior. Välj det
alternativ som bäst återspeglar dina behov.

internetsystem

    Ditt system är anslutet till ett nätverk och din e-post skickas och tas
    emot direkt via SMTP. På de efterföljande skärmarna kommer du bli frågad en
    del enkla frågor, såsom postnamnet för din maskin, eller en lista på
    domäner för vilka du tar emot eller vidaresänder post.

e-post skickad av smart värd

    I det här scenariot kommer din utgående post att vidarebefordras till en
    annan maskin, en så kallad "smart värd" (smarthost), som tar hand om
    sändningen av meddelandet till dess mål. Den smarta värden lagrar
    vanligtvis inkommande post som är adresserad till din dator, så att du inte
    behöver vara permanent ansluten. Det betyder också att du måste hämta din
    e-post från den smarta värden med program som till exempel fetchmail.

    I många fall kommer den smarta värden att vara din Internetleverantörs
    e-postserver, vilket gör det här alternativ mycket lämpligt för användare
    med uppringd anslutning. Den kan även vara ett företags e-postserver, eller
    till och med ett annat system på ditt egna nätverk.

e-post skickad av smart värd; ingen lokal post

    Det här alternativet är i stort sett samma som det föregående, förutom att
    systemet inte kommer att konfigureras till att hantera post för en lokal
    e-postdomän. Post på själva systemet (t.ex. för systemadministratören)
    kommer fortfarande att hanteras.

endast lokal leverans

    Det här alternativet har ditt system konfigurerats med som standard.

ingen konfiguration för närvarande

    Välj den här om du är absolut säker på att du vet vad du gör. Det innebär
    att du kommer att ha ett okonfigurerat e-postsystem -- tills du
    konfigurerar det, du kommer inte att kunna ta emot eller skicka någon post
    och du kan missa viktiga meddelanden från dina systemverktyg.

Om inget av dessa scenarior passar dina behov, eller om du behöver en mer
finmaskig konfiguration, behöver du redigera konfigurationsfilerna i katalogen
/etc/exim4 efter att installationen är färdig. Mer information om exim4 kan
hittas i /usr/share/doc/exim4; filen README.Debian.gz har ytterligare detaljer
om hur man konfigurerar exim4 och förklarar var man kan hitta ytterligare
dokumentation.

Observera att sändning av post direkt till Internet, när du inte har ett
officiellt domännamn, kan resultera i att din post avvisas på grund av
skräppostfunktioner på mottagande servrar. Användning av din
Internetleverantörs e-postserver är att föredra. Om du fortfarande vill skicka
ut post direkt, kanske du vill använda en annan e-postadress än den som
genereras som standard. Om du använder exim4 som din MTA, är det här möjligt
genom att lägga till en post i /etc/email-addresses.

8.5. Bygg en ny kärna

Varför skulle någon vilja sammanställa en ny kärna? Det är förmodligen inte
nödvändigt eftersom standardkärnan som levereras med Debian hanterar nästan
alla konfigurationer.

Om du ändå vill kompilera en egen kärna är detta förstås möjligt och vi
rekommenderar att du använder "make deb-pkg" målet. För mer information, läs
Debian Linux kernel Handbook.

8.6. Återställning av ett trasigt system

Ibland går saker och ting fel och systemet du noga installerat inte kan startas
upp. Kanske är konfigurationen för starthanteraren trasig efter att ha provat
ut en ändring, kanske startar inte den nya kärnan du installerat eller kanske
kosmiska strålar träffat din disk och vänt på en bit i /sbin/init. Oavsett
anledning behöver du ett fungerande system under tiden du reparerar felet och
räddningsläget kan då vara användbart för det här.

För att komma åt räddningsläget, välj rescue från uppstartsmenyn, ange rescue
vid prompten boot: eller starta med startparametern rescue/enable=true. Du
kommer då att visas de första skärmarna av installationsprogrammet med en
notering i skärmhörnet som indikerar att den körs i räddningsläget och inte en
full installation. Var lugn, ditt system kommer inte att skrivas över!
Räddningsläget använder helt enkelt fördelarna av funktionerna för
identifiering av maskinvara som är tillgängliga i installationsprogrammet för
att vara säker på att dina diskar, nätverksenheter och så vidare är
tillgängliga för dig under tiden du reparerar ditt system.

Istället för partioneringsverktyget bör du nu presenteras med en lista över
partitionerna på ditt system och bli frågad att välja en av dem. Normalt sett
bör du välja partitionen som innehåller rotfilsystemet du behöver reparera. Du
kan välja partitioner på RAID- och LVM-enheter såväl som de som skapas direkt
på diskarna.

Om möjligt kommer installationsprogrammet nu att ge dig en skalprompt i
filsystemet du valt, vilket du kan använda för att genomföra nödvändiga
reparationer. Till exempel om du behöver installera om starthanteraren GRUB
till huvudstartsektorn på första hårddisken kan du ange kommandot grub-install
'(hd0)' för att göra det här.

Om installationsprogrammet inte kan köra ett användbart skal i rotfilsystemet
du valt, det kanske beror på att filsystemet innehåller fel, kommer den att
skriva ut en varning och efter det ge dig ett skal i installationsprogrammets
miljö istället. Du kanske inte har så många verktyg tillgängliga i denna miljö
men de räcker ofta för att laga ditt system. Rotfilsystemet du valt kommer att
monteras på katalogen /target.

Oavsett vilket, efter du har avslutat skalet kommer systemet att startas om.

Till slut, observera att det kan vara svårt att reparera trasiga system och
denna handbok försöker inte att gå in så djupt i alla saker som kan ha gått fel
och hur man rättar till dem. Om du har problem, konsultera en expert.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[17] Under SysV init systemet hade halt samma effekt som poweroff, men med
systemd som init system (standard sedan Jessie) är deras effekter olika.

^[18] Exempel är: cron, quota, logcheck, aide, ...

^[19] Vidarebefordring av e-post för root till det vanliga användarkontot
konfigureras i /etc/aliases. Om inget vanligt användarkonto skapades, kommer
posten så klart att levereras till själva root-kontot.

^[20] Du kan så klart också ta bort exim4 och ersätta det med en alternativ MTA
/MDA.

Appendix A. Installationshjälp

Innehållsförteckning

A.1. Förberedelser
A.2. Starta upp installationsprogrammet

    A.2.1. Optisk skiva
    A.2.2. USB-minne
    A.2.3. Uppstart från nätverk
    A.2.4. Uppstart från hårddisk

A.3. Installation
A.4. Sänd oss en installationsrapport
A.5. Och till slut...

Det här dokumentet beskriver hur man installerar Debian GNU/Linux bullseye för 
64-bit PC ("amd64") med den nya debian-installer. Det här är en snabb genomgång
av installationsprocessen vilken bör innehålla all information du behöver för
de flesta typer av installationer. När mer information är användbart kommer vi
att länka till mer detaljerade förklarningar i andra delar av det här
dokumentet.

A.1. Förberedelser

Om du påträffar fel under din installation, referera till Avsnitt 5.4.7,
"Skicka installationsrapporter" för instruktioner om hur man rapporterar dem.
Om du har frågor som inte kan bli besvarade av det här dokumentet, skicka dem
gärna till sändlistan debian-boot (debian-boot@lists.debian.org) eller fråga på
IRC (#debian-boot på OFTC-nätverket).

A.2. Starta upp installationsprogrammet

Debian-cd-teamet ger ut färdiga installationsavbildningar med debian-installer
på sidan Debian GNU/Linux på CD/DVD. För mer information om var man får tag på
installationsavbildningar, se Avsnitt 4.1, "Officiella Debian GNU/Linux
installationsavbildningar".

Vissa installationsmetoder kräver andra avbildningar än för optiska medier.
Avsnitt 4.2.1, "Var man får tag på installationsfiler" beskriver hur man hittar
avbildningar på Debian-speglar.

Underavsnitten nedan ger detaljer om vilka avbildningar du bör hämta för varje
tänkbar installation.

A.2.1. Optisk skiva

Netinst CD-avbildningen är en populär avbildning som kan användas för att
installera bullseye med debian-installer. Denna installationsmetod är avsedd
att starta från avbildningen och installera ytterligare paket över ett nätverk;
därmed namnet "netinst". Avbildningen har de programvarukomponenter som behövs
för att köra installationsprogrammet och baspaketen för att ge ett minimalt
bullseye system. Om du hellre vill kan du få en CD/DVD-avbild i full storlek
som inte behöver nätverket för att installera. Du behöver bara den första
avbildningen av en sådan uppsättning.

Hämta den typ du föredrar och bränn den till en optisk skiva. För att starta
skivan kanske du behöver att ändra din BIOS/UEFI-konfiguration som förklaras i
Avsnitt 3.6.1, "Starta BIOS/UEFI-inställningsmenyn".

A.2.2. USB-minne

Det är också möjligt att installera från en flyttbar USB-lagringsenhet. Till
exempel kan en USB-nyckelring vara ett händigt lagringsmedia att installera
Debian från och som du kan ta med dig överallt.

Det enklaste sättet att förbereda ditt USB-minne är att hämta en Debian CD-
eller DVD-avbildning som får plats på det och skriva CD-avbildningen direkt
till minnet. Så klart kommer det här att förstöra allt som redan finns på
minnet. Detta fungerar eftersom Debian CD/DVD-avbildningar är "isohybrid" som
kan startas både från optiska och USB-enheter.

Det finns andra, mer flexibla sätt att ställa in ett minne för användning av
Debian-installer och det är möjligt att få det att fungera med mindre minnen.
För detaljer, se Avsnitt 4.3, "Förbereda filer för uppstart med USB-minne".

While booting from USB storage is quite common on UEFI systems, this is
somewhat different in the older BIOS world. Some BIOSes can boot USB storage
directly, and some cannot. You may need to configure your BIOS/UEFI to enable "
USB legacy support" or "Legacy support". The boot device selection menu should
show "removable drive" or "USB-HDD" to get it to boot from the USB device. For
helpful hints and details, see Avsnitt 5.1.1, "Uppstart från USB-minne".

A.2.3. Uppstart från nätverk

Det är också möjligt att starta upp debian-installer helt från nätverket. De
olika metoderna att nätstarta beror på din arkitektur och
nätstartskonfiguration. Filerna i netboot/ kan användas för att nätstarta
debian-installer.

Det enklaste sättet att konfigurera är antagligen nätstart via PXE. Packa upp
filen netboot/pxeboot.tar.gz till /srv/tftp eller där det är lämpligast för din
tftp-server. Ställ in din DHCP-server att skicka filnamnet pxelinux.0 till
klienterna och med lite tur bör allt fungera. För detaljerade instruktioner, se
Avsnitt 4.5, "Förbered filerna för nätverksuppstart via TFTP".

A.2.4. Uppstart från hårddisk

Det är möjligt att starta installationsprogrammet utan flyttbart media men bara
med en befintlig hårddisk som kan innehålla ett annat operativsystem. Hämta
hd-media/initrd.gz, hd-media/vmlinuz och en Debian CD/DVD-avbildning till
toppnivåkatalogen av hårddisken. Se till att avbilden har ett filnamn som
slutar på .iso. Nu är det bara att starta linux med initrd. Avsnitt 5.1.5,
"Uppstart från Linux med GRUB" beskriver ett sätt att göra det på.

A.3. Installation

När installationsprogrammet har startat kommer du bli hälsad med en startskärm.
Tryck Enter för uppstart, eller läs instruktionerna för de andra
uppstartsmetoderna och parametrar (se Avsnitt 5.3, "Uppstartsparametrar").

Efter ett tag kommer du bli frågad att välja ditt språk. Använd piltangenterna
för att välja ett språk och tryck Enter för att fortsätta. Efter det kommer du
bli frågad att välja ditt land med de val som inkluderar länder där ditt språk
talas. Om det är inte är på den korta listan finns en lista över alla länder i
världen.

Du kan bli frågad att bekräfta ditt tangentbordarrangemang. Välj den förvalda
om du är osäker.

Nu är det bara att luta sig tillbaka under tiden Debian-installeraren
identifierar din maskinvara och läser in resten av installationsavbildningen.

Efter det kommer installationsprogrammet att försöka att identifiera din
nätverksmaskinvara och ställa in nätverket via DHCP. Om du inte är ansluten
till ett nätverk eller inte har DHCP har du getts möjligheten att konfigurera
nätverket manuellt.

Inställningen av nätverket följs av skapandet av användarkonton. Som standard
ombeds du att ange ett lösenord för "root" (administratör) -kontot och
information som krävs för att skapa ett vanligt användarkonto. Om du inte anger
ett lösenord för "root" -användaren kommer detta konto att inaktiveras men
paketet sudo kommer att installeras senare så att administrativa uppgifter kan
utföras på det nya systemet. Som standard tillåts den första användaren som
skapats i systemet att använda kommandot sudo för att bli root.

Nästa steg är att konfigurera din klocka och tidszon. Installationsprogrammet
kommer att försöka att kontakta en tidsserver på Internet för att försäkra sig
om att klockan ställs in korrekt. Tidszonen baseras på det land som tidigare
valts och installationsprogrammet kommer endast att fråga om att välja en
tidszon om ett land har flera olika zoner.

Nu är det dags att partitionera dina diskar. Först kommer du få möjligheten att
automatiskt partitionera, antingen en hel disk eller ledigt utrymme på en disk
(se Avsnitt 6.3.4.2, "Guidad partitionering").. Det här rekommenderas för nya
användare eller de som har bråttom. Om du inte vill partitionera automatiskt,
välj Manuell från menyn.

Om du har en befintlig DOS- eller Windows-partition som du vill behålla, var
väldigt försiktig med automatisk partitionering. Om du väljer manuell
partitionering kan du använda installationsprogrammet för att ändra storlek på
existerande FAT eller NTFS-partitioner för att skapa plats åt
Debian-installationen: välj helt enkelt partitionen och ange dess nya storlek.

På nästa skärm kan du se din partitionstabell, hur partitionerna kommer att
formateras och var de kommer att monteras. Välj en partition att ändra eller ta
bort. Om du använde automatisk partitionering bör du kunna välja Slutför
partitioneringen och skriv ändringarna till hårddisken från menyn för att
använda det som ställts in. Kom ihåg att tilldela åtminstone en partition som
växlingsutrymme och att montera en partition på /. För mer detaljerad
information om hur du använder partitioneraren, se Avsnitt 6.3.4,
"Partitionering och val av monteringspunkter"; bilagan Appendix C, Partitionera
för Debian har mer allmän information om partitionering.

Nu kommer debian-installer att formatera dina partitioner och börja installera
grundsystemet, vilket kan ta lite tid. Det här följs av installation av kärnan.

Grundsystemet som blev installerat tidigare är en fungerande men mycket minimal
installation. Nästa steg låter dig installera ytterligare paket genom att välja
olika funktioner som ditt system ska utföra för att göra systemet mer
funktionellt. Innan paketen kan installeras behöver apt konfigureras eftersom
den definierar var paketen ska hämtas från. Funktionen "Standardsystem" kommer
som standard att väljas och bör vanligtvis installeras. Välj funktionen "
Skrivbordsmiljö" om du vill använda ett grafiskt skrivbord efter
installationen. Se Avsnitt 6.3.6.2, "Val och installation av programvara" för
ytterligare information om det här steget.

Det sista steget är att installera en starthanterare. Om
installationsprogrammet identifierar andra operativsystem på din dator kommer
den att lägga till de i uppstartsmenyn och informera dig. Som standard kommer
GRUB att installeras i UEFI-partionens boot-fält på den första diskenheten som
normalt sett är ett bra val. Du kommer att ges möjligheten att åsidosätta det
valet och installera den någon annanstans.

debian-installer kommer nu att berätta för dig att installation är
färdigställd. Mata ut cd-skivan eller andra uppstartsmedia och tryck Enter för
att starta om din maskin. Den bör starta upp till det nyligen installerade
systemet där du kan logga in. Det här förklaras mer i Kapitel 7, Starta upp
ditt nya Debian-system.

Om du behöver mer information om installationsprocessen, se Kapitel 6, 
Användning av Debian Installer.

A.4. Sänd oss en installationsrapport

Om du lyckades att göra en installation med debian-installer, ta dig gärna tid
att skicka in en rapport till oss. Det enklaste sättet att göra det på är att
installera paketet reportbug (apt install reportbug), konfigurera reportbug
vilket förklaras i Avsnitt 8.4.2, "Skicka e-post utanför systemet", och köra 
reportbug installation-reports.

Om du inte färdigställde installation har du möjligen hittat ett fel i
Debian-installer. För att förbättra installationsprogrammet är det nödvändigt
att vi känner till dessa fel, så ta dig tid att rapportera dem. Du kan använda
en installationsrapport för att rapportera problem; om installationen totalt
misslyckades, se Avsnitt 5.4.6, "Rapportering av installationsproblem".

A.5. Och till slut...

Vi hoppas att din Debian-installation känns bra och att du tycker att Debian är
användbar. Du kanske även vill läsa Kapitel 8, Nästa steg och hur man ska gå
vidare.

Appendix B. Automatiserad installation med förinställningar

Innehållsförteckning

B.1. Introduktion

    B.1.1. Metoder för förinställning
    B.1.2. Begränsningar

B.2. Användning av förinställningar

    B.2.1. Inläsning av förkonfigurationsfilen
    B.2.2. Användning av uppstartsparametrar för att förinställa frågor
    B.2.3. Auto-läget
    B.2.4. Användbara alias vid förinställning
    B.2.5. Examples of boot prompt preseeding
    B.2.6. Använd en DHCP-server för att ange förkonfigurationsfiler

B.3. Skapa en förkonfigurationsfil
B.4. Innehållet av en förkonfigurationsfil (för bullseye)

    B.4.1. Lokalanpassning
    B.4.2. Nätverkskonfiguration
    B.4.3. Nätverkskonsoll
    B.4.4. Spegelinställningar
    B.4.5. Kontoinställning
    B.4.6. Inställning av klocka och tidszon
    B.4.7. Partitionering
    B.4.8. Installation av grundsystem
    B.4.9. Apt-inställning
    B.4.10. Paketval
    B.4.11. Installation av starthanteraren
    B.4.12. Färdigställande av installationen
    B.4.13. Förinställning av andra paket

B.5. Avancerade inställningar

    B.5.1. Kör anpassade kommandon under installationen
    B.5.2. Användning av förinställningar för att ändra på standardvärden
    B.5.3. Kedjeinläsning av förkonfigurationsfiler

Den här bilagan förklarar hur man förinställer svar på frågor i
debian-installer för att automatisera din installation.

Konfigurationsdelarna som används i den här bilagan finns även tillgängliga som
exempelfiler för förkonfiguration från ../example-preseed.txt.

B.1. Introduktion

Förinställningar ger ett sätt att ställa in svar på frågor som ställs under
installationsprocessen, utan att manuellt behöva ange svaren under tiden
installationen körs. Det här gör det möjligt att fullständit automatisera de
flesta typer av installationer och erbjuder även vissa funktioner som inte
finns tillgängliga vid normala installationer.

Förinställning är inte nödvändigt. Om du använder en tom förinställningsfil
kommer installationsprogrammet att uppträda på samma sätt som vid en vanlig
manuell installation. Varje fråga som du förinställer kommer (om du har gjort
rätt!) ändra installationen på något sätt från den grundregeln.

B.1.1. Metoder för förinställning

Det finns tre metoder som kan användas för förinställning: initrd, fil och
nätverk. Förinställning med initrd fungerar med alla installationsmetoder och
har stöd för förinställningar av fler saker, men den kräver den största
förberedelsen. Förinställning med fil och nätverk kan användas med olika
installationsmetoder.

Följande tabell visar vilka förinställningsmetoder som kan användas med vilka
installationsmetoder.

┌─────────────────────────────────────────────────┬─────────┬─────┬───────────┐
│               Installationsmetod                │ initrd  │ fil │  nätverk  │
├─────────────────────────────────────────────────┼─────────┼─────┼───────────┤
│CD/DVD/USB                                       │ja       │ja   │ja^[a]     │
├─────────────────────────────────────────────────┼─────────┼─────┼───────────┤
│nätuppstart                                      │ja       │nej  │ja         │
├─────────────────────────────────────────────────┼─────────┼─────┼───────────┤
│hd-media (inklusive USB-minne)                   │ja       │ja   │ja^[a]     │
├─────────────────────────────────────────────────┴─────────┴─────┴───────────┤
│^[a] men endast om du har nätverksåtkomst, och ställer in preseed/url på     │
│lämpligt sätt                                                                │
└─────────────────────────────────────────────────────────────────────────────┘

An important difference between the preseeding methods is the point at which
the preconfiguration file is loaded and processed. For initrd preseeding this
is right at the start of the installation, before the first question is even
asked. Preseeding from the kernel command line happens just after. It is thus
possible to override configuration set in the initrd by editing the kernel
command line (either in the bootloader configuration or manually at boot time
for bootloaders that allow it). For file preseeding this is after the
installation image has been loaded. For network preseeding it is only after the
network has been configured.

Viktigt

Obviously, any questions that have been processed before the preconfiguration
file is loaded cannot be preseeded (this will include questions that are only
displayed at medium or low priority, like the first hardware detection run). A
not so convenient way to avoid these questions from being asked is to preseed
them through the boot parameters, as described in Avsnitt B.2.2, "Användning av
uppstartsparametrar för att förinställa frågor".

För att enkelt förhindra frågorna som vanligtvis visas innan förinställningen
sker, kan du starta installationsprogrammet i "auto"-läget. Det här fördröjer
frågor som vanligtvis skulle ställas för tidigt för förinställning (alltså
språk, land och tangentbordsval) tills efter nätverket har konfigurerats,
vilket tillåter dem att bli förinställda. Det kan även köra installationen i
kritisk prioritet, vilket undviker många oviktiga frågor. Se Avsnitt B.2.3,
"Auto-läget" för detaljer.

B.1.2. Begränsningar

Även om de flesta frågor som används av debian-installer kan förinställas med
den här metoden finns det vissa undantag. Du måste partitionera (om) en hel
disk eller använda tillgängligt ledigt utrymme på en disk; det är inte möjligt
att använda befintliga partitioner.

B.2. Användning av förinställningar

You will first need to create a preconfiguration file and place it in the
location from where you want to use it. Creating the preconfiguration file is
covered later in this appendix. Putting it in the correct location is fairly
straightforward for network preseeding or if you want to read the file off a
usb-stick. If you want to include the file in an installation ISO image, you
will have to remaster the image. How to get the preconfiguration file included
in the initrd is outside the scope of this document; please consult the
developers' documentation for debian-installer.

Ett exempel på en förkonfigurationsfil du kan använda som grund för din egna
förkonfigurationsfil finns tillgänglig från ../example-preseed.txt. Den filen
är baserad på konfigurationsdelarna som inkluderats i den här bilagan.

B.2.1. Inläsning av förkonfigurationsfilen

Om du använder förinställning via initrd, behöver du endast se till att filen
som heter preseed.cfg finns inkluderar i rotkatalogen på initrd.
Installationsprogrammet kommer automatiskt att kontrollera om den filen finns
och sedan läsa in den.

För de övriga förinställningsmetoderna behöver du tala om för
installationsprogrammet vilken fil du använder när du startar upp den. Det gör
du genom att skicka med en uppstartsparameter till kärnan, antingen manuellt
vid uppstart eller genom att redigera konfigurationsfilen för starthanteraren 
(syslinux.cfg) och där lägga till parametern på slutet av append-raden för
varje kärna som listas.

Om du anger förkonfigurationsfilen i konfigurationen för starthanteraren, bör
du kanske ändra konfigurationen så att du inte behöver trycka Enter för att
starta installationsprogrammet. För syslinux betyder det att ställa in
timeout-värdet till 1 i syslinux.cfg.

För att se till att installationsprogrammet får rätt förkonfigurationsfil, kan
du valfritt ange en kontrollsumma för filen. För närvarande behöver det vara en
md5sum och om den anges måste den stämma med förkonfigurationsfilen eller så
kommer installationsprogrammet att vägra använda den.

Boot parameters to specify:
- if you're netbooting:
  preseed/url=http://host/path/to/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d
- or
  preseed/url=tftp://host/path/to/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d

- if you're booting a remastered installation image:
  preseed/file=/cdrom/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

- if you're installing from USB media (put the preconfiguration file in the
  toplevel directory of the USB stick):
  preseed/file=/hd-media/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

Observera att preseed/url kan kortas ner till endast url, preseed/file till
file och preseed/file/checksum till preseed-md5 när de skickas med som
uppstartsparametrar.

B.2.2. Användning av uppstartsparametrar för att förinställa frågor

Om en förkonfigurationsfil inte kan användas för att förinställa vissa steg,
kan installationsprogrammet fortfarande vara fullständigt automatiserad
eftersom du kan skicka förinställningsvärden på kommandoraden när
installationsprogrammet startar upp.

Uppstartsparametrar kan även användas om du inte vill använda förinställning
utan bara vill tillhandahålla ett svar på en specifik fråga. Några exempel på
var det här kan vara användbart finns dokumenterat i den här handboken.

För att ställa in ett värde som kan användas i debian-installer, skicka helt
enkelt sökväg/till/variabel=värde för någon av de förinställningsvariabler som
listas i de exempel i den här bilagan. Om ett värde ska användas för att
konfigurera paket för målsystemet, behöver du lägga till owner^[21] för
variabeln som i ägare:sökväg/till/variabel=värde. Om du inte anger ägaren,
kommer värdet för variabeln inte att kopieras till debconf-databasen på
målsystemet och därigenom inte användas under konfigurationen av det relevanta
paketet.

Vanligtvis betyder förinställning av en fråga på det här sättet att frågan inte
kommer att ställas. För att ställa in ett specifikt standardvärde för en fråga,
men fortfarande ställa frågan, kan du använda "?=" istället för "=" som
operator. Se även Avsnitt B.5.2, "Användning av förinställningar för att ändra
på standardvärden".

Observera att vissa variabler som ofta ställs in vid uppstartsprompten har ett
kortare alias. Om ett alias finns tillgängligt kommer det att användas i
exemplen i denna bilaga istället för den fullständiga variabeln. Speciellt
variabeln preseed/url, som har fått aliaset url. Ett annat exempel är aliaset
tasks som översätts till tasksel:tasksel/first.

En "---" i uppstartsflaggorna har en speciell betydelse. Kärnparametrar som
dyker upp efter den sista "---" kan kopieras in i starthanterarens
konfiguration för det installerade systemet (om det stöds av
installationsprogrammet för starthanteraren). Installationsprogrammet kommer
automatiskt att filtrera ut alla flaggor (som förkonfigurationsflaggor) som den
känner igen.

Notera

De aktuella linux-kärnorna (2.6.9 och senare) accepterar maximalt 32
kommandoradsflaggor och 32 miljöflaggor, inklusive eventuella flaggor som läggs
till som standard för installationsprogrammet. Om dessa tal överstigs kommer
kärnan att få panik (krasch). (För tidigare kärnor var dessa tal lägre.)

För de flesta installationer kan vissa av de standardflaggor i din
konfigurationsfil för starthanteraren såsom vga=normal med säkerhet tas bort,
vilket kan ge dig möjlighet att lägga till fler flaggor för förinställningen.

Notera

Det kanske inte alltid är möjligt att ange värden med blanksteg för
uppstartsparametrar, även om du avgränsar dem med citationstecken.

B.2.3. Auto-läget

Det finns flera funktioner i Debians Installationsprogram som kombinerar att
tillåta ganska enkla kommandorader vid startprompten för att resultera i
godtyckligt komplexa anpassade automatiska installationer.

Dessa är aktiverade genom att använda Automated installboot-valet, även kallat
auto för vissa arkitekturer eller startmetoder. I denna sektion, auto är alltså
ingen parameter det betyder att du väljer det startalternativet och lägger till
följande startparametrar på startprompten. SeAvsnitt 5.1.7, "Uppstartsskärmen"
för information om hur du lägger till en startparameter.

För att visa detta är några exempel som kan användas vid uppstartsprompten:

auto url=autoserver

Det här förlitar sig på att det finns en DHCP-server som får maskinen till den
punkt där autoserver kan slås upp av DNS, kanske efter den lokala domänen läggs
till om den tillhandahölls av DHCP. Om det gjordes på ett system där domänen
var exampel.se, och de har en ganska förnuftig DHCP-konfiguration, skulle det
resultera i att förinställningsfilen hämtades från http://autoserver.exampel.se
/d-i/bullseye/./preseed.cfg.

Den sista delen av den url:en (d-i/bullseye/./preseed.cfg) hämtas från
auto-install/defaultroot. Som standard inkluderar det här katalogen bullseye
för att tillåta att framtida versioner anger sina egna kodnamn och låter folk
migrera framåt på ett kontrollerat sätt. Biten /./ används för att indikera en
rot, relativ till vilka efterföljande sökvägar som kan fästas (för användning i
preseed/include och preseed/run). Det här tillåter att filer kan anges antingen
som fullständiga url:er, sökvägar som börjar med / som då är fästa, eller även
sökvägar relativa till platsen där den senaste förinställningsfilen hittades.
Det här kan användas för att bygga mer portabla skript där en hel hierarki av
skript kan flyttas till en ny plats utan att göra sönder den, till exempel
kopiera filerna till ett USB-minne när de ursprungligen fann spå en webbserver.
I det här exemplet, om förinställningsfilen ställer in preseed/run till /skript
/sent_kommando.sh kommer filen att hämtas från http://autoserver.exempel.se/d-i
/bullseye/./skript/sent_kommando.sh.

Om det inte finns någon lokal DHCP- eller DNS-infrastruktur, eller om du inte
vill använda standardsökvägen till preseed.cfg, kan du fortfarande använda en
angiven url, och om du inte vill använda elementet /./ kommer det att fästas
till början av sökvägen (alltså den tredje / i url:en). Här är ett exempel som
kräver minimalt stöd från den lokala nätverksinfrastrukturen:

auto url=http://192.168.1.2/sökväg/till/minförinställnings.fil

Sättet det här fungerar på är:

  • om url:en saknar ett protokoll, antas http,

  • om värdnamnssektionen inte innehåller punkter, den har erhållit domänen
    från DHCP som lagt till den, och

  • om det inte finns några / efter värdnamnet, kommer standardsökvägen att
    läggas till.

I tillägg till att ange url:en, kan du även ange inställningar som inte direkt
påverkar beteendet för själva debian-installer, men som kan skickas genom till
skript som angivits med preseed/run i den inlästa förinställningsfilen. För
tillfället, det enda exemplet på det här är auto-install/classes, vilken har
aliaset classes. Den här kan användas på detta sätt:

auto url=exampel.se classes=klass_A;klass_B

Klasserna skulle till exempel kunna beteckna systemtypen som ska installeras,
eller lokalanpassningen som ska användas.

Det är så klart möjligt att utöka det här konceptet, och om du gör det, är det
rimligt att använda namnrymden auto-install namespace för det här. Så ett
exempel på det här är auto-install/style vilket sedan används i dina skript. Om
du känner behovet att göra det här, nämn det på sändlistan <
debian-boot@lists.debian.org> så att vi kan undvika konflikter i namnrymden,
och kanske lägga till ett alias för parametern åt dig.

Uppstartval auto är ännu inte definierad på alla arkitekturer. Samma effekt kan
uppnås genom att helt enkelt lägga till de två parametrarna auto=true priority=
critical till kärnans kommandorad. Parametern auto kärnparametern är ett alias
för auto-install/enable och ställer man in den till true så fördröjs frågor om
lokalanpassning och tangentbord tills efter det finns en chans att förinställa
dem, samt priority är ett alias för debconf/priority och ställer man in den
till critical så stoppas alla frågor med en lägre prioritet från att ställas.

Ytterligare flaggor som kan vara intressanta vid försök att automatisera en
installation när DHCP används är: interface=auto netcfg/dhcp_timeout=60 vilket
gör att maskinen väljer det första användbara nätverkskortet och väntar lite
längre på ett svar på sin DHCP-fråga.

Tips

Ett djupgående exempel på hur man använder det här ramverket, inklusive
exempelskript och klasser, kan hittas på webbsidan för dess utvecklare.
Exemplen som finns tillgängliga där visar många andra trevliga effekter som kan
uppnås genom kreativ användning av förkonfigurering.

B.2.4. Användbara alias vid förinställning

Följande alias kan vara användbara vid användning av (automatiskt läge)
förinställning. Observera att dessa helt enkelt är kort alias för frågenamn,
och du behöver även alltid ange ett värde: till exempel, auto=true eller
interface=eth0.

priority         debconf/priority
fb               debian-installer/framebuffer
language         debian-installer/language
country          debian-installer/country
locale           debian-installer/locale
theme            debian-installer/theme
auto             auto-install/enable
classes          auto-install/classes
fil              preseed/file
url              preseed/url
domain           netcfg/get_domain
hostname         netcfg/get_hostname
interface        netcfg/choose_interface
protocol         mirror/protocol
suite            mirror/suite
modules          anna/choose_modules
rekommendationer base-installer/install-recommends
tasks            tasksel:tasksel/first
desktop          tasksel:tasksel/desktop
dmraid           disk-detect/dmraid/enable
keymap           keyboard-configuration/xkb-keymap
preseed-md5      preseed/file/checksum

B.2.5. Examples of boot prompt preseeding

Här är några exempel på hur startprompten kan se ut (du måste anpassa detta
till dina behov ; se också Avsnitt 5.1.7, "Uppstartsskärmen".

# För att ställa in franska som språk och Frankrike som land:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz language=fr country=FR --- quiet
# För att ställa in engelska som språk och Tyskland som land och använda en tysk tangentbordslayout:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz language=en country=DE locale=en_US.UTF-8 keymap=de --- quiet
# För att installera MATE skrivbordet
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz desktop=mate-desktop --- quiet
# För att installera webbserveruppgiften:
/install.amd/vmlinuz initrd=/install.amd/initrd.gz tasksel:tasksel/first=web-server ---

B.2.6. Använd en DHCP-server för att ange förkonfigurationsfiler

Det är också möjligt att använda DHCP för att ange en förkonfigurationsfil att
hämta från nätverket. DHCP tillåter att man anger ett filnamn. Normalt är det
en fil som används för uppstart via nätverket men om det verkar vara en URL så
kommer installationsmediumet som har stöd för förinställning via nätverket att
hämta filen från URL:en och använda det som en förkonfigurationsfil. Här är ett
exempel på hur man ställer in dhcpd.conf för version 3 av ISC DHCP-servern
(Debian-paketet heter isc-dhcp-server).

if substring (option vendor-class-identifier, 0, 3) = "d-i" {
    filename "http://värd/preseed.cfg";
}

Observera att exemplet ovan begränsar filnamnet till DHCP-klienter som
identifierar sig själva som "d-i", så det kommer inte att påverka vanliga
DHCP-klienter men endast installationsprogrammet. Du kan också lägga in text i
en sats för endast en speciell värd för att undvika förinställning av alla
installationer på ditt nätverk.

Ett bra sätt att använda förinställning via DHCP är att endast förinställa
värden specifika till ditt nätverk, såsom vilken Debian-spegel som ska
användas. Det här sättet kommer installationer på ditt nätverk att automatiskt
få en bra spegel vald men resten av installationen kan genomföras interaktivt.
Använda förinställning via DHCP för att helt automatisera Debian-installationer
ska genomföras med försiktighet.

B.3. Skapa en förkonfigurationsfil

Förkonfigurationsfilen är i samma format som används av kommandot 
debconf-set-selections. Det allmänna formatet för en rad i en
förkonfigurationsfil är:

<ägare> <frågans namn> <frågetyp> <värde>

Denna fil ska börja med #_preseed_V1

Det finns ett par regler att ha i åtanke när man skriver en
förkonfigurationsfil.

  • Lägg endast till ett enda blanksteg eller tabulatortecken mellan typ och
    värde: eventuella tomrum kommer att tolkas som om de tillhör värdet.

  • En rad kan vara uppdelad i flera rader genom att lägga till ett omvänt
    snedstreck på slutet ("\") som ett radfortsättningstecken. En bra plats att
    dela en rad är efter frågenamnet; en dålig plats är mellan typ och värde.
    Delade rader kommer att sammanfogas till en enda rad med alla inledande/
    avslutade tomrum ihopslagna till ett enda blanksteg.

  • För debconf-variabler (mallar) som endast används i själva
    installationsprogrammet bör ägaren ställas in till "d-i"; för
    förinställningsvariabler som används i det installerade systemet bör namnet
    på paketet som innehåller motsvarade debconf-mall användas. Endast
    variabler som har sina ägare inställda till någonting annat än "d-i" kommer
    att propageras till debconf-databasen för det installerade systemet.

  • De flesta frågor behöver förinställdas med giltiga värden på engelska och
    inte med översatta värden. Dock finns det några frågor (till exempel i
    partman) där översatta värden måste användas.

  • Vissa frågor tar en kod som ett värde istället för den engelska texten som
    visas under installationen.

  • Börja med #_preseed_V1

  • En kommentar består av en rad som börjar med ett hashtecken ("#") och
    sträcker sig upp till längden på den raden.

Det enklaste sättet att skapa en förkonfigurationsfil på är att använda
exempelfilen som länkas i Avsnitt B.4, "Innehållet av en förkonfigurationsfil
(för bullseye)" som grund och arbeta vidare därifrån.

En alternativ metod är att göra en manuell installation och sedan, efter
omstart, använda debconf-get-selections från paketet debconf-utils för att
dumpa både debconf-databasen och installationsprogrammets cdebconf-databas till
en enda fil:

$ echo "#_preseed_V1" > file
$ debconf-get-selections --installer >> file
$ debconf-get-selections >> file

Dock, en fil som genereras på detta sätt kommer att ha några poster som inte
bör förinställas, och exempelfilen är en bättre startpunkt för de flesta
användare.

Notera

Denna metod förlitar sig på att vid slutet av installationen, sparas
installationsprogrammets cdebconf-databas till det installerade systemet i /var
/log/installer/cdebconf. Dock, på grund av att databasen kan innehålla känslig
information, är filerna som standard endast läsbara av root.

Katalogen /var/log/installer och alla filer i den kommer att tas bort från ditt
system om du rensar ut paketet installation-report.

För att kontrollera möjliga värden för frågor kan du använda nano för att
undersöka filerna i /var/lib/cdebconf under tiden en installation pågår. Se
templates.dat för de råa mallarna och questions.dat för de aktuella värdena och
för de värden som tilldelas till variabler.

För att kontrollera om formatet på din förkonfigurationsfil är giltigt före en
installation genomförs, kan du använda kommandot debconf-set-selections -c 
preseed.cfg.

B.4. Innehållet av en förkonfigurationsfil (för bullseye)

Konfigurationsdelarna som används i den här bilagan finns även tillgängliga som
exempelfiler för förkonfiguration från ../example-preseed.txt.

Observera att det här exemplet är baserat på en installation för Intel
x86-arkitekturen. Om du installerar en annan arkitektur, vissa av exemplen
(såsom tangentbordsval och installation av starthanteraren) kanske inte är
relevanta och behöver ersättas av debconf-inställningar som är lämpliga för din
arkitektur.

Detaljer om hur de olika komponenterna i Debian Installer faktiskt fungerar
beskrivs i Avsnitt 6.3, "Användning av individuella komponenter".

B.4.1. Lokalanpassning

During a normal install the questions about localization are asked first, so
these values can only be preseeded via the initrd or kernel boot parameter
methods. Auto mode (Avsnitt B.2.3, "Auto-läget") includes the setting of
auto-install/enable=true (normally via the auto preseed alias). This delays the
asking of the localisation questions, so that they can be preseeded by any
method.

Lokalen kan användas för att ange både språk och land samt kan vara en
kombination av ett språk som stöds av debian-installer och ett känt land. Om
kombinationen inte formar en giltig lokal så kommer installationsprogrammet att
automatiskt välja en lokal som är giltig för det valda språket. För att ange
lokalen som en uppstartsparameter, använd locale=sv_SE.

Även om denna metod är mycket enkel att använda så tillåter den inte
förinställning av alla möjliga kombinationer av language, country och locale^
[22]. Så alternativt kan värdena förinställas individuellt. Språk och land kan
även anges som uppstartsparametrar.

# Förinställning av endast locale ställer in language, country och locale.
d-i debian-installer/locale string sv_SE

# Värdena kan även förinställas individuellt för större flexibilitet.
#d-i debian-installer/language string sv
#d-i debian-installer/country string SE
#d-i debian-installer/locale string sv_GB.UTF-8
# Valfritt ange ytterligare lokaler att generera.
#d-i localechooser/supported-locales multiselect sv_US.UTF-8, nl_NL.UTF-8

Keyboard configuration consists of selecting a keymap and (for non-latin
keymaps) a toggle key to switch between the non-latin keymap and the US keymap.
Only basic keymap variants are available during installation. Advanced variants
are available only in the installed system, through dpkg-reconfigure
keyboard-configuration.

# Tangentbordsval.
d-i keyboard-configuration/xkb-keymap select se
# d-i keyboard-configuration/toggle select No toggling

För att hoppa över konfiguration av tangentbordet kan du förinställa keymap med
skip-config. Det här kommer att resultera i att kärnans tangentlayout
fortsätter vara aktiv.

B.4.2. Nätverkskonfiguration

Så klart, att förinställa nätverkskonfiguration kommer inte att fungera om du
läser in din förkonfigurationsfil från nätverket. Men det är otroligt bra när
du startar upp från en optisk disk eller ett USB-minne. Om du läser in
förkonfigurationsfiler från nätverket, kan du skicka med
konfigurationsparametrar via kärnans uppstartsparametrar.

Om du behöver välja ett specifikt nätgränssnitt när du startar upp via
nätverket före inläsning av en förkonfigurationsfil från nätverket, använd en
uppstartsparameter såsom interface=eth1.

Även om förinställning av nätverkskonfigurationen normalt sett inte är möjlig
när man använder förinställning via nätverk (med "preseed/url") så kan du
använda följande hack för att komma runt det, till exempel om du vill ställa in
en statisk adress för nätverksgränssnittet. Hacket tvingar
nätverkskonfigurationen att köras igen efter att förkonfigurationsfilen har
lästs in genom att skapa ett "preseed/run"-skript som innehåller följande
kommandon:

kill-all-dhcp; netcfg

Följande debconf-variabler är relevanta för nätverkskonfiguration.

# Disable network configuration entirely. This is useful for cdrom
# installations on non-networked devices where the network questions,
# warning and long timeouts are a nuisance.
#d-i netcfg/enable boolean false

# netcfg will choose an interface that has link if possible. This makes it
# skip displaying a list if there is more than one interface.
d-i netcfg/choose_interface select auto

# To pick a particular interface instead:
#d-i netcfg/choose_interface select eth1

# To set a different link detection timeout (default is 3 seconds).
# Values are interpreted as seconds.
#d-i netcfg/link_wait_timeout string 10

# If you have a slow dhcp server and the installer times out waiting for
# it, this might be useful.
#d-i netcfg/dhcp_timeout string 60
#d-i netcfg/dhcpv6_timeout string 60

# Automatic network configuration is the default.
# If you prefer to configure the network manually, uncomment this line and
# the static network configuration below.
#d-i netcfg/disable_autoconfig boolean true

# If you want the preconfiguration file to work on systems both with and
# without a dhcp server, uncomment these lines and the static network
# configuration below.
#d-i netcfg/dhcp_failed note
#d-i netcfg/dhcp_options select Configure network manually

# Static network configuration.
#
# IPv4 example
#d-i netcfg/get_ipaddress string 192.168.1.42
#d-i netcfg/get_netmask string 255.255.255.0
#d-i netcfg/get_gateway string 192.168.1.1
#d-i netcfg/get_nameservers string 192.168.1.1
#d-i netcfg/confirm_static boolean true
#
# IPv6 example
#d-i netcfg/get_ipaddress string fc00::2
#d-i netcfg/get_netmask string ffff:ffff:ffff:ffff::
#d-i netcfg/get_gateway string fc00::1
#d-i netcfg/get_nameservers string fc00::1
#d-i netcfg/confirm_static boolean true

# Any hostname and domain names assigned from dhcp take precedence over
# values set here. However, setting the values still prevents the questions
# from being shown, even if values come from dhcp.
d-i netcfg/get_hostname string unassigned-hostname
d-i netcfg/get_domain string unassigned-domain

# If you want to force a hostname, regardless of what either the DHCP
# server returns or what the reverse DNS entry for the IP is, uncomment
# and adjust the following line.
#d-i netcfg/hostname string somehost

# Disable that annoying WEP key dialog.
d-i netcfg/wireless_wep string
# The wacky dhcp hostname that some ISPs use as a password of sorts.
#d-i netcfg/dhcp_hostname string radish

# If non-free firmware is needed for the network or other hardware, you can
# configure the installer to always try to load it, without prompting. Or
# change to false to disable asking.
#d-i hw-detect/load_firmware boolean true

Observera att netcfg automatiskt kommer att fastställa nätmasken om netcfg/
get_netmask inte har förinställts. I detta fall måste variabeln markeras som
seen för automatiska installationer. I liknande fall kommer netcfg att välja en
lämplig adress om netcfg/get_gateway inte har angivits. I specifika fall kan du
även ställa in netcfg/get_gateway till "none" för att ange att ingen gateway
ska användas.

B.4.3. Nätverkskonsoll

# Använd följande inställningar om du vill använda komponenten
# network-console för fjärrinstallation över SSH. Detta gäller endast
# om du tänker genomföra återstående del av installationen manuellt.
#d-i anna/choose_modules string network-console
#d-i network-console/authorized_keys_url string http://10.0.0.1/openssh-key
#d-i network-console/password password r00tme
#d-i network-console/password-again password r00tme

More information related to network-console can be found in Avsnitt 6.3.10,
"Installation over network-console".

B.4.4. Spegelinställningar

Beroende på installationsmetoden du använder, kan en spegel användas både för
att hämta ytterligare komponenter för installationsprogrammet, för att
installera grundsystemet och för att ställa in /etc/apt/sources.list för det
installerade systemet.

Parametern mirror/suite bestämmer sviten för det installerade systemet.

Parametern mirror/udeb/suite bestämmer sviten för ytterligare komponenter för
installationsprogrammet. Den är endast användbar att ställa in om komponenter
faktiskt hämtas över nätverket och bör stämma överens med sviten som användes
för att bygga initrd för installationsmetoden som används för installationen.
Vanligtvis använder installationsprogrammet det korrekta värdet och det ska
inte finnas något behov av att ställa in denna.

# Mirror protocol:
# If you select ftp, the mirror/country string does not need to be set.
# Default value for the mirror protocol: http.
#d-i mirror/protocol string ftp
d-i mirror/country string manual
d-i mirror/http/hostname string ftp.se.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

# Suite to install.
#d-i mirror/suite string testing
# Suite to use for loading installer components (optional).
#d-i mirror/udeb/suite string testing

B.4.5. Kontoinställning

Lösenordet för root-kontot, namn och lösenordet för den första vanliga
användarens konto kan förinställas. För lösenorden kan du använda antingen
klartextvärden eller crypt(3)-hashar.

Varning

Be aware that preseeding passwords is not completely secure as everyone with
access to the preconfiguration file will have the knowledge of these passwords.
Storing hashed passwords is considered secure unless a weak hashing algorithm
like DES or MD5 is used which allow for bruteforce attacks. Recommended
password hashing algorithms are SHA-256 and SHA512.

# Hoppa över skapandet av ett root-konto (normalt användarkonto
# kommer att kunna använda sudo).
#d-i passwd/root-login boolean false
# Alternativt, för att hoppa över skapandet av ett normalt användarkonto.
#d-i passwd/make-user boolean false

# Lösenord för root, antingen i klartext
#d-i passwd/root-password password r00tme
#d-i passwd/root-password-again password r00tme
# eller krypterat med en crypt(3)-hash.
#d-i passwd/root-password-crypted password [crypt(3) hash]

# För att skapa ett normalt användarkonto.
#d-i passwd/user-fullname string Debian Användare
#d-i passwd/username string debian
# Normala användarens lösenord, antingen i klartext
#d-i passwd/user-password password insecure
#d-i passwd/user-password-again password insecure
# eller krypterat med en crypt(3)-hash.
#d-i passwd/user-password-crypted password [crypt(3) hash]
# Skapa första användaren med angivet UID istället för standard.
#d-i passwd/user-uid string 1010

# Användarkontot kommer att läggas till i vissa initiala standardgrupper.
# För att åsidosätta detta, använda denna.
#d-i passwd/user-default-groups string audio cdrom video

Variablerna passwd/root-password-crypted och passwd/user-password-crypted kan
också förinställas med "!" som dess värde. I det här fallet, kommer det
motsvarande kontot att inaktiveras. Det här kan vara bekvämt för root-kontot,
om så klart det finns en alternativ metod som tillåter administrativa
aktiviteter eller root-inloggning (till exempel genom att använda autentisering
via SSH-nyckel eller kommandot sudo).

Följande kommando (tillgängligt från paketet whois paketet) kan användas för
att generera en SHA-512-baserad crypt(3) hash för ett lösenord:

mkpasswd -m sha-512

B.4.6. Inställning av klocka och tidszon

# Kontrollerar om maskinvaruklockan är inställd till UTC eller inte.
d-i clock-setup/utc boolean true

# Du kanske vill ställa in den här till någon giltig inställning för $TZ;
# se innehållet i /usr/share/zoneinfo/ för giltiga värden.
d-i time/zone string Europe/Stockholm

# Kontrollerar om NTP ska användas för att ställa in klockan under installationen
d-i clock-setup/ntp boolean true
# NTP-server att använda. Standardvärdet är oftast ett bra värde.
#d-i clock-setup/ntp-server string ntp.exempel.se

B.4.7. Partitionering

Använda förinställning för att partitionera hårddisken är begränsat till vad
som stöds av partman-auto. Du kan välja att antingen partitionera befintligt
ledigt utrymme på en disk eller hela disken. Layouten på disken kan bestämmas
genom att använda en fördefinierad plan, en anpassad plan från en plan-fil
eller en plan som inkluderats i förkonfigurationsfilen.

Stöd finns för att göra förinställningar för installationer som ska använda
RAID, LVM och kryptering men inte med full flexibilitet som vid partitionering
under en vanlig installation utan förinställningar.

Exemplet nedan ger bara grundläggande information om hur recept ska användas.
För deltajerad information se filerna partman-auto-recipe.txt och
partman-auto-raid-recipe.txt inkluderade i paketet debian-installer. Båda
filerna finns också i debian-installers källkodsförråd. Observera att
funktionaliteten som stöds kan skifta mellan utgåvor.

Varning

Identifieringen av diskar är beroende på ordningen som deras drivrutiner läses
in i. Om det finns flera diskar i systemet, bör du vara mycket säker på att den
rätta disken kommer att väljas före förinställningen används.

B.4.7.1. Partitioneringsexempel

# If the system has free space you can choose to only partition that space.
# This is only honoured if partman-auto/method (below) is not set.
#d-i partman-auto/init_automatically_partition select biggest_free

# Alternatively, you may specify a disk to partition. If the system has only
# one disk the installer will default to using that, but otherwise the device
# name must be given in traditional, non-devfs format (so e.g. /dev/sda
# and not e.g. /dev/discs/disc0/disc).
# For example, to use the first SCSI/SATA hard disk:
#d-i partman-auto/disk string /dev/sda
# In addition, you'll need to specify the method to use.
# The presently available methods are:
# - regular: use the usual partition types for your architecture
# - lvm:     use LVM to partition the disk
# - crypto:  use LVM within an encrypted partition
d-i partman-auto/method string lvm

# You can define the amount of space that will be used for the LVM volume
# group. It can either be a size with its unit (eg. 20 GB), a percentage of
# free space or the 'max' keyword.
d-i partman-auto-lvm/guided_size string max

# If one of the disks that are going to be automatically partitioned
# contains an old LVM configuration, the user will normally receive a
# warning. This can be preseeded away...
d-i partman-lvm/device_remove_lvm boolean true
# The same applies to pre-existing software RAID array:
d-i partman-md/device_remove_md boolean true
# And the same goes for the confirmation to write the lvm partitions.
d-i partman-lvm/confirm boolean true
d-i partman-lvm/confirm_nooverwrite boolean true

# You can choose one of the three predefined partitioning recipes:
# - atomic: all files in one partition
# - home:   separate /home partition
# - multi:  separate /home, /var, and /tmp partitions
d-i partman-auto/choose_recipe select atomic

# Or provide a recipe of your own...
# If you have a way to get a recipe file into the d-i environment, you can
# just point at it.
#d-i partman-auto/expert_recipe_file string /hd-media/recipe

# If not, you can put an entire recipe into the preconfiguration file in one
# (logical) line. This example creates a small /boot partition, suitable
# swap, and uses the rest of the space for the root partition:
#d-i partman-auto/expert_recipe string                         \
#      boot-root ::                                            \
#              40 50 100 ext3                                  \
#                      $primary{ } $bootable{ }                \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ /boot }                     \
#              .                                               \
#              500 10000 1000000000 ext3                       \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ / }                         \
#              .                                               \
#              64 512 300% linux-swap                          \
#                      method{ swap } format{ }                \
#              .

# The full recipe format is documented in the file partman-auto-recipe.txt
# included in the 'debian-installer' package or available from D-I source
# repository. This also documents how to specify settings such as file
# system labels, volume group names and which physical devices to include
# in a volume group.

## Partitioning for EFI
# If your system needs an EFI partition you could add something like
# this to the recipe above, as the first element in the recipe:
#               538 538 1075 free                              \
#                      $iflabel{ gpt }                         \
#                      $reusemethod{ }                         \
#                      method{ efi }                           \
#                      format{ }                               \
#               .                                              \
#
# The fragment above is for the amd64 architecture; the details may be
# different on other architectures. The 'partman-auto' package in the
# D-I source repository may have an example you can follow.

# This makes partman automatically partition without confirmation, provided
# that you told it what to do using one of the methods above.
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

# Force UEFI booting ('BIOS compatibility' will be lost). Default: false.
#d-i partman-efi/non_efi_system boolean true
# Ensure the partition table is GPT - this is required for EFI
#d-i partman-partitioning/choose_label select gpt
#d-i partman-partitioning/default_label string gpt

# When disk encryption is enabled, skip wiping the partitions beforehand.
#d-i partman-auto-crypto/erase_disks boolean false

B.4.7.2. Partitionering med RAID

Du kan även använda förinställning för att konfigurera partitioner på
programvaru-RAID-kedjor. Nivåer som stöds är RAID 0, 1, 5, 6 och 10, skapa
trasiga kedjor och ange reservenheter.

Om du använder RAID 1 kan du förinställa grub att installera sig på alla
enheter som används i kedjan; se Avsnitt B.4.11, "Installation av
starthanteraren".

Varning

Den här typen av automatiserad partitionering är lätt att göra fel. Det är
också funktionalitet som har fått relativt lite testning från utvecklarna av
debian-installer. Ansvaret att få ordning på de olika planerna (så att de
fungerar och inte är i konflikt med annat) ligger hos användaren. Kontrollera /
var/log/syslog om du springer på problem.

# The method should be set to "raid".
#d-i partman-auto/method string raid
# Specify the disks to be partitioned. They will all get the same layout,
# so this will only work if the disks are the same size.
#d-i partman-auto/disk string /dev/sda /dev/sdb

# Next you need to specify the physical partitions that will be used.
#d-i partman-auto/expert_recipe string \
#      multiraid ::                                         \
#              1000 5000 4000 raid                          \
#                      $primary{ } method{ raid }           \
#              .                                            \
#              64 512 300% raid                             \
#                      method{ raid }                       \
#              .                                            \
#              500 10000 1000000000 raid                    \
#                      method{ raid }                       \
#              .

# Last you need to specify how the previously defined partitions will be
# used in the RAID setup. Remember to use the correct partition numbers
# for logical partitions. RAID levels 0, 1, 5, 6 and 10 are supported;
# devices are separated using "#".
# Parameters are:
# <raidtype> <devcount> <sparecount> <fstype> <mountpoint> \
#          <devices> <sparedevices>

#d-i partman-auto-raid/recipe string \
#    1 2 0 ext3 /                    \
#          /dev/sda1#/dev/sdb1       \
#    .                               \
#    1 2 0 swap -                    \
#          /dev/sda5#/dev/sdb5       \
#    .                               \
#    0 2 0 ext3 /home                \
#          /dev/sda6#/dev/sdb6       \
#    .

# For additional information see the file partman-auto-raid-recipe.txt
# included in the 'debian-installer' package or available from D-I source
# repository.

# This makes partman automatically partition without confirmation.
d-i partman-md/confirm boolean true
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

B.4.7.3. Kontrollera hur partitioner monteras

Vanligtvis så monteras filsystem med hjälp av en universiellt unik
identifierare (UUID) som en nyckel; detta tillåter att de monteras korrekt även
om deras enhetsnamn ändras. UUID är långa och svåra att läsa, så om du
föredrar, installationsprogrammet kan montera filsystem som är baserade på de
traditionella enhetsnamnen, eller baserade på en etikett som du tilldelar det.
Om du frågar installationsprogrammet att montera efter etikett så kommer alla
filsystem som inte har en etikett att monteras efter ett UUID istället.

Enheter med stabila namn, såsom logiska LVM-volymer, kommer att fortsätta att
använda deras traditionella namn istället för UUID.

Varning

Traditionella enhetsnamn kan ändras baserat på ordningen i vilken kärnan
upptäcker enheter vid uppstart, vilket kan orsaka att fel filsystem monteras.
På samma sätt kan etiketter krocka om du ansluter en ny disk eller en USB-enhet
och om det händer så kan beteendet för ditt system vara slumpmässigt.

# Standard är att montera efter UUID, men du kan även välja "traditional" för
# att använda traditionella enhetsnamn, eller "label" för att prova filsystemsetiketter
# innan installationsprogrammet faller tillbaka på UUID.
#d-i partman/mount_style select uuid

B.4.8. Installation av grundsystem

Det finns faktiskt inte speciellt mycket som kan förinställas för det här
steget av installationen. De enda frågorna som ställs är angående
installationen av kärnan.

# Konfigurera APT till att inte installera rekommenderade paket som standard.
# Användning av denna flagga kan resultera i ett ofullständigt system och ska endast
# användas av mycket erfarna användare.
#d-i base-installer/install-recommends boolean false



# Kärnavbildningspaketet (meta) att installera; "none" kan användas om ingen
# kärna ska installeras.
#d-i base-installer/kernel/image string linux-image-686

B.4.9. Apt-inställning

Konfiguration av /etc/apt/sources.list och grundläggande
konfigurationsalternativ är fullständigt automatiserade baserat på din
installationsmetod och svar på tidigare ställda frågor. Du kan valfritt lägga
till andra (lokala) förråd.

# Choose, if you want to scan additional installation media
# (default: false).
d-i apt-setup/cdrom/set-first boolean false
# You can choose to install non-free and contrib software.
#d-i apt-setup/non-free boolean true
#d-i apt-setup/contrib boolean true
# Uncomment the following line, if you don't want to have the sources.list
# entry for a DVD/BD installation image active in the installed system
# (entries for netinst or CD images will be disabled anyway, regardless of
# this setting).
#d-i apt-setup/disable-cdrom-entries boolean true
# Uncomment this if you don't want to use a network mirror.
#d-i apt-setup/use_mirror boolean false
# Select which update services to use; define the mirrors to be used.
# Values shown below are the normal defaults.
#d-i apt-setup/services-select multiselect security, updates
#d-i apt-setup/security_host string security.debian.org

# Additional repositories, local[0-9] available
#d-i apt-setup/local0/repository string \
#       http://local.server/debian stable main
#d-i apt-setup/local0/comment string local server
# Enable deb-src lines
#d-i apt-setup/local0/source boolean true
# URL to the public key of the local repository; you must provide a key or
# apt will complain about the unauthenticated repository and so the
# sources.list line will be left commented out.
#d-i apt-setup/local0/key string http://local.server/key
# If the provided key file ends in ".asc" the key file needs to be an
# ASCII-armoured PGP key, if it ends in ".gpg" it needs to use the
# "GPG key public keyring" format, the "keybox database" format is
# currently not supported.

# By default the installer requires that repositories be authenticated
# using a known gpg key. This setting can be used to disable that
# authentication. Warning: Insecure, not recommended.
#d-i debian-installer/allow_unauthenticated boolean true

# Uncomment this to add multiarch configuration for i386
#d-i apt-setup/multiarch string i386


B.4.10. Paketval

Du kan välja att installera alla kombinationer av funktioner som finns
tillgängliga. Tillgängliga funktioner just nu inkluderar:

  • standard (standard verktyg)

  • skrivbord (grafiskt skrivbord)

  • gnome-desktop (Gnome skrivbord)

  • xfce-desktop (XFCE skrivbord)

  • kde-desktop (KDE Plasma skrivbord)

  • cinnamon-desktop (Cinnamon skrivbord)

  • mate-desktop (MATE skrivbord)

  • lxde-desktop (LXDE skrivbord)

  • web-server (webb server)

  • ssh-server (SSH server)

Du kan även välja att inte installera några funktioner, och tvinga fram
installationen av en uppsättning paket på något annat sätt. Vi rekommenderar
alltid att inkludera funktionen standard.

Or if you don't want the tasksel dialog to be shown at all, preseed pkgsel/
run_tasksel (no packages are installed via tasksel in that case).

Om du vill installera några individuella paket i tillägg till de paket som
installeras av funktioner, kan du använda parametern pkgsel/include. Värdet för
denna parameter kan vara en lista över paket, komma- eller blankstegsseparerad,
vilket även tillåter att den enkelt kan användas på kommandoraden för kärnan.

#tasksel tasksel/first multiselect standard, web-server, kde-desktop

# Or choose to not get the tasksel dialog displayed at all (and don't install
# any packages):
#d-i pkgsel/run_tasksel boolean false

# Individual additional packages to install
#d-i pkgsel/include string openssh-server build-essential
# Whether to upgrade packages after debootstrap.
# Allowed values: none, safe-upgrade, full-upgrade
#d-i pkgsel/upgrade select none

# You can choose, if your system will report back on what software you have
# installed, and what software you use. The default is not to report back,
# but sending reports helps the project determine what software is most
# popular and should be included on the first CD/DVD.
#popularity-contest popularity-contest/participate boolean false

B.4.11. Installation av starthanteraren

# Grub is the boot loader (for x86).

# This is fairly safe to set, it makes grub install automatically to the UEFI
# partition/boot record if no other operating system is detected on the machine.
d-i grub-installer/only_debian boolean true

# This one makes grub-installer install to the UEFI partition/boot record, if
# it also finds some other OS, which is less safe as it might not be able to
# boot that other OS.
d-i grub-installer/with_other_os boolean true

# Due notably to potential USB sticks, the location of the primary drive can
# not be determined safely in general, so this needs to be specified:
#d-i grub-installer/bootdev  string /dev/sda
# To install to the primary device (assuming it is not a USB stick):
#d-i grub-installer/bootdev  string default

# Alternatively, if you want to install to a location other than the UEFI
# parition/boot record, uncomment and edit these lines:
#d-i grub-installer/only_debian boolean false
#d-i grub-installer/with_other_os boolean false
#d-i grub-installer/bootdev  string (hd0,1)
# To install grub to multiple disks:
#d-i grub-installer/bootdev  string (hd0,1) (hd1,1) (hd2,1)

# Optional password for grub, either in clear text
#d-i grub-installer/password password r00tme
#d-i grub-installer/password-again password r00tme
# or encrypted using an MD5 hash, see grub-md5-crypt(8).
#d-i grub-installer/password-crypted password [MD5 hash]

# Use the following option to add additional boot parameters for the
# installed system (if supported by the bootloader installer).
# Note: options passed to the installer will be added automatically.
#d-i debian-installer/add-kernel-opts string nousb

En MD5-hash för ett lösenord för grub kan genereras med kommandot 
grub-md5-crypt eller med kommandot från exemplet i Avsnitt B.4.5,
"Kontoinställning".

B.4.12. Färdigställande av installationen

# Under installationer från seriellkonsoll är de vanliga virtuella konsollerna
# (VT1-VT6) vanligtvis inaktiverade i /etc/inittab. Avkommentera nästa
# rad för att förhindra detta.
#d-i finish-install/keep-consoles boolean true

# Undvik det sista meddelandet om att installationen är färdig.
d-i finish-install/reboot_in_progress note

# Det här kommer att förhindra installationsprogrammet från att mata ut cd-skivan
# under omstarten, vilket kan vara användbart i vissa situationer.
#d-i cdrom-detect/eject boolean false

# Så här gör man för att stänga av installationsprogrammet när det är färdigt,
# men utan att starta om till det installerade systemet.
#d-i debian-installer/exit/halt boolean true
# Det här kommer att stänga av maskinen istället för att bara stoppa den.
#d-i debian-installer/exit/poweroff boolean true

B.4.13. Förinställning av andra paket

# Beroende på vilken programvara du väljer att installera, eller om saker går fel
# under installationsprocessen, är det möjligt att andra frågor kan ställas.
# Du kan förinställa de här också, så klart. För att få en lista på alla
# möjliga frågor som kan ställas under en installation, gör en
# installation, och kör sedan de här kommandona:
#   debconf-get-selections --installer > fil
#   debconf-get-selections >> fil

B.5. Avancerade inställningar

B.5.1. Kör anpassade kommandon under installationen

Ett mycket kraftfullt och flexibelt alternativ som erbjuds av
förkonfigurationsverktygen är möjligheten att köra kommandon eller skript vid
vissa punkter i installationen.

När filsystemet för målsystemet är monterat, är det tillgängligt i /target. Om
en installations-CD används, när den är monterad finns den tillgänglig i /
cdrom.

# Förinställning i d-i anses inte som säker. Inget i installationsprogrammet letar
# efter buffertöverflöden eller andra attackförsök genom värdena i en
# förkonfigurationsfil såsom den här. Använd endast förkonfigurationfiler från en
# plats du kan lita på! För att gör det och på grund av att det är generellt sett
# användbart, här är ett sätt att automatiskt köra de skalkommandon du vill
# inne i installationsprogrammet.

# Det första kommandot körs så tidigt som möjligt, direkt efter
# att förinställningen är inläst.
#d-i preseed/early_command string anna-install some-udeb
# Det här kommandot körs direkt före partitioneraren startar. Det kan vara
# användbart för att tillämpa förinställning av dynamisk partitionering som är
# beroende av tillståndet för diskarna (som kanske annars inte är synligt när
# preseed/early_command kör).
#d-i partman/early_command \
#       string debconf-set partman-auto/disk "$(list-devices disk | head -n1)"
# Det här kommandot körs precis innan installationen är färdig, men när det
# fortfarande finns en användbar /target-katalog. Du kan göra en chroot till /target och
# använda det direkt, eller använda apt-install och kommandon från /target för att
# enkelt installera paket och köra kommandon på målsystemet.
#d-i preseed/late_command string apt-install zsh; in-target chsh -s /bin/zsh

B.5.2. Användning av förinställningar för att ändra på standardvärden

Det är möjligt att använda förinställning för att ändra standardsvaret på en
fråga, men fortfarande ställa frågan. För att göra det här måste flaggan seen
återställas till "false" efter att värdet ställts in för en fråga.

d-i foo/bar string value
d-i foo/bar seen false

Samma effekt kan uppnås för alla frågor genom att ställa in parametern preseed/
interactive=true på uppstartsprompten. Det här kan också vara användbart för
testning eller felsökning av din förkonfigurationsfil.

Observera att "d-i"-ägaren endast ska användas för variabler som används i
själva installationsprogrammet. För variabler som tillhör paket som installeras
på målsystemet så ska du istället använda namnet för paketet. Se sidfoten på
Avsnitt B.2.2, "Användning av uppstartsparametrar för att förinställa frågor".

Om du förinställer med hjälp av uppstartsparametrar så kan du göra att
installationsprogrammet frågar motsvarade fråga genom att använda operatorn "?=
" operator, t.ex. foo/bar?=värde (eller ägare:foo/bar?=värde).. Det här kommer
så klart endast ha effekt för parametrar som motsvarar frågorna som visas under
en installation och inte för "interna" parametrar.

För mer felsökningsinformation använd uppstartsflagan DEBCONF_DEBUG=5. Detta
innebära att debconf kommer att skriva mer detaljer om varje inställning för
varje variabel och om framstegen genom processen genom varje pakets
installationsskript.

B.5.3. Kedjeinläsning av förkonfigurationsfiler

Det är möjligt att inkludera andra förkonfigurationsfiler från en
förkonfigurationsfil. Alla inställningar i de filerna kommer att åsidosätta
eventuella inställningar från filer som lästs in tidigare. Det gör det möjligt
att lägga in, till exempel, allmänna nätverksinställningar för din plats i en
fil och mer specifika inställningar för vissa konfigurationer i andra filer.

# Fler än en fil kan listas, separerade med blanksteg; alla kommer att
# läsas in. De inkluderade filerna kan även innehålla egna direktiv för preseed/include.
# Observera att om filnamnen är relativa, tas de från samma katalog som
# förkonfigurationsfilen som inkluderar dem.
#d-i preseed/include string x.cfg

# Installationsprogrammet kan valfritt validera kontrollsummor för förkonfigurationsfiler innan
# de används. För närvarande stöds endast md5sums, lista kontrollsummorna
# i samma ordning som listan över filer som ska inkluderas.
#d-i preseed/include/checksum string 5da499872becccfeda2c4872f9171c3d

# Mer flexibelt, det här kör ett skalkommando och om det skriver ut namnen på
# förkonfigurationsfiler, inkludera de filerna.
#d-i preseed/include_command \
#      string if [ "`hostname`" = bosse ]; then echo bosse.cfg; fi

# Mest flexibelt av alla, denna hämtar ett program och kör det. Programmet
# kan använda kommandon såsom debconf-set för att ändra debconf-databasen.
# Fler än ett skript kan listas, separerade med blanksteg.
# Observera att om filnamnen är relativa tas de från samma katalog
# som förkonfigurationsfilen som kör dem.
#d-i preseed/run string foo.sh

Det är även möjligt att kedjeläsa från initrd- eller filförinställningsfasen,
in i nätverksförinställningen genom att ställa in preseed/url i de tidigare
filerna. Det här kommer att orsaka att nätverksförinställningen genomförs när
nätverket kommer upp. Du måste vara försiktig här, eftersom det kommer att vara
två olika körningar vid förinställning, vilket till exempel betyder att du
kommer att få en andra chans att köra kommandot preseed/early, den andra gången
inträffar efter att nätverket har kommit upp.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[21] Ägaren av en debconf-variabel (eller mall) är vanligtvis namnet på
paketet som innehåller motsvarade debconf-mall. För variabler som används i
själva installationsprogrammet är ägaren "d-i". Mallar och variabler kan ha
fler än en ägare som hjälper till att bestämma huruvida de kan tas bort från
debconf-databasen om paketet avinstalleras.

^[22] Förinställning av locale till en_NL skulle till exempel resultera i
en_US.UTF-8 som standardlokal för det installerade systemet. Om till exempel
en_GB.UTF-8 föredras istället så kommer värdena att behöva förinställas
individuellt.

Appendix C. Partitionera för Debian

Innehållsförteckning

C.1. Bestämma Debian-partitioner och storlekar
C.2. Katalogträdet
C.3. Rekommenderad partitionstabell
C.4. Enhetsnamn i Linux
C.5. Debians partitioneringsprogram

    C.5.1. Partitionera för 64-bit PC

C.1. Bestämma Debian-partitioner och storlekar

Som ett absolut minimum behöver GNU/Linux en partition för sig själv. Du kan ha
en enstaka partition som innehåller hela operativsystemet, program och dina
personliga filer. De flesta personer tycker att en separat partition för
växlingsutrymme också är nödvändig, även om det inte helt är sant. "
Växlingsutrymme" är ett utrymme för ett operativsystem som låter systemet
använda disklagring som "virtuellt minne". Genom att lägga växlingsutrymmet på
en separat partition kan Linux använda det mer effektivt. Det är möjligt att
tvinga Linux att använda en vanlig fil som växlingsutrymme, men det är inte
rekommenderat.

De flesta personer väljer att ge GNU/Linux fler än det minimala antalet
partitioner. Det finns två skäl för att du vill dela upp filsystemet till ett
antal mindre partitioner. Först är det av säkerhetsskäl. Om något händer och
filsystemet blir skadat, påverkas oftast endast en partition. Även om du endast
behöver ersätta (från de säkerhetskopior du noga har gjort) en del av ditt
system. På ett minimum, du bör tänka över att skapa vad som normallt sett
kallas en "rotpartition". Den här innehåller de mest nödvändiga komponenterna i
systemet. Om några andra partitioner blir skadade, kan du fortfarande starta
upp GNU/Linux för att rätta till systemet. Det här kan göra att du slipper
installera om systemet från början.

Det andra skälet är att generellt sett mer viktigt i en företagsmiljö, men det
är beroende på din användning av maskinen. Till exempel, en e-postserver får in
ett stort antal spam via e-post som lätt kan fylla upp en partition. Om du
gjorde /var/mail till en separat partition på e-postservern, kommer det mesta
av systemet fortfarande fungera även om du blir spammad.

Den enda riktiga nackdelen med att använda fler partitioner är att det ofta är
svårt att veta i förväg vilka dina behov kommer att vara. Om du gör en
partition för liten så behöver du antingen installera om systemet eller så
kommer du få flytta runt saker hela tiden för att skapa plats på partitionen.
På andra sidan, om du gör partitionen för stor, kommer du att slösa utrymme som
kunde användas någon annanstans. Diskutrymme är billigt nuförtiden, men varför
kasta bort dina pengar?

C.2. Katalogträdet

Debian GNU/Linux följer Filesystem Hierarchy Standard för namngivning av
kataloger och filer. Den här standarden låter användarna och programvaror att
förutse platsen för filer och kataloger. Rotnivåkatalogen representeras helt
enkelt av ett snedstreck, /. På rotnivån, alla inkluderar Debian-system dessa
kataloger:

┌───────┬────────────────────────────────────────────────────┐
│Katalog│                      Innehåll                      │
├───────┼────────────────────────────────────────────────────┤
│bin    │Systemkritiska kommandobinärer                      │
├───────┼────────────────────────────────────────────────────┤
│boot   │Statiska filer för starthanteraren                  │
├───────┼────────────────────────────────────────────────────┤
│dev    │Enhetsfiler                                         │
├───────┼────────────────────────────────────────────────────┤
│etc    │Värdspecifik systemkonfiguration                    │
├───────┼────────────────────────────────────────────────────┤
│home   │Användarnas hemkataloger                            │
├───────┼────────────────────────────────────────────────────┤
│lib    │Viktiga delade bibliotek och kärnmoduler            │
├───────┼────────────────────────────────────────────────────┤
│media  │Innehåller monteringspunkter för flyttbart media    │
├───────┼────────────────────────────────────────────────────┤
│mnt    │Monteringspunkt för montering av temporärt filsystem│
├───────┼────────────────────────────────────────────────────┤
│proc   │Virtuell katalog för systeminformation              │
├───────┼────────────────────────────────────────────────────┤
│root   │Hemkatalog för root-användaren                      │
├───────┼────────────────────────────────────────────────────┤
│run    │Variabel data för körningstid                       │
├───────┼────────────────────────────────────────────────────┤
│sbin   │Nödvändiga systembinärer                            │
├───────┼────────────────────────────────────────────────────┤
│sys    │Virtuell katalog för systeminformation              │
├───────┼────────────────────────────────────────────────────┤
│tmp    │Temporära filer                                     │
├───────┼────────────────────────────────────────────────────┤
│usr    │Sekundär hierarki                                   │
├───────┼────────────────────────────────────────────────────┤
│var    │Variabeldata                                        │
├───────┼────────────────────────────────────────────────────┤
│srv    │Data för tjänster som tillhandahålls av systemet    │
├───────┼────────────────────────────────────────────────────┤
│opt    │Tilläggsprogrampaket                                │
└───────┴────────────────────────────────────────────────────┘

Följande är en lista på viktiga beaktanden angående kataloger och partitioner.
Observera att diskanvändning varierar stort beroende på systemkonfiguration och
specifika användningsmönster. Rekommendationerna här är allmänna riktlinjer och
ge en startpunkt för partitionering.

  • Rotpartitionen / måste alltid fysiskt innehålla /etc, /bin, /sbin, /lib och
    /dev, annars kommer du inte kunna starta upp. Normalt sett behövs 250-350
    MB för rotpartitionen.

  • /usr: innehåller alla användarprogram (/usr/bin), bibliotek (/usr/lib),
    dokumentation (/usr/share/doc), etc. Det här är den del av filsystemet som
    generellt sett tar upp mest plats. Du bör ge den minst 500 MB diskutrymme.
    Den här mängden bör ökas beroende på antalet och typ av paket du planerar
    att installera. En generöst installerad arbetsstation eller
    serverinstallation använder 4-6 GB.

  • Det rekommenderas nu att ha /usr på rootpartitionen /, annars kan det
    orsaka problem vid uppstart. Detta innebär att du bör tillhandahålla minst
    600-750MB hårddiskutrymme för rootpartitionen inklusive /usr, eller 5-6GB
    för en arbetsstation eller en serverinstallation.

  • /var: variabel data såsom nyhetsartiklar, e-post, webbplatser, databaser,
    cache för paketsystemet, etc. kommer att placeras under den här katalogen.
    Storleken på den här katalogen beror mycket på användningen av ditt system
    men för de flesta personer kommer det här att bestämmas av
    pakethanteringsverktygets behov. Om du tänker göra en full installation av
    i stort sett allt som Debian kan erbjuda, på en enda gång, bör 2 eller 3 GB
    utrymme för /var vara tillräckligt. Om du tänker installera i omgångar (så
    att säga, installera tjänster och verktyg, följt av textprogram, sedan X,
    ...), kan du komma runt med 300-500 MB. Om hårddiskutrymme är begränsat och
    du inte planerar att göra några större systemuppdateringar, kan du klara
    dig med så lite som 30 eller 40 MB.

  • /tmp: temporärdata som skapats av program kommer sannolikt att hamna i den
    här katalogen. 40-100 MB bör nog vara tillräckligt. Vissa program --
    inklusive arkivhanterare, verktyg för cd/dvd-tillverkning och
    multimediaprogram -- kan använda /tmp för att temporärt lagra bildfiler. Om
    du planerar att använda sådana program bör du justera tillgängligt utrymme
    för /tmp på lämpligt sätt.

  • /home: varje användare komma att lägga sin personliga data i en
    underkatalog till den här katalogen. Dess storlek beror på hur många
    användare som kommer att använda systemet och vilka filer som lagras i
    deras kataloger. Beroende på din planerade användning bör du reservera
    omkring 100 MB för varje användare, men anpassa det här värdet till dina
    behov. Reservera mycket mer utrymme om du planerar att spara en hel del
    multimediafiler (bilder, MP3, filmer) i din hemkatalog.

C.3. Rekommenderad partitionstabell

För nya användare, personliga Debian burkar, hemsystem och andra
en-användarkonfigurationer, en enda /-partition (plus växlingsutrymme) är
antagligen det lättaste, enklaste sättet att köra. Den rekommenderade
partitionstypen är ext4.

För fleranvändarsystem eller system med massor av diskutrymme, är det bäst att
lägga /var, /tmp, och /home på egna partitioner, separerade från partitionen /.

Du kan behöva en separat /usr/local-partition om du planerar att installera
många program som inte är en del av Debian-utgåvan. Om din maskin ska vara en
e-postserver behöver du kanske göra /var/mail till en separat partition. Om du
sätter upp en server med många användarkonton är det generellt sett bra att ha
en separat, stor /home-partition. Generellt sett skiljer sig partitionering
från dator till dator beroende på dess användning.

För mycket komplexa system, bör du se Multi Disk HOWTO. Den innehåller
fördjupad information, mestadels av intresse för Internetleverantörer och
personer som installerar servrar.

Med tanke på frågan om storleken för växlingsutrymmet, finns det många synsätt.
En tumregel som fungerar bra är att använda så mycket växlingsutrymme som du
har systemminne. Den bör heller inte vara mindre än 512MB, i de flesta fall. Så
klart, det finns ett antal undantag till dessa regler.

Som ett exempel, en äldre hemdator kan ha 512MB RAM-minne och en 20GB stor
SATA-disk på /dev/sda. Det kan finns en 8GB stor partition för ett annat
operativsystem på /dev/sda1, en 512MB stor växlingspartition på /dev/sda3 och
ungefär 11.4GB på /dev/sda2 som Linux-partitionen.

Som en idé för utrymmet som tas upp av de funktioner som du kanske är
intresserade av att lägga in efter din systeminstallation är klar, se på
Avsnitt D.2, "Nödvändig diskplats för funktioner".

C.4. Enhetsnamn i Linux

Namnen på Linux diskar och partitioner kan vara olika från andra
operativsystem. Du behöver veta namnen som Linux använder när du skapar och
monterar partitioner. Här är de grundläggande benämningarna:

  • Den första hårddisken som upptäckts heter /dev/sda.

  • Den andra hårddisken som upptäcks heter /dev/sdb och så vidare.

  • Den första SCSI Cd-rom kallas /dev/scd0 också känd som /dev/sr0.

Partitionerna på varje disk representeras av lägga till ett decimaltal till
disknamnet: sda1 och sda2 representerar den första och andra partitionen på
första SCSI-disken i ditt system.

Här är ett exempel från dagliga livet. Låt oss anta att du har ett system med 2
SCSI-diskar, en på SCSI-adress 2 och den andra på SCSI-adress 4. Den första
disken (på adress 2) kallas för sda, och den andra sdb. Om sda-disken har 3
partitioner på sig, kommer dessa att kallas sda1, sda2, och sda3. Det samma
gäller för sdb-disken och dess partitioner.

Observera att om du har två SCSI-värdbussadaptrar (alltså, styrkort), ordningen
på diskarna kan vara förvirrande. Den bästa lösningen i det här fallet är att
se på uppstartsmeddelandena, och antagligen känner du till diskmodellerna och/
eller storlekarna.

Linux representerar de primära partitionerna som disknamnet, plus siffrorna 1
till 4. Till exempel, den första primära partitionen på första disken är /dev/
sda1. De logiska partitionerna är numrerade från 5 och uppåt, så den första
logiska partitionen på den disken är /dev/sda5. Kom ihåg att den utökade
partitionen, alltså, den primära partitionen som tillhandahåller de logiska
partitionerna, inte är användbar av sig själv.

C.5. Debians partitioneringsprogram

Flera varianter av partitioneringsprogram har anpassats av Debians utvecklare
för att fungera på olika typer av hårddiskar och datorarkitekturer. Följande är
en listan på de program som lämpar sig för din arkitektur.

partman

    Rekommenderat partitioneringsverktyg i Debian. Den här schweiziska
    armékniven kan också ändra storlek på partitioner, skapa filsystem ("
    formatera" på Windows-språk) och tilldela dem monteringspunkter.

fdisk

    Den originella diskpartitioneraren för Linux, bra för experter.

    Var försiktig om du har befintliga FreeBSD-partitioner på din maskin.
    Installationskärnorna inkluderar stöd för dessa partitioner, men sättet som
    fdisk representerar dem på (eller inte) kan göra att enhetsnamnen skiljer
    sig. Se Linux+FreeBSD HOWTO.

cfdisk

    En diskpartitionerare i helskärm som är enkel att använda för resten av
    oss.

    Observera att cfdisk inte förstår FreeBSD-partitioner alls, och, igen, som
    ett resultat av det kan enhetsnamnen skilja sig.

Ett av dessa program kommer att köras som standard när du väljer Partitionera
diskar (eller liknande). Det kan vara möjligt att använda ett annat
partitioneringsverktyg från kommandoraden på VT2, men det är inte
rekommenderat.

Kom ihåg att märka din uppstartspartition som "Startbar".

C.5.1. Partitionera för 64-bit PC

If you are using a new harddisk (or want to wipe out the whole partition table
of your disk), a new partition table needs to be created. The "Guided
partitioning" does this automatically, but when partitioning manually, move the
selection on the top-level entry of the disk and hit Enter. That will create a
new partition table on that disk. In expert mode, you will then be asked for
the type of the partition table. Default for UEFI-based systems is "gpt", while
for the older BIOS world the default value is "msdos". In a standard priority
installation those defaults will be used automatically.

Notera

När en partitionstabell med typ "gpt" valdes (standard för UEFI system), ett
ledigt utrymme på 1 MB kommer automatiskt skapas i början av disken. Detta är
avsett och krävs för att bädda in starthanteraren GRUB2.

Om du redan har ett befintligt operativsystem såsom DOS eller Windows
installerat och du vill behålla det efter installationen av Debian, kan du
behöva förändra partitionsstorleken för att få mer ledigt diskutrymme för
Debian-installationen. Installationsprogrammet har stöd för att förändra
storleken på både FAT- och NTFS-filsystem; när du kommer till
installationsprogrammets partitioneringssteg, välj alternativet Manuell och
välj sedan helt enkelt en existerande partition och ändra dess storlek.

Även om moderna UEFI -system inte har sådana begränsningar som anges nedan, är
det gamla PC BIOS lägger generellt till ytterligare begränsningar för
diskpartitionering. Det finns en gräns för hur många "primära" och "logiska"
partitioner en enhet kan innehålla. Dessutom, med BIOS före 1994-98, finns det
gränser för var på enheten som BIOS kan starta från. Mer information kan hittas
i Linux Partition HOWTO, men det här avsnittet kommer att inkludera en enkel
översikt för att hjälpa dig att planera de flesta situationer.

"Primära" partitioner är den originella partitioneringsplanen för PC-diskar.
Dock, det kan endast finnas fyra av dem. För att komma runt den här
begränsningen, uppfanns "utökade" och "logiska" partitioner. Genom att ställa
in en av dina primära partitioner som en utökad partition, kan du dela upp
utrymmet som allokerats till den partitionen in i logiska partitioner. Du kan
skapa upp till 60 logiska partitioner per utökad partition; dock, kan du endast
ha en utökad partition per enhet.

Linux begränsar antalet partitioner per disk till 255 partitioner för
SCSI-diskar (3 användbara primära partitioner, 252 logiska partitioner), och 63
partitioner på en IDE-disk (3 användbara primära partitioner, 60 logiska
partitioner). Dock ger det normala Debian GNU/Linux-systemet endast 20 enheter
för partitioner, så du kan inte installera på partitioner högre än 20 om du
inte manuellt skapar enheterna för dessa partitioner först.

Om du har en stor IDE-disk, och varken använder LBA-adressering eller
överliggande drivrutiner (kommer ibland från hårddisktillverkarna), måste
uppstartspartition (den partition som innehåller din kärnavbildning) placeras
inom de första 1024 cylindrarna på din hårddisk (normalt sett runt 524
megabyte, utan BIOS-översättning).

Den här begränsningen gäller inte om du har ett BIOS som är nyare än runt
1995-98 (beroende på tillverkaren) som har stöd för "Enhanced Disk Drive
Support Specification". Debians Lilo alternativa mbr måste använda BIOS för att
läsa kärnan från disken till RAM-minnet. Om BIOS int 0x13, utökningar för
åtkomst till stora diskar, hittas, kommer de att användas. Annars kommer det
gamla diskåtkomstgränssnittet att fallas tillbaka på och användas, och det kan
inte användas för att adressera en plats på disken högre än 1023:e cylindern.
När Linux har startats upp, oavsett vilket BIOS din dator har, gäller dessa
begränsningar inte längre, eftersom Linux inte använder BIOS för diskåtkomst.

Om du har en stor disk, måste du kanske använda tekniker för
cylinderöversättning, som du kan ställa in från ditt
BIOS-konfigurationsprogram, såsom LBA (Logisk blockadressering) eller
CHS-översättningsläget ("Large"). Mer information om problem med stora diskar
kan hittas i Large Disk HOWTO. Om du använder ett cylinderöversättningsschema,
och BIOS inte har stöd för utökningar för åtkomst till stora diskar, måste din
uppstartspartition passa inom den översatta representationen av 1024:de
cylindern.

Det rekommenderade sättet att göra det här på är att skapa en liten (25-50 MB
bör räcka) partition i början av disken för att användas som
uppstartspartition, och sedan skapa de andra partitioner som du önskar att ha,
på återstående plats. Den här uppstartspartitionen måste monteras på /boot,
eftersom den här är katalogen där Linux kärna/kärnor kommer att lagras. Denna
konfiguration kommer att fungera på alla system, oavsett om LBA eller
CHS-översättning för stora diskar används, och oavsett om ditt BIOS har stöd
för utökningar för åtkomst till stora diskar.

Appendix D. Diverse bitar

Innehållsförteckning

D.1. Linux-enheter

    D.1.1. Konfigurera din mus

D.2. Nödvändig diskplats för funktioner
D.3. Installera Debian GNU/Linux från ett Unix/Linux-system

    D.3.1. Påbörja arbetet
    D.3.2. Installera debootstrap
    D.3.3. Kör debootstrap
    D.3.4. Konfigurera grundsystemet
    D.3.5. Installera en kärna
    D.3.6. Ställ in starthanteraren
    D.3.7. Fjärråtkomst: installera SSH och konfigurera åtkomst
    D.3.8. Slutgiltiga justeringar

D.4. Installera Debian GNU/Linux över Parallel Line IP (PLIP)

    D.4.1. Krav
    D.4.2. Ställ in källor
    D.4.3. Installera måldatorn

D.5. Installera Debian GNU/Linux över PPP over Ethernet (PPPoE)

D.1. Linux-enheter

De olika specialfilerna för Linux kan hittas under katalogen /dev. Dessa filer
kallas för enhetsfiler och uppträder inte på samma sätt som vanliga filer. De
mest vanliga typer av enhetsfiler är för blockenheter och teckenenheter. Dessa
filer är ett gränssnitt mot den faktiska drivrutinen (del av Linux-kärnan) som
i sin tur kommer åt hårdvaran. En annan, mindre vanlig, typ av enhetsfil är den
namngivna röret (named pipe). De mest viktiga enhetsfilerna listas i tabellerna
nedan.

┌────┬──────────────────────────────────────────┐
│sda │Första hårddisken                         │
├────┼──────────────────────────────────────────┤
│sdb │Andra hårddisken                          │
├────┼──────────────────────────────────────────┤
│sda1│Första partitionen på första hårddisken   │
├────┼──────────────────────────────────────────┤
│sdb7│Sjunde partitionen på den andra hårddisken│
└────┴──────────────────────────────────────────┘

┌───┬─────────────────────┐
│sr0│Första CD-ROM-skivan │
├───┼─────────────────────┤
│sr1│Andra CD-ROM-skivan  │
└───┴─────────────────────┘

┌───────┬──────────────────────────────────────────────────┐
│ttyS0  │Serieport 0, COM1 under MS-DOS                    │
├───────┼──────────────────────────────────────────────────┤
│ttyS1  │Serieport 1, COM2 under MS-DOS                    │
├───────┼──────────────────────────────────────────────────┤
│psaux  │PS/2-musenhet                                     │
├───────┼──────────────────────────────────────────────────┤
│gpmdata│Pseudoenhet, repeterar data från GPM-demonen (mus)│
└───────┴──────────────────────────────────────────────────┘

┌─────┬──────────────────────────────┐
│cdrom│Symbolisk länk till Cd-enheten│
├─────┼──────────────────────────────┤
│mus  │Symbolisk länk till musenheten│
└─────┴──────────────────────────────┘

┌────┬────────────────────────────────────────────────────────────┐
│null│Allting som skrivs till den här enheten kommer att försvinna│
├────┼────────────────────────────────────────────────────────────┤
│zero│Man kan läsa oändligt antal nollor från den här enheten     │
└────┴────────────────────────────────────────────────────────────┘

D.1.1. Konfigurera din mus

Musen kan användas i både Linux-konsollen (med gpm) och X-fönstermiljön. Oftast
är det här en enkel sak att installera gpm och själva X-servern. Båda ska
konfigureras till att använda /dev/input/mice som musenheten. Det korrekta
musprotokollet heter exps2 i gpm, och ExplorerPS/2 i X. Konfigurationsfilerna
är /etc/gpm.conf och /etc/X11/xorg.conf.

Vissa kärnmoduler måste läsas in för att din mus ska fungera. I vissa fall
identiferas de korrekta modulerna automatiskt, men inte alltid för gamla serie-
och bussmöss^[23], vilka är ganska ovanliga förutom på mycket gamla datorer.
Sammandrag över Linux-kärnmoduler som behövs för olika mustyper:

┌────────┬─────────────────────────────────────────────────────┐
│ Modul  │                     Beskrivning                     │
├────────┼─────────────────────────────────────────────────────┤
│psmouse │PS/2-möss (ska identifieras automatiskt)             │
├────────┼─────────────────────────────────────────────────────┤
│usbhid  │USB-möss (ska identifieras automatiskt)              │
├────────┼─────────────────────────────────────────────────────┤
│sermouse│De flesta seriemöss                                  │
├────────┼─────────────────────────────────────────────────────┤
│logibm  │Bussmus ansluten till Logitech-kort                  │
├────────┼─────────────────────────────────────────────────────┤
│inport  │Bussmus ansluten till ATI eller Microsoft InPort-kort│
└────────┴─────────────────────────────────────────────────────┘

För att läsa in en musdrivrutinsmodul kan du använda kommandot modconf (från
paketet med samma namn) och leta i kategorin kernel/drivers/input/mouse.

D.2. Nödvändig diskplats för funktioner

En standardinstallation för arkitekturen amd64 med en standard kärna, inklusive
alla standardpaket, kräver 971 MB diskutrymme. En minimal grundinstallation,
utan funktionen "Standardsystem" vald, kommer att ta upp 769 MB.

Viktigt

I båda fallen är det här det här det faktiska diskutrymmet som används efter
att installationen är färdig och eventuella temporärfiler har tagits bort. Det
tar heller inte hänsyn till utrymme som används av filsystemet, till exempel
för journalfiler. Det här betyder en markant ökning av diskutrymmet som behövs
av båda under installationen och för normal systemanvändning.

Följande tabell listar storlekar som rapporterats av aptitude för funktionerna
listade i tasksel. Observera att några funktioner har överlappande
beståndsdelar, så den totala installerade storleken för två funktioner
tillsammans kan vara mindre än totalen som fås genom att lägga ihop siffrorna.

Som standard kommer installationsprogrammet att installera skrivbordsmiljön
GNOME, men alternativa skrivbordsmiljöer kan väljas antingen genom att använda
en av de speciella installationsavbildningarna eller genom att ange den önskade
skrivbordsmiljön under installationen (se Avsnitt 6.3.6.2, "Val och
installation av programvara").

Observera att du behöver lägga till storlekarna som listas i tabellen till
storleken för standardinstallationen när storlekarna på partitionerna bestäms.
De flesta storlekar listade som "Installerad storlek" kommer att hamna i /usr
och i /lib; storleken listad som "Hämtad storlek" krävs (temporärt) för /var.

┌───────────────┬─────────────────┬──────────────┬────────────────────────────┐
│   Funktion    │   Installerad   │Hämtad storlek│   Utrymme som behövs för   │
│               │  storlek (MB)   │     (MB)     │     installation (MB)      │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│Skrivbordsmiljö│                 │              │                            │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • GNOME      │2790             │786           │3576                        │
│(standard)     │                 │              │                            │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • KDE Plasma │4122             │1212          │5334                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • Xfce       │2187             │621           │2808                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • LXDE       │2271             │653           │2924                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • MATE       │2574             │711           │3285                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • Cinnamon   │4197             │1251          │5448                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│Webbserver     │44               │11            │55                          │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│SSH-server     │2                │0             │2                           │
└───────────────┴─────────────────┴──────────────┴────────────────────────────┘

Om du installerar i ett annat språk än engelska, kan tasksel automatiskt
installera en lokalanpassningsfunktion om det finns en tillgänglig för ditt
språk. Utrymmeskrav skiljer sig mellan språken; du bör avsätta upp till 350 MB
totalt för hämtning och installation.

D.3. Installera Debian GNU/Linux från ett Unix/Linux-system

Det här avsnittet förklarar hur man installerar Debian GNU/Linux från ett
befintligt Unix- eller Linux-system, utan att använda det menystyrda
installationsprogrammet som förklaras i resten av handboken. Den här HOWTO:n
för "cross-installation" har efterfrågats av användare som byter till Debian
GNU/Linux från Red Hat, Mandriva och SUSE. I detta avsnitt antas att viss
erfarenhet av *nix-kommandon och navigering i filsystemet. I detta avsnitt
symboliserar $ ett kommando som ska anges i användarens aktuella system, medan
# refererar till ett kommando som ska anges i Debians chroot-miljö.

När du har fått det nya Debian-systemet konfigurerat enligt din smak, kan du
migrera din befintliga användardata (om den finns) till det, och fortsätta
köra. Det här är alltså en installation av Debian GNU/Linux "utan nedtid". Det
är också ett klurigt sätt att hantera maskinvara som annars inte fungerar
snällt med olika uppstarts- eller installationsmedia.

Notera

Eftersom det här till största del är en manuell procedur bör du tänka på att du
kommer att behöva göra en hel del grundläggande konfiguration av själva
systemet själv, vilket även kräver mer kunskaper om Debian och speciellt Linux
i allmänhet än att genomföra en vanlig installation. Du kan inte förvänta dig
att denna procedur resulterar i ett system som är identiskt med ett system från
en vanlig installation. Du bör även tänka på att denna procedur endast ger de
grundläggande stegen för att konfigurera ett system. Ytterligare installation
och/eller konfigurationssteg kan behövas.

D.3.1. Påbörja arbetet

Partitionera om hårddisken efter behov med dina aktuella
*nix-partitioneringsverktyg. Skapa åtminstone ett filsystem plus
växlingsutrymme. Du behöver ungefär 769 MB tillgängligt diskutrymme för en
installation för endast konsoll, eller ungefär 2271 MB om du planerar att
installera X (mer om du tänker installera skrivbordsmiljöer som GNOME eller KDE
Plasma).

Skapa sedan filsystem på dina partitioner. För att till exempel skapa ett
ext3-filsystem på partitionen /dev/sda6 (det är vår rotpartition i exemplet):

# mke2fs -j /dev/sda6

För att istället skapa ett ext2-filsystem, uteslut -j.

Initialisera och aktivera växlingsutrymmet (ersätt partitionsnumret med din
tilltänkta Debian-partition för växlingsutrymme):

# mkswap /dev/sda5
# sync
# swapon /dev/sda5

Montera en partition som /mnt/debinst (installationspunkten, som ska vara
rotfilsystemet (/) på ditt nya system). Namnet på monteringspunkten är strikt
godtyckligt, det refereras till senare här nedan.

# mkdir /mnt/debinst
# mount /dev/sda6 /mnt/debinst

Notera

Om du vill ha delar av filsystemet (exempelvis, /usr) monterat på separata
partitioner, behöver du skapa och montera dessa kataloger manuellt innan du
fortsätter till nästa steg.

D.3.2. Installera debootstrap

Verktyget som Debian Installer använder, som är känt som det officiella sättet
att installera Debians grundsystem, är debootstrap. Det använder wget och ar,
men är annars endast beroende av /bin/sh och grundläggande Unix/Linux-verktyg^
[24]. Installera wget och ar om de inte redan finns på ditt aktuella system,
hämta och installera sedan debootstrap.

Eller så kan du använda följande procedur för att installera det manuellt.
Skapa en arbetskatalog för att extrahera .deb-filen till:

# mkdir arbetskatalog
# cd arbetskatalog

Binärfilen debootstrap finns i Debian-arkivet (se till att välja den lämpliga
filen för din arkitektur). Hämta .deb-filen för debootstrap från pool, kopiera
paketet till arbetskatalogen, och extrahera filerna från det. Du kommer att
behöva root-privilegier för att installera filerna.

# ar -x debootstrap_0.X.X_all.deb
# cd /
# zcat /fullständig-sökväg-till-arbetskatalog/arbetskatalog/data.tar.gz | tar xv

D.3.3. Kör debootstrap

debootstrap kan hämta de nödvändiga filerna direkt från arkivet när du kör det.
Du kan ersätta ftp.se.debian.org/debian med vilken Debian-arkivspegel som du
vill i kommandoexemplet nedan, föredragsvis en spegel som är så nära ditt
nätverk som möjligt. Speglarna finns listade på http://www.debian.org/mirror/
list.

Om du har en bullseye Debian GNU/Linux installationsavbildning monterad på /
cdrom, kan du ersätta en fil-URL istället för en http-URL: file:/cdrom/debian/

Ersätt en av följande för ARCH i kommandot debootstrap: amd64, arm64, armel,
armhf, i386, mips64el, mipsel, ppc64el, s390x.

# /usr/sbin/debootstrap --arch ARCH bullseye \
      /mnt/debinst http://ftp.us.debian.org/debian

Om målarkitekturen skiljer sig från värden bör du lägga till alternativet
--foreign.

D.3.4. Konfigurera grundsystemet

Nu är du har ett riktigt Debian-system, även om det är ganska minimalt, på
disk. Kör chroot in i det:

# LANG=C.UTF-8 chroot /mnt/debinst /bin/bash

Om målarkitekturen skiljer sig från värden måste du först kopiera
qemu-user-static till den nya värden:

# cp /usr/bin/qemu-ARCH-static /mnt/debinst/usr/bin
# LANG=C.UTF-8 chroot /mnt/debinst qemu-ARCH-static /bin/bash

Efter chroot kan du behöva ställa in terminaldefinitionen så att den är
kompatibel med Debian bassystemet, till exempel:

# export TERM=xterm-color

Beroende på värdet av TERM, kan du behöva installera ncurses-term paketet för
att få stöd för det.

Om målarkitekturen skiljer sig från värden måste du avsluta flerstegets
startband:

/debootstrap/debootstrap --second-stage

D.3.4.1. Skapa enhetsfiler

Vid det här tillfället innehåller /dev/ endast mycket grundläggande
enhetsfiler. För nästkommande steg av installationen kan ytterligare
enhetsfiler behövas. Det finns olika sätt att göra detta på och vilken metod
som du väljer beror på värdsystemet som du använder för installationen, om du
tänker använda en modulär kärna eller inte och om du tänker använda dynamisk
(t.ex. använda udev) eller statiska enhetsfiler för det nya systemet.

Ett par av de tillgängliga alternativen är:

  • installera makedev-paketet och skapa en standarduppsättning med statiska
    enhetsfiler (efter chroot)

    # apt install makedev
    # mount none /proc -t proc
    # cd /dev
    # MAKEDEV generic

  • skapa manuellt endast specifika enhetsfiler med MAKEDEV

  • bindmontera /dev från ditt värdsystem på toppen av /dev i målsystemet;
    observera att postinst-skripten för vissa paket kan försöka att skapa
    enhetsfiler, så detta alternativ ska endast användas med försiktighet

D.3.4.2. Montera partitioner

Du måste skapa /etc/fstab.

# editor /etc/fstab

Här är ett exempel som du kan ändra på för att passa in:

# /etc/fstab: statisk filsystemsinformation.
#
# filsystem      monteringsp.  typ     flaggor                  dump pass
/dev/XXX         /             ext3    defaults                 0    1
/dev/XXX         /boot         ext3    ro,nosuid,nodev          0    2

/dev/XXX         none          swap    sw                       0    0
proc             /proc         proc    defaults                 0    0

/dev/cdrom       /media/cdrom  iso9660 noauto,ro,user,exec      0    0

/dev/XXX         /tmp          ext3    rw,nosuid,nodev          0    2
/dev/XXX         /var          ext3    rw,nosuid,nodev          0    2
/dev/XXX         /usr          ext3    rw,nodev                 0    2
/dev/XXX         /home         ext3    rw,nosuid,nodev          0    2

Använd mount -a för att montera alla filsystem som du har angivna i din /etc/
fstab, eller använd följande kommando för att montera filsystem individuellt:

# mount /path   # exempelvis: mount /usr

Nuvarande Debian-system har monteringspunkter för flyttbara media under /media,
men innehåller symboliska länkar / för att vara kompatibla. Skapa dessa efter
behov, till exempel:

# cd /media
# mkdir cdrom0
# ln -s cdrom0 cdrom
# cd /
# ln -s media/cdrom

Du kan montera proc-filsystemet flera gånger till godtyckliga platser, även om
/proc är vanligast. Om du inte använde mount -a, tänk på att montera proc innan
du fortsätter:

# mount -t proc proc /proc

Kommandot ls /proc bör nu visa en icke-tom katalog. Om det här skulle
misslyckas, kan du kanske montera proc utanför chroot:

# mount -t proc proc /mnt/debinst/proc

D.3.4.3. Ställ in tidszon

Att ställa in den tredje raden i filen /etc/adjtime till "UTC" eller "LOCAL"
avgör om systemet kommer att tolka hårdvaruklockan som inställd på UTC
respektive lokal tid. Följande kommando låter dig ställa in det.

# editor /etc/adjtime

Här är ett exempel:

0.0 0 0.0
0
UTC

Följande kommando låter dig välja din tidszon.

# dpkg-reconfigure tzdata

D.3.4.4. Konfigurera nätverket

För att konfigurera nätverket, redigera /etc/network/interfaces, /etc/
resolv.conf, /etc/hostname och /etc/hosts.

# editor /etc/network/interfaces

Här är några enkla exempel från /usr/share/doc/ifupdown/examples:

######################################################################
# /etc/network/interfaces -- konfigurationsfil för ifup(8), ifdown(8)
# Se manualsidan interfaces(5) för information om vilka flaggor som
# finns tillgängliga.
######################################################################

# loopback-gränssnittet behövs egentligen inte längre, men kan användas
# om det behövs.
#
# auto lo
# iface lo inet loopback

# För att använda dhcp:
#
# auto eth0
# iface eth0 inet dhcp

# Ett exempel på statisk IP-konfiguration: (nätverk, broadcast och gateway är valfria)
#
# auto eth0
# iface eth0 inet static
#     address 192.168.0.42
#     network 192.168.0.0
#     netmask 255.255.255.0
#     broadcast 192.168.0.255
#     gateway 192.168.0.1

Ange din namnserver (eller flera) och sökdirektiv i /etc/resolv.conf:

# editor /etc/resolv.conf

En enkelt exempel för /etc/resolv.conf:

search example.com
nameserver 10.1.1.36
nameserver 192.168.9.100

Ange värdnamnet för ditt system (2 till 63 tecken):

# echo DebianVardNamn > /etc/hostname

Och en grundläggande /etc/hosts med IPv6-stöd:

127.0.0.1 localhost
127.0.1.1 DebianVardNamn

# Följande rader är önskvärda för IPv6-kapabla värdar
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts

Om du har flera nätverkskort bör du sortera namnen på drivrutinsmodulerna i
filen /etc/modules i önskad ordning. Sedan, under uppstart, kommer varje kort
att associeras med gränssnittsnamnet (eth0, eth1, etc.) som du förväntar dig.

D.3.4.5. Konfigurera apt

Debootstrap har skapat en mycket grundläggande /etc/apt/sources.list som
tillåter installation av ytterligare paket. Dock kanske du vill lägga till
ytterligare källor, till exempel för källkodspaket och säkerhetsuppdateringar:

deb-src http://ftp.se.debian.org/debian bullseye main

deb http://security.debian.org/ bullseye-security main
deb-src http://security.debian.org/ bullseye-security main

Se till att köra apt update efter att du har gjort ändringar i källistan.

D.3.4.6. Konfigurera lokaler och tangentbord

För att konfigurera dina lokalinställningar till att använda ett språk annat än
engelska, installera stödpaketet locales och konfigurera det. För närvarande
rekommenderas användning av UTF-8-lokaler.

# apt install locales
# dpkg-reconfigure locales

För att konfigurera ditt tangentbord (om det behövs):

# apt install console-setup
# dpkg-reconfigure keyboard-configuration

Observera att tangentbordet inte kan ställas in när chroot används men kommer
att konfigureras inför nästa omstart.

D.3.5. Installera en kärna

Om du tänker starta upp det här systemet, vill du antagligen ha en Linux-kärna
och en starthanterare. Identifiera tillgängliga förpaketerade kärnor med:

# apt search linux-image

Installera sedan det kärnpaket som du önskar med hjälp av dess paketnamn.

# apt install linux-image-arch-etc

D.3.6. Ställ in starthanteraren

För att göra ditt Debian GNU/Linux-system startbart, ställ in din
starthanterare att läsa in den installerade kärnan med din nya rotpartition.
Observera att debootstrap inte installerar en starthanterare, men du kan
använda apt inne i din Debian chroot-miljö för att göra det.

Kontrollera info grub för instruktioner om hur man ställer in starthanteraren.
Om du behåller systemet du använde för att installera Debian, lägg bara till en
post för Debian-installationen till din befintliga grub2 grub.cfg.

Installering och konfigurering av grub2 är så här enkelt:

# apt install grub-pc
# grub-install /dev/sda
# update-grub

Det andra kommandot kommer att installera grub2 (i det här fallet i
huvudstartsektorn (MBR) på sda). Det sista kommandot kommer att skapa en ren
och fungerande /boot/grub/grub.cfg.

Observera att detta antar att enhetsfilen /dev/sda har skapats. Det finns
alternativa metoder för att installera grub2, men dessa är utanför omfånget för
denna bilaga.

D.3.7. Fjärråtkomst: installera SSH och konfigurera åtkomst

Om du kan logga in på systemet via konsolen kan du hoppa över det här
avsnittet. Om systemet ska vara tillgängligt via nätverket senare, måste du
installera SSH och konfigurera åtkomst.

# apt install ssh

Root login med lösenord är inaktiverat som standard, så att ställa in tillgång
kan göras genom att ange ett lösenord och återaktivera root login med lösenord:

# passwd
# editor /etc/ssh/sshd_config

Detta är alternativet som ska aktiveras:

PermitRootLogin yes

Åtkomst kan också ställas in genom att lägga till en SSH-nyckel till
root-kontot:

# mkdir /root/.ssh
# cat << EOF > /root/.ssh/authorized_keys
ssh-rsa ....
EOF

Slutligen kan åtkomst ställas in genom att lägga till en icke-root-användare
och ange ett lösenord:

# adduser joe
# passwd joe

D.3.8. Slutgiltiga justeringar

Som nämnts tidigare, det installerade systemet kommer att vara mycket minimalt.
Om du vill fylla upp systemet lite mer, finns det en enkel metod för att
installera alla paket med "standard"prioritet:

# tasksel install standard

Du kan så klart också använda apt för att installera paket individuellt.

Efter installationen kommer det att finnas en hel del hämtade paket i /var/
cache/apt/archives/. Du kan frigöra diskutrymme genom att köra:

# apt clean

D.4. Installera Debian GNU/Linux över Parallel Line IP (PLIP)

Det här avsnittet förklarar hur man installerar Debian GNU/Linux på en dator
som saknar ett Ethernet-kort, men med en dator som fjärrgateway ansluten via en
nollmodemkabel (kallas även för nollskrivarkabel). Gatewaydatorn bör vara
ansluten till ett nätverk som har en Debian-spegel på sig (t.ex. Internet).

I exemplet i den här bilagan kommer vi att ställa in en PLIP-anslutning med en
gateway ansluten till Internet över en uppringd anslutning (ppp0). Vi kommer
att använda IP-adresserna 192.168.0.1 och 192.168.0.2 för PLIP-gränssnitten på
målsystemet respektive källsystemet (dessa adresser bör vara oanvända inom ditt
nätverksadressintervall).

Inställningen av PLIP-anslutningen under installationen kommer också vara
tillgänglig efter omstart till det installerade systemet (se Kapitel 7, Starta
upp ditt nya Debian-system).

Innan du börjar, behöver du kontrollera BIOS-konfigurationen (IO-basadress och
IRQ) för parallellportar på både käll- och målsystemet. De mest vanliga värdena
är io=0x378 och irq=7.

D.4.1. Krav

  • En måldator, kallad mål, där Debian kommer att installeras.

  • Systeminstallationsmedia; se Avsnitt 2.4, "Installationsmedia".

  • En annan dator ansluten till Internet, kallad källa, som kommer att fungera
    som en gateway.

  • En DB-25-nollmodemkabel. Se PLIP-Install-HOWTO för mer information för den
    här kabeln och instruktioner hur man tillverkar en egen.

D.4.2. Ställ in källor

Följande skript är ett enkelt exempel på hur man konfigurerar källdatorn som en
gateway till Internet med ppp0.

#!/bin/sh

# Vi tar bort körande moduler från kärnan för att undvika konflikter och
# för att konfigurera om dem manuellt.
modprobe -r lp parport_pc
modprobe parport_pc io=0x378 irq=7
modprobe plip

# Konfigurera plip-gränssnittet (plip0 för mig, se dmesg | grep plip)
ifconfig plip0 192.168.0.2 pointopoint 192.168.0.1 netmask 255.255.255.255 up

# Konfigurera gateway
modprobe iptable_nat
iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE
echo 1 > /proc/sys/net/ipv4/ip_forward

D.4.3. Installera måldatorn

Starta upp på installationsmediat. Installationen behöver köras i expertläget;
skriv expert vid uppstartsprompten. Om du behöver ställa in paramentrar för
kärnmoduler behöver du även göra detta vid uppstartsprompten. För att till
exempel starta upp installationsprogrammet och ställa in värden för flaggorna "
io" och "irq" för modulen parport_pc, skriv följande vid uppstartsprompten:

expert parport_pc.io=0x378 parport_pc.irq=7

Nedan finns svaren som bör anges under de olika stegen av installationen.

 1. Läs in installationskomponenter från installationsmedia

    Välj plip-modules från listan; det här kommer att göra drivrutinerna för
    PLIP tillgängliga för installationssystemet.

 2. Identifiera nätverksmaskinvara

      □ Om målet har ett nätverkskort, kommer en lista över drivrutinsmoduler
        för identifierade kort att visas. Om du vill tvinga debian-installer
        att använda plip istället, måste du avmarkera alla listade
        drivrutinsmoduler. Så klart, om målet inte har ett nätverkskort kommer
        installationsprogrammet inte att visa den här listan.

      □ På grund av att inget nätverkskort hittades/valdes tidigare, kommer
        installationsprogrammet att fråga dig om att välja en
        nätverksdrivrutinsmodul från en lista. Välj modulen plip.

 3. Konfigurera nätverket

      □ Auto-konfigurera nätverk med DHCP: Nej

      □ IP-adress: 192.168.0.1

      □ Punkt-till-punkt-adress: 192.168.0.2

      □ Namnserveradresser: du kan ange samma adresser som används på källan
        (se /etc/resolv.conf)

D.5. Installera Debian GNU/Linux över PPP over Ethernet (PPPoE)

I vissa länder är PPP over Ethernet (PPPoE) ett vanligt protokoll för
bredbandsanslutningar (ADSL eller kabel) till en internetleverantör.
Konfiguration av en nätverksanslutning med PPPoE stöds inte som standard i
installationsprogrammet men går att få att fungera mycket enkelt. Det här
avsnittet förklarar hur man gör.

PPPoE-anslutningen som konfigurerats under installationen kommer också vara
tillgänglig efter omstart till det installerade systemet (se Kapitel 7, Starta
upp ditt nya Debian-system).

För att få möjligheten att konfigurera och använda PPPoE under installationen
behöver du installera från en av cd/dvd-avbildningarna som finns tillgängliga.
Det stöds inte för andra installationsmetoder (t.ex. nätinstallation).

Installation över PPPoE är mestadels samma som för andra installationer.
Följande steg förklarar skillnaderna.

  • Starta upp installationsprogrammet med uppstartsparameter modules=ppp-udeb^
    [25]. Det här kommer att se till att komponenten som ansvarar för
    konfigurering av PPPoE (ppp-udeb) kommer att läsas in och köras
    automatiskt.

  • Följ de vanliga initiala steg för installationen (språk, land och
    tangentbordsval; inläsningen av ytterligare installerarkomponenter^[26]).

  • Nästa steg är identifieringen av nätverksmaskinvaran för att identifiera de
    Ethernet-kort som finns anslutna till systemet.

  • Efter det här är konfigurationen av PPPoE startad. Installationsprogrammet
    kommer att söka igenom alla identifierade Ethernet-gränssnitt i ett försök
    att hitta en PPPoE-koncentrator (en typ av server som hanterar
    PPPoE-anslutningar).

    Det är möjligt att koncentratorn inte kommer att hittas vid första
    försöket. Det kan hända ibland vid långsamma eller belastade nätverk eller
    med felaktiga servrar. I de flesta fall lyckas ett andra försök att
    identifiera koncentratorn; för att försöka igen, välj Konfigurera och
    starta en PPPoE-anslutning från huvudmenyn i installationsprogrammet.

  • Efter att en koncentrator har hittats kommer användaren att bli tillfrågad
    att ange inloggningsinformationen (användarnamn och lösenord för
    PPPoE-anslutningen).

  • Nu kommer installationsprogrammet att använda den angivna informationen för
    att etablera PPPoE-anslutningen. Om korrekt information har angivits kommer
    PPPoE-anslutningen att konfigureras och installationsprogrammet ska kunna
    använda den för att ansluta till Internet och hämta ner paket (om det
    behövs). Om inloggningsinformationen inte är korrekt eller några fel dyker
    upp kommer installationsprogrammet att stoppa, men konfigurationen kan
    startas om igen genom att välja menyposten Konfigurera och starta en
    PPPoE-anslutning.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[23] Seriemöss har oftast en 9-hålig D-formad kontakt; bussmöss har en
8-pinnars rund kontakt, förväxla den inte med den 6-pinnars runda kontakten för
en PS/2-mus eller den 4-pinnars runda kontakten för en ADB-mus.

^[24] Dessa inkluderar GNU-kärnverktyg och kommandon såsom sed, grep, tar och 
gzip.

^[25] Se Avsnitt 5.1.7, "Uppstartsskärmen" för information om hur man lägger
till en uppstartsparameter.

^[26] Komponenten ppp-udeb läses in som en av de ytterligare komponenterna i
det här steget. Om du vill installera på medium eller låg prioritet
(expertläge) kan du även manuellt välja ppp-udeb istället för att ange
parametern "modules" vid uppstartsprompten.

Appendix E. Administrivia

Innehållsförteckning

E.1. Om det här dokumentet
E.2. Bidrag till det här dokumentet
E.3. Stora bidragsgivare
E.4. Varumärken

E.1. Om det här dokumentet

Den här handboken skapades för Sarges debian-installer och baserades på
installationsmanualen för Woody för uppstartsdisketter som var baserad på
tidigare installationsmanualer för Debian och på Progeny-utgåvans manual som
utgavs under GPL år 2003.

Det här dokumentet är skrivet i DocBook XML. Formaten för utdata genereras av
olika program med information från paketen docbook-xml och docbook-xsl.

För att förbättra hanteringen av det här dokumentet använder vi ett antal
XML-funktioner såsom entities och profil-attribut. Dessa spelar en roll som är
besläktad med variabler och villkor i programspråk. XML-källkoden till det här
dokumentet innehåller information om varje arkitektur och profil-attribut
används för att isolera vissa delar av texten som är arkitekturspecifik.

E.2. Bidrag till det här dokumentet

Om du har problem eller förslag angående det här dokumentet bör du antagligen
sända in om som en felrapport mot paketet installation-guide. Se paketet
reportbug eller läs online-dokumentationen för Debians felrapporteringssystem.
Det vore trevligt om du kunde kontrollera öppna fel mot paketet
debian-installer-manual för att se om ditt problem redan har blivit
rapporterat. Om det har gjorts kan du ange ytterligare bekräftelse på problemet
eller behjälplig information till <XXXX@bugs.debian.org> där XXXX är numret för
den redan öppnade felrapporten.

Ännu bättre, skaffa en kopia av DocBook-källan för det här dokumentet och skapa
rättningar mot den. DocBook-källan kan hittas på projektet installation-guide
på salsa. Om du inte känner till DocBook, var inte rädd, det finns en enkel
lathund i handbokslkatalogen som gör det lättare att starta. Det liknar html
men riktar sig mer mot betydningen av texten hellre än presentationen.
Rättningar som skickas till sändlistan debian-boot (se nedan) välkomnas. För
instruktioner om hur man tar ner källan via git, se README från källans
rotkatalog.

Vänligen kontakta inte författaren av det här dokumentet direkt. Det finns även
en diskussionslista för debian-installer som inkluderar diskussioner om den här
handboken. Sändlistan är <debian-boot@lists.debian.org>. Instruktioner för
prenumeration av den här listan kan hittas på sidan Debian Mailing List
Subscription eller så kan du bläddra i Debian Mailing List Archives online.

E.3. Stora bidragsgivare

Detta dokument skrevs ursprungligen av Bruce Perens, Sven Rudolph, Igor
Grobman, James Treacy och Adam Di Carlo. Sebastian Ley skrev
installationshjälpen.

Miroslav Kuře har dokumenterat mycket av den nya funktionaliteten i
debian-installer för Sarge. Frans Pop var huvudredaktör och utgivningsansvarig
för utgåvorna Etch, Lenny och Squeeze.

Många, många Debian-användare och utvecklare har bidragit till det här
dokumentet. Speciellt tack måste ges till Michael Schmitz (m68k-stöd), Frank
Neumann (originalförfattare av installationshandboken för Amiga), Arto Astala,
Eric Delaunay/Ben Collins (SPARC-information), Tapio Lehtonen och Stéphane
Bortzmeyer för ett flertal redigeringar och texter. Vi måste tacka Pascal Le
Bail för användbar information om uppstart från USB-minnen.

Mycket behjälplig text och information hittades i Jim Minthas HOWTO för
uppstart via nätverket (ingen URL tillgänglig), Debian FAQ, Linux/m68k FAQ,
Linux för SPARC-processorer FAQ, Linux/Alpha FAQ bland andra. Ansvariga för
dessa fritt tillgängliga och rikliga källor av information måste erkännas.

Avsnittet om chrootade installationer i den här handboken (Avsnitt D.3,
"Installera Debian GNU/Linux från ett Unix/Linux-system") blev framtagen ur
delar från dokument som är copyright Karsten M. Self.

Avsnittet för installationer över plip i den här handboken (Avsnitt D.4,
"Installera Debian GNU/Linux över Parallel Line IP (PLIP)") baserades på
PLIP-Install-HOWTO av Gilles Lamiral.

E.4. Varumärken

Alla varumärken tillhör sina respektive ägare.

Appendix F. GNU General Public License

Notera

This is an unofficial translation of the GNU General Public License into
Swedish. It was not published by the Free Software Foundation, and does not
legally state the distribution terms for software that uses the GNU GPL -- only
the original English text of the GNU GPL does that. However, we hope that this
translation will help Swedish speakers to better understand the GNU GPL.

Det här är en inofficiell svensk översättning av GNU General Public License.
Den har inte publicerats av Free Software Foundation och fastställer inte
heller de juridiska villkor för distribuering för programvara som använder GNU
GPL -- det gör endast den ursprungliga engelska texten av GNU GPL. Dock hoppas
vi att denna översättning kan hjälpa svenska läsare att förstå GNU GPL bättre.

Version 2, June 1991

Copyright © 1989, 1991 Free Software Foundation, Inc.
51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.

Var och en äger kopiera och distribuera exakta kopior av det
här licensavtalet, men att ändra det är inte tillåtet.

F.1. BAKGRUND

De flesta programvarulicenser är skapade för att ta bort din frihet att ändra
och dela med dig av programvaran. GNU General Public License är tvärtom skapad
för att garantera din frihet att dela med dig av och förändra fri programvara
-- för att försäkra att programvaran är fri för alla dess användare. Den här
licensen [General Public License] används för de flesta av Free Software
Foundations programvaror och för alla andra program vars upphovsmän använder
sig av General Public License. (Viss programvara från Free Software Foundation
använder istället GNU Library General Public License.) Du kan använda licensen
för dina program.

När vi talar om fri programvara syftar vi på frihet och inte på pris. Våra
[General Public License-] licenser är skapade för att garantera din rätt
distribuera och sprida kopior av fri programvara (och ta betalt för den här
tjänsten om du önskar), att garantera att du får källkoden till programvaran
eller kan få den om du så önskar, att garantera att du kan ändra och modifiera
programvaran eller använda dess delar i ny fri programvara samt slutligen att
garantera att du är medveten om dessa rättigheter.

För att skydda dina rättigheter, måste vi begränsa var och ens möjlighet att
hindra dig från att använda dig av dessa rättigheter samt från att kräva att du
ger upp dessa rättigheter. Dessa begränsningar motsvaras av en förpliktelse för
dig om du distribuerar kopior av programvaran eller om du ändrar eller
modifierar programvaran.

Om du exempelvis distribuerar kopior av en fri programvara, oavsett om du gör
det gratis eller mot en avgift, måste du ge mottagaren alla de rättigheter du
själv har. Du måste också tillse att mottagaren får källkoden eller kan få den
om mottagaren så önskar. Du måste också visa dessa licensvillkor för mottagaren
så att mottagaren känner till sina rättigheter.

Vi skyddar dina rättigheter i två steg: (1) upphovsrätt till programvaran och
(2) dessa licensvillkor som ger dig rätt att kopiera, distribuera och eller
ändra programvaran.

För varje upphovsmans säkerhet och vår säkerhet vill vi för tydlighets skull
klargöra att det inte lämnas några garantier för den här fria programvaran. Om
programvaran förändras av någon annan än upphovsmannen vill vi klargöra för
mottagaren att det som mottagaren har är inte originalversionen av programvaran
och att förändringar av och felaktigheter i programvaran inte skall belasta den
ursprunglige upphovsmannen.

Slutligen skall det sägas att all fri programvara ständigt hotas av
programvarupatent. Vi vill undvika att en distributör [eller vidareutvecklare]
av fri programvara individuellt skaffar patentlicenser till programvaran och
därmed gör programvaran till föremål för äganderätt. För att undvika det här
har vi gjort det tydligt att samtliga programvarupatent måste registreras för
allas fria användning eller inte registreras alls.

Här nedan följer licensvillkoren för att kopiera, distribuera och ändra
programvaran.

F.2. GNU GENERAL PUBLIC LICENSE

VILLKOR FÖR ATT KOPIERA, DISTRIBUERA OCH ÄNDRA PROGRAMVARAN

0. Dessa licensvillkor gäller varje programvara eller annat verk som innehåller
en hänvisning till dessa licensvillkor där upphovsrättsinnehavaren stadgat att
programvaran kan distribueras enligt [General Public License] dessa villkor. "
Programvaran" enligt nedan syftar på varje sådan programvara eller verk och "
Verk baserat på Programvaran" syftar på antingen Programvaran eller på
derivativa verk, såsom ett verk som innehåller Programvaran eller en del av
Programvaran, antingen en exakt kopia eller en ändrad kopia och/eller översatt
till ett annat språk. (Översättningar ingår nedan utan begränsningar i
begreppet "modifiering".) Varje licenstagare benämns som "du".

Åtgärder utom kopiering, distribution och ändringar täcks inte av dessa
licensvillkor. Användningen av Programvaran är inte begränsad och resultatet av
användningen av Programvaran täcks endast av dessa licensvillkor om resultatet
utgör ett Verk baserat på Programvaran (oberoende av att det skapats av att
programmet körts). Det beror på vad Programvaran gör.

1. Du äger kopiera och distribuera exakta kopior av Programvarans källkod såsom
du mottog den, i alla medier, förutsatt att Du tydligt och på ett skäligt sätt
på varje exemplar fäster en riktig upphovsrättsklausul och garantiavsägelse,
vidhåller alla hänvisningar till dessa licensvillkor och till alla
garantiavsägelser samt att till alla mottagaren av Programvaran ge en kopia av
dessa licensvillkor tillsammans med Programvaran.

Du äger utta en avgift för mekaniseringen [att fysiskt fästa Programvaran på
ett medium, såsom en diskett eller en CD-ROM-skiva] eller överföringen av en
kopia och du äger erbjuda en garanti för Programvaran mot en avgift.

2. Du äger ändra ditt exemplar eller andra kopior av Programvaran eller någon
del av Programvaran och därmed skapa ett Verk baserat på Programvaran, samt att
kopiera och distribuera sådana förändrade versioner av Programvaran eller verk
enligt villkoren i paragraf 1 ovan, förutsatt att du också uppfyller följande
villkor:

 a. Du tillser att de förändrade filerna har ett tydligt meddelande som
    berättar att Du ändrat filerna samt vilket datum dessa ändringar gjordes.

 b. Du tillser att alla verk som du distribuerar eller offentliggör som till en
    del eller i sin helhet innehåller eller är härlett från Programvaran eller
    en del av Programvaran, licensieras i sin helhet, utan kostnad till tredje
    man enligt dessa licensvillkor.

 c. Om den förändrade Programvaran i sitt normala utförande kan utföra
    interaktiv kommandon när det körs, måste Du tillse att när Programmet
    startas skall det skriva ut eller visa, på ett enkelt tillgängligt sätt,
    ett meddelande som tydligt och på ett skäligt sätt på varje exemplar fäster
    en riktig upphovsrättsklausul och garantiavsägelse (eller i förekommande
    fall ett meddelande som klargör att du tillhandahåller en garanti) samt att
    mottagaren äger distribuera Programvaran enligt dessa licensvillkor samt
    berätta hur mottagaren kan se dessa licensvillkor. (Från den här
    skyldigheten undantas det fall att Programvaran förvisso är interaktiv, men
    i sitt normala utförande inte visar ett meddelande av den här typen. I
    sådant fall behöver Verk baserat Programvaran inte visa ett sådant
    meddelande som nämns ovan.)

Dessa krav gäller det förändrade verket i dess helhet. Om identifierbara delar
av verket inte härrör från Programvaran och skäligen kan anses vara fristående
och självständiga verk i sig, då skall dessa licensvillkor inte gälla i de
delarna när de distribueras som egna verk. Men om samma delar distribueras
tillsammans med en helhet som innehåller verk som härrör från Programvaran,
måste distributionen i sin helhet ske enligt dessa licensvillkor.
Licensvillkoren skall i sådant fall gälla för andra licenstagare för hela
verket och sålunda till alla delar av Programvaran, oavsett vem som är
upphovsman till vilka delar av verket.

Den här paragrafen skall sålunda inte tolkas som att anspråk görs på
rättigheter eller att ifrågasätta Dina rättigheter till programvara som
skrivits helt av Dig. Syftet är att tillse att rätten att kontrollera
distributionen av derivativa eller samlingsverk av Programvaran.

Förekomsten av ett annat verk på ett lagringsmedium eller samlingsmedium som
innehåller Programvaran eller Verk baserat på Programvaran leder inte till att
det andra verket omfattas av dessa licensvillkor.

3. Du äger kopiera och distribuera Programvaran (eller Verk baserat på
Programvaran enligt paragraf 2) i objektkod eller i körbar form enligt
villkoren i paragraf 1 och paragraf 2 förutsatt att Du också gör en av följande
saker:

 a. Bifogar den kompletta källkoden i maskinläsbar form, som måste distribueras
    enligt villkoren i paragraf 1 och 2 på ett medium som i allmänhet används
    för utbyte av programvara, eller

 b. Bifogar ett skriftligt erbjudande, med minst tre års giltighet, att ge
    tredje man, mot en avgift som högst uppgår till Din kostnad att utföra
    fysisk distribution, en fullständig kopia av källkoden i maskinläsbar form,
    distribuerad enligt villkoren i paragraf 1 och 2 på ett medium som i
    allmänhet används för utbyte av programvara, eller

 c. Bifogar det skriftligt erbjudande Du fick att erhålla källkoden. (Det här
    alternativet kan endast användas för icke-kommersiell distribution och
    endast om Du erhållit ett program i objektkod eller körbar form med ett
    erbjudande i enlighet med b ovan.)

Källkoden för ett verk avser den form av ett verk som är att föredra för att
göra förändringar av verket. För ett körbart verk avser källkoden all källkod
för moduler det innehåller, samt alla tillhörande gränssnittsfiler,
definitioner, scripts för att kontrollera kompilering och installation av den
körbara Programvaran. Ett undantag kan dock göras för sådant som normalt
distribueras, antingen i binär form eller som källkod, med huvudkomponterna i
operativsystemet (kompliator, kärna och så vidare) i vilket den körbara
programvaran körs, om inte den här komponenten medföljer den körbara
programvaran.

Om distributionen av körbar Programvara eller objektkod görs genom att erbjuda
tillgång till att kopiera från en bestämd plats, då skall motsvarande tillgång
till att kopiera källkoden från samma plats räknas som distribution av
källkoden, även om trejde man inte behöver kopiera källkoden tillsammans med
objektkoden.

4. Du äger inte kopiera, ändra, licensiera eller distribuera Programvaran utom
på dessa licensvillkor. All övrig kopiering, ändringar, licensiering eller
distribution av Programvaran är ogiltig och kommer automatiskt medföra att Du
förlorar Dina rättigheter enligt dessa licensvillkor. Tredje man som har
mottagit kopior eller rättigheter från Dig enligt dessa licensvillkor kommer
dock inte att förlora sina rättigheter så länge de följer licensvillkoren.

5. Du åläggs inte att acceptera licensvillkoren, då du inte har skrivit under
det här avtalet. Du har dock ingen rätt att ändra eller distribuera
Programvaran eller Verk baserat på Programvaran. Sådan verksamhet är förbjuden
i lag om du inte accepterar och följer dessa licensvillkor. Genom att ändra
eller distribuera Programvaran (eller verk baserat på Programvaran) visar du
med genom ditt handlande att du accepterar licensvillkoren och alla villkor för
att kopiera, distribuera eller ändra Programvaran eller Verk baserat på
Programvaran.

6. Var gång du distributerar Progamvaran (eller Verk baserat på Programvaran),
kommer mottagaren per automatik att få en licens från den första licensgivaren
att kopiera, distribuera eller ändra Programvaran enligt dessa licensvillkor.
Du äger inte ålägga mottagaren några andra restriktioner än de som följer av
licensvillkoren. Du är inte skyldig att tillse att tredje man följer
licensvillkoren.

7. Om Du på grund av domstolsdom eller anklagelse om patentintrång eller på
grund av annan anledning (ej begränsat till patentfrågor), Du får villkor
(oavsett om de kommer via domstols dom, avtal eller på annat sätt) som strider
mot dessa licensvillkor så fråntar de inte Dina förpliktelser enligt dessa
licensvillkor. Om du inte kan distribuera Programvaran och samtidigt uppfylla
licensvillkor och andra skyldigheter, får du som en konsekvens inte distribuera
Programvaran. Om exempelvis ett patent gör att Du inte distribuera Programvaran
fritt till alla de som mottager kopior direkt eller indirekt från Dig, så måste
Du helt sluta distribuera Programvaran.

Om delar av den här paragrafen förklaras ogiltig eller annars inte kan
verkställas skall resten av paragrafen äga fortsatt giltighet och paragrafen i
sin helhet äga fortsatt giltighet i andra sammanhang.

Syftet med den här paragrafen är inte att förmå Dig att begå patentintrång
eller att begå intrång i andra rättigheter eller att förmå Dig att betrida
giltigheten i sådana rättigheter. Den här paragrafen har ett enda syfte, vilket
är att skydda distributionssystemet för fri programvara vilket görs genom
användandet av dessa licensvillkor. Många har bidragit till det stora utbudet
av programvara som distribueras med hjälp av dessa licensvillkor och den
fortsatta giltigheten och användningen av det här systemet, men det är
upphovsmannen själv som måste besluta om han eller hon vill distribuera
Programvaran genom det här systemet eller ett annat och en licenstagare kan
inte tvinga en upphovsman till ett annat beslut.

Den här paragrafen har till syfte att ställa det utom tvivel vad som anses
följa av resten av dessa licensvillkor.

8. Om distributionen och/eller användningen av Programvaran är begränsad i
vissa länder på grund av patent eller upphovsrättsligt skyddade gränssnitt kan
upphovsmannen till Programvaran lägga till en geografisk spridningsklausul,
enligt vilken distribution är tillåten i länder förutom dem i vilket det är
förbjudet. Om så är fallet kommer begränsningen att utgöra en fullvärdig del av
licensvillkoren.

9. The Free Software Foundation kan offentliggöra ändrade och/eller nya
versioner av the General Public License från tid till annan. Sådana nya
versioner kommer i sin helhet att påminna om nuvarande version av the General
Public License, men kan vara ändrade i detaljer för att behandla nya problem
eller göra nya överväganden. Varje version ges ett särskiljande versionsnummer.
Om Programvaran specificerar ett versionsnummer av licensvillkoren samt "alla
senare versioner" kan Du välja mellan att följa dessa licensvillkor eller
licensvillkoren i alla senare versioner offentliggjorda av the Free Software
Foundation. Om Programvaran inte specificerar ett versionnummer av
licensvillkoren kan Du välja fritt bland samtliga versioner som någonsin
offentligjorts.

10. Om du vill använda delar av Programvaran i annan fri programvara som
distribueras enligt andra licensvillkor, begär tillstånd från upphovsmannen.
För Programvaran var upphovsrätt innehas av Free Software Foundation, skriv
till Free Software Foundation, vi gör ibland undantag för det här. Vårt beslut
grundas på våra två mål att bibehålla den fria statusen av alla verk som
härleds från vår Programvara och främjandet av att dela med sig av och
återanvända programvara i allmänhet.

INGEN GARANTI

11. DÅ DENNA PROGRAMVARA LICENSIERAS UTAN KOSTNAD GES INGEN GARANTI FÖR
PROGRAMMET, UTOM SÅDAN GARANTI SOM MÅSTE GES ENLIGT TILLÄMPLIG LAG. FÖRUTOM DÅ
DET UTTRYCKS I SKRIFT TILLHANDAHÅLLER UPPHOVSRÄTTSINNEHAVAREN OCH/ELLER ANDRA
PARTER PROGRAMMET "I BEFINTLIGT SKICK" UTAN GARANTIER AV NÅGRA SLAG, VARKEN
UTTRYCKLIGA ELLER UNDERFÖRSTÅDDA, INKLUSIVE, MEN INTE BEGRÄNSAT TILL,
UNDERFÖRSTÅDDA GARANTIER VID KÖP OCH LÄMPLIGHET FÖR ETT SÄRSKILT ÄNDAMÅL. HELA
RISKEN FÖR KVALITET OCH ANVÄNDBARHET BÄRS AV DIG. OM PROGRAMMET SKULLE VISA SIG
HA DEFEKTER SKALL DU BÄRA ALLA KOSTNADER FÖR FELETS AVHJÄLPANDE, REPARATIONER
ELLER NÖDVÄNDIGSERVICE.

12. INTE I NÅGOT FALL, UTOM NÄR DET GÄLLER ENLIGT TILLÄMPLIG LAG ELLER NÄR DET
ÖVERENSKOMMITS SKRIFTLIGEN, SKALL EN UPPHOVSRÄTTSINNEHAVARE ELLER ANNAN PART
SOM ÄGER ÄNDRA OCH/ELLER DISTRIBUERA PROGRAMVARAN ENLIGT OVAN, VARA SKYLDIG
UTGE ERSÄTTNING FÖR SKADA DU LIDER, INKLUSIVE ALLMÄN, DIREKT ELLER INDIREKT
SKADA SOM FÖLJER PÅ GRUND AV ANVÄNDNING ELLER OMÖJLIGHET ATT ANVÄNDA
PROGRAMVARAN (INKLUSIVE MEN INTE BEGRÄNSAT TILL FÖRLUST AV DATA OCH INFORMATION
ELLER DATA OCH INFORMATION SOM FRAMSTÄLLTS FELAKTIGT AV DIG ELLER TREDJE PART
ELLER FEL DÄR PROGRAMMET INTE KUNNAT KÖRAS SAMTIDIGT MED ANNAN PROGRAMVARA),
ÄVEN OM EN SÅDAN UPPHOVSRÄTTSINNEHAVAREN ELLER ANNAN PART UPPLYSTS OM
MÖJLIGHETEN TILL SÅDAN SKADA.

SLUT PÅ LICENSVILLKOR

F.3. METOD FÖR ATT ANVÄNDA DESSA VILLKOR

Om du utvecklar ett nytt program och vill att det skall vara av största möjliga
nytta för allmänheten är det bästa du kan göra att göra programmet till fri
programvara som var och en kan mångfaldiga och ändra enligt dessa villkor.

För att uppnå det här skall du lägga till följande text till programmet. Det är
säkrast att lägga dem i början av varje källkodsfil för att tillse att du med
överlåtelser avsaknaden av garantiåtagande och varje fil skall minst ha "
copyright"-raderna och en länk till var användaren hittar hela licensen.

en rad för programmets namn och en kort beskrivning av vad det gör.
Copyright © år  namn på upphovsmannen

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

Lägg här in information om hur användaren når dig per e-post och vanlig post.

Om ditt program är interaktivt visa följande för användaren när programmet
startas i interaktivt läge:

Gnomovision version 69, Copyright © år namn på upphovsman
Gnomovision comes with absolutely no warranty; for details
type show w. This is free software, and you are welcome
to redistribute it under certain conditions; type show c
for details.

Kommandot "show w" respektive "show c" skall visa tillämpliga delar av General
Public License. Du kan givetvis använda andra kommandon än "show w" och "show c
" det kan till och med röra sig om musklick eller menyval, använd det som
passar till programmet.

Om du arbetar som programmerare skall din arbetsgivare eller din skola skriva
under en "copyright disclaimer" för programmet om det är nödvändigt. Här är ett
exempel, ändra namnen:

Yoyodyne, Inc., hereby disclaims all copyright interest in the
program Gnomovision (which makes passes at compilers) written
by James Hacker.

signaturen för Ty Coon, 1 April 1989
Ty Coon, President of Vice

Den här General Public License tillåter inte att du inkorperar ditt program i
icke-fri programvara. Om du utvecklar subrutiner eller programbibliotek kan det
vara lämpligt att tillåta länkning till icke-fri programvara. Om du vill göra
det här bör du istället för den här licensen använda GNU Lesser General Public
License.

