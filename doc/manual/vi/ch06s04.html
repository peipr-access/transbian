<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>6.4. Nạp phần vững bị thiếu</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Sổ tay Cài đặt Debian GNU/Linux">
<link rel="up" href="ch06.html" title="Chương 6. Sử dụng trình cài đặt Debian">
<link rel="prev" href="ch06s03.html" title="6.3. Sử dụng mỗi thành phần">
<link rel="next" href="ch06s05.html" title="6.5. Customization">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">6.4. Nạp phần vững bị thiếu</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch06s03.html"><img src="images/prev.png" alt="Trước đó"></a> </td>
<th width="60%" align="center">Chương 6. Sử dụng trình cài đặt Debian</th>
<td width="20%" align="right"> <a accesskey="n" href="ch06s05.html"><img src="images/next.png" alt="Kế tiếp"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="loading-firmware"></a>6.4. Nạp phần vững bị thiếu</h2></div></div></div>
<p>Như diễn tả trong <a class="xref" href="ch02s02.html" title="2.2. Thiết bị cần thiết phần vững">Phần 2.2, “Thiết bị cần thiết phần vững”</a>, một số thiết bị nào đó cũng yêu cầu nạp phần vững. Trong hậu hết trường hợp, thiết bị sẽ không hoạt động bằng cách nào cả nếu phần vững không sẵn sàng; đôi khi nó chỉ có chức năng cơ bản và yêu cầu phần vững để hiệu lực thêm tính năng. </p>
<p>Nếu một trình điều khiển thiết bị yêu cầu phần vững chưa sẵn sàng, <code class="classname">debian-installer</code> sẽ hiển thị một hộp thoại đề xuất nạp phần vững bị thiếu. Bật tùy chọn này thì <code class="classname">debian-installer</code> sẽ quét tất cả các thiết bị sẵn sàng tìm hoặc tập tin phần vững riêng hoặc gói chứa phần vững. Tìm được thì phần vững được sao chép vào vị trí đúng (<code class="filename">/lib/firmware</code>) và mô-đun trình điều khiển được nạp lại. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Ghi chú]" src="images/note.png"></td>
<th align="left">Ghi chú</th>
</tr>
<tr><td align="left" valign="top"><p>Which devices are scanned and which file systems are supported depends on the architecture, the installation method and the stage of the installation. Especially during the early stages of the installation, loading the firmware is most likely to succeed from a FAT-formatted USB stick. <span class="phrase">On i386 and amd64 firmware can also be loaded from an MMC or SD card.</span> </p></td></tr>
</table></div>
<p>Ghi chú rằng cũng có thể bỏ qua bước nạp phần vững nếu thiết bị vẫn còn chức năng, hoặc nếu thiết bị không cần trong khi cài đặt. </p>
<p><code class="classname">debian-installer</code> only prompts for firmware needed by kernel modules loaded during the installation. Not all drivers are included in <code class="classname">debian-installer</code>, in particular radeon is not, so this implies that the capabilities of some devices may be no different at the end of the installation from what they were at the beginning. Consequently, some of your hardware may not be being used to its full potential. If you suspect this is the case, or are just curious, it is not a bad idea to check the output of the <span class="command"><strong>dmesg</strong></span> command on the newly booted system and search for <span class="quote">“<span class="quote">firmware</span>”</span>. </p>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm2858"></a>6.4.1. Chuẩn bị vật chứa</h3></div></div></div>
<p>Official installation images do not include non-free firmware. The most common method to load such firmware is from some removable medium such as a USB stick. Alternatively, unofficial installation images containing non-free firmware can be found at <a class="ulink" href="https://cdimage.debian.org/cdimage/unofficial/non-free/cd-including-firmware/" target="_top">https://cdimage.debian.org/cdimage/unofficial/non-free/cd-including-firmware/</a>. To prepare a USB stick (or other medium like a hard drive partition), the firmware files or packages must be placed in either the root directory or a directory named <code class="filename">/firmware</code> of the file system on the medium. The recommended file system to use is FAT as that is most certain to be supported during the early stages of the installation. </p>
<p>Kho nén chứa các gói hiện thời cho phần vững thường dùng nhất cũng sẵn sàng từ : </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> <a class="ulink" href="https://cdimage.debian.org/cdimage/unofficial/non-free/firmware/" target="_top">https://cdimage.debian.org/cdimage/unofficial/non-free/firmware/</a> </p></li></ul></div>
<p> Chỉ nên tải về kho nén cho bản phát hành hiện thời, và giải nén nó vào hệ thống tập tin trên vật chứa. </p>
<p>Nếu kho nén không chứa phần vững yêu cầu, bạn cũng có thể tải gói phần vững riêng xuống (phần khác tự do của) kho gói. Toàn cảnh theo đây nên liệt kê phần lớn các gói phần vững sẵn sàng, nhưng không đảm bảo nó hoàn toàn, và nó cũng có thể chứa gói khác phần vững: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> <a class="ulink" href="https://packages.debian.org/search?keywords=firmware" target="_top">https://packages.debian.org/search?keywords=firmware</a>
</p></li></ul></div>
<p>

</p>
<p>Cũng có thể sao chép vào vật chứa mỗi tập tin phần vững riêng. Tập tin riêng như vậy có thể sẵn sàng từ một hệ thống đã cài đặt trước, hay nhà sản xuất phần cứng. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm2874"></a>6.4.2. Phần vững và Hệ thống đã Cài đặt</h3></div></div></div>
<p>Bất cứ phần vững nào được nạp trong khi cài đặt thì được tự động sao chép vào hệ thống đã cài đặt. Trong phần lớn các trường hợp, thao tác sao chép này sẽ đảm bảo rằng thiết bị yêu cầu phần vững sẽ cũng hoạt động đúng sau khi khởi động lại máy vào hệ thống đã cài đặt. Tuy nhiên, nếu hệ thống đã cài đặt có chạy một phiên bản hạt nhân khác với trình cài đặt, cũng có thể là phần vững không nạp được do phiên bản bị đối xứng lệch. </p>
<p>Nếu phần vững đã được nạp từ một gói phần vững, <code class="classname">debian-installer</code> sẽ cũng cài đặt gói đó cho hệ thống đã cài đặt, và tự động thêm phần khác tự do của kho gói vào tập tin danh sách nguồn <code class="filename">sources.list</code> của chương trình Apt. Hữu ích vì phần vững nên được tự động cập nhật khi một phiên bản mới được phát hành. </p>
<p>Nếu bước nạp phần vững bị bỏ qua trong khi cài đặt, thiết bị liên quan rất có thể không hoạt động với hệ thống đã cài đặt đến khi (gói) phần vững được cài đặt một cách thủ công. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Ghi chú]" src="images/note.png"></td>
<th align="left">Ghi chú</th>
</tr>
<tr><td align="left" valign="top"><p>Nếu phần vững đã được nạp từ các tập tin phần vững riêng, phần vững được sao chép vào hệ thống đã cài đặt sẽ <span class="emphasis"><em>không phải</em></span> được tự động cập nhật nếu gói phần vững tương ứng (nếu sẵn sàng) không được cài đặt một khi cài đặt xong. </p></td></tr>
</table></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="completing-installed-system"></a>6.4.3. Completing the Installed System</h3></div></div></div>
<p>Depending on how the installation was performed, it might be that the need for some firmware was not detected during installation, that the relevant firmware was not available, or that one chose not to install some firmware at that time. In some cases, a successful installation can still end up in a black screen or a garbled display when rebooting into the installed system. When that happens, the following workarounds can be tried: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>Pass the <code class="code">nomodeset</code> option on the kernel command line. This might help boot into a <span class="quote">“<span class="quote">fallback graphics</span>”</span> mode.</p></li>
<li class="listitem"><p>Use the <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span> key combination to switch to VT2, which might offer a functional login prompt.</p></li>
</ul></div>
<p>Once logged in into the installed system, it is possible to automate the detection of missing firmware, and to perform the required steps to enable them following this procedure: </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>Install the <code class="classname">isenkram-cli</code> package.</p></li>
<li class="listitem"><p>Run the <span class="command"><strong>isenkram-autoinstall-firmware</strong></span> command as the <span class="quote">“<span class="quote">root</span>”</span> user.</p></li>
</ol></div>
<p>Usually, rebooting is the simplest way to make sure all kernel modules are properly initialized; that's particularly important when one has booted the system with the <code class="code">nomodeset</code> option as an interim measure. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Ghi chú]" src="images/note.png"></td>
<th align="left">Ghi chú</th>
</tr>
<tr><td align="left" valign="top"><p>Installing firmware packages is very likely to require enabling the non-free section of the package archive. As of Debian GNU/Linux 11.0, running the <span class="command"><strong>isenkram-autoinstall-firmware</strong></span> command will do that automatically by creating a dedicated file (<code class="filename">/etc/apt/sources.list.d/isenkram-autoinstall-firmware.list</code>), pointing at a generic mirror. </p></td></tr>
</table></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch06s03.html"><img src="images/prev.png" alt="Trước đó"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch06.html"><img src="images/up.png" alt="Lên"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch06s05.html"><img src="images/next.png" alt="Kế tiếp"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">6.3. Sử dụng mỗi thành phần </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Đầu"></a></td>
<td width="40%" align="right" valign="top"> 6.5. Customization</td>
</tr>
</table>
</div>
</body>
</html>
