<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>5.1. 在 64-bit PC 上引导安装程序</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Debian GNU/Linux 安装手册">
<link rel="up" href="ch05.html" title="第 5 章 引导安装系统">
<link rel="prev" href="ch05.html" title="第 5 章 引导安装系统">
<link rel="next" href="ch05s02.html" title="5.2. 辅助功能">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">5.1. 在 <span class="phrase">64-bit PC</span> 上引导安装程序</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch05.html"><img src="images/prev.png" alt="上一页"></a> </td>
<th width="60%" align="center">第 5 章 引导安装系统</th>
<td width="20%" align="right"> <a accesskey="n" href="ch05s02.html"><img src="images/next.png" alt="下一页"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="idm1086"></a>5.1. 在 <span class="phrase">64-bit PC</span> 上引导安装程序</h2></div></div></div>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[警告]" src="images/warning.png"></td>
<th align="left">警告</th>
</tr>
<tr><td align="left" valign="top"><p>假如您的机器上有其它的操作系统，并希望保留（双重启动的设置），那么要确保在引导安装程序<span class="emphasis"><em>之前</em></span>将其正确地被关闭。在另外一个操作系统休眠时（已经挂起到磁盘）安装操作系统，回到导致丢失或损坏操作系统的状态信息，当重新引导时会出现问题。 </p></td></tr>
</table></div>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">注意</th>
</tr>
<tr><td align="left" valign="top"><p>关于如何引导图形安装程序的信息，请参见<a class="xref" href="ch05s01.html#graphical" title="5.1.8. 图形安装程序">第 5.1.8 节 “图形安装程序”</a>。 </p></td></tr>
</table></div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="usb-boot-x86"></a>5.1.1. 从 U 盘引导</h3></div></div></div>
<p>如果您的计算机可以从 USB 引导，那么这可能是最简单的安装方法。假设已经从 <span class="phrase"><a class="xref" href="ch03s06.html#boot-dev-select-x86" title="3.6.2. 选择引导设备">第 3.6.2 节 “选择引导设备”</a></span> 和 <a class="xref" href="ch04s03.html" title="4.3. 为从 U 盘引导准备文件">第 4.3 节 “为从 U 盘引导准备文件”</a> 准备好了所有步骤，那么只需将 U 盘插入一个空的 USB 口并重新引导计算机。系统应该引导，除非使用了灵活方式创建 U 盘并且不启用，应该（在支持的硬件上）看到图形引导菜单。这里可以选择各种安装程序选项，或只是按 <span class="keycap"><strong>Enter</strong></span> 按键。 </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm1102"></a>5.1.2. 从光盘（CD/DVD）引导</h3></div></div></div>
<p>如果您有一套光盘，并且您的机器支持直接从这些光盘上引导，那就太好了！只需 <span class="phrase"> 按这个说明配置您的系统，使其能够从光盘上引导，如在 <a class="xref" href="ch03s06.html#boot-dev-select-x86" title="3.6.2. 选择引导设备">第 3.6.2 节 “选择引导设备”</a>中所描述的，</span>插入光盘，然后重新引导，再进行到下一章。 </p>
<p>注意，某些特定的光盘驱动器会需要一些特殊的驱动程序，这样它们可能在安装阶段的早期不能访问。如果从光盘引导的标准方法不能用于您的硬件，那么重新阅读本章中关于其它种类的内核以及安装方法，它们有可能会解决问题。 </p>
<p>即便您不能从光盘引导，可能依然可以从光盘上安装 Debian 系统组件和想要安装的任何软件包。只要使用不同的媒介来引导，并当安装操作系统、基础系统和任意附加的软件包时，只需将安装系统指向光盘驱动器即可。 </p>
<p>如果引导出现问题，请参见 <a class="xref" href="ch05s04.html" title="5.4. 安装过程中的故障修复">第 5.4 节 “安装过程中的故障修复”</a>。 </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="boot-win32"></a>5.1.3. 从 Windows 引导</h3></div></div></div>
<p>从 Windows 启动安装程序，您可以 </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>或者按照 <a class="xref" href="ch04s01.html" title="4.1. 官方的 Debian GNU/Linux 安装映像">第 4.1 节 “官方的 Debian GNU/Linux 安装映像”</a><span class="phrase"> 或 <a class="xref" href="ch04s03.html" title="4.3. 为从 U 盘引导准备文件">第 4.3 节 “为从 U 盘引导准备文件”</a></span> 中描述的获取安装介质， </p></li>
<li class="listitem"><p>或者下载独立的 Windows 可执行程序，就是 Debian 镜像网站上的 <a class="ulink" href="http://http.us.debian.org/debian/tools/win32-loader/stable/win32-loader.exe" target="_top">tools/win32-loader/stable/win32-loader.exe</a>。 </p></li>
</ul></div>
<p>

</p>
<p>如果您使用的安装媒介是光盘，那么插入盘片的时候，预安装程序会自动加载。如果 Windows 没有自动启动与安装程序，或者在您使用 U 盘的情况下，您可以访问该设备并执行 <span class="command"><strong>setup.exe</strong></span> 程序来手动启动。 </p>
<p>程序启动后，会先询问一些预备问题，接着系统就准备重新引导进入 Debian GNU/Linux 安装程序。 </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="install-from-dos"></a>5.1.4. 从 DOS 使用 loadlin 引导</h3></div></div></div>
<p>引导到 DOS（非 Windows）。您可以从例如恢复或诊断的磁盘来引导。 </p>
<p>如果您可以使用安装 CD，请切换到 CD-ROM 驱动器，例如，</p>
<div class="informalexample"><pre class="screen">
d:
</pre></div>
<p>，或者确认您已依照 <a class="xref" href="ch04s04.html#files-loadlin" title="4.4.2. 硬盘安装程序从 DOS 引导，使用 loadlin">第 4.4.2 节 “硬盘安装程序从 DOS 引导，使用 <span class="command"><strong>loadlin</strong></span>”</a> 的指引准备好了硬盘，然后根据需要将当前驱动器切换到该硬盘。 </p>
<p>进入您选择的子目录，例如 </p>
<div class="informalexample"><pre class="screen">
cd \install.<code class="filename">amd</code>
</pre></div>
<p>。如果您希望使用图形安装程序，请进入 <code class="filename">gtk</code> 子目录。</p>
<div class="informalexample"><pre class="screen">
cd gtk
</pre></div>
<p>。然后，执行 <span class="command"><strong>install.bat</strong></span>。内核将会加载并运行安装程序系统。 </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="boot-initrd"></a>5.1.5. 从 Linux 使用 <span class="command"><strong>GRUB</strong></span> 来引导</h3></div></div></div>
<p>为了从硬盘引导安装程序，首先必须下载并放置 <a class="xref" href="ch04s04.html" title="4.4. 为从硬盘引导准备文件">第 4.4 节 “为从硬盘引导准备文件”</a> 中所描述的所需文件。 </p>
<p>对于 <span class="command"><strong>GRUB2</strong></span>，您将需要在 <code class="filename">/boot/grub/grub.cfg</code> 中配置两个基本内容： </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>在启动时加载 <code class="filename">initrd.gz</code> 安装程序； </p></li>
<li class="listitem"><p>让 <code class="filename">vmlinuz</code> 内核使用 RAM 磁盘作为其根分区。 </p></li>
</ul></div>
<p>

</p>
<p>例如，安装程序的条目是： </p>
<div class="informalexample"><pre class="screen">menuentry 'New Install' {
insmod part_msdos
insmod ext2
set root='(hd0,msdos1)'
linux /boot/newinstall/vmlinuz
initrd /boot/newinstall/initrd.gz
}
</pre></div>
<p>

</p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="boot-tftp-x86"></a>5.1.6. 用 TFTP 引导</h3></div></div></div>
<p>从网络引导需要网络连接和一台 TFTP 网络引导服务器（也可能是 DHCP、RARP 或 BOOTP 服务器，以进行自动网络配置）。 </p>
<p>用于支持网络引导的服务器端设置在 <a class="xref" href="ch04s05.html" title="4.5. 为使用 TFTP 网络引导准备文件">第 4.5 节 “为使用 TFTP 网络引导准备文件”</a> 中描述。 </p>
<p>在 i386 体系上有很多方法用 TFTP 进行引导。 </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="idm1165"></a>5.1.6.1. 支持 PXE 的网卡或者主板</h4></div></div></div>
<p>您的网卡或者主板可能已经提供了 PXE 引导功能。它是 <span class="trademark">Intel</span>™ TFTP 引导的再实现。如果是这样的话，您能够配置 BIOS/UEFI 而从网络进行引导。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="idm1169"></a>5.1.6.2. 带有网络 BootROM 的网卡</h4></div></div></div>
<p>您的网卡可能已经提供了 TFTP 引导功能。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="idm1172"></a>5.1.6.3. Etherboot</h4></div></div></div>
<p><a class="ulink" href="http://www.etherboot.org" target="_top">etherboot project</a> （etherboot 项目）提供了进行 TFTP 引导所需要的引导软盘甚至是引导 ROMs。 </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="boot-screen"></a>5.1.7. 引导屏幕</h3></div></div></div>
<p>当安装程序引导时，您应该看到友好的图形屏幕，显示 Debian 标志和菜单： </p>
<div class="informalexample"><pre class="screen">Debian GNU/Linux installer boot menu

Graphical install
Install
Advanced options                            &gt;
Accessible dark contrast installer menu     &gt;
Help
Install with speech synthesis
</pre></div>
<p>

</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">注意</th>
</tr>
<tr><td align="left" valign="top"><p>根据计算机的引导方式（BIOS 或 UEFI）不同，此图形屏幕将看起来略有不同，但会显示相同的选项。 </p></td></tr>
</table></div>
<p>根据您使用的安装方法，<span class="quote">“<span class="quote">Graphical install</span>”</span>（图形安装）选项可能不可用。另外，双架构映像在每个安装选项下还会有它的 64 位变体，因此选项数量几乎会翻倍。 </p>
<p>普通安装时，可以使用键盘方向键或者键入（高亮的）首字母 —，并按下 <span class="keycap"><strong>Enter</strong></span>，来选择<span class="quote">“<span class="quote">Graphical install</span>”</span>（图形安装）或<span class="quote">“<span class="quote">Install</span>”</span>（图形安装）入口，从而引导安装程序。默认已经选择了<span class="quote">“<span class="quote">Graphical install</span>”</span>（图形安装）入口。 </p>
<p><span class="quote">“<span class="quote">Advanced options</span>”</span>（高级选项）用于访问第二层菜单，引导安装程序进入专家模式、救援模式和自动安装。 </p>
<p>如果您希望或者需要为安装程序或内核添加引导参数，那么按下 <span class="keycap"><strong>Tab</strong></span>（BIOS 引导），或者按 <span class="keycap"><strong>e</strong></span>，然后按 <span class="keycap"><strong>down arrow</strong></span> 3 次，然后按 <span class="keycap"><strong>end</strong></span>（UEFI 引导）。这将使引导命令显示所选择的菜单入口，并允许编辑来适合您的需要。注意这时的键盘布局仍然为 QWERTY。帮助屏幕（请参见下方）列出一些可能的选项。按下 <span class="keycap"><strong>Enter</strong></span>（BIOS 引导）或 <span class="keycap"><strong>F10</strong></span>（UEFI 引导），将使用您的选项来引导安装程序；按下 <span class="keycap"><strong>Esc</strong></span> 将返回引导菜单并放弃您所做的更改。 </p>
<p>选择 <span class="quote">“<span class="quote">Help</span>”</span>（帮助）将显示第一个帮助界面，它显示了所有可用的帮助界面概要。在显示帮助界面后要返回引导菜单时，只需要在引导提示符后输入 <span class="quote">“<span class="quote">menu</span>”</span> 并按 <span class="keycap"><strong>Enter</strong></span>。所有的帮助界面都有引导提示符，可以在后面输入引导命令：</p>
<div class="informalexample"><pre class="screen">
Press F1 for the help index, or ENTER to boot:
</pre></div>
<p> 在这个引导提示符后可以或者按下 <span class="keycap"><strong>Enter</strong></span> 使用默认的选项来引导安装程序，或者输入特定的引导命令以及可选的引导参数。一些可能可用的引导参数能够在多个帮助界面中看到。假如您要将任何参数添加到引导命令行，那么要确保首先输入的是引导方法（默认为 <strong class="userinput"><code>install</code></strong>)，然后在第一个参数前要有空格（例如：<strong class="userinput"><code>install fb=false</code></strong>）。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">注意</th>
</tr>
<tr><td align="left" valign="top"><p>此时键盘假设使用的是默认美式英文布局。这意味着如果您的键盘使用不同的（特定语言）布局，那么显示在屏幕上的字符可能与您键入参数时所希望的不同。维基百科里面有一个 <a class="ulink" href="https://en.wikipedia.org/wiki/Keyboard_layout#United_States" target="_top">schema of the US keyboard layout</a> （美式键盘布局方案）条目，可以参考看看如何找到所使用的正确的键。 </p></td></tr>
</table></div>
<p>
</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">注意</th>
</tr>
<tr><td align="left" valign="top">
<p>如果您使用 BIOS 配置为串口控制台的系统，那么可能在引导安装程序的时候无法看到起始图形界面；甚至无法看到引导菜单。这种情况同样会发生在您使用远程管理设备来安装系统，并且这些设备提供了文本界面到 VGA 控制台时。这些设备的例子包括 Compaq 的 <span class="quote">“<span class="quote">integrated Lights Out</span>”</span>（iLO）和 HP 的 <span class="quote">“<span class="quote">Integrated Remote Assistant</span>”</span>（IRA）的文本控制台。 </p>
<p>要跳过图形引导界面，您可以或者在没有任何显示时按下 <span class="keycap"><strong>Esc</strong></span> 进入文本引导提示符，或者（同样没有任何显示）按下 <span class="keycap"><strong>Enter</strong></span> 和 <span class="quote">“<span class="quote">H</span>”</span> 来选择上面描述的 <span class="quote">“<span class="quote">Help</span>”</span> 选项。此后的输入就会在提示符后面显示。要防止安装程序为余下的安装使用帧缓冲区，还需要在启动提示符后添加 <strong class="userinput"><code>vga=normal fb=false</code></strong>，这在帮助文本中有说明。 </p>
</td></tr>
</table></div>
<p>
</p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="graphical"></a>5.1.8. 图形安装程序</h3></div></div></div>
<p>安装程序的图形版本仅适用于有限数量的架构，包括 <span class="phrase">64-bit PC</span>。图形安装程序的功能被之上与基于文本的安装程序功能相同，因为它基本使用相同的程序，只是前端不同。 </p>
<p>虽然功能相同，图形安装程序仍然有一些显著优点。主要优点在于它支持更多的语言，即在基于文本的 <span class="quote">“<span class="quote">newt</span>”</span> 前端上无法显示的字符集的语言也可以使用。它还具有一些可用性上的优点，如可以使用鼠标，并且在某些情况下还可以在单个屏幕上显示多个问题。 </p>
<p>图形安装程序可以在 CD/DVD 映像以及hd-media安装方法中获得。要引导图形安装程序，只需简单地从引导菜单中选择相关选项即可。可以从<span class="quote">“<span class="quote">高级选项</span>”</span>菜单中选择图形安装程序的专家和救援模式。以前使用的引导方法 <strong class="userinput"><code>installgui</code></strong>、<strong class="userinput"><code>expertgui</code></strong> 和 <strong class="userinput"><code> rescuegui</code></strong>，仍然可以在选择<span class="quote">“<span class="quote">帮助</span>”</span>选项后从引导提示符来使用。 </p>
<p>还有一个可用于网络引导的图形安装程序映像。还有一个特殊的<span class="quote">“<span class="quote">迷你</span>”</span> ISO 映像<a href="#ftn.gtk-miniiso-x86" class="footnote" name="gtk-miniiso-x86"><sup class="footnote">[4]</sup></a>，它主要用于测试。 </p>
<p>与基于文本的安装程序一样，当启动图形安装程序时可以添加引导参数。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">注意</th>
</tr>
<tr><td align="left" valign="top">
<p>与基于文本的安装程序相比，图形安装程序需要更多的内存才能运行：810MB。如果内存不足，它将自动返回到基于文本的 <span class="quote">“<span class="quote">newt</span>”</span> 前端。 </p>
<p>如果系统中的内存量低于 780MB，图形安装程序可能无法启动，而基于文本的安装程序可能仍可以工作。对于可用内存很小的系统，推荐使用基于文本的安装程序。 </p>
</td></tr>
</table></div>
</div>
<div class="footnotes">
<br><hr width="100" align="left">
<div id="ftn.gtk-miniiso-x86" class="footnote"><p><a href="#gtk-miniiso-x86" class="para"><sup class="para">[4] </sup></a> 迷你 ISO 映像可以从 Debian 镜像下载，这个镜像在 <a class="xref" href="ch04s02.html" title="4.2. 从 Debian 镜像服务器下载文件">第 4.2 节 “从 Debian 镜像服务器下载文件”</a> 中描述。请查找 <code class="filename">netboot/gtk/mini.iso</code>。</p></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch05.html"><img src="images/prev.png" alt="上一页"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch05.html"><img src="images/up.png" alt="上一级"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch05s02.html"><img src="images/next.png" alt="下一页"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">第 5 章 引导安装系统 </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="起始页"></a></td>
<td width="40%" align="right" valign="top"> 5.2. 辅助功能</td>
</tr>
</table>
</div>
</body>
</html>
