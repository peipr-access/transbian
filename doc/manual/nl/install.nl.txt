Debian GNU/Linux Installatiehandleiding

Copyright © 2004 - 2021 het Debian Installatiesysteem team

Deze handleiding is vrije software; u mag deze verspreiden en/of wijzigen onder
de bepalingen van de GNU Algemene Publieke Licentie (GNU General Public
License). U wordt verzocht de licentie in Bijlage F, GNU General Public License
-- GNU Algemene Publieke Licentie te raadplegen.

Bouwversie van deze handleiding: 20220129~deb11u1.

Samenvatting

Dit document bevat installatie-instructies voor het Debian GNU/Linux 11 systeem
(codenaam "bullseye"), voor de architectuur 64-bit PC ("amd64"). Het bevat ook
verwijzingen naar meer informatie en informatie over hoe u het maximale uit uw
nieuwe Debian systeem kunt halen.

Deze handleiding is oorspronkelijk geschreven in het Engels en het is mogelijk
dat voor sommige onderdelen de vertaling naar het Nederlands nog niet volledig
is. Voor de delen die nog niet zijn vertaald is de originele, Engelstalige
tekst opgenomen. Voor informatie over de vertaling naar het Nederlands kunt u
een e-mail sturen naar de mailinglijst <debian-l10n-dutch@lists.debian.org>.
Zie ook Paragraaf 1.6, "De meest recente versie van dit document verkrijgen".

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Inhoudsopgave

Debian GNU/Linux 11 installeren op amd64
1. Welkom bij Debian

    1.1. Wat is Debian?
    1.2. Wat is GNU/Linux?
    1.3. Wat is Debian GNU/Linux?
    1.4. Wat is het installatiesysteem van Debian?
    1.5. Debian verkrijgen
    1.6. De meest recente versie van dit document verkrijgen
    1.7. De opbouw van dit document
    1.8. Over copyright en softwarelicenties

2. Systeemvereisten

    2.1. Ondersteunde hardware

        2.1.1. Ondersteunde architecturen
        2.1.2. CPU-ondersteuning
        2.1.3. Laptops
        2.1.4. Meerdere processoren
        2.1.5. Ondersteuning voor grafische hardware
        2.1.6. Hardware voor verbinding met het netwerk
        2.1.7. Brailleleesregels
        2.1.8. Spraaksynthesehardware
        2.1.9. Randapparatuur en andere hardware

    2.2. Apparaten waarvoor firmware vereist is
    2.3. Hardware aankopen, specifiek voor GNU/Linux

        2.3.1. Vermijd aan eigendomsrechten gebonden of gesloten hardware

    2.4. Installatiemedia

        2.4.1. CD/DVD/BD
        2.4.2. USB-geheugenstick
        2.4.3. Netwerk
        2.4.4. Harde schijf
        2.4.5. Un*x- of GNU-systeem
        2.4.6. Ondersteunde opslagsystemen

    2.5. Vereisten inzake geheugen en schijfruimte

3. Vooraleer u Debian GNU/Linux installeert

    3.1. Overzicht van het installatieproces
    3.2. Maak een reservekopie van uw bestaande gegevens!
    3.3. Benodigde informatie

        3.3.1. Documentatie
        3.3.2. Informatiebronnen over hardware vinden
        3.3.3. Compatibiliteit van de hardware
        3.3.4. Netwerkinstellingen

    3.4. Voldoen aan de minimale vereisten op het gebied van hardware
    3.5. Uw harde schijf vooraf indelen voor een multi-boot systeem
    3.6. Configuratie van hardware en besturingssysteem voor de installatie

        3.6.1. Het instellingenmenu van het BIOS/UEFI openen
        3.6.2. Het opstartapparaat kiezen
        3.6.3. Systemen met UEFI firmware
        3.6.4. Secure boot (veilig opstarten)
        3.6.5. De functionaliteit "fast boot"/"fast startup" van Windows
            uitzetten
        3.6.6. Aandachtspunten in verband met apparatuur

4. Media met het installatiesysteem verkrijgen

    4.1. Officiële Debian GNU/Linux installatie-images
    4.2. Bestanden downloaden van Debian spiegelservers

        4.2.1. Waar u installatiebestanden kunt vinden

    4.3. Bestanden klaar maken om van een USB-geheugenstick op te starten

        4.3.1. Een USB-stick klaar maken met een hybride CD/DVD-image
        4.3.2. Handmatig bestanden naar de USB-stick kopiëren
        4.3.3. Handmatig bestanden naar de USB-stick kopiëren -- de flexibele
            manier

    4.4. Bestanden voorbereiden om vanaf een harde schijf op te starten

        4.4.1. Het opstarten van het installatiesysteem vanaf een harde schijf
            vanuit Linux met GRUB
        4.4.2. Het opstarten van het installatiesysteem vanaf een harde schijf
            vanuit DOS met loadlin

    4.5. Bestanden klaarmaken om over het netwerk op te starten met TFTP

        4.5.1. Een DHCP-server opzetten
        4.5.2. Een BOOTP-server opzetten
        4.5.3. De TFTP-server werkzaam maken
        4.5.4. De TFTP-images op hun plaats zetten

    4.6. Automatische installatie

        4.6.1. Automatisch installeren met het installatiesysteem van Debian

    4.7. De integriteit van installatiebestanden verifiëren

5. Het installatiesysteem starten

    5.1. Het installatiesysteem starten op 64-bit PC

        5.1.1. Opstarten van een USB-geheugenstick
        5.1.2. Opstarten van een optische schijf (CD/DVD)
        5.1.3. Opstarten vanuit Windows
        5.1.4. Opstarten vanuit DOS met behulp van loadlin
        5.1.5. Opstarten vanuit Linux met behulp van GRUB
        5.1.6. Opstarten met TFTP
        5.1.7. Het opstartscherm
        5.1.8. Het grafische installatiesysteem

    5.2. Toegankelijkheid

        5.2.1. Frontend voor het installatiesysteem
        5.2.2. USB brailleschermen
        5.2.3. Seriële brailleschermen
        5.2.4. Softwarematige spraaksynthese
        5.2.5. Hardwarespraaksynthese
        5.2.6. Apparatuur op een kaart
        5.2.7. Een stijl met verhoogd contrast
        5.2.8. Zoomfunctie
        5.2.9. Expertmodus, reparatiemodus, geautomatiseerde installatie
        5.2.10. Toegankelijkheid van het geïnstalleerde systeem

    5.3. Opstartparameters

        5.3.1. Opstartconsole
        5.3.2. Parameters voor het installatiesysteem van Debian
        5.3.3. Het gebruik van opstartparameters om op vragen te antwoorden
        5.3.4. Parameters doorgeven aan kernelmodules
        5.3.5. Kernel modules op een zwarte lijst plaatsen

    5.4. Probleemanalyse bij het installatieproces

        5.4.1. Betrouwbaarheid van optische media
        5.4.2. De configuratie van het opstartproces
        5.4.3. Softwarematige spraaksynthese
        5.4.4. Gebruikelijke installatieproblemen bij 64-bit PC
        5.4.5. De meldingen bij het opstarten van de kernel interpreteren
        5.4.6. Installatieproblemen rapporteren
        5.4.7. Installatierapporten insturen

6. Het Debian installatiesysteem gebruiken

    6.1. Hoe het installatiesysteem werkt

        6.1.1. Het grafische installatiesysteem gebruiken

    6.2. Voorstelling van de componenten
    6.3. Individuele componenten gebruiken

        6.3.1. Het instellen van het installatiesysteem van Debian en het
            configureren van de hardware
        6.3.2. Gebruikers en wachtwoorden instellen
        6.3.3. De klok en de tijdzone instellen
        6.3.4. Schijfindeling en selectie van aankoppelpunten
        6.3.5. Installatie van het Basissysteem
        6.3.6. Aanvullende software installeren
        6.3.7. Zorgen dat uw systeem kan worden opgestart
        6.3.8. De installatie afronden
        6.3.9. Probleemoplossing
        6.3.10. Installatie over netwerk-console

    6.4. Ontbrekende firmware laden

        6.4.1. Een medium voorbereiden
        6.4.2. Firmware en een geïnstalleerd systeem
        6.4.3. Het geïnstalleerde systeem voltooien

    6.5. Aanpassingen maken

        6.5.1. Een ander init-systeem installeren

7. De computer opstarten met uw nieuwe Debian systeem

    7.1. Het moment van de waarheid
    7.2. Geëncrypteerde volumes aankoppelen

        7.2.1. Problemen oplossen

    7.3. Inloggen

8. De volgende stappen en waar u hierna nog terecht kunt

    8.1. Het systeem afsluiten
    8.2. Zich mentaal instellen op Debian

        8.2.1. Het pakketbeheersysteem van Debian
        8.2.2. Extra software die voor Debian beschikbaar is
        8.2.3. Het versiebeheer van toepassingssoftware
        8.2.4. Het beheer van cron-taken

    8.3. Aanvullende lectuur en informatie
    8.4. Uw systeem instellen voor het gebruik van e-mail

        8.4.1. Een standaard e-mailconfiguratie
        8.4.2. E-mails versturen buiten het systeem
        8.4.3. De Exim4 Mail Transport Agent configureren

    8.5. Een nieuwe kernel compileren
    8.6. Een defect systeem herstellen

A. Installatie-howto

    A.1. Voorbereidselen
    A.2. Het installatiesysteem opstarten

        A.2.1. Optische schijf
        A.2.2. USB-geheugenstick
        A.2.3. Opstarten van het netwerk
        A.2.4. Opstarten vanaf harde schijf

    A.3. De installatie
    A.4. Stuur ons een installatieverslag
    A.5. En tenslotte...

B. De installatie automatiseren door antwoorden vooraf in te stellen

    B.1. Inleiding

        B.1.1. Methodes om preconfiguratie toe te passen
        B.1.2. Beperkingen

    B.2. Vooraf configureren in de praktijk

        B.2.1. Het antwoordbestand laden
        B.2.2. Met opstartparameters vooraf installatievragen beantwoorden
        B.2.3. Automatische modus
        B.2.4. Nuttige aliassen bij het vooraf configureren
        B.2.5. Preconfiguratievoorbeelden voor de opstart-prompt
        B.2.6. Een DHCP-server gebruiken om antwoordbestanden op te geven

    B.3. Een antwoordbestand aanmaken
    B.4. Inhoud van het antwoordbestand (voor bullseye)

        B.4.1. Lokalisatie
        B.4.2. Netwerkconfiguratie
        B.4.3. Netwerkconsole
        B.4.4. Spiegelserverinstellingen
        B.4.5. Accounts instellen
        B.4.6. Instellen van klok en tijdzone
        B.4.7. Schijfindeling
        B.4.8. De installatie van het basissysteem
        B.4.9. Apt instellen
        B.4.10. Pakketselectie
        B.4.11. De installatie van de bootloader
        B.4.12. De installatie afronden
        B.4.13. Andere pakketten vooraf configureren

    B.5. Opties voor gevorderden

        B.5.1. Aangepaste commando's uitvoeren tijdens de installatie
        B.5.2. Gebruik maken van preconfiguratie om standaardwaarden aan te
            passen
        B.5.3. Een aaneenschakeling van antwoordbestanden laden

C. Schijven indelen voor Debian

    C.1. Keuzes maken in verband met Debian partities en hun grootte
    C.2. De mappenboom
    C.3. Aanbevolen schijfindelingsschema
    C.4. De benaming van apparaten in Linux
    C.5. Debian schijfindelingsprogramma's

        C.5.1. Schijven indelen voor 64-bit PC

D. Varia

    D.1. Linux-apparaten

        D.1.1. Uw muis instellen

    D.2. De hoeveelheid schijfruimte die nodig is voor taken
    D.3. Debian GNU/Linux installeren vanuit een Unix/Linux-Systeem

        D.3.1. Aan de slag
        D.3.2. debootstrap installeren
        D.3.3. Het programma debootstrap uitvoeren
        D.3.4. Het basissysteem configureren
        D.3.5. Een kernel installeren
        D.3.6. Zet de bootloader op
        D.3.7. Toegang vanop afstand: SSH installeren en de toegang opzetten
        D.3.8. Afwerking

    D.4. Debian GNU/Linux installeren met het Parallel Line Internet Protocol
        (PLIP)

        D.4.1. Vereisten
        D.4.2. Bron opzetten
        D.4.3. Doel installeren

    D.5. Debian GNU/Linux installeren met PPP over Ethernet (PPPoE)

E. Administrivia

    E.1. Over dit document
    E.2. Een bijdrage leveren aan dit document
    E.3. Belangrijkste bijdragen
    E.4. Handelsmerken

F. GNU General Public License -- GNU Algemene Publieke Licentie

Lijst van tabellen

3.1. Voor een installatie nuttige informatie over hardware
3.2. Aanbevolen minimale systeemvereisten

Debian GNU/Linux 11 installeren op amd64

Wij zijn verheugd dat u heeft besloten om Debian te proberen en weten zeker dat
u zult ontdekken dat de GNU/Linux distributie van Debian uniek is. Debian GNU/
Linux brengt hoogwaardige vrije software van over de hele wereld samen en
integreert deze tot een samenhangend geheel. Wij zijn ervan overtuigd dat u
zult ontdekken dat het resultaat werkelijk meer is dan de som der delen.

Wij begrijpen dat velen onder u Debian willen installeren zonder deze
handleiding te lezen en het Debian installatiesysteem is ontworpen om dit
mogelijk te maken. Als u op dit moment geen tijd heeft om de hele
installatiehandleiding door te nemen, adviseren wij om tenminste de
"Installatie Howto" te lezen, die u meeneemt door het basisinstallatieproces en
verwijzingen bevat naar de handleiding voor meer geavanceerde onderwerpen of
als er dingen fout gaan. U vindt de Installatie Howto in Bijlage A, 
Installatie-howto.

Dan hopen wij nu dat u de tijd wilt nemen om het merendeel van deze handleiding
door te lezen en dat dit zal leiden tot een beter geïnformeerde en
waarschijnlijk meer succesvolle installatie.

Hoofdstuk 1. Welkom bij Debian

Inhoudsopgave

1.1. Wat is Debian?
1.2. Wat is GNU/Linux?
1.3. Wat is Debian GNU/Linux?
1.4. Wat is het installatiesysteem van Debian?
1.5. Debian verkrijgen
1.6. De meest recente versie van dit document verkrijgen
1.7. De opbouw van dit document
1.8. Over copyright en softwarelicenties

Dit hoofdstuk geeft een overzicht van het Debian-project en van Debian GNU/
Linux. Indien u reeds op de hoogte bent van de geschiedenis van het
Debian-project en de Debian GNU/Linux-distributie kent, kunt u meteen doorgaan
naar het volgende hoofdstuk.

1.1. Wat is Debian?

Debian is een volledig uit vrijwilligers bestaande organisatie die zich tot
doel stelt vrije software te ontwikkelen en de idealen van de
vrije-softwaregemeenschap te promoten. Het Debian-project ging van start in
1993 toen Ian Murdock een open uitnodiging verspreide onder
softwareontwikkelaars om mee te werken aan een volledige en coherente
softwaredistributie, gebaseerd op de relatief nieuwe Linux-kernel. Deze
relatief kleine groep toegewijde enthousiastelingen, die initieel fondsen kreeg
van de Free Software Foundation en zich liet leiden door de GNU-filosofie, is
over de jaren heen uitgegroeid tot een organisatie van ongeveer 1000
Debian-ontwikkelaars.

Debian-ontwikkelaars zijn betrokken bij een verscheidenheid aan activiteiten,
waaronder Web- en FTP-sitebeheer, grafische vormgeving, de juridische analyse
van softwarelicenties, het schrijven van documentatie en natuurlijk ook het
onderhouden van softwarepakketten.

Om onze filosofie te kunnen verspreiden en ontwikkelaars te kunnen aantrekken
die geloven in de principes waarvoor Debian staat, heeft het Debian-project een
aantal documenten uitgegeven die onze waarden beschrijven en als richtlijnen
gelden voor wat het betekent om een Debian-ontwikkelaar te zijn:

  • Het Debian Social Contract, het Sociaal Contract van Debian, is een
    toelichting bij de engagementen van Debian tegenover de
    vrije-softwaregemeenschap. Iedereen die ermee akkoord gaat om zich te
    houden aan het Sociaal Contract kan een maintainer, een onderhouder van
    Debian, worden. Elke onderhouder kan nieuwe software introduceren in Debian
    -- mits de software beantwoordt aan onze criteria inzake vrije software en
    het pakket voldoet aan onze kwaliteitsstandaarden.

  • De Debian Free Software Guidelines, de richtlijnen van Debian inzake vrije
    software, zijn een duidelijke en beknopte beschrijving van de criteria die
    Debian hanteert om te beslissen of software vrij is. De DFSG hebben een
    grote invloed binnen de beweging voor vrije software en ze hebben als basis
    gediend voor The Open Source Definition, de definiëring van wat open
    broncode is.

  • De Debian Policy Manual, het beleidshandboek van Debian, geeft een
    omstandige specificatie van de kwaliteitsstandaarden van het
    Debian-project.

Ontwikkelaars van Debian zijn ook actief in een aantal andere projecten.
Sommige daarvan zijn specifiek voor Debian, andere hebben betrekking op een
onderdeel van of de gehele Linux-gemeenschap. Enkele voorbeelden zijn:

  • De Filesystem Hierarchy Standard (FHS), een gestandaardiseerde
    bestandssysteemhiërarchie, is een poging om de inrichting van het Linux
    bestandssysteem te standaardiseren. De FHS moet softwareontwikkelaars
    toelaten om zich te concentreren op het ontwerpen van programma's zonder
    zich zorgen te moeten maken over hoe het pakket in de verschillende GNU/
    Linux-distributies geïnstalleerd zal worden.

  • Debian Jr. is een intern project dat erop gericht is te garanderen dat
    Debian ook iets te bieden heeft voor de jongste gebruikers.

Voor meer algemene informatie over Debian kunt u terecht bij de Debian FAQ.

1.2. Wat is GNU/Linux?

GNU/Linux is een besturingssysteem, een reeks programma's die u in staat
stellen om te gaan met uw computer en er andere programma's op uit te voeren.

Een besturingssysteem bestaat uit verschillende fundamentele programma's die uw
computer nodig heeft om te kunnen communiceren en instructies van gebruikers te
kunnen ontvangen, om gegevens te lezen van en te schrijven naar harde schijven,
magneetbanden en printers, om het geheugengebruik te regelen en om andere
programma's uit te voeren. Het belangrijkste onderdeel van een
besturingssysteem is de kernel. In een GNU/Linux-systeem is Linux de
kernelcomponent. De rest van het systeem bestaat uit andere programma's,
waarvan er veel geschreven werden door of voor het GNU-project. Omdat de
Linuxkernel op zich geen werkzaam besturingssysteem oplevert, verkiezen we om
de term "GNU/Linux" te gebruiken om te verwijzen naar systemen die veel mensen
achteloos "Linux" noemen.

GNU/Linux is gemaakt naar het model van het Unix-besturingssysteem. Vanaf het
begin werd GNU/Linux ontworpen als een systeem voor multitasking en met
meerdere gebruikers. Alleen al deze elementen maken GNU/Linux anders dan andere
welbekende besturingssystemen. GNU/Linux verschilt zelfs nog meer dan u
misschien wel denkt. In tegenstelling tot andere besturingssystemen is niemand
eigenaar van GNU/Linux. Veel van zijn ontwikkeling gebeurt door onbetaalde
vrijwilligers.

Het ontwikkelen van wat later GNU/Linux werd, begon in 1984, toen de Free
Software Foundation startte met de ontwikkeling van een vrij Unix-achtig
besturingssysteem dat GNU genoemd werd.

Het GNU-project heeft een omvattend geheel van vrije-softwaregereedschappen
ontwikkeld om te worden gebruikt met Unix (tm) en Unix-achtige
besturingssystemen, zoals GNU/Linux. Deze gereedschappen laten gebruikers toe
taken uit te voeren, gaande van eenvoudige taken (zoals bestanden kopiëren en
van het systeem verwijderen) tot zeer complexe (zoals het schrijven en
compileren van programma's of het uitvoeren van geavanceerde bewerkingen op
documenten in uiteenlopende bestandsformaten).

Hoewel veel groepen en individuen bijgedragen hebben tot GNU/Linux, blijft de
Free Software Foundation nog steeds de entiteit met de grootste inbreng, omdat
ze niet enkel het grootste deel van de gereedschappen maakte die in GNU/Linux
gebruikt worden, maar ook de filosofie en de gemeenschap creëerde die GNU/Linux
mogelijk maakten.

De Linuxkernel verscheen voor het eerst op het toneel in 1991, toen Linus
Torvalds, een Finse student in de computerwetenschappen, in de
Usenet-nieuwsgroep comp.os.minix een preliminaire versie aankondigde van een
alternatieve kernel voor Minix. Zie de pagina Linux History (de geschiedenis
van Linux) van Linux International.

Linus Torvalds blijft met de hulp van een aantal onderhouders van subsystemen
het werk van honderden ontwikkelaars coördineren. Er bestaat voor de
Linuxkernel een officiële website. Informatie over de mailinglijst over de
Linuxkernel kunt u vinden in de linux-kernel mailing list FAQ (FAQ van de
mailinglijst over de Linuxkernel).

Gebruikers van GNU/Linux hebben een immense keuzevrijheid wat software betreft.
Linuxgebruikers hebben bijvoorbeeld de keuze uit een dozijn verschillende
shells voor de commandoregel en verschillende grafische werkomgevingen.
Gebruikers van andere besturingssystemen zijn vaak verbijsterd over deze
keuzemogelijkheid omdat het voor hen ongewoon is om te denken over de
commandoregel of de grafische werkomgeving als iets dat door hen kan gewijzigd
worden.

GNU/Linux is ook minder crashgevoelig, is beter in staat om tegelijk meer dan
één programma uit te voeren en veiliger dan veel besturingssystemen. Omwille
van deze voordelen is Linux het snelst groeiende besturingssysteem in het
serversergment. En meer recent is Linux ook populairder geworden voor
computergebruik thuis en op het werk.

1.3. Wat is Debian GNU/Linux?

De filosofie en methodiek van Debian in combinatie met het GNU-gereedschap, de
Linuxkernel en andere belangrijke vrije software levert een unieke
softwaredistributie op die de naam Debian GNU/Linux draagt. Deze distributie
bestaat uit een groot aantal softwarepakketten. Elk pakket uit de distributie
bevat uitvoerbare bestanden, scripts, documentatie en configuratie-informatie
en heeft een onderhouder (maintainer) die in de eerste plaats verantwoordelijk
is om het pakket up-to-date te houden, bugrapporten op te volgen en de
communicatie te onderhouden met de auteur(s) die de software die de onderhouder
verpakt, aanlever(t/en). Ons extreem groot gebruikersaantal in combinatie met
ons bugopvolgingssysteem zorgt ervoor dat problemen snel ontdekt en gerepareerd
worden.

De aandacht voor detail in Debian laat ons toe een hoogkwalitatieve, stabiele
en schaalbare distributie te produceren. Installaties kunnen gemakkelijk
geconfigureerd worden om uiteenlopende functies te vervullen, gaande van
minimale firewalls over wetenschappelijke werkstations tot hoogwaardige
netwerkservers.

Debian is vooral populair bij geavanceerde gebruikers omwille van zijn
technische uitmuntendheid en zijn vergaande betrokkenheid op de noden en
verwachtingen van de Linuxgemeenschap. Debian bracht ook heel wat nieuwe
functionaliteit aan die nu gemeengoed is in Linux.

Debian was bijvoorbeeld de eerste Linuxdistributie die een systeem voor
pakketbeheer toevoegde om het installeren en verwijderen van software eenvoudig
te maken. Het was ook de eerste Linuxdistributie die opgewaardeerd kon worden
zonder dat ze opnieuw geïnstalleerd moest worden.

Debian blijft een hoofdrolspeler in de verdere ontwikkeling van Linux. Het
ontwikkelingsproces dat ze hanteert toont aan hoe goed een Open-Source- of
Open-Bron-ontwikkelingsmodel kan werken -- zelfs voor zeer complexe taken als
het bouwen en onderhouden van een volledig besturingssysteem.

Het element dat Debian het meest onderscheidt van andere Linuxdistributies, is
haar systeem voor pakketbeheer. Deze gereedschappen geven de beheerder van een
Debian-systeem de volledige controle over de pakketten die op dat systeem
geïnstalleerd zijn, zoals de mogelijkheid om één enkel pakket te installeren of
het volledige besturingssysteem automatisch op te waarderen. Individuele
pakketten kunnen ook tegen opwaardering afgeschermd worden. U kunt het systeem
voor pakketbeheer zelfs informeren over de software die u zelf gecompileerd
hebt en over de vereisten die ze vervult / de afhankelijkheden waaraan ze
tegemoetkomt.

Om uw systeem te beschermen tegen "Trojaanse paarden" en andere kwaadwillende
software, controleren de servers van Debian of pakketten die geüpload worden,
afkomstig zijn van hun bij Debian geregistreerde onderhouders.
Pakketonderhouders van Debian besteden ook grote zorg aan een veilige
configuratie van hun pakketten. Als er een veiligheidsprobleem vastgesteld
wordt in een van de gedistribueerde pakketten, is een reparatie meestal zeer
snel beschikbaar. Met de eenvoudige updatemogelijkheden die Debian biedt,
kunnen veiligheidsreparaties automatisch van het internet gedownload en
geïnstalleerd worden.

De belangrijkste en beste manier om ondersteuning voor uw Debian GNU/
Linux-systeem te bekomen en te communiceren met de ontwikkelaars van Debian is
via een van de vele mailinglijsten die door het Debian-project onderhouden
worden (meer dan 322 op het tijdstip waarop dit document werd gemaakt). De
makkelijkste manier om u te abonneren op een of meer van deze lijsten, is via
het formulier dat u kunt vinden op de Pagina voor het intekenen op
mailinglijsten van Debian.

1.4. Wat is het installatiesysteem van Debian?

Het installatiesysteem van Debian, ook bekend als "Debian Installer" of "d-i",
is het softwaresysteem dat dient voor de installatie van een werkend basaal
Debian-systeem. Een breed spectrum hardware, zoals ingebedde apparaten,
laptops, desktops en servermachines wordt ondersteund en een uitgebreid gamma
vrije software voor velerlei toepassingen wordt geboden.

De installatie wordt gestuurd door het beantwoorden van een aantal basale
vragen. Ook een expertenmodus die toelaat elk aspect van de installatie te
controleren, en een geavanceerd systeem om automatische installaties uit te
voeren, zijn beschikbaar. Het geïnstalleerde systeem kan zonder verdere
bewerking gebruikt worden of kan verder aangepast worden. De installatie kan
vanaf verschillende bronnen uitgevoerd worden: USB, cd/dvd/blu-ray of het
netwerk. Het installatiesysteem ondersteunt een gelokaliseerde installatie in
meer dan 80 talen.

Het installatiesysteem vindt zijn oorsprong in het project voor
opstartdiskettes en werd voor het eerst vermeld door Joey Hess in 2000.
Sindsdien hebben vrijwilligers het installatiesysteem voortdurend verder
ontwikkeld, verbeterd en er meer functies aan toegevoegd.

Meer informatie kunt u vinden op de pagina van Debian Installer, op de Wiki en
op de mailinglijst debian-boot.

1.5. Debian verkrijgen

Raadpleeg de webpagina over de distributie voor meer informatie over de manier
waarop u Debian GNU/Linux van het internet kunt downloaden of officiële Debian
installatiemedia kunt aankopen. De lijst met Debian spiegelservers bevat een
volledige lijst van officiële Debian spiegelservers, zodat u gemakkelijk de
dichtstbijzijnde kunt vinden.

Na installatie kan Debian zeer gemakkelijk opgewaardeerd worden. De
installatieprocedure helpt bij het instellen van het systeem, zodat u deze
opwaarderingen, indien nodig, na het installeren van het systeem kunt
uitvoeren.

1.6. De meest recente versie van dit document verkrijgen

Dit document wordt permanent bijgewerkt. Kijk dus zeker op de pagina's over
Debian 11 voor eventuele informatie over release 11 van het Debian GNU/
Linux-systeem die op het laatste moment beschikbaar geworden is. Een
bijgewerkte versie van deze installatiehandleiding is ook te vinden op de
officiële pagina van de Installatiehandleiding.

1.7. De opbouw van dit document

Dit document is opgevat als een handleiding voor wie Debian voor het eerst
gebruikt. Het probeert zo weinig mogelijk vooronderstellingen te maken over het
niveau van uw expertise. Niettemin gaan we ervan uit dat u een algemeen begrip
heeft over de wijze waarop de hardware in uw computer functioneert.

Ook ervaren gebruikers kunnen in dit document interessante
referentie-informatie vinden, onder meer over de minimale grootte van een
installatie, over de hardware die door het installatiesysteem van Debian
ondersteund wordt, enzovoort. We moedigen ervaren gebruikers aan om wat rond te
neuzen in dit document.

Globaal genomen werd dit document lineair opgebouwd en neemt het u mee door het
installatieproces vanaf het begin tot het einde. Dit zijn de verschillende
stappen bij het installeren van Debian GNU/Linux en de overeenkomstige secties
van dit document:

 1. Het vaststellen of uw hardware voldoet aan de vereisten om het
    installatiesysteem te kunnen gebruiken in Hoofdstuk 2, Systeemvereisten.

 2. Het maken van een back-up van uw systeem en het voorafgaand aan de
    installatie van Debian uitvoeren van de nodige planning en
    hardware-configuratie in Hoofdstuk 3, Vooraleer u Debian GNU/Linux
    installeert. Indien u een multi-boot-systeem, een systeem met verschillende
    besturingssystemen, voor ogen heeft, kan het zijn dat u op uw harde schijf
    ruimte die gepartitioneerd kan worden moet vrijmaken ten behoeve van
    Debian.

 3. In Hoofdstuk 4, Media met het installatiesysteem verkrijgen verkrijgt u de
    installatiebestanden die u voor uw installatiemethode nodig heeft.

 4. Het volgende hoofdstuk Hoofdstuk 5, Het installatiesysteem starten
    beschrijft het opstarten van het installatiesysteem. Dit hoofdstuk gaat ook
    in op procedures voor het oplossen van problemen die zich bij deze stap
    zouden kunnen stellen.

 5. Het uitvoeren van de echte installatie volgens de informatie uit
    Hoofdstuk 6, Het Debian installatiesysteem gebruiken. Dit houdt de keuze
    van een taal in, het configureren van stuurprogrammamodules voor
    randapparatuur, het configureren van uw netwerkverbinding zodat de overige
    installatiebestanden rechtstreeks van een Debian-server opgehaald kunnen
    worden (in het geval u de installatie niet uitvoert aan de hand van een set
    CD/DVD-installatie-images), het indelen van de harde schijven en de
    installatie van het basissysteem en nadien het selecteren en installeren
    van taken. (Enige achtergrondinformatie over het instellen van de partities
    voor uw Debian-systeem vindt u in Bijlage C, Schijven indelen voor Debian.)

 6. Het opstarten van uw pas geïnstalleerd basissysteem in Hoofdstuk 7, De
    computer opstarten met uw nieuwe Debian systeem.

Nadat u het systeem geïnstalleerd heeft, kunt u Hoofdstuk 8, De volgende
stappen en waar u hierna nog terecht kunt lezen. Dat hoofdstuk legt uit waar u
bijkomende informatie over Unix en Debian kunt vinden en hoe u een kernel kunt
vervangen.

Tenslotte kunt u informatie over dit document en over hoe u er zelf aan kunt
meehelpen, vinden in Bijlage E, Administrivia.

1.8. Over copyright en softwarelicenties

We zijn zeker dat u al sommige van de licenties die aan de meeste commerciële
software gekoppeld zijn, gelezen heeft -- meestal vermelden ze dat u slechts
één kopie van de software op één enkele computer mag gebruiken. De licentie van
dit systeem is helemaal anders. We moedigen u aan om op elke computer op uw
school of op uw werkplek een kopie van Debian GNU/Linux te plaatsen. Leen uw
installatiemedia uit aan uw vrienden en help hen om het systeem op hun computer
te installeren! U mag er zelfs duizenden kopieën van maken en die verkopen --
weliswaar met enkele restricties. Het recht om het systeem te installeren en te
gebruiken wordt u rechtstreeks toegekend door Debian en heeft te maken met het
feit dat het vrije software is.

Het als vrij bestempelen van software, houdt niet in dat er geen copyright aan
verbonden is en betekent niet dat installatiemedia met die software kosteloos
moeten verspreid worden. Vrije software wil onder meer zeggen dat de licenties
van de afzonderlijke programma's niet vereisen dat u moet betalen voor het
recht om deze programma's te verdelen of te gebruiken. Vrije software wil ook
zeggen dat om het even wie die software mag uitbreiden, aanpassen en wijzigen
en het resultaat van zijn werk ook mag verspreiden.

Opmerking

Ten behoeve van zijn gebruikers doet het Debian-project een pragmatische
toegeving en stelt enkele pakketten ter beschikking die niet beantwoorden aan
onze criteria inzake vrijheid. Deze pakketten maken echter geen deel uit van de
officiële distributie en zijn enkel beschikbaar via de gebieden contrib en
non-free van de spiegelservers van Debian of op de CD's/DVD's van externe
leveranciers. Zie de Debian FAQ onder "De Debian FTP-archieven" voor bijkomende
informatie over de indeling en de inhoud van de archieven.

Veel van de programma's in het systeem hebben als licentie de GNU General
Public License die vaak eenvoudigweg "de GPL" genoemd wordt. De GPL eist dat u
de broncode van een programma ter beschikking stelt telkens u er een kopie in
binaire vorm van verspreidt. Deze bepaling in de licentie garandeert dat elke
gebruiker in staat gesteld wordt de software te wijzigen. Omwille van deze
bepaling is de broncode van al die programma's beschikbaar in het systeem van
Debian.^[1]

Er bestaan verschillende andere vormen van copyrightvermeldingen en
softwarelicenties die voor programma's in Debian gebruikt worden. Voor elk op
uw systeem geïnstalleerd pakket vindt u informatie over copyright en licentie
door te kijken in het bestand /usr/share/doc/pakket-naam/copyright na de
installatie van het pakket.

Voor bijkomende informatie over licenties en hoe Debian beoordeelt of software
voldoende vrij is om opgenomen te kunnen worden in de hoofddistributie, kunt u
de Richtlijnen van Debian inzake vrije software, de Debian Free Software
Guidelines, raadplegen.

De belangrijkste juridische bepaling is dat deze software geleverd wordt zonder
enige garantie. De programmeurs die deze software ontwikkelden, deden dit ten
behoeve van de gemeenschap. Er wordt geen garantie gegeven inzake de
bruikbaarheid van de software voor om het even welk specifiek doel. Maar
vermits de software vrij is, heeft u het recht om die software aan te passen
aan uw behoeften -- en mee te genieten van de voordelen van op die manier door
anderen aan de software aangebrachte wijzigingen en toevoegingen.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[1] Raadpleeg voor informatie over hoe u Debian broncodepakketten kunt vinden,
ze kunt uitpakken en er binaire bestanden uit kunt bouwen de Debian FAQ onder "
Basisbeginselen van het pakketbeheersysteem van Debian".

Hoofdstuk 2. Systeemvereisten

Inhoudsopgave

2.1. Ondersteunde hardware

    2.1.1. Ondersteunde architecturen
    2.1.2. CPU-ondersteuning
    2.1.3. Laptops
    2.1.4. Meerdere processoren
    2.1.5. Ondersteuning voor grafische hardware
    2.1.6. Hardware voor verbinding met het netwerk
    2.1.7. Brailleleesregels
    2.1.8. Spraaksynthesehardware
    2.1.9. Randapparatuur en andere hardware

2.2. Apparaten waarvoor firmware vereist is
2.3. Hardware aankopen, specifiek voor GNU/Linux

    2.3.1. Vermijd aan eigendomsrechten gebonden of gesloten hardware

2.4. Installatiemedia

    2.4.1. CD/DVD/BD
    2.4.2. USB-geheugenstick
    2.4.3. Netwerk
    2.4.4. Harde schijf
    2.4.5. Un*x- of GNU-systeem
    2.4.6. Ondersteunde opslagsystemen

2.5. Vereisten inzake geheugen en schijfruimte

Dit hoofdstuk bevat informatie over welke hardware u nodig heeft om aan de slag
te gaan met Debian. U vindt ook verwijzingen naar bijkomende informatie over
hardware die ondersteund wordt door GNU en Linux.

2.1. Ondersteunde hardware

Debian stelt geen extra vereisten inzake hardware bovenop de vereisten die
gesteld worden door de Linux- of de KFreeBSD-kernel en de GNU-gereedschapssets.
Daardoor kan Debian gebruikt worden op elke architectuur of elk platform
waarvoor de Linux- of de KFreeBSD-kernel, libc, gcc, enz. geschikt gemaakt
werden en waarvoor een Debian-uitgave bestaat. Raadpleeg de pagina's over
geschikte architecturen (ports) op https://www.debian.org/ports/amd64/ voor
meer informatie over systemen van de architectuur 64-bit PC waarop Debian GNU/
Linux getest werd.

Eerder dan alle verschillende ondersteunde hardwareconfiguraties van 64-bit PC
te proberen beschrijven, bevat dit hoofdstuk algemene informatie en
verwijzingen naar plaatsen waar bijkomende informatie gevonden kan worden.

2.1.1. Ondersteunde architecturen

Debian GNU/Linux 11 ondersteunt 9 hoofdarchitecturen en verschillende variaties
van elk van die architecturen, "varianten" (flavors) genoemd.

┌──────────────────────┬────────────────┬──────────────────────────┬──────────┐
│     Architectuur     │ Aanduiding in  │    Onderarchitectuur     │ Variant  │
│                      │     Debian     │                          │          │
├──────────────────────┼────────────────┼──────────────────────────┼──────────┤
│AMD64 & Intel 64      │amd64           │                          │          │
├──────────────────────┼────────────────┼──────────────────────────┼──────────┤
│                      │                │standaard x86-systemen    │standaard │
│Gebaseerd op Intel x86│i386            ├──────────────────────────┼──────────┤
│                      │                │enkel Xen PV domeinen     │xen       │
├──────────────────────┼────────────────┼──────────────────────────┼──────────┤
│ARM                   │armel           │Marvell Kirkwood en Orion │marvell   │
├──────────────────────┼────────────────┼──────────────────────────┼──────────┤
│ARM met hardware-FPU  │armhf           │multiplatform             │armmp     │
├──────────────────────┼────────────────┼──────────────────────────┼──────────┤
│64bits ARM            │arm64           │                          │          │
├──────────────────────┼────────────────┼──────────────────────────┼──────────┤
│                      │                │MIPS Malta                │5kc-malta │
│64bits MIPS (little   │                ├──────────────────────────┼──────────┤
│endian)               │mips64el        │Cavium Octeon             │octeon    │
│                      │                ├──────────────────────────┼──────────┤
│                      │                │Loongson 3                │loongson-3│
├──────────────────────┼────────────────┼──────────────────────────┼──────────┤
│                      │                │MIPS Malta                │4kc-malta │
│32bits MIPS (little   │                ├──────────────────────────┼──────────┤
│endian)               │mipsel          │Cavium Octeon             │octeon    │
│                      │                ├──────────────────────────┼──────────┤
│                      │                │Loongson 3                │loongson-3│
├──────────────────────┼────────────────┼──────────────────────────┼──────────┤
│Power Systems         │ppc64el         │IBM POWER8 of recentere   │          │
│                      │                │machines                  │          │
├──────────────────────┼────────────────┼──────────────────────────┼──────────┤
│64bits IBM S/390      │s390x           │IPL van VM-reader en DASD │generieke │
└──────────────────────┴────────────────┴──────────────────────────┴──────────┘

Dit document behandelt de installatie op de architectuur 64-bit PC met de
kernel Linux. Indien u op zoek bent naar informatie over een van de andere door
Debian ondersteunde architecturen, raadpleeg dan de webpagina Architecturen
waarop Debian werkt (Ports).

2.1.2. CPU-ondersteuning

De processortypes AMD64 en Intel 64 worden beide ondersteund.

2.1.3. Laptops

Vanuit technisch oogpunt zijn laptops gewone PC's en dus is alle informatie met
betrekking tot PC's ook van toepassing op laptops. Tegenwoordig gaan
installaties op laptops meestal vanzelf, zelfs voor zaken zoals het systeem in
slaapstand brengen bij het sluiten van het deksel of laptopspecifieke
hardwaretoetsen, zoals die voor het uitschakelen van wifi-interfaces ("
vliegtuigmodus"). Desalniettemin gebruiken hardwareleveranciers soms
gespecialiseerde of gepatenteerde hardware voor sommige laptopspecifieke
functies waarvoor geen ondersteuning is. Om na te gaan of uw laptop goed
functioneert met GNU/Linux, kunt u bijvoorbeeld de Linux Laptoppagina's
raadplegen.

2.1.4. Meerdere processoren

Ondersteuning voor meerdere processoren -- ook wel "symmetric multiprocessing"
of SMP genoemd -- is voor deze architectuur beschikbaar. Het standaard
kernelimage van Debian 11 werd gecompileerd met ondersteuning voor
SMP-alternatives (SMP-varianten). Dit houdt in dat de kernel het aantal
processoren (of processorkernen) vaststelt en SMP automatisch uitschakelt op
systemen met slechts één processor.

De aanwezigheid van meerdere processoren in een computer was oorspronkelijk
slechts weggelegd voor serversystemen uit het topsegment, maar is de laatste
jaren ongeveer overal een gewone zaak geworden met de introductie van de
zogenaamde "multi-core"-processoren (multikernprocessoren). Deze hebben in één
enkele fysieke chip twee of meer processoreenheden, die "cores" of kernen
genoemd worden.

2.1.5. Ondersteuning voor grafische hardware

De ondersteuning van Debian voor grafische interfaces wordt bepaald door de
onderliggende ondersteuning ervan in het X11-systeem van X.Org en in de kernel.
Basale grafische weergave via de framebuffer wordt door de kernel geleverd,
terwijl een desktopomgeving gebruik maakt van X11. Of geavanceerde
functionaliteit van grafische kaarten, zoals 3D hardwareacceleratie of video
met hardwareacceleratie beschikbaar is, hangt af van de grafische hardware die
in het systeem gebruikt wordt en in sommige gevallen ook van het extra
installeren van "firmware"-images (zie Paragraaf 2.2, "Apparaten waarvoor
firmware vereist is").

Op moderne pc's werkt een grafisch beeldscherm meestal vanzelf. Voor vrij veel
hardware werkt 3D-acceleratie ook goed vanzelf, maar er is nog steeds hardware
waarvoor binaire firmware-blobs nodig zijn om goed te werken. In sommige
gevallen werd melding gemaakt van hardware waarvoor de installatie van extra
firmware voor de grafische kaart zelfs vereist was om een basale grafische
ondersteuning te bekomen.

Meer informatie over ondersteunde grafische hardware en aanwijsapparaten is te
vinden op https://wiki.freedesktop.org/xorg/. Debian 11 bevat versie 7.7 van
X.Org.

2.1.6. Hardware voor verbinding met het netwerk

Zowat elke netwerkkaart (NIC) die door de kernel Linux ondersteund wordt, zou
ook moeten ondersteund worden door het installatiesysteem. Stuurprogramma's
zouden normaal automatisch geladen moeten worden. Daaronder vallen de meeste
PCI/PCI-Express-kaarten en de PCMCIA/Express-kaarten van laptops.

ISDN wordt ondersteund, maar niet tijdens de installatie.

2.1.6.1. Draadloze netwerkkaarten

Ook draadloze netwerken worden over het algemeen ondersteund en een toenemend
aantal draadloze adapters worden ondersteund door de officiële kernel Linux,
hoewel voor vele ervan firmware geladen moet worden.

Indien er firmware nodig is, zal het installatieprogramma u vragen om die te
laden. Zie Paragraaf 6.4, "Ontbrekende firmware laden" voor gedetailleerde
informatie over hoe u tijdens de installatie firmware kunt laden.

Draadloze NIC's die door de officiële kernel Linux niet ondersteund worden,
kunt u over het algemeen wel onder Debian GNU/Linux laten functioneren, maar
worden tijdens de installatie niet ondersteund.

Indien er een probleem is met het draadloos netwerkapparaat en er geen andere
NIC beschikbaar is tijdens de installatie, kunt u Debian GNU/Linux nog steeds
installeren met een image van een volledige installatie-CD of -DVD. Selecteer
dan de optie om geen netwerk te configureren en installeer enkel de pakketten
die op de CD/DVD beschikbaar zijn. Als de installatie voltooid is, kunt u dan
(na het heropstarten van de computer) het stuurprogramma en de firmware
installeren die u nodig heeft en uw netwerk handmatig configureren.

In sommige gevallen kan het stuurprogramma dat u nodig heeft niet als
Debian-pallet beschikbaar zijn. U zult dan moeten nagaan of er op internet
broncode beschikbaar is en er zelf het stuurprogramma mee compileren. Hoe u dit
moet doen valt buiten het bestek van deze handleiding. Indien er geen
Linuxstuurprogramma beschikbaar is, is uw laatste toevlucht het pakket
ndiswrapper, dat u toelaat om een Windowsstuurprogramma te gebruiken.

2.1.7. Brailleleesregels

De ondersteuning voor brailleleesregels wordt bepaald door de onderliggende
ondersteuning die men in brltty aantreft. De meeste leesregels werken onder
brltty en kunnen ofwel via een seriële poort, via USB of via bluetooth
verbonden zijn. Meer informatie over ondersteunde braille-apparaten vindt u op
de brltty-website. Debian GNU/Linux 11 bevat brltty versie 6.3.

2.1.8. Spraaksynthesehardware

De ondersteuning voor spraaksynthese-hardwareapparaten wordt bepaald door de
onderliggende ondersteuning die men aantreft in speakup. speakup ondersteunt
enkel geïntegreerde borden en externe apparaten die aangekoppeld zijn aan een
seriële poort (er worden geen adapters ondersteund van het type USB,
serieel-naar-USB of PCI). Meer informatie over ondersteunde
spraaksynthese-hardwareapparaten vindt u op de speakup-website. Debian GNU/
Linux 11 bevat speakup versie 3.1.6.

2.1.9. Randapparatuur en andere hardware

Linux ondersteunt een grote variëteit van hardware-apparaten, zoals muizen,
printers, scanners, PCMCIA/CardBus/ExpressCard- en USB-apparaten. Maar de
meeste van deze apparaten heeft u tijdens de installatie van het systeem niet
nodig.

USB-hardware werkt over het algemeen goed. Op sommige heel oude PC-systemen
kunnen sommige USB-toetsenborden bijkomende configuratie vragen (zie
Paragraaf 3.6.6, "Aandachtspunten in verband met apparatuur"). Op moderne PC's
werken USB-toetsenborden en -muizen zonder dat ze specifieke configuratie
vereisen.

2.2. Apparaten waarvoor firmware vereist is

Los van de beschikbaarheid van een apparaatstuurprogramma vereist sommige
hardware ook dat er zogenaamde firmware of microcode naar het apparaat geladen
wordt vooraleer het operationeel kan worden. Dit komt meest voor bij
netwerkkaarten of NIC's (in het bijzonder draadloze NIC's), maar bijvoorbeeld
sommige USB-apparaten en zelfs sommige hardeschrijfcontrollers hebben ook
firmware nodig.

Voor veel grafische kaarten is basisfunctionaliteit beschikbaar zonder
bijkomende firmware, maar om van de geavanceerde functies te kunnen genieten
moet op het systeem een bestand met de passende firmware geïnstalleerd worden.
In sommige gevallen kan een succesvolle installatie nog steeds eindigen in een
zwart scherm of een vervormd scherm bij het opnieuw opstarten van het
geïnstalleerde systeem. Als dat gebeurt, kunnen enkele tijdelijke oplossingen
worden geprobeerd om toch in te loggen (zie Paragraaf 6.4.3, "Het
geïnstalleerde systeem voltooien").

Op veel oudere apparaten die firmware nodig hebben om te werken, werd het
bestand met de firmware door de fabrikant permanent op een EEPROM/Flash-chip op
het apparaat zelf geplaatst. Tegenwoordig wordt bij nieuwe apparaten de
firmware niet langer op die manier ingebed, maar moet het bestand met de
firmware door het besturingssysteem van de computer in het apparaat geladen
worden telkens het systeem opstart.

In de meeste gevallen is firmware niet-vrij volgens de criteria die door het
Debian GNU/Linux-project gehanteerd worden en kan daarom niet opgenomen worden
in de hoofddistributie of in het installatiesysteem. Indien het
apparaatstuurprogramma zelf in de distributie opgenomen is en indien Debian GNU
/Linux de firmware wettelijk gezien mag verdelen, zal die vaak beschikbaar zijn
als een afzonderlijk pakket in de sectie 'non-free' van het archief.

Dit betekent evenwel niet dat dergelijke hardware niet gebruikt kan worden
tijdens een installatie. Vanaf Debian GNU/Linux 5.0 ondersteunt
debian-installer het laden vanuit een verwijderbaar medium, zoals een
USB-stick, van firmware-bestanden of pakketten met firmware. Zie Paragraaf 6.4,
"Ontbrekende firmware laden" voor bijkomende informatie over het laden van
firmwarebestanden of -pakketten tijdens de installatie.

Indien debian-installer vraagt naar een firmwarebestand en u dat bestand niet
bij de hand heeft of geen niet-vrije firmware wilt installeren op uw systeem,
kunt u proberen om voort te gaan zonder de firmware te laden. Er zijn
verschillende gevallen waarin een stuurprogramma vraagt naar bijkomende
firmware omdat die onder bepaalde omstandigheden nodig is, maar waarbij het
apparaat ook daarzonder op de meeste systemen werkt (dit gebeurt bijvoorbeeld
bij sommige netwerkkaarten die het tg3-stuurprogramma gebruiken).

2.3. Hardware aankopen, specifiek voor GNU/Linux

Verschillende leveranciers verkopen systemen met Debian of een andere GNU/
Linux-distributie reeds voorgeïnstalleerd. Misschien betaalt u iets meer voor
dit voorrecht, maar daarvoor krijgt u een grotere gemoedsrust in de plaats,
vermits u er zeker van kunt zijn dat de hardware goed ondersteund wordt door
GNU/Linux.

Indien u een machine moet kopen met Windows voorgeïnstalleerd, leest u best
aandachtig de licentie van Windows. Misschien kunt u de licentieovereenkomst
weigeren en een korting bekomen bij uw leverancier. Op het internet een
opzoeking doen met het trefwoord "windows refund" (terugbetaling windows) kan
eventueel nuttige informatie opleveren om u daarbij te helpen.

Koopt u al dan niet een systeem met een voorgeïnstalleerde Linux of misschien
zelfs een reeds gebruikt systeem, steeds is het belangrijk om na te gaan of uw
hardware ondersteund wordt door de kernel Linux. Ga na of er in de hiervoor
vermelde referenties melding gemaakt wordt van uw hardware. Laat de (eventuele)
verkoper weten dat u op zoek bent naar een systeem voor Linux. Ondersteun
Linux-genegen hardwareverkopers.

2.3.1. Vermijd aan eigendomsrechten gebonden of gesloten hardware

Sommige hardwarefabrikanten weigeren eenvoudig de nodige informatie te geven om
een stuurprogramma voor hun hardware te kunnen schrijven. Anderen weigeren de
toegang tot die informatie zonder het aangaan van een overeenkomst tot het
niet-ontsluiten van die informatie, hetgeen ons verhindt om de broncode van het
stuurprogramma vrij te geven. En dat laatste is één van de kernelementen van
vrije software. Aangezien we voor dit soort apparaten geen toegang krijgen tot
bruikbare documentatie, zullen die simpelweg ook niet werken met Linux.

In veel gevallen bestaan er standaarden (of minstens sommige de facto
standaarden) die beschrijven hoe een besturingssysteem en zijn
apparaatstuurprogramma's communiceren met een bepaalde klasse van apparaten.
Alle apparaten die deze (de facto) standaard volgen, kunnen dan gebruikt worden
met een eenvoudig algemeen apparaatstuurprogramma, zonder dat er een
apparaatspecifiek stuurprogramma nodig is. Voor sommige groepen hardware
(bijvoorbeeld USB-"interfaceapparaten", zoals toetsenborden muizen, enz., en
USB-apparaten voor massaopslag, zoals USB-sticks en geheugenkaartlezers)
functioneert dat heel goed en zo goed als elk apparaat dat op de markt te
verkrijgen is, beantwoordt aan die standaarden.

Op andere gebieden, waaronder bijvoorbeeld printers, is dit spijtig genoeg niet
het geval. Hoewel er veel printers zijn die benaderd kunnen worden via een
beperkt aantal (de facto) standaard printerstuurtalen en om die reden
probleemloos onder om het even welk besturingssysteem kunnen werken, zijn er
heel wat modellen die enkel aan eigendomsrechten gebonden stuurcommando's
begrijpen, waarover geen bruikbare informatie beschikbaar is en om die reden
ofwel helemaal niet gebruikt kunnen worden met een vrij besturingssysteem of
enkel met behulp van een door de fabrikant geleverd stuurprogramma met niet
vrijgegeven broncode.

Hoewel er dan voor dergelijke hardware een door de fabrikant aangeleverd
stuurprogramma met gesloten broncode bestaat, is de praktische levensduur van
het apparaat beperkt tot de periode waarin een dergelijk stuurprogramma
beschikbaar blijft. Tegenwoordig is de levenscyclus van een product vaak kort
en is het niet ongebruikelijk dat kort nadat de productie van een
consumentenproduct stopgezet wordt, door de fabrikant ook geen updates van het
stuurprogramma meer geleverd worden. Indien het oude stuurprogramma met
gesloten broncode na een systeemupdate niet langer blijkt te werken, wordt een
nog perfect werkend apparaat plots onbruikbaar wegens een gebrek aan
ondersteuning voor het stuurprogramma en in een dergelijk geval valt daar niets
aan te verhelpen. Om die reden zou u in de eerste plaats moeten trachten te
vermijden om gesloten hardware aan te schaffen, ongeacht met welk
besturingssysteem u die wenst te gebruiken.

U kunt helpen om deze situatie te verbeteren door fabrikanten van gesloten
hardware aan te sporen om de documentatie erover en andere noodzakelijke
bronnen vrij te geven, zodat wij vrije stuurprogramma's kunnen voorzien voor
hun hardware.

2.4. Installatiemedia

Dit onderdeel kan u helpen bij het bepalen welke verschillende types media u
kunt gebruiken om Debian te installeren. Er wordt een heel hoofdstuk gewijd aan
media, Hoofdstuk 4, Media met het installatiesysteem verkrijgen, en daarin
worden de voor- en nadelen van elk mediatype besproken. Misschien wilt u naar
deze pagina teruggrijpen eens u toegekomen bent aan dat hoofdstuk.

2.4.1. CD/DVD/BD

Voor de meeste architecturen bestaat er ondersteuning voor een installatie
vanaf een optische schijf.

Op PC's worden SATA, IDE/ATAPI, USB en SCSI optische stations ondersteund,
evenals FireWire-apparaten die via de stuurprogramma's ohci1394 en sbp2
ondersteund worden.

2.4.2. USB-geheugenstick

USB-sticks, ook wel USB-geheugensticks genoemd, zijn een veelgebruikt en
goedkoop opslagmedium geworden. Op de meeste moderne computersystemen is het
ook mogelijk om debian-installer vanaf een USB-stick op te starten. Veel
moderne computersystemen en in het bijzonder netbooks en dunne laptops hebben
niet langer een optisch station en voor dat soort systemen is het opstarten
vanaf een USB-medium de standaardprocedure geworden om een nieuw
besturingssysteem erop te installeren.

2.4.3. Netwerk

Tijdens de installatie kan het netwerk gebruikt worden om bestanden op te halen
die nodig zijn voor de installatie. Of het netwerk gebruikt wordt of niet,
hangt af van de gekozen installatiemethode en van uw antwoord op sommige vragen
die tijdens de installatie gesteld worden. Het installatiesysteem ondersteunt
de meeste types netwerkverbindingen (waaronder PPPoE, maar geen ISDN of PPP)
via ofwel HTTP of FTP. Na het beëindigen van de installatie kunt u uw systeem
ook configureren om gebruik te maken van ISDN of PPP.

U kunt het installatiesysteem ook over het netwerk opstarten, zonder dat u een
lokaal medium zoals een CD/DVD of een USB-stick nodig heeft. Indien er reeds
een infrastructuur aanwezig is om computers over het netwerk op te starten (dit
wil zeggen dat er in uw netwerk reeds DHCP- en TFTP-diensten actief zijn), kunt
u die gebruiken om snel en gemakkelijk een groot aantal machines klaar te
maken. Om de nodige infrastructuur op te zetten is een zekere graad van
technische praktijkervaring vereist en daarom wordt dit niet aanbevolen voor
beginnende gebruikers.

Een schijfloze installatie, waarbij men over een lokaal netwerk opstart en alle
lokale bestandssystemen via NFS aankoppelt, is een andere mogelijkheid.

2.4.4. Harde schijf

Bij veel architecturen is het ook mogelijk om het installatiesysteem
rechtstreeks van een harde schijf op te starten. Daarvoor is het nodig dat een
ander besturingssysteem het installatieprogramma op de harde schijf plaatst.
Deze methode valt enkel aan te bevelen als geen enkele andere methode
beschikbaar is.

2.4.5. Un*x- of GNU-systeem

Indien u een ander Unix-achtig systeem gebruikt, zou u het kunnen gebruiken om
Debian GNU/Linux te installeren zonder debian-installer te gebruiken zoals in
het vervolg van deze handleiding beschreven wordt. Een dergelijke
installatiemethode kan nuttig zijn voor gebruikers van anderszins
niet-ondersteunde hardware of van computers die niet uitgeschakeld mogen
worden. Indien u interesse heeft in deze techniek, ga dan verder naar
Paragraaf D.3, "Debian GNU/Linux installeren vanuit een Unix/Linux-Systeem".
Deze installatiemethode wordt enkel aanbevolen voor gevorderde gebruikers in
het geval er geen andere installatiemethode beschikbaar is.

2.4.6. Ondersteunde opslagsystemen

Het installatieprogramma van Debian bevat een kernel die gecompileerd is om op
een maximaal aantal systemen te kunnen werken.

Algemeen biedt het installatiesysteem van Debian ondersteuning voor IDE-(ook
bekend als PATA)schijven, SATA- en SCSI-controllers en -schijven, USB en
FireWire. Tot de ondersteunde bestandssystemen behoren FAT, Win-32
FAT-uitbreidingen (VFAT) en NTFS.

2.5. Vereisten inzake geheugen en schijfruimte

U heeft minstens 780MB geheugen nodig en minimum-fs-size; schijfruimte om een
normale installatie te kunnen uitvoeren. Merk op dat dit behoorlijk minimale
hoeveelheden zijn. Raadpleeg voor meer realistische cijfers Paragraaf 3.4,
"Voldoen aan de minimale vereisten op het gebied van hardware".

Het installatieprogramma schakelt normaal gesproken automatisch
geheugenbesparende kunstgrepen in om op zo'n systeem met weinig geheugen te
kunnen draaien, maar op architecturen die minder getest zijn kan het zijn dat
het dit over het hoofd ziet. Dit kan echter handmatig geactiveerd worden door
de opstartparameter lowmem=1 of zelfs lowmem=2 toe te voegen (zie ook
Paragraaf 6.3.1.1, "Controle van het beschikbaar geheugen / modus voor weinig
geheugen" en Paragraaf 5.3.2, "Parameters voor het installatiesysteem van
Debian").

Installation on systems with less memory^[2] or disk space available may be
possible but is only advised for experienced users.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[2] Installation images that support the graphical installer require more
memory than images that support only the text-based installer and should not be
used on systems with less than 780MB of memory. If there is a choice between
booting the text-based and the graphical installer, the former should be
selected on such systems.

Hoofdstuk 3. Vooraleer u Debian GNU/Linux installeert

Inhoudsopgave

3.1. Overzicht van het installatieproces
3.2. Maak een reservekopie van uw bestaande gegevens!
3.3. Benodigde informatie

    3.3.1. Documentatie
    3.3.2. Informatiebronnen over hardware vinden
    3.3.3. Compatibiliteit van de hardware
    3.3.4. Netwerkinstellingen

3.4. Voldoen aan de minimale vereisten op het gebied van hardware
3.5. Uw harde schijf vooraf indelen voor een multi-boot systeem
3.6. Configuratie van hardware en besturingssysteem voor de installatie

    3.6.1. Het instellingenmenu van het BIOS/UEFI openen
    3.6.2. Het opstartapparaat kiezen
    3.6.3. Systemen met UEFI firmware
    3.6.4. Secure boot (veilig opstarten)
    3.6.5. De functionaliteit "fast boot"/"fast startup" van Windows uitzetten
    3.6.6. Aandachtspunten in verband met apparatuur

Dit hoofdstuk behandelt de voorbereiding op de installatie van Debian zelfs
voordat u het installatieprogramma start. Dit omvat het maken van een
reservekopie van uw gegevens, het verzamelen van gegevens over uw hardware en
het bijeenzoeken van eventueel benodigde informatie.

3.1. Overzicht van het installatieproces

Allereerst een opmerking over herinstallaties. Bij Debian zal zich slechts zeer
zelden een omstandigheid voordoen die een volledige herinstallatie noodzakelijk
maakt. Wellicht is een mechanisch falen van de harde schijf de meest
voorkomende situatie.

Bij veel courante besturingssystemen kan een volledige herinstallatie nodig
blijken wanneer kritieke fouten optreden of voor een upgrade naar een nieuwe
versie van het besturingssysteem. En zelfs als een volledige herinstallatie
niet nodig is, moeten vaak de programma's die u gebruikt geherinstalleerd
worden om behoorlijk te functioneren onder het nieuwe besturingssysteem.

Onder Debian GNU/Linux is het veel waarschijnlijker dat uw besturingssysteem
niet vervangen moet worden maar gerepareerd kan worden als er dingen fout gaan.
Voor opwaarderingen is nooit een volledige herinstallatie vereist. U kunt
steeds het bestaande systeem opwaarderen terwijl het systeem blijft
functioneren en bijna steeds zijn de programma's compatibel met opeenvolgende
releases van het besturingssysteem. Indien een nieuwere versie van een
programma ook nieuwe ondersteunende software vereist, zorgt de manier waarop
Debian pakketten maakt ervoor dat alle software die benodigd is, automatisch
wordt geïdentificeerd en geïnstalleerd. Omdat zoveel aandacht is besteed aan
het voorkomen van de noodzaak om opnieuw te installeren, zou u dat als uw
allerlaatste redmiddel moeten beschouwen. Het installatiesysteem is niet
ontworpen om een installatie over een bestaand systeem heen uit te voeren.

Hier volgt een draaiboek met de verschillende stappen van het
installatieproces.

 1. Een reservekopie maken van alle bestaande gegevens of documenten op de
    harde schijf waarop u de installatie wilt uitvoeren.

 2. Informatie verzamelen over uw computer en alle benodigde documentatie voor
    u met de installatie begint.

 3. De installatiesoftware erbij nemen en/of downloaden, evenals eventuele
    gespecialiseerde stuurprogramma's of firmware-bestanden die uw computer
    vereist.

 4. De opstartmedia klaar maken, zoals CD's/DVD's/USB-sticks of een
    infrastructuur voorzien om het installatieprogramma over het netwerk te
    kunnen opstarten.

 5. Het installatiesysteem opstarten.

 6. De taal selecteren waarin de installatie uitgevoerd wordt.

 7. De ethernet-netwerkverbinding activeren als die beschikbaar is.

 8. Zo nodig op de doelschijf de grootte van bestaande partities aanpassen om
    plaats vrij te maken voor de installatie.

 9. De partities waarop Debian geïnstalleerd zal worden aanmaken en
    aankoppelen.

10. Toekijken op het automatisch downloaden/installeren/instellen van het
    basissysteem.

11. Selecteren en installeren van extra software.

12. Een bootloader (bootloader) installeren die in staat is om Debian GNU/Linux
    en/of uw bestaande systeem op te starten.

13. Het pas geïnstalleerde systeem voor de eerste maal laden.

Voor 64-bit PC heeft u de mogelijkheid om een grafische versie van het
installatiesysteem te gebruiken. Raadpleeg Paragraaf 5.1.8, "Het grafische
installatiesysteem" voor bijkomende informatie over dit grafisch
installatieprogramma.

Indien u tijdens de installatie moeilijkheden ervaart, kan het nuttig zijn om
een beeld te hebben van de pakketten die een rol spelen in de verschillende
stappen. Wij stellen de belangrijkste software-acteurs uit dit
installatietoneelstuk aan u voor:

De installatiesoftware, debian-installer, is het voornaamste onderwerp van deze
handleiding. Zij verzorgt de herkenning van hardware en laadt geschikte
stuurprogramma's, gebruikt dhcp-client om de netwerkverbinding op te zetten,
start debootstrap voor de installatie van de pakketten voor het basissysteem en
voert tasksel uit om u in staat te stellen bepaalde bijkomende software te
installeren. Nog veel meer acteurs spelen kleinere rollen in dit proces, maar
de taak van debian-installer is achter de rug als u het nieuwe systeem voor de
eerste maal laadt.

Om het systeem aan uw behoeften aan te passen, biedt tasksel u de mogelijkheid
om diverse voorgedefinieerde softwarebundels, zoals een webserver of
desktopomgeving, te installeren.

Een belangrijk keuzemoment tijdens de installatie is de vraag of er al dan niet
een grafische desktopomgeving geïnstalleerd moet worden. Dat bestaat uit het 'X
Window System' en één van de beschikbare grafische desktopomgevingen. Indien u
ervoor kiest om de taak "Desktopomgeving" niet te selecteren, zult u enkel
beschikken over een relatief basaal systeem dat via de commandoregel
aangestuurd wordt. Het installeren van de taak 'desktopomgeving' is optioneel
omdat het vergeleken met een systeem dat uitsluitend in tekstmodus werkt, een
relatief grote hoeveelheid schijfruimte nodig heeft en omdat veel Debian GNU/
Linux-systemen als server dienst doen en die hebben niet echt behoefte aan een
grafische gebruikersinterface om hun taak te vervullen.

U moet weten dat het 'X Window System' volledig los staat van debian-installer
en in feite veel complexer is. Het oplossen van problemen met het 'X Window
System' valt buiten het bestek van deze handleiding.

3.2. Maak een reservekopie van uw bestaande gegevens!

Vooraleer u begint moet u zeker een reservekopie maken van elk bestand dat zich
op dit moment op uw systeem bevindt. Als dit de eerste keer is dat op uw
computer een niet-oorspronkelijk besturingssysteem geïnstalleerd zal worden, is
het erg waarschijnlijk dat u de harde schijf zult moeten herindelen om plaats
te maken voor Debian GNU/Linux. Telkens u de schijf indeelt in partities, loopt
u het risico dat alles wat op de schijf staat verloren gaat, ongeacht welk
programma u hiervoor gebruikt. De programma's die tijdens de installatie van
Debian GNU/Linux gebruikt worden, zijn behoorlijk betrouwbaar en de meeste zijn
al jaren in gebruik, maar ze zijn ook erg krachtig en een verkeerde handeling
kan u duur te staan komen. Zelfs nadat u een reservekopie gemaakt heeft, moet u
voorzichtig te werk gaan en over uw antwoorden en acties nadenken. Twee minuten
nadenken kan u uren nutteloos werk besparen.

Indien u een 'multi-boot' systeem wilt maken, een systeem waarop meerdere
besturingssystemen staan, moet u ervoor zorgen dat u de distributiemedia van de
andere aanwezige besturingssystemen bij de hand heeft. Hoewel dit in normale
omstandigheden niet nodig is, kunnen er zich situaties voordoen waarin u de
bootloader van uw besturingssysteem opnieuw moet installeren om het systeem te
laten opstarten, of in het slechtste geval zelfs het volledige
besturingssysteem opnieuw moet installeren en de vooraf gemaakte reservekopie
moet terugplaatsen.

3.3. Benodigde informatie

3.3.1. Documentatie

3.3.1.1. Installatiehandleiding

Het document dat u nu aan het lezen bent, als gewoon ASCII tekstbestand of in
HTML- of PDF-formaat.

  • install.nl.txt

  • install.nl.html

  • install.nl.pdf

3.3.1.2. Documentatie over de hardware

Die bevat vaak nuttige informatie over het instellen en gebruiken van die
hardware.

  • De hardware-pagina van Debian Wiki

3.3.2. Informatiebronnen over hardware vinden

In veel gevallen zal het installatieprogramma in staat zijn automatisch uw
hardware te herkennen. Maar om op alles voorbereid te zijn, raden we u aan om
uzelf vertrouwd te maken met uw hardware voor u met de installatie begint.

Informatie over hardware kan gevonden worden via:

  • De handleidingen die meegeleverd worden met elk hardware-onderdeel.

  • De configuratieschermen van het BIOS/UEFI op uw computer. U krijgt deze
    schermen te zien als u bij het opstarten van de computer een
    toetsencombinatie indrukt. Kijk in uw handleiding welke combinatie u moet
    gebruiken. Vaak is het de Delete-toets of de F2-toets, maar sommige
    fabrikanten gebruiken een andere toets of toetsencombinatie. Gewoonlijk
    krijgt u bij het opstarten van de computer een mededeling die zegt welke
    toets u moet indrukken om het instellingenscherm te openen.

  • De verpakkingsdozen van de verschillende hardware-onderdelen.

  • Het Systeem-venster in het Configuratiescherm (Control Panel) van Windows.

  • Systeemcommando's en -gereedschappen van andere besturingssystemen,
    waaronder programma's voor bestandsbeheer. Deze informatiebron is vooral
    handig om informatie te verkrijgen over RAM-geheugen en opslaggeheugen van
    de harde schijf.

  • Uw systeembeheerder of Internetprovider (ISP). Bij deze informatiebronnen
    kunt u de instellingen opvragen die u voor uw netwerkverbinding en uw
    e-mail moet gebruiken.

Tabel 3.1. Voor een installatie nuttige informatie over hardware

┌──────────────────┬──────────────────────────────────────────────────────────┐
│     Hardware     │            Informatie die u nodig kunt hebben            │
├──────────────────┼──────────────────────────────────────────────────────────┤
│                  │Hoeveel u er heeft.                                       │
│                  ├──────────────────────────────────────────────────────────┤
│                  │Hun volgorde op het systeem.                              │
│                  ├──────────────────────────────────────────────────────────┤
│                  │Of ze van het type IDE (ook wel aangeduid met PATA), SATA │
│                  │of SCSI zijn.                                             │
│Harde schijven    ├──────────────────────────────────────────────────────────┤
│                  │Beschikbare vrije ruimte.                                 │
│                  ├──────────────────────────────────────────────────────────┤
│                  │Partities.                                                │
│                  ├──────────────────────────────────────────────────────────┤
│                  │Partities waarop andere besturingssystemen geïnstalleerd  │
│                  │zijn.                                                     │
├──────────────────┼──────────────────────────────────────────────────────────┤
│Netwerk-interfaces│Type/model van de beschikbare netwerk-interfaces.         │
├──────────────────┼──────────────────────────────────────────────────────────┤
│Printer           │Model en fabrikant.                                       │
├──────────────────┼──────────────────────────────────────────────────────────┤
│Grafische kaart   │Type/model en fabrikant                                   │
└──────────────────┴──────────────────────────────────────────────────────────┘


3.3.3. Compatibiliteit van de hardware

Veel producten werken probleemloos onder Linux. Daarenboven verbetert de
ondersteuning van hardware in Linux nog dagelijks. Toch werkt Linux nog niet
met evenveel verschillende types hardware als sommige andere
besturingssystemen.

Stuurprogramma's in Linux zijn in de meeste gevallen niet geschreven voor een
bepaald "product" of "merk" van een specifieke fabrikant, maar voor een
bepaalde hardware/chipset. Veel ogenschijnlijk verschillende producten/merken
zijn op hetzelfde hardwaredesign gebaseerd. Het is niet ongewoon dat
fabrikanten van chips zogenaamde "referentiedesigns" ter beschikking stellen
voor producten die op hun chips gebaseerd zijn. Die worden dan gebruikt door
verschillende fabrikanten van apparatuur die ze onder veel verschillende
product- en merknamen verkopen.

Dit heeft voor- en nadelen. Een voordeel is dat een stuurprogramma voor een
chipset werkt voor veel verschillende producten van diverse fabrikanten zolang
die producten op dezelfde chipset gebaseerd zijn. Het nadeel is dat het niet
altijd gemakkelijk is om precies vast te stellen welke chipset gebruikt werd in
een bepaald product/merk. Fabrikanten van apparatuur wijzigen jammer genoeg
soms de hardwarebasis van hun product zonder dat ze de productnaam of minstens
het versienummer aanpassen. Wanneer men twee exemplaren heeft met dezelfde
product/merk-naam die men op een verschillend moment aangekocht heeft, is het
daardoor soms mogelijk dat ze blijken op verschillende chipsets gebaseerd te
zijn en om die reden twee verschillende stuurprogramma's nodig hebben of dat
voor een van hen zelfs helemaal geen stuurprogramma voorhanden is.

Een goede manier om uit te zoeken op welke chipset USB- en PCI/PCI-Express/
ExpressCard-apparaten gebaseerd zijn, is te gaan kijken naar hun apparaat-ID.
Alle USB/PCI/PCI-Express/ExpressCard-apparaten hebben een zogenaamd "
leveranciers"-ID en "product"-ID en de combinatie van beide is meestal identiek
voor alle producten die op dezelfde chipset gebaseerd zijn.

Op Linuxsystemen kunt u deze ID's zien met het commando lsusb voor
USB-apparaten en het commando lspci -nn voor PCI/PCI-Express/
ExpressCard-apparaten. Het leveranciers- en het product-ID worden meestal
weergegeven in de vorm van twee hexadecimale getallen met daartussenin een
dubbele punt, zoals bijvoorbeeld "1d6b:0001".

Een voorbeeld van uitvoer van het commando lsusb is: "Bus 001 Device 001: ID
1d6b:0002 Linux Foundation 2.0 root hub", waarbij 1d6b het leveranciers-ID is
en 0002 het product-ID.

Een voorbeeld van uitvoer van het commando lspci -nn voor een ethernetkaart is:
"03:00.0 Ethernet controller [0200]: Realtek Semiconductor Co., Ltd. RTL8111/
8168B PCI Express Gigabit Ethernet controller [10ec:8168] (rev 06)". De ID's
worden vermeld binnen de meest rechtse rechte haakjes. In dit voorbeeld is 10ec
het leveranciers-ID en 8168 het product-ID.

Nog een ander voorbeeld is de volgende mogelijke uitvoer voor een grafische
kaart: "04:00.0 VGA compatible controller [0300]: Advanced Micro Devices [AMD]
nee ATI RV710 [Radeon HD 4350] [1002:954f]".

Op Windowssystemen zijn de ID's van een apparaat terug te vinden in het
apparaatbeheer van Windows onder het tabblad "details", waarbij het
leveranciers-ID voorafgegaan wordt door VEN_ (van vendor ID) en het product-ID
door DEV_ (van device ID). Op systemen met Windows 7 moet u de eigenschap "
Hardware-ID's" selecteren in het details-tabblad van het apparaatbeheer om de
ID's effectief te zien te krijgen, vermits ze standaard niet getoond worden.

Als u op het internet zoekt met het leveranciers/product-ID samen met de
zoektermen "Linux" en "driver" (stuurprogramma), kunt u vaak informatie vinden
over hoe het gesteld is met de eventuele ondersteuning door een stuurprogramma
van een bepaalde chipset. Indien een zoekopdracht met het leveranciers/
product-ID geen bruikbare resultaten oplevert, kan een zoekopdracht met de
codenaam van de chip, die ook vaak weergegeven wordt door de commando's lsusb
en lspci ("RTL8111"/"RTL8168B" in het voorbeeld van de netwerkkaarten "RV710"
in het voorbeeld van de grafische kaart), soms helpen.

3.3.3.1. De compatibiliteit van hardware testen met een live-systeem

Debian GNU/Linux bestaat voor bepaalde architecturen ook onder de vorm van een
zogenaamd "live-systeem". Een live-systeem is een voorgeconfigureerd en
gecomprimeerd systeem dat klaar voor gebruik is en opgestart en gebruikt kan
worden vanaf een alleen-lezen medium, zoals een CD of een DVD. Een
standaardgebruik ervan brengt geen enkele permanente wijziging aan op uw
computer. U kunt in het live-systeem gebruikersinstellingen wijzigen en
bijkomende programma's installeren, maar dit alles speelt zich alleen maar af
in het RAM-geheugen van de computer. Dit houdt in dat als u de computer afzet
en het live-systeem opnieuw opstart, alles teruggeplaatst is op zijn
standaardinstellingen. Indien u wilt nagaan of uw hardware ondersteund wordt
door Debian GNU/Linux, is de eenvoudigste manier om dit te doen er een Debian
live-systeem op uitproberen.

Aan het gebruik van een live-systeem zijn ook enkele beperkingen verbonden. De
eerste heeft te maken met het feit dat alle wijzigingen die u in het
live-systeem aanbrengt, bewaard moeten worden in het RAM-geheugen van uw
computer. Daardoor kan het installeren van bijkomende grote softwarepakketten
mislukken ten gevolge van een gebrek aan geheugen. Een andere beperking in
verband met het testen van de compatibiliteit van hardware is dat het officiële
live-systeem van Debian GNU/Linux enkel vrije componenten bevat, wat inhoudt
dat het geen niet-vrije firmwarebestanden bevat. Dergelijke niet-vrije
pakketten kunnen binnen het systeem uiteraard handmatig geïnstalleerd worden,
maar er is geen automatische detectie aanwezig van de vereiste
firmwarebestanden zoals dat in debian-installer wel het geval is. De
installatie van niet-vrije componenten moet dus handmatig gebeuren als ze nodig
zijn.

Informatie over de beschikbare varianten van Debian live-images is te vinden op
de webpagina over Debian Live Images.

3.3.4. Netwerkinstellingen

Indien uw computer verbonden is met een vast netwerk (dus een ethernet- of
gelijkaardige verbinding -- geen inbel/PPP-verbinding) dat beheerd wordt door
iemand anders, moet u bij uw netwerkbeheerder naar de volgende informatie
vragen:

  • Uw computernaam (host name - mogelijk mag u die zelf bepalen).

  • De domeinnaam van uw netwerk.

  • Het IP-adres van uw computer.

  • Het voor uw netwerk te gebruiken netwerkmasker.

  • Het IP-adres van het standaard gateway-systeem waarnaartoe u moet routeren
    (d.w.z. waarlangs u toegang kunt krijgen tot andere netwerken, waaronder
    het Internet) indien uw netwerk een gateway heeft.

  • Het systeem op uw netwerk dat u moet gebruiken als DNS-server (Domain Name
    Service - dienst voor domeinnamen).

Indien het netwerk waarmee u verbonden bent, DHCP (Dynamic Host Configuration
Protocol - protocol voor dynamische hostconfiguratie) gebruikt om uw
netwerkinstellingen te configureren, heeft u deze informatie niet nodig,
aangezien de DHCP-server deze rechtstreeks aan uw computer zal overmaken
tijdens het installatieproces.

Indien u toegang heeft tot het internet via DSL of via een kabelmodem (d.w.z.
via het kabelnetwerk van de TV) en een router heeft (vaak voorgeconfigureerd
geleverd door uw telefoon- of kabelmaatschappij) die instaat voor de verbinding
met het netwerk, is DHCP gewoonlijk standaard aanwezig.

U kunt de volgende vuistregel gebruiken: indien u in uw thuisnetwerk een
Windowssysteem gebruikt en daarvoor niet handmatig netwerkinstellingen heeft
moeten configureren om toegang te hebben tot het internet, dan zal ook in
Debian GNU/Linux het configureren van de toegang tot het netwerk automatisch
gebeuren.

Indien een WLAN/WiFi-netwerk (draadloos netwerk) gebruikt, moet u het volgende
te weten komen:

  • Het ESSID ("netwerknaam") van uw draadloos netwerk.

  • De WEP- of WPA/WPA2-beveiligingssleutel om toegang te hebben tot het
    netwerk (als dit van toepassing is).

3.4. Voldoen aan de minimale vereisten op het gebied van hardware

Eens u klaar bent met het verzamelen van informatie over de hardware van uw
computer, moet u nagaan of uw hardware geschikt is voor het soort installatie
dat u wenst uit te voeren.

Afhankelijk van uw noden is het mogelijk dat u het kunt stellen met minder dan
sommige van de in onderstaande tabel vermelde minima. Toch lopen de meeste
gebruikers het risico gefrustreerd te geraken als ze deze suggesties negeren.

Voor een desktopsysteem wordt minimaal een Pentium 4, 1GHz systeem aanbevolen.

Tabel 3.2. Aanbevolen minimale systeemvereisten

┌────────────────┬─────────────┬────────────────┬────────────┐
│Type installatie│RAM (minimum)│RAM (aanbevolen)│Harde schijf│
├────────────────┼─────────────┼────────────────┼────────────┤
│Zonder desktop  │256 megabytes│512 megabytes   │2 gigabytes │
├────────────────┼─────────────┼────────────────┼────────────┤
│Met desktop     │1 gigabyte   │2 gigabytes     │10 gigabytes│
└────────────────┴─────────────┴────────────────┴────────────┘


The minimum values assumes that swap will be enabled and a non-liveCD image is
used. The "No desktop" value assumes that the non-graphical (text-based)
installer is used.

De feitelijke minimale geheugenvereisten liggen een stuk lager dan de in deze
tabel opgegeven getallen. Met geactiveerd wissselgeheugen is het mogelijk om
Debian te installeren met slechts 350MB. Hetzelfde geldt voor de vereisten
inzake schijfruimte, vooral als u selectief bent wat de te installeren
toepassingen betreft. Zie Paragraaf D.2, "De hoeveelheid schijfruimte die nodig
is voor taken" voor bijkomende informatie over de vereiste schijfruimte.

Het is mogelijk om een grafische desktopomgeving te gebruiken op oudere of
eenvoudige systemen, maar dan wordt aanbevolen om een vensterbeheerder te
installeren die minder gulzig is naar systeembronnen dan die van de
desktopomgevingen GNOME of KDE Plasma. Mogelijke alternatieven zijn xfce4,
icewm en wmaker, maar er zijn er nog andere waaruit u kunt kiezen.

Voor serverinstallaties is het praktisch onmogelijk om algemene vereisten op te
geven inzake geheugen en schijfruimte, aangezien deze sterk afhankelijk zijn
van het beoogde gebruik van de server.

Onthoud dat deze groottes geen rekening houden met al de overige zaken die men
meestal ook aantreft, zoals gebruikersbestanden, e-mail en gegevens. Het is
altijd het beste om de benodigde ruimte voor uw eigen bestanden en gegevens
royaal in te schatten.

De vereiste schijfruimte voor een vlotte werking van het Debian GNU/
Linux-systeem zelf is wel inbegrepen in de opgegeven aanbevolen
systeemvereisten. In het bijzonder de partitie /var bevat naast zijn gewone
inhoud zoals logbestanden, een heleboel statusinformatie die specifiek is voor
Debian. De bestanden van dpkg (met informatie over al de geïnstalleerde
pakketten) kunnen makkelijk 40MB in beslag nemen. Ook slaat apt gedownloade
pakketten hier op voor ze geïnstalleerd worden. U moet gewoonlijk minstens
200MB voorbehouden voor /var en nog veel meer als u een grafische
desktopomgeving installeert.

3.5. Uw harde schijf vooraf indelen voor een multi-boot systeem

Met het partitioneren of indelen van een schijf bedoelt men gewoon de
activiteit van het opdelen van een schijf in afdelingen. Elke afdeling is dan
onafhankelijk van de andere. Het komt ruwweg overeen met muren optrekken
binnenin een huis. Indien u een bepaalde kamer inricht, heeft dit geen invloed
op de andere plaatsen.

Indien u op uw systeem reeds een besturingssysteem heeft staan (Windows 9x,
Windows NT/2000/XP/2003/Vista/7, OS/2, MacOS, Solaris, FreeBSD, ...) dat de
volledige schijf gebruikt en u Debian op dezelfde schijf wenst te plaatsen,
moet u ze herindelen. Debian vereist eigen partities op de harde schijf. Het
kan niet geïnstalleerd worden op partities van Windows of Mac OS X. Het kan wel
met andere Unix-systemen sommige partities delen, maar dat wordt hier niet
behandeld. In elk geval zult u een partitie moeten hebben die voorbehouden is
voor het basisbestandssysteem van Debian.

U kunt informatie bekomen over de huidige partitie-indeling door gebruik te
maken van een schijfindelingsprogramma voor uw huidige besturingssysteem, zoals
het geïntegreerd schijfbeheer in Windows of fdisk in DOS.
Schijfindelingsprogramma's beschikken altijd over een functie om bestaande
partities te tonen zonder wijzigingen aan te brengen.

Algemeen geldt dat men alle informatie vernietigt als men een partitie wijzigt
waar reeds een bestandssysteem op staat. U moet dus altijd een reservekopie
maken vooraleer u een schijf herindeelt. Om nog eens de analogie met een huis
te gebruiken: vooraleer u een binnenmuur verplaatst, zult u wellicht alle
meubilair weghalen, anders riskeert u het te vernielen.

Verschillende moderne besturingssystemen bieden de mogelijkheid om bepaalde
bestaande partities te verplaatsen en hun grootte te veranderen zonder dat de
inhoud ervan verloren gaat. Daardoor is het mogelijk om ruimte te maken voor
bijkomende partities zonder de bestaande gegevens te verliezen. Hoewel dit in
de meeste gevallen heel goed gaat, is het aanbrengen van veranderingen aan de
wijze waarop een schijf ingedeeld is, een inherent gevaarlijke activiteit die
enkel zou mogen gebeuren nadat u een volledige reservekopie gemaakt heeft van
al uw gegevens. Voor FAT/FAT32- en NTFS-partities die gebruikt worden door DOS-
en Windows-systemen, wordt de mogelijkheid om die partities zonder
gegevensverlies te verplaatsen en hun grootte aan te passen zowel door
debian-installer geboden als door het geïntegreerd schijfbeheer van Windows 7.

Om zonder gegevensverlies de grootte van een bestaande FAT- of NTFS-partitie
vanuit debian-installer te veranderen, moet u naar de stap schijfindeling gaan
en kiezen voor de optie handmatige schijfindeling, daarna de aan te passen
partitie selecteren en tenslotte de nieuwe grootte ervan opgeven.

Partities aanmaken en verwijderen kan gedaan worden vanuit debian-installer en
ook vanuit een bestaand besturingssysteem. Als vuistregel kunt u gebruiken dat
partities best gemaakt worden door het systeem dat ze zal gebruiken, d.w.z. dat
partities die door Debian GNU/Linux gebruikt zullen worden, moeten gemaakt
worden vanuit debian-installer en dat partities die vanuit een ander
besturingssysteem gebruikt zullen worden, van daaruit moeten gemaakt worden.
debian-installer is in staat om niet-Linux partities te maken en op die manier
gemaakte partities werken meestal probleemloos als ze in een ander
besturingssysteem gebruikt worden, maar er bestaan enkele uitzonderlijke
randgevallen waarbij dit problemen zou kunnen geven. Als u dus zeker wilt zijn,
gebruik dan het systeemeigen schijfindelingsgereedschap om partities te maken
die door andere besturingssystemen gebruikt zullen worden.

Indien u meer dan één besturingssysteem gaat installeren op dezelfde machine,
moet u alle andere systemen installeren vooraleer met de installatie van Debian
te beginnen. De installatie van Windows en van andere besturingssystemen zou de
mogelijkheid om Debian op te starten kunnen tenietdoen of u ertoe kunnen
aanzetten de voor het systeem vreemde partities opnieuw te formatteren.

Het is mogelijk om dergelijke problemen te herstellen of te voorkomen, maar u
bespaart uzelf moeite door het oorspronkelijke besturingssysteem eerst te
installeren.

3.6. Configuratie van hardware en besturingssysteem voor de installatie

Dit deel behandelt eventuele hardware-instellingen die u moet uitvoeren voordat
u Debian installeert. In het algemeen gaat het dan over het controleren en
eventueel wijzigen van instellingen in de BIOS/UEFI/systeemfirmware op uw
systeem. Het "BIOS/UEFI" of de "systeemfirmware" is de kernsoftware die door de
hardware wordt gebruikt. Deze speelt een cruciale rol bij het begin van het
opstarten (na het aanzetten van de computer).

3.6.1. Het instellingenmenu van het BIOS/UEFI openen

Het BIOS/UEFI levert de basisfuncties die nodig zijn om uw machine op te
starten en uw besturingssysteem in staat te stellen uw hardware aan te spreken.
Uw systeem heeft een instellingenmenu voor het BIOS/UEFI en daarmee kan het
BIOS/UEFI geconfigureerd worden. Om het instellingenmenu van het BIOS/UEFI te
openen moet u een toets of een toetsencombinatie indrukken na het aanzetten van
de computer. Dikwijls is dat de Delete- of de F2-toets, maar sommige
fabrikanten gebruiken een andere toets. Gewoonlijk verschijnt er bij het
opstarten van de computer een melding waarin staat welke toets u moet indrukken
om het instellingenscherm te openen.

3.6.2. Het opstartapparaat kiezen

In het instellingenmenu van het BIOS/UEFI kunt u selecteren op welke apparaten
en in welke volgorde gezocht zal worden naar een opstartbaar besturingssysteem.
Tot de mogelijkheden waaruit gekozen kan worden, behoren meestal interne harde
schijven, het cd/dvd-station. en USB-massaopslagapparaten zoals USB-sticks of
externe USB harde schijven. Op moderne systemen heeft u ook vaak de
mogelijkheid om te kiezen voor opstarten over het netwerk via PXE.

Afhankelijk van het installatiemedium dat u gekozen heeft (CD/DVD, USB-stick,
opstarten over het netwerk), moet u het passende opstartapparaat activeren als
dat nog niet het geval is.

De meeste BIOS/UEFI-versies laten u toe om bij het opstarten van het systeem
een opstartmenu op te roepen waarin u kunt aangeven vanaf welk apparaat de
computer tijdens deze sessie moet opstarten. Indien een dergelijke mogelijkheid
bestaat, geeft het BIOS/UEFI bij het starten van het systeem meestal een korte
melding weer in de zin van "press F12 for boot menu". Welke toets precies u
moet gebruiken om dit menu te selecteren, varieert van systeem tot systeem.
Vaak gebruikte toetsen zijn F12, F11 en F8. In dit menu een apparaat selecteren
wijzigt in het BIOS/UEFI niet de standaardvolgorde onder de opstartapparaten,
d.w.z. dat u voor eenmaal kunt opstarten van een USB-stick, hoewel u de interne
harde schijf geconfigureerd heeft als het normale primaire opstartapparaat.

Indien uw BIOS/UEFI niet over een opstartmenu beschikt dat toelaat een
ad-hockeuze te maken in verband met het actuele opstartapparaat, zult u de BIOS
/UEFI-instellingen moeten aanpassen en het apparaat van waaruit
debian-installer opgestart zal worden, moeten instellen als het primaire
opstartapparaat.

Jammer genoeg hebben sommige computers een BIOS/UEFI-versie met bugs. Het kan
zijn dat het opstarten van debian-installer vanaf een USB-stick dan niet werkt
ook al bevat het instellingenmenu van het BIOS/UEFI een dergelijke optie en
heeft u de stick geselecteerd als primair opstartapparaat. Op sommige van
dergelijke systemen is een USB-stick gebruiken als opstartmedium niet mogelijk.
Sommige andere systemen kunnen met een trucje toch verleid worden om op te
starten van de stick door in de instellingen van het BIOS/UEFI het apparaattype
dat standaard "USB harddisk" of "USB stick" is, te veranderen naar "USB ZIP" of
"USB CDROM". In het bijzonder wanneer u een isohybride installatie-image
gebruikt op een USB-stick (zie Paragraaf 4.3.1, "Een USB-stick klaar maken met
een hybride CD/DVD-image"), kan het bij sommige BIOS'en die er niet in slagen
om in USB-hardeschijfmodus op te starten van een USB-stick, helpen het
apparaattype te veranderen naar "USB CDROM".. Mogelijk moet u uw BIOS/UEFI
configureren om "USB legacy support" (ondersteuning voor oudere USB) te
activeren.

Indien u het BIOS/UEFI niet kunt manipuleren om rechtstreeks op te starten van
een USB-stick, heeft u nog altijd de mogelijkheid om een ISO te gebruiken die u
naar de stick kopieert. Start debian-installer met Paragraaf 4.4, "Bestanden
voorbereiden om vanaf een harde schijf op te starten" en nadat op de harde
schijf gezocht is naar een ISO-image van het installatieprogramma, selecteert u
het USB-apparaat en kiest u het installatie-image.

3.6.3. Systemen met UEFI firmware

UEFI ("Unified Extensible Firmware Interface") is een nieuw soort
systeemfirmware dat op veel moderne systemen gebruikt wordt en bedoeld is om -
naast andere aanwendingen - het klassieke PC-BIOS te vervangen.

Momenteel hebben de meeste PC-systemen die UEFI gebruiken ook een zogenaamde "
Compatibility Support Module" (CSM) in de firmware, die exact dezelfde
interfaces met het besturingssysteem biedt als het klassieke PC-BIOS, waardoor
software die geschreven was voor het klassieke PC-BIOS onveranderd gebruikt kan
worden. Niettemin is het de bedoeling dat UEFI ooit volledig het oude PC-BIOS
zal vervangen zonder daarbij volledig neerwaarts compatibel te zijn en er
bestaan reeds heel wat systemen met UEFI maar zonder CSM.

Bij het installeren van een besturingssysteem op een systeem met UEFI moet u
met enkele zaken rekening houden. De wijze waarop de firmware een
besturingssysteem laadt verschilt fundamenteel tussen het klassieke BIOS (of
UEFI in CSM-modus) en het standaard UEFI. Een belangrijk verschil is de wijze
waarop de partities van een harde schijf opgeslagen worden op de harde schijf.
Terwijl het klassieke BIOS en UEFI in CSM-modus een DOS-partitietabel
gebruiken, gebruikt het standaard UEFI een ander partitiesysteem dat men "GUID
Partition Table" (GPT) noemt. Op één enkele schijf kan voor alle praktische
doeleinden slechts een van beide gebruikt worden en in het geval van een
multi-boot opstelling waarbij op één enkele schijf verschillende
besturingssystemen geplaatst worden, moeten ze daarom allemaal hetzelfde type
partitietabel gebruiken. Opstarten van een schijf met GPT is enkel mogelijk in
standaard UEFI-modus, maar het gebruik van GPT wordt meer en meer courant omdat
de grootte van harde schijven toeneemt en een klassieke DOS-partitietabel geen
harde schijven aankan die groter zijn dan ongeveer 2 terabytes, terwijl GPT
veel grotere harde schijven aankan. Het andere grote verschil tussen BIOS (of
UEFI in CSM-modus) en standaard UEFI is de locatie waar opstartcode opgeslagen
wordt en in welke indeling die moet zijn. Dit betekent dat voor elk van beide
systemen verschillende bootloaders nodig zijn.

Dit laatste wordt van belang bij het opstarten van debian-installer op een
UEFI-systeem met CSM, omdat debian-installer nagaat of het opgestart werd op
een BIOS- of op een standaard UEFI-systeem en de overeenkomstige bootloader
installeert. Normaal werkt dit vanzelf maar in multi-boot-omgevingen kan er
zich een probleem stellen. Op sommige UEFI-systemen met CSM kan de standaard
opstartmodus voor verwijderbare media verschillend zijn van wat gebruikt wordt
wanneer opgestart wordt vanaf een harde schijf. Wanneer u dus het
installatieprogramma opstart vanaf een USB-stick in een andere modus dan die
welke gebruikt wordt voor het opstarten van een reeds geïnstalleerd systeem op
de harde schijf, kan het gebeuren dat de verkeerde bootloader geïnstalleerd
wordt en het systeem na het afronden van de installatie niet langer opgestart
kan worden. Bij het selecteren van het opstartapparaat in het opstartmenu van
de firmware, bieden sommige systemen voor elk apparaat de keuze uit twee
verschillende modi, zodat de gebruiker kan selecteren of het opstarten in
CSM-modus of in standaard UEFI-modus moet gebeuren.

3.6.4. Secure boot (veilig opstarten)

Een ander aspect dat verband houdt met UEFI is het zogenaamde "secure boot"
-mechanisme. Secure boot (veilig opstarten) is een functie van
UEFI-toepassingen die de firmware enkel toelaat code te laden en uit te voeren
die cryptografisch ondertekend werd met bepaalde sleutels en waardoor elke
(potentieel kwaadaardige) opstartcode die niet ondertekend is of door een
onbekende sleutel ondertekend werd, geblokkeerd wordt. In de praktijk is de
enige sleutel die standaard op de meeste UEFI-systemen met 'secure boot'
geaccepteerd wordt, een sleutel van Microsoft die gebruikt wordt om de
bootloader van Windows te ondertekenen. Debian bevat een "shim"-bootloader die
ondertekend werd door Microsoft en dus correct zou moeten werken op systemen
waarop veilig opstarten is ingeschakeld.

3.6.5. De functionaliteit "fast boot"/"fast startup" van Windows uitzetten

Windows biedt een functie ("fast boot" genaamd in Windows 8, "fast startup" in
Windows 10) om de opstarttijd van het systeem te verkorten. Indien deze functie
actief is en u geeft Windows de opdracht om af te sluiten, sluit het niet echt
af en doet het nadien dus geen echte koude start, maar doet het iets dat lijkt
op een gedeeltelijke slaapstand om de "opstart"tijd in te korten. Zolang
Windows het enige besturingssysteem op de computer is, is dit niet
problematisch, maar indien u een dual-boot-systeem hebt waarbij een ander
besturingssysteem gebruik maakt van dezelfde bestandssystemen als Windows, kan
dit leiden tot problemen en gegevensverlies. In een dergelijk geval kan de
echte toestand van het bestandssysteem verschillend zijn van wat Windows na de 
"opstart" denkt en dit kan leiden tot bederf van het bestandssysteem wanneer er
nog verder geschreven wordt in het bestandssysteem. Om bij een
dual-boot-systeem bestandssysteembederf tegen te gaan, moet u daarom de "fast
boot"/"fast startup" functionaliteit in Windows uitzetten.

Bovendien is bekend dat het Windows Update-mechanisme deze functie (soms)
automatisch opnieuw inschakelt, nadat het eerder door de gebruiker werd
uitgeschakeld. Wij suggereren om periodiek deze instelling opnieuw te
controleren.

Het kan zelfs nodig zijn om "fast boot" uit te zetten om toegang te krijgen tot
het instellingenmenu van UEFI om te kunnen kiezen voor het opstarten van een
ander besturingssysteem of van debian-installer. Op sommige UEFI-systemen zal
de firmware de "opstart"tijd reduceren door de toetsenbordcontroller of de
USB-hardware niet te initialiseren. In dergelijke gevallen is het noodzakelijk
om Windows op te starten en er deze functionaliteit uit te zetten om in staat
te zijn de opstartvolgorde te wijzigen.

3.6.6. Aandachtspunten in verband met apparatuur

De USB-ondersteuning in het BIOS en toetsenborden. Indien u geen toetsenbord
van het type PS/2 heeft, maar enkel een USB-model, kan het zijn dat u op
sommige zeer oude PC's in de instellingen van het BIOS de 'legacy keyboard
emulation' (oud toetsenbord emuleren) moet aanzetten om uw toetsenbord in het
menu van de bootloader te kunnen gebruiken. Op moderne systemen stelt dit
probleem zich niet. Indien uw toetsenbord niet werkt in het menu van de
bootloader, moet u de handleiding bij uw moederbord raadplegen en zoeken naar
de BIOS-optie "Legacy keyboard emulation" of "USB keyboard support".

Hoofdstuk 4. Media met het installatiesysteem verkrijgen

Inhoudsopgave

4.1. Officiële Debian GNU/Linux installatie-images
4.2. Bestanden downloaden van Debian spiegelservers

    4.2.1. Waar u installatiebestanden kunt vinden

4.3. Bestanden klaar maken om van een USB-geheugenstick op te starten

    4.3.1. Een USB-stick klaar maken met een hybride CD/DVD-image
    4.3.2. Handmatig bestanden naar de USB-stick kopiëren
    4.3.3. Handmatig bestanden naar de USB-stick kopiëren -- de flexibele
        manier

4.4. Bestanden voorbereiden om vanaf een harde schijf op te starten

    4.4.1. Het opstarten van het installatiesysteem vanaf een harde schijf
        vanuit Linux met GRUB
    4.4.2. Het opstarten van het installatiesysteem vanaf een harde schijf
        vanuit DOS met loadlin

4.5. Bestanden klaarmaken om over het netwerk op te starten met TFTP

    4.5.1. Een DHCP-server opzetten
    4.5.2. Een BOOTP-server opzetten
    4.5.3. De TFTP-server werkzaam maken
    4.5.4. De TFTP-images op hun plaats zetten

4.6. Automatische installatie

    4.6.1. Automatisch installeren met het installatiesysteem van Debian

4.7. De integriteit van installatiebestanden verifiëren

4.1. Officiële Debian GNU/Linux installatie-images

Veruit de gemakkelijkste manier om Debian GNU/Linux te installeren is vanaf een
set officiële Debian installatie-images. U kunt een set CD's/DVD's kopen bij
een leverancier (zie de pagina Leveranciers van Debian installatiemedia). Als u
over een snelle netwerkverbinding en een CD/DVD-brander beschikt, kunt u ook de
installatie-images downloaden van een Debian spiegelserver en uw eigen set
aanmaken (zie de pagina Debian op CD's/DVD's en de Debian CD FAQ voor
gedetailleerde instructies). Indien u dergelijke optische installatiemedia
bezit en uw computer ermee kan opstarten, wat voor alle moderne PC's het geval
is, dan kunt u meteen doorgaan naar Hoofdstuk 5, Het installatiesysteem starten
. Er werd veel aandacht besteed aan het plaatsen van de meest gebruikte
bestanden op het eerste CD- en DVD-image, waardoor een basale installatie van
een desktopomgeving uitgevoerd kan worden met alleen het eerste DVD- of - mits
zekere beperkingen - zelfs met enkel het eerste CD-image.

Aangezien de capaciteit van een CD volgens de huidige standaarden eerder
beperkt is, is het niet bij alle grafische desktopomgevingen mogelijk om ze
enkel met de eerste CD te installeren. Voor de installatie van sommige
desktopomgevingen is ofwel een verbinding met het netwerk vereist om tijdens de
installatie de resterende bestanden op te halen, ofwel bijkomende CD's.

Onthoud ook dat indien sommige pakketten die u nodig heeft, niet op de door u
gebruikte installatiemedia staan, u deze pakketten altijd achteraf kunt
installeren vanop uw operationeel nieuw Debian-systeem (na het beëindigen van
de installatie). Indien u wilt weten op welk installatie-image een specifiek
pakket te vinden is, ga dan naar https://cdimage-search.debian.org/.

Indien uw machine het opstarten vanaf optische media niet ondersteunt (enkel
toepasselijk op zeer oude PC-systemen), maar u wel een CD/DVD-set heeft, kunt u
een andere werkwijze gebruiken, zoals harde schijf, usb-stick, opstarten over
het netwerk of de kernel handmatig laden van de schijf om het opstarten van het
installatiesysteem te initiëren. De bestanden die u nodig heeft om via een
andere methode op te starten bevinden zich ook op de schijf. Het archief op het
Debian netwerk en de mappenindeling op de schijf zijn identiek. Indien dus
hierna paden vermeld worden naar specifieke bestanden uit het archief die u
nodig heeft om op te starten, kunt u deze bestanden op uw installatiemedia in
dezelfde mappen en onderliggende mappen vinden.

Eens het installatiesysteem opgestart werd, zal het in staat zijn alle overige
bestanden die het nodig heeft, op te halen van de schijf.

Indien u geen set insallatiemedia heeft, zult u de bestanden van het
installatiesysteem moeten downloaden en ze moeten plaatsen op een harde schijf
of usb-stick of een verbonden computer, zodat die gebruikt kunnen worden om het
installatiesysteem op te starten.

4.2. Bestanden downloaden van Debian spiegelservers

Om de dichtstbijzijnde (en dus wellicht snelste) spiegelserver te vinden, kunt
u de lijst met Debian spiegelservers raadplegen.

4.2.1. Waar u installatiebestanden kunt vinden

Op elke Debian spiegelserver zijn verschillende installatiebestanden te vinden
in de map debian/dists/bullseye/main/installer-amd64/current/images/ -- het
bestand MANIFEST vermeldt elk imagebestand en waarvoor het bedoeld is.

4.3. Bestanden klaar maken om van een USB-geheugenstick op te starten

To prepare the USB stick, we recommend to use a system where GNU/Linux is
already running and where USB is supported. With current GNU/Linux systems the
USB stick should be automatically recognized when you insert it. If it is not
you should check that the usb-storage kernel module is loaded. When the USB
stick is inserted, it will be mapped to a device named /dev/sdX, where the "X"
is a letter in the range a-z. You should be able to see to which device the USB
stick was mapped by running the command lsblk before and after inserting it.
(The output of dmesg (as root) is another possible method for that.) To write
to your stick, you may have to turn off its write protection switch.

Waarschuwing

The procedures described in this section will destroy anything already on the
device! Make very sure that you use the correct device name for your USB stick.
If you use the wrong device the result could be that all information on, for
example, a hard disk is lost.

4.3.1. Een USB-stick klaar maken met een hybride CD/DVD-image

Debian installation images for this architecture are created using the 
isohybrid technology; that means they can be written directly to a USB stick,
which is a very easy way to make an installation media. Simply choose an image
(such as the netinst, CD or DVD-1) that will fit on your USB stick. See
Paragraaf 4.1, "Officiële Debian GNU/Linux installatie-images" to get an
installation image.

Als een alternatieve mogelijkheid voor zeer kleine USB-sticks van slechts
enkele megabytes groot, kunt u het mini.iso-image uit de netboot-map downloaden
(op de in Paragraaf 4.2.1, "Waar u installatiebestanden kunt vinden" vermelde
plaats).

Het installatie-image dat u kiest, moet rechtstreeks naar de USB-stick
geschreven worden. Daarbij wordt de huidige inhoud ervan overschreven.
Bijvoorbeeld, als u een bestaand GNU/Linux-systeem gebruikt, kan het
imagebestand op de volgende manier naar een USB-stick geschreven worden, nadat
u er zich eerst van vergewist heeft dat de stick niet aangekoppeld is:

# cp debian.iso /dev/sdX
# sync

Informatie over hoe dit op andere besturingssystemen moet gebeuren, is te
vinden in de Debian CD FAQ.

Belangrijk

Het image moet geschreven worden op het volledige schijfapparaat en niet op en
partitie, bijvoorbeeld /dev/sdb en niet /dev/sdb1. Gebruik geen gereedschap
zoals unetbootin dat aan het image veranderingen aanbrengt.

Belangrijk

Voor de meeste gebruikers zou het op deze manier eenvoudig wegschrijven van een
installatie-image naar USB goed moeten werken. De hierna volgende andere
mogelijkheden zijn complexer en hoofdzakelijk bedoeld voor mensen met
specifieke behoeftes.

Het hybride image op de stick neemt niet alle opslagruimte in beslag. Het kan
dus de moeite waard zijn om in overweging te nemen om de vrije ruimte te
gebruiken om er firmwarebestanden of -pakketten op te plaatsen of desgewenst
andere bestanden. Dit kan nuttig zijn indien u slechts één stick heeft of alles
wat u nodig heeft op één apparaat wilt houden.

To do so, use cfdisk or any other partitioning tool to create an additional
partition on the stick. Then create a (FAT) filesystem on the partition, mount
it and copy or unpack the firmware onto it, for example with:

# mkdosfs -n FIRMWARE /dev/sdX3
# mount /dev/sdX3 /mnt
# cd /mnt
# tar zxvf /path/to/firmware.tar.gz
# cd /
# umount /mnt

Take care that you use the correct device name for your USB stick. The mkdosfs
command is contained in the dosfstools Debian package.

Opmerking

If you have chosen the mini.iso to be written to the USB stick, the second
partition doesn't have to be created, as - very nicely - it will already be
present. Unplugging and replugging the USB stick should make the two partitions
visible.

4.3.2. Handmatig bestanden naar de USB-stick kopiëren

Prior to isohybrid technology being used for Debian installation images, the
methods documented in the chapters below were used to prepare media for booting
from USB devices. These have been superseded by the technique in
Paragraaf 4.3.1, "Een USB-stick klaar maken met een hybride CD/DVD-image", but
have been left here for educational and historical purposes and in case they
are useful to some user.

An alternative to the method described in Paragraaf 4.3.1, "Een USB-stick klaar
maken met een hybride CD/DVD-image" is to manually copy the installer files,
and also an installation image to the stick. Note that the USB stick should be
at least 1 GB in size (smaller setups are possible using the files from
netboot, following Paragraaf 4.3.3, "Handmatig bestanden naar de USB-stick
kopiëren -- de flexibele manier").

There is an all-in-one file hd-media/boot.img.gz which contains all the
installer files (including the kernel) as well as syslinux and its
configuration file.

Opmerking

Merk op dat hoewel deze methode handig is, ze een belangrijk nadeel heeft: de
logische grootte van het apparaat wordt beperkt tot 1 GB, zelfs als de
USB-stick een grotere capaciteit heeft. U zult de USB-stick opnieuw moeten
indelen in partities en er opnieuw een bestandssysteem op moeten creëren om
zijn volledige capaciteit terug te winnen, als u hem ooit voor andere
doeleinden wilt gebruiken.

Simply extract this image directly to your USB stick:

# zcat boot.img.gz > /dev/sdX

After that, mount the USB memory stick (mount /dev/sdX /mnt), which will now
have a FAT filesystem on it, and copy a Debian ISO image (netinst or full CD;
see Paragraaf 4.1, "Officiële Debian GNU/Linux installatie-images") to it.
Unmount the stick (umount /mnt) and you are done.

4.3.3. Handmatig bestanden naar de USB-stick kopiëren -- de flexibele manier

Indien u van meer flexibiliteit houdt of gewoon wilt weten hoe de zaak in
mekaar zit, moet u de volgende methode gebruiken om de bestanden op de stick te
plaatsen. Een voordeel van deze methode is dat -- als uw USB-stick een
voldoende grote capaciteit heeft -- u de mogelijkheid heeft om er gelijk welk
ISO-image naar te kopiëren, zelfs een DVD-image.

4.3.3.1. Partitioning and adding a boot loader

We zullen u tonen hoe u de geheugenstick moet instellen om slechts de eerste
partitie in plaats van het volledige apparaat te gebruiken.

Om na het opstarten vanaf de USB-stick de kernel te starten, zullen we een
bootloader plaatsen op de stick. Hoewel elke bootloader zou moeten werken, is
het handig om syslinux te gebruiken, omdat die een FAT16-partitie gebruikt en
eenvoudig geconfigureerd kan worden door gewoon een tekstbestand te bewerken.
Elk besturingssysteem dat het FAT-bestandssysteem ondersteunt, kan gebruikt
worden om de configuratie van de bootloader aan te passen.

First, you need to install the syslinux and mtools packages on your system.

Opmerking

Since most USB sticks come pre-configured with a single FAT16 partition, you
probably won't have to repartition or reformat the stick. If you have to do
that anyway, use cfdisk or any other partitioning tool to create a FAT16
partition now^[3], and then install an MBR using:

# cat /usr/lib/syslinux/mbr/mbr.bin
>/dev/sdX

Now create the filesystem using:

# mkdosfs /dev/sdX1

Take care that you use the correct device name for your USB stick. The mkdosfs
command is contained in the dosfstools Debian package.

Having a correctly partitioned USB stick (now), you need to put syslinux on the
FAT16 partition with:

# syslinux /dev/sdX1

Again, take care that you use the correct device name. The partition must not
be mounted when starting syslinux. This procedure writes a boot sector to the
partition and creates the file ldlinux.sys which contains the boot loader code.

4.3.3.2. Adding the installer files

There are two different installation variants to choose here: The hd-media
variant needs an installation ISO file on the stick, to load installer modules
and the base system from. The netboot installer however will load all that from
a Debian mirror.

According to your choice, you have to download some installer files from the
hd-media or netboot subdirectory of debian/dists/bullseye/main/installer-amd64/
current/images/ on any Debian mirror:

  • vmlinuz or linux (kernel binary)

  • initrd.gz (initial ramdisk image)

You can choose between either the text-based version of the installer (the
files can be found directly in hd-media or netboot) or the graphical version
(look in the respective gtk subdirectories).

Then mount the partition (mount /dev/sdX1 /mnt) and copy the downloaded files
to the root directory of the stick.

Next you should create a text file named syslinux.cfg in the root directory of
the stick as configuration file for syslinux, which at a bare minimum should
contain the following line:

default vmlinuz initrd=initrd.gz

Change the name of the kernel binary to "linux" if you used files from netboot.

For the graphical installer (from gtk) you should add vga=788 at the end of the
line. Other parameters can be appended as desired.

Om van de opstartprompt gebruik te kunnen maken om nog andere parameters toe te
voegen, voegt u een regel prompt 1 toe.

If you used files from hd-media, you should now copy the ISO file of a Debian
installation image onto the stick. (For the netboot variant this is not
needed.)

You can use either a netinst or a full CD/DVD image (see Paragraaf 4.1,
"Officiële Debian GNU/Linux installatie-images"). Be sure to select one that
fits on your stick. Note that the "netboot mini.iso" image is not usable for
this purpose.

When you are done, unmount the USB memory stick (umount /mnt).

4.4. Bestanden voorbereiden om vanaf een harde schijf op te starten

Het installatiesysteem kan opgestart worden met opstartbestanden die op een
bestaande partitie van een harde schijf geplaatst worden. Die worden dan
gelanceerd ofwel vanuit een ander besturingssysteem, ofwel door rechtstreeks
vanuit het BIOS een bootloader aan te roepen. Op moderne UEFI-systemen kan de
kernel rechtstreeks vanaf de UEFI-partitie worden opgestart zonder dat een
bootloader nodig is.

Met deze techniek kunt u een complete en "zuivere netwerk"-installatie
realiseren. Dit vermijdt alle rompslomp van verwijderbare media, zoals het
zoeken en branden van CD/DVD-images.

4.4.1. Het opstarten van het installatiesysteem vanaf een harde schijf vanuit
Linux met GRUB

In dit deel wordt uitgelegd hoe u met behulp van GRUB een nieuw systeem kunt
toevoegen aan een bestaand Linux-systeem of hoe u zelfs dat bestaand systeem
kunt vervangen.

GRUB ondersteunt bij het opstarten niet enkel het in het geheugen laden van de
kernel, maar ook van een schijf-image. Deze RAM-schijf kan door de kernel
gebruikt worden als root-bestandssysteem.

Kopieer de volgende bestanden vanuit de Debian-archieven naar een geschikte
plaats op uw harde schijf, bijvoorbeeld naar /boot/newinstall/.

  • vmlinuz (het binaire kernel-bestand)

  • initrd.gz (ramschijf-image)

Indien u van plan bent om de harde schijf enkel te gebruiken voor het opstarten
van het systeem en daarna alles over het netwerk zult ophalen, moet u het
bestand netboot/debian-installer/amd64/initrd.gz en de overeenkomstige kernel
netboot/debian-installer/amd64/linux downloaden. Dit zal u toelaten om de harde
schijf die u gebruikte om het installatiesysteem op te starten, opnieuw in te
delen in partities, hoewel u dit zorgvuldig moet doen.

Indien u echter van plan bent om tijdens de installatie een bestaande partitie
op de harde schijf ongewijzigd te behouden, kunt u het bestand hd-media/
initrd.gz en zijn kernel hd-media/vmlinuz downloaden, en een installatie-image
kopiëren naar de harde schijf (zorg ervoor dat u het bestand een naam geeft die
eindigt op .iso). Het installatiesysteem kan dan opstarten van de harde schijf
en de installatie uitvoeren op basis van het installatie-image, zonder dat
toegang tot het netwerk vereist is.

Om tot slot de bootloader te configureren, gaat u te werk zoals beschreven in
Paragraaf 5.1.5, "Opstarten vanuit Linux met behulp van GRUB".

4.4.2. Het opstarten van het installatiesysteem vanaf een harde schijf vanuit
DOS met loadlin

In dit deel wordt uitgelegd hoe u de harde schijf voorbereidt om het
installatiesysteem op te starten vanuit DOS met loadlin.

Kopieer de volgende mappen van een Debian installatie-image naar c:\.

  • /install.amd (het binaire kernel-bestand en het ramschijf-image)

  • /tools (het gereedschap loadlin)

4.5. Bestanden klaarmaken om over het netwerk op te starten met TFTP

Indien uw machine verbonden is met een lokaal netwerk, kunt u ze misschien over
het netwerk vanaf een andere machine laten opstarten met TFTP. Indien u van
plan bent het installatiesysteem op te starten vanaf een andere machine, moeten
de opstartbestanden op een specifieke plaats op die machine geplaatst worden en
moet die machine geconfigureerd worden om het opstarten van specifiek uw
machine te ondersteunen.

U moet een TFTP-server opzetten en voor veel machines een DHCP-server of een
BOOTP-server.

BOOTP is een IP-protocol dat een computer zijn IP-adres geeft en hem zegt waar
op het netwerk hij een opstart-image kan krijgen. Het DHCP (Dynamic Host
Configuration Protocol) is een meer flexibele en neerwaarts compatibele
uitbreiding van BOOTP. Sommige systemen kunnen enkel via DHCP geconfigureerd
worden.

Het Trivial File Transfer Protocol (TFTP) wordt gebruikt om het opstart-image
aan te leveren aan de cliënt. In theorie kan elke server op gelijk welk
platform die in staat is om deze protocollen te gebruiken, gebruikt worden. In
de voorbeelden in dit gedeelte zullen we de commando's demonstreren voor SunOS
4.x, SunOS 5.x (ook Solaris genoemd) en GNU/Linux.

Opmerking

Voor een Debian GNU/Linux-server bevelen we tftpd-hpa aan. Het werd geschreven
door de auteur die ook de bootloader syslinux schreef en het is daarom het
minst waarschijnlijk dat er zich problemen zullen voordoen. Een goed
alternatief is atftpd.

4.5.1. Een DHCP-server opzetten

Een DHCP-server uit vrije software is ISC dhcpd. Voor Debian GNU/Linux wordt
het pakket isc-dhcp-server aanbevolen. Hierna volgt een voorbeeld van een
configuratiebestand ervoor (zie /etc/dhcp/dhcpd.conf):

option domain-name "example.com";
option domain-name-servers ns1.example.com;
option subnet-mask 255.255.255.0;
default-lease-time 600;
max-lease-time 7200;
server-name "servernaam";

subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option routers 192.168.1.1;
}

host cliëntnaam {
  filename "/tftpboot.img";
  server-name "servernaam";
  next-server servernaam;
  hardware ethernet 01:23:45:67:89:AB;
  fixed-address 192.168.1.90;
}

In dit voorbeeld is er één server servernaam die als DHCP-server, TFTP-server
en netwerk-gateway fungeert. U zult bijna zeker de 'domain-name' opties moeten
aanpassen, evenals de servernaam en het hardware-adres van de cliënt. De optie
filename moet de naam vermelden van het bestand dat via TFTP opgehaald zal
worden.

Nadat u het configuratiebestand voor dhcpd aangepast heeft, moet u de
achtergronddienst herstarten met /etc/init.d/isc-dhcp-server restart.

4.5.1.1. In de configuratie van DHCP het opstarten via PXE aanzetten

Hier volgt nog een voorbeeld van het bestand dhcp.conf waarin de methode
Pre-boot Execution Environment (PXE) van TFTP gebruikt wordt.

option domain-name "example.com";

default-lease-time 600;
max-lease-time 7200;

allow booting;
allow bootp;

# De volgende paragraaf moet aangepast worden aan uw geval
subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option broadcast-address 192.168.1.255;
# het gateway-adres kan anders zijn
# (bijvoorbeeld toegang tot het internet)
  option routers 192.168.1.1;
# vermeld de dns-server die u wilt gebruiken
  option domain-name-servers 192.168.1.3;
}

group {
  next-server 192.168.1.3;
  host tftpclient {
# hardware-adres van de tftp-cliënt
  hardware ethernet  00:10:DC:27:6C:15;
  filename "pxelinux.0";
 }
}

Merk op dat bij het opstarten via PXE het bestand pxelinux.0 een bootloader is
voor de cliënt en geen kernel-image (zie Paragraaf 4.5.4, "De TFTP-images op
hun plaats zetten" hieronder).

Indien uw computer gebruik maakt van UEFI bij het opstarten, zult u een voor
UEFI-machines geschikte bootloader moeten opgeven, bijvoorbeeld

group {
  next-server 192.168.1.3;
  host tftpclient {
# hardware-adres van de tftp-cliënt
  hardware ethernet  00:10:DC:27:6C:15;
  filename "debian-installer/amd64/bootnetx64.efi";
 }
}

4.5.2. Een BOOTP-server opzetten

Voor GNU/Linux zijn twee BOOTP-servers beschikbaar. De eerste is CMU bootpd. De
andere is in feite een DHCP-server: ISC dhcpd. In Debian GNU/Linux zijn ze
respectievelijk te vinden in het pakket bootp en het pakket isc-dhcp-server.

Om de CMU bootpd te gebruiken, moet u eerst in het bestand /etc/inetd.conf de
juiste regel toevoegen of het commentaarteken dat aan het begin ervan staat,
wegnemen. Op Debian GNU/Linux kunt u daarvoor het commando update-inetd
--enable bootps geven en dan het commando /etc/init.d/inetd reload. In het
geval uw BOOTP-server niet op een Debian-systeem staat, moet de regel in
kwestie er zo uitzien:

bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120

Nu moet u een bestand /etc/bootptab aanmaken. Dit heeft hetzelfde soort bekende
en cryptische indeling als de goede oude BSD-bestanden printcap, termcap en
disktab. Raadpleeg de man-pagina van bootptab voor meer informatie. Voor CMU 
bootpd moet u het hardware-adres (MAC) van de cliënt kennen. Hierna is een
voorbeeld van een /etc/bootptab-bestand:

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

U zult minstens de optie"ha" moeten aanpassen. Die preciseert het
hardware-adres van de cliënt. De optie "bf" preciseert het bestand dat de
cliënt moet ophalen via TFTP. Zie Paragraaf 4.5.4, "De TFTP-images op hun
plaats zetten" voor verdere details.

Daartegenover is het instellen van BOOTP met ISC dhcpd echt gemakkelijk, omdat
het BOOTP-cliënten behandelt als een enigszins bijzondere soort van
DHCP-cliënten. Voor sommige architecturen is een complexe configuratie nodig om
cliënten via BOOTP op te starten. Indien uw architectuur daar één van is, moet
u het onderdeel Paragraaf 4.5.1, "Een DHCP-server opzetten" lezen. Anders zal
het wellicht volstaan om in het bestand /etc/dhcp/dhcpd.conf gewoon de opdracht
allow bootp toe te voegen aan het configuratieblok dat betrekking heeft op het
subnet waartoe uw cliënt behoort, en dhcpd opnieuw te starten met het commando
/etc/init.d/isc-dhcp-server restart.

4.5.3. De TFTP-server werkzaam maken

Opdat de TFTP-server klaar voor de dienst zou zijn, moet u eerst controleren of
tftpd geactiveerd is.

In het geval van tftpd-hpa kan de dienst op twee manieren functioneren. Hij kan
op vraag van de achtergronddienst inetd van het systeem geactiveerd worden, of
hij kan ingesteld worden om als een onafhankelijke achtergronddienst te werken.
Welke van beide methodes gebruikt wordt, wordt ingesteld bij het installeren
van het pakket en kan gewijzigd worden door het pakket opnieuw te configureren.

Opmerking

Lange tijd gebruikten TFTP-servers /tftpboot als map van waaruit images
aangeboden werden. Nochtans kunnen pakketten van Debian GNU/Linux andere mappen
gebruiken om te beantwoorden aan de standaard van de Filesystem Hierarchy
Standard. tftpd-hpa bijvoorbeeld gebruikt standaard /srv/tftp. Misschien zult u
de configuratievoorbeelden uit dit onderdeel dienovereenkomstig moeten
aanpassen.

Alle in Debian aanwezige in.tftpd alternatieven zouden TFTP-verzoeken standaard
moeten registreren in de systeemlogbestanden. Sommige onder hen hebben een
argument -v waarmee de hoeveelheid gegeven informatie kan verhoogd worden. Het
wordt aangeraden om deze logberichten na te kijken in geval van
opstartproblemen omdat ze een goed beginpunt zijn voor het diagnosticeren van
de oorzaak van problemen.

4.5.4. De TFTP-images op hun plaats zetten

Plaats vervolgens het TFTP boot-image dat u nodig heeft en dat te vinden is in
Paragraaf 4.2.1, "Waar u installatiebestanden kunt vinden", in de map van tftpd
voor opstart-images. Eventueel moet u een koppeling maken van dat bestand naar
het bestand dat tftpd zal gebruiken om een specifieke cliënt op te starten.
Spijtig genoeg wordt de bestandsnaam bepaald door de TFTP-cliënt en zijn er
geen duidelijke standaarden.

Alles wat u nodig heeft voor het opstarten via PXE is ingesteld in het
tararchief netboot/netboot.tar.gz. U moet dit archief gewoon uitpakken in de 
tftpd-map voor opstart-images. Zorg ervoor dat uw dhcp-server ingesteld staat
om pxelinux.0 door te geven aan tftpd als de naam van het opstartbestand. Voor
UEFI-machines zult u de naam van een passend EFI-opstartimage moeten opgeven
(zoals /debian-installer/amd64/bootnetx64.efi).

4.6. Automatische installatie

Om op verschillende computers een installatie uit te voeren is het mogelijk om
de installatie volledig automatisch te laten verlopen. Debian pakketten die
hiervoor bedoeld zijn, zijn onder meer fai-quickstart (dat gebruik kan maken
van een installatieserver) en het installatiesysteem zelf van Debian. Kijk op
de FAI-website voor gedetailleerde informatie.

4.6.1. Automatisch installeren met het installatiesysteem van Debian

Het installatiesysteem van Debian ondersteunt het automatiseren van
installaties via preconfiguratiebestanden. Een preconfiguratiebestand kan
ingeladen worden over het netwerk of uit verwijderbare media en kan gebruikt
worden om antwoorden te geven op de vragen die tijdens het installatieproces
gesteld worden.

Volledige documentatie over vooraf ingestelde antwoorden (preseeding genoemd)
met inbegrip van een werkzaam voorbeeld dat u kunt bewerken, is te vinden in
Bijlage B, De installatie automatiseren door antwoorden vooraf in te stellen.

4.7. De integriteit van installatiebestanden verifiëren

U kunt de integriteit van de gedownloade bestanden verifiëren aan de hand van
de controlegetallen in de bestanden SHA256SUMS en SHA512SUMS op de
Debian-spiegelservers. U kunt ze op dezelfde plaatsen vinden als de
installatie-images zelf. Bezoek de volgende locaties:

  • controlegetalbestanden voor cd-images,

  • controlegetalbestanden voor dvd-images,

  • controlegetalbestanden voor BD-images,

  • controlegetalbestanden voor andere installatiebestanden.

Om het controlegetal van een gedownload installatiebestand te controleren,
gebruikt u het commando

sha256sum bestandsnaam.iso

, respectievelijk

sha512sum bestandsnaam.iso

, waarna u het weergegeven controlegetal vergelijkt met het getal dat u
terugvindt in het bestand SHA256SUMS, respectievelijk SHA512SUMS.

De Debian CD FAQ bevat meer uitgebreide nuttige informatie over dit onderwerp
(zoals het script check_debian_iso om bovenstaande procedure halfautomatisch
uit te voeren), alsook instructies voor het verifiëren van de integriteit van
de hierboven vermelde controlegetalbestanden zelf.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[3] Don't forget to activate the "bootable" flag.

Hoofdstuk 5. Het installatiesysteem starten

Inhoudsopgave

5.1. Het installatiesysteem starten op 64-bit PC

    5.1.1. Opstarten van een USB-geheugenstick
    5.1.2. Opstarten van een optische schijf (CD/DVD)
    5.1.3. Opstarten vanuit Windows
    5.1.4. Opstarten vanuit DOS met behulp van loadlin
    5.1.5. Opstarten vanuit Linux met behulp van GRUB
    5.1.6. Opstarten met TFTP
    5.1.7. Het opstartscherm
    5.1.8. Het grafische installatiesysteem

5.2. Toegankelijkheid

    5.2.1. Frontend voor het installatiesysteem
    5.2.2. USB brailleschermen
    5.2.3. Seriële brailleschermen
    5.2.4. Softwarematige spraaksynthese
    5.2.5. Hardwarespraaksynthese
    5.2.6. Apparatuur op een kaart
    5.2.7. Een stijl met verhoogd contrast
    5.2.8. Zoomfunctie
    5.2.9. Expertmodus, reparatiemodus, geautomatiseerde installatie
    5.2.10. Toegankelijkheid van het geïnstalleerde systeem

5.3. Opstartparameters

    5.3.1. Opstartconsole
    5.3.2. Parameters voor het installatiesysteem van Debian
    5.3.3. Het gebruik van opstartparameters om op vragen te antwoorden
    5.3.4. Parameters doorgeven aan kernelmodules
    5.3.5. Kernel modules op een zwarte lijst plaatsen

5.4. Probleemanalyse bij het installatieproces

    5.4.1. Betrouwbaarheid van optische media
    5.4.2. De configuratie van het opstartproces
    5.4.3. Softwarematige spraaksynthese
    5.4.4. Gebruikelijke installatieproblemen bij 64-bit PC
    5.4.5. De meldingen bij het opstarten van de kernel interpreteren
    5.4.6. Installatieproblemen rapporteren
    5.4.7. Installatierapporten insturen

5.1. Het installatiesysteem starten op 64-bit PC

Waarschuwing

Indien u nog andere besturingssystemen op uw systeem heeft die u wenst te
behouden (een dual-boot opstelling), dan moet u ervoor zorgen dat ze behoorlijk
afgesloten werden vooraleer u het installatiesysteem start. Een
besturingssysteem installeren terwijl een ander besturingssysteem in slaapstand
is (de inhoud van het werkgeheugen op schijf geplaatst werd), kan
gegevensverlies tot gevolg hebben of een beschadiging van de toestand van het
slapende besturingssysteem, hetgeen problemen zou kunnen geven als het terug
opgestart wordt.

Opmerking

Voor informatie over hoe u het grafische installatiesysteem moet starten,
raadpleegt u Paragraaf 5.1.8, "Het grafische installatiesysteem".

5.1.1. Opstarten van een USB-geheugenstick

Indien uw computer vanaf USB kan opstarten, is dit wellicht de gemakkelijkste
weg om een installatie uit te voeren. Als we ervan uitgaan dat u alle
voorbereidingen getroffen heeft uit Paragraaf 3.6.2, "Het opstartapparaat
kiezen" en Paragraaf 4.3, "Bestanden klaar maken om van een USB-geheugenstick
op te starten", moet u gewoon de USB-stick in een vrije USB-connector plaatsen
en de computer herstarten. Het systeem zou moeten opstarten en u zou het
grafische opstartmenu te zien moeten krijgen (op hardware dat dit ondersteunt),
tenzij u gekozen heeft voor de flexibele manier om de stick samen te stellen en
u daarbij niet voor het grafische installatiesysteem koos. In het menu kunt u
verschillende installatieopties selecteren of gewoon op Enter drukken.

5.1.2. Opstarten van een optische schijf (CD/DVD)

Indien u over een set optische schijven beschikt en uw machine het rechtstreeks
daarvan opstarten ondersteunt, zit u goed! U moet gewoon uw systeem
configureren om vanaf een optische schijjf op te starten zoals beschreven in
Paragraaf 3.6.2, "Het opstartapparaat kiezen", de schijf in het station
plaatsen, herstarten en doorgaan naar het volgende hoofdstuk.

Merk op dat sommige stations voor optische schijven bijzondere stuurprogramma's
nodig hebben en daardoor niet toegankelijk zijn tijdens de eerste fases van de
installatie. Als voor uw hardware de standaardmethode om vanaf een optische
schijf op te starten niet blijkt te werken, moet u in dit hoofdstuk nog eens
het onderdeel herlezen over alternatieve kernels en installatiemethodes. Daarin
vindt u misschien iets dat voor u kan werken.

Zelfs indien u niet kunt opstarten vanaf en optische schijf, kunt u wellicht de
componenten van het Debian systeem en de gewenste pakketten installeren vanaf
een dergelijke schijf. Start gewoon op met behulp van een ander medium en
verwijs het installatiesysteem door naar het station voor optische schijven
wanneer het moment aangebroken is om het besturingssysteem, het basissysteem en
eventuele andere pakketten te installeren.

Indien u problemen ondervindt bij het opstarten, raadpleeg dan Paragraaf 5.4,
"Probleemanalyse bij het installatieproces".

5.1.3. Opstarten vanuit Windows

Om het installatiesysteem vanuit Windows op te starten, kunt u ofwel

  • installatiemedia verkrijgen zoals beschreven wordt in Paragraaf 4.1,
    "Officiële Debian GNU/Linux installatie-images" of in Paragraaf 4.3,
    "Bestanden klaar maken om van een USB-geheugenstick op te starten", ofwel

  • een afzonderlijk werkend Windows-programma downloaden dat u op de Debian
    spiegelservers vindt als tools/win32-loader/stable/win32-loader.exe.

Indien u optische installatiemedia gebruikt, zou een installatievoorbereidend
programma automatisch moeten opgestart worden wanneer u de schijf in het
station plaatst. In het geval Windows het niet automatisch opstart, of indien u
een USB-geheugenstick gebruikt, kunt u het handmatig starten door naar het
apparaat te gaan en setup.exe uit te voeren.

Na het starten van het programma zullen u een aantal voorafgaande vragen
gesteld worden en zal het systeem klaargemaakt worden om opnieuw op te starten
en het Debian GNU/Linux installatiesysteem te laden.

5.1.4. Opstarten vanuit DOS met behulp van loadlin

Start op in DOS (niet in Windows). Om dit te bereiken, kunt u bijvoorbeeld
opstarten vanaf een reparatieschijf of een diagnoseschijf.

Indien u toegang heeft tot de installatie-CD, moet u van de huidige schijf naar
de CD gaan, bijvoorbeeld

d:

In het andere geval moet u er eerst voor zorgen om uw harde schijf voor te
bereiden, zoals uitgelegd wordt in Paragraaf 4.4.2, "Het opstarten van het
installatiesysteem vanaf een harde schijf vanuit DOS met loadlin", en indien
nodig er vanuit de huidige schijf naartoe gaan.

Ga naar de onderliggende map van de door u uitgekozen variant, bijvoorbeeld

cd \install.amd

Indien u verkiest het grafische installatiesysteem te gebruiken, moet u naar de
onderliggende map gtk gaan.

cd gtk

Daarna moet u het commando install.bat uitvoeren. De kernel zal geladen worden
en het installatiesysteem starten.

5.1.5. Opstarten vanuit Linux met behulp van GRUB

Om het installatiesysteem vanaf een harde schijf op te starten, moet u eerst de
benodigde bestanden downloaden en op hun plaats zetten, zoals beschreven wordt
in Paragraaf 4.4, "Bestanden voorbereiden om vanaf een harde schijf op te
starten".

Voor GRUB2 moet u twee essentiële zaken configureren in /boot/grub/grub.cfg:

  • om bij het opstarten het initrd.gz-installatiesysteem te laden;

  • om de vmlinuz-kernel een RAM-schijf te laten gebruiken als zijn
    basispartitie.

Een voorbeelditem voor het installatiesysteem is:

menuentry 'Nieuwe Installatie' {
insmod part_msdos
insmod ext2
set root='(hd0,msdos1)'
linux /boot/newinstall/vmlinuz
initrd /boot/newinstall/initrd.gz
}

5.1.6. Opstarten met TFTP

Om over het netwerk te kunnen opstarten moet u een netwerkverbinding hebben en
een TFTP netwerk-opstartserver (en wellicht ook een DHCP-, RARP-, of
BOOTP-server voor het automatisch configureren van de netwerkinstellingen).

De instellingen aan de kant van de server voor het ondersteunen van opstarten
over het netwerk, worden beschreven in Paragraaf 4.5, "Bestanden klaarmaken om
over het netwerk op te starten met TFTP".

Er bestaan verschillende methodes om op i386 op te starten met TFTP.

5.1.6.1. PXE wordt ondersteund door netwerkkaart of moederbord

Het is mogelijk dat uw netwerkkaart of uw moederbord beschikken over de functie
opstarten via PXE. Dit is een herimplementatie door Intel (tm) van opstarten
via TFTP. Indien dat het geval is, zou u het BIOS/UEFI moeten kunnen instellen
om over het netwerk op te starten.

5.1.6.2. Netwerkkaart met Network BootROM

Het kan zijn dat uw netwerkkaart een functie 'opstarten met TFTP' heeft.

5.1.6.3. Etherboot

Het etherboot-project stelt opstartdiskettes en zelfs bootROM's ter beschikking
die een opstart via TFTP uitvoeren.

5.1.7. Het opstartscherm

Wanneer het installatiesysteem opstart, zou u een vriendelijk grafisch scherm
te zien moeten krijgen met het logo van Debian en een menu:

Debian GNU/Linux installer boot menu

Graphical install
Install
Advanced options                            >
Accessible dark contrast installer menu     >
Help
Install with speech synthesis

Opmerking

Dit grafisch scherm zal er lichtjes anders uitzien naargelang de manier waarop
uw computer opstartte (BIOS of UEFI), maar dezelfde opties worden geboden.

Afhankelijk van de gebruikte installatiemethode is het mogelijk dat de optie "
Graphical install" niet beschikbaar is. Bi-architectuur-images bieden
daarenboven bij elke installatieoptie daar net onder een 64-bits variant, wat
dus het aantal opties bijna verdubbelt.

Kies voor een gewone installatie ofwel het item "Graphical install" of "Install
" -- u kunt daarvoor de pijltjestoetsen gebruiken of op uw toetsenbord de
eerste (gemarkeerde) letter typen -- en druk Enter om het installatiesysteem te
starten. De methode "Graphical install" is standaard reeds geselecteerd.

Het item "Advanced options" geeft toegang tot een tweede menu dat u de kans
biedt om het installatiesysteem op te starten in expertmodus, in reparatiemodus
of om automatische installaties uit te voeren.

Indien u opstartparameters wenst of moet meegeven aan het installatiesysteem of
aan de kernel, gebruikt u Tab (BIOS-opstart), of e en dan driemaal down arrow
en dan end (UEFI-opstart). Dit geeft u het opstartcommando voor het gekozen
menu-item en biedt u de mogelijkheid om het volgens uw behoeften te bewerken.
Merk op dat de toetsenbordindeling op dat ogenblik nog steeds QWERTY is. De
hulpschermen (zie hieronder) vermelden enkele gebruikelijke opties. Druk op 
Enter (BIOS-opstart) of F10 (UEFI-opstart) om het installatiesysteem met uw
opties op te starten. Op Esc drukken brengt u terug naar het opstartmenu en
annuleert eventueel gemaakte wijzigingen.

Als u het item "Help" selecteert, krijgt u een eerste hulpscherm te zien dat
een overzicht geeft van alle mogelijke hulpschermen. Om terug te keren naar het
opstartmenu nadat u de hulpschermen geraadpleegd heeft, moet u aan de
opstartprompt "menu" typen en op Enter drukken. Bij elk hulpscherm krijgt u een
opstartprompt waar u het opstartcommando kunt typen:

Press F1 for the help index, or ENTER to boot:

Aan deze opstartprompt kunt u ofwel gewoon op Enter drukken om het
installatiesysteem op te starten met de standaardopties of een specifiek
opstartcommando ingeven en eventuele opstartparameters. In de verschillende
hulpschermen vindt u een aantal opstartparameters die handig kunnen zijn.
Indien u aan de opstartcommandoregel eventuele opstartparameters opgeeft, moet
u eerst de opstartmethode opgeven (standaard is dat install (installatie)) en
een spatie voorafgaand aan de eerste parameter (bijv. install fb=false).

Opmerking

Standaard wordt er op dit punt vanuit gegaan dat het toetsenbord een indeling
Amerikaans Engels heeft. Dit betekent dat wanneer u parameters intypt, er op
het scherm andere tekens kunnen te zien zijn dan u zou verwachten. Dit zal het
geval zijn als u een toetsenbord met een andere (taalspecifieke) indeling
gebruikt. Op Wikipedia is een schema met de indeling van een US-toetsenbord te
vinden dat u als referentie kunt gebruiken om de correcte toetsen te vinden.

Opmerking

Indien u een systeem gebruikt waarvan het BIOS ingesteld werd om een seriële
console te gebruiken, kan het zijn dat u bij het opstarten van het
installatiesysteem het initiële grafische welkomstscherm niet kunt zien en
misschien zelfs niet het opstartmenu. Hetzelfde kan gebeuren als u het systeem
installeert via een apparaat voor besturing vanop afstand dat voorziet in een
tekstinterface met de VGA-console. Voorbeelden van dergelijke apparaten zijn de
tekstconsole van Compaq's "integrated Lights Out" (iLO) en HP's "Integrated
Remote Assistant" (IRA).

Om voorbij het grafische opstartscherm te geraken, kunt u ofwel blind op Esc
drukken om een tekstuele opstartprompt te krijgen, ofwel (eveneens blind) op "H
" drukken, gevolgd door Enter, waardoor u de optie "Help" selecteert, zoals
hiervoor beschreven werd. Nadien zouden uw toetsaanslagen aan de prompt
weergegeven moeten worden. Om te verhinderen dat het installatiesysteem tijdens
het verdere verloop van de installatie de framebuffer blijft gebruiken, zult u
vga=normal fb=false moeten toevoegen aan de opstartprompt, zoals beschreven
wordt in de hulptekst.

5.1.8. Het grafische installatiesysteem

De grafische versie van het installatiesysteem is enkel voor een beperkt aantal
architecturen beschikbaar, waaronder 64-bit PC. De functionaliteit van het
grafische installatiesysteem is essentieel dezelfde als die van het
tekstgeoriënteerde installatiesysteem, aangezien het in principe dezelfde
programma's gebruikt met enkel een andere frontend.

Hoewel de functionaliteit identiek is, biedt het grafische installatiesysteem
toch enkele significante voordelen. Het grootste voordeel is dat het meer talen
ondersteunt, met name die welke een tekenset gebruiken die niet weergegeven kan
worden in de tekstgeoriënteerde frontend "newt". Het biedt ook enkele voordelen
op het vlak van gebruik, zoals de mogelijkheid om een muis te gebruiken. En in
sommige gevallen kunnen verschillende vragen op een scherm weergegeven worden.

Het grafische installatiesysteem bevindt zich op alle CD/DVD-images en maakt
ook deel uit van de installatiemethode hd-media. Om het grafische
installatiesysteem op te starten moet u gewoon de desbetreffende optie uit het
opstartmenu selecteren. De expertmodus en de reparatiemodus van het grafische
installatiesysteem zijn te vinden in het menu met "Advanced options"
(Geavanceerde mogelijkheden). De vroeger gebruikte opstartmethodes installgui,
expertgui en rescuegui kunnen nog steeds gebruikt worden aan de opstartprompt
die u krijgt na het selecteren van de optie "Help" in het opstartmenu.

Er bestaat ook een image van het grafische installatiesysteem dat over het net
opgestart kan worden. En er bestaat een speciaal "mini" ISO-image^[4], dat
hoofdzakelijk voor testdoeleinden nuttig is.

Juist zoals dit het geval is voor het tekstgeoriënteerde installatiesysteem, is
het ook bij het starten van het grafische installatiesysteem mogelijk om
opstartparameters op te geven.

Opmerking

Het grafische installatiesysteem heeft significant meer geheugen nodig om te
kunnen functioneren dan het tekstgeoriënteerde installatiesysteem: 810MB.
Indien onvoldoende geheugen beschikbaar is, zal het automatisch terugvallen op
de tekstgeoriënteerde frontend "newt".

Indien op uw systeem de hoeveelheid geheugen kleiner is dan 780MB, kan het
opstarten van het grafische installatiesysteem volledig mislukken, terwijl het
opstarten van het tekstgeoriënteerde installatiesysteem nog altijd zou werken.
Op systemen met weinig geheugen wordt het gebruik van het tekstgeoriënteerde
installatiesysteem aanbevolen.

5.2. Toegankelijkheid

Sommige gebruikers kunnen specifieke ondersteuning nodig hebben omwille van
bijvoorbeeld een visuele beperking. USB brailleschermen worden automatisch
herkend (niet de seriële schermen die gekoppeld zijn aan een
serieel-USB-convertor), maar de meeste andere toegankelijkheidsvoorzieningen
moeten handmatig geactiveerd worden. Op machines die dit ondersteunen, geeft
het opstartmenu een pieptoon, wanneer het klaar is om invoer van het
toetsenbord te ontvangen. Op BIOS-systemen piept het eenmaal, op UEFI-systemen
tweemaal. Bepaalde opstartparameters kunnen dan opgegeven worden om bepaalde
toegankelijkheidsfuncties te activeren (zie ook Paragraaf 5.1.7, "Het
opstartscherm"). Merk op dat de bootloader op de meeste architecturen uw
toetsenbord als een QWERTY-toetsenbord beschouwt.

5.2.1. Frontend voor het installatiesysteem

Het installatiesysteem van Debian kan verschillende frontends gebruiken voor
het stellen van vragen met een wisselend comfort vanuit het oogpunt van
toegankelijkheid: met name maakt text gebruik van platte tekst en newt van
tekstgeoriënteerde dialoogvensters. Er kan een keuze gemaakt worden aan de
opstartprompt. Raadpleeg de documentatie bij DEBIAN_FRONTEND in
Paragraaf 5.3.2, "Parameters voor het installatiesysteem van Debian".

With the newt front-end (used mostly with braille), one mostly just selects
answers with arrow keys and presses Enter to validate the choice. Pressing Tab
or Shift - Tab allows to switch between dialog elements, and notably to access
the Go Back button, which brings back again to previous questions. Some dialogs
contain check boxes, which can be ticked on and off by pressing Space.

With the text front-end (used mostly with speech), one mostly selects answers
by typing their number followed by pressing Enter. One can also not type
anything and just press Enter to simply accept the default value. Typing < and
pressing Enter brings back again to previous questions. When a selection of
choices has to be made (e.g. during task selection), one can type ! to express
an empty selection.

5.2.2. USB brailleschermen

USB brailleschermen zouden automatisch herkend moeten worden. Er zal dan
automatisch een tekstgeoriënteerde versie van het installatiesysteem
geselecteerd worden en op het doelsysteem zal de ondersteuning voor het
braillescherm automatisch geïnstalleerd worden. U kunt dus gewoon aan het
opstartmenu op Enter drukken. Eens brltty gestart is, kunt u een brailletabel
kiezen via de voorkeursinstellingen uit het menu. U vindt documentatie over
sneltoetsen voor brailleapparatuur op de brltty website.

5.2.3. Seriële brailleschermen

Seriële brailleschermen kunnen niet op een betrouwbare manier automatisch
herkend worden (omdat dit aan sommige ervan schade zou kunnen toebrengen). U
moet dus een opstartparameter brltty=stuurprogramma,poort opgeven om brltty
duidelijk te maken welk stuurprogramma en welke poort gebruikt moeten worden.
stuurprogramma moet de twee-lettercode voor uw terminal zijn (zie het BRLTTY
handboek). poort moet de naam van de seriële poort zijn waarmee het scherm
verbonden is. De standaard is ttyS0. Wanneer een serieel-USB-convertor gebruikt
wordt, kan men doorgaans ttyUSB0 gebruiken. Er kan nog een derde parameter
opgegeven worden om de naam op te geven van de te gebruiken brailletabel (zie
het BRLTTY handboek). De Engelse tabel is standaard. Merk op dat u de tabel ook
later nog kunt aanpassen via het menu voorkeursinstellingen. Een vierde
parameter kan gebruikt worden om parameters door te geven aan het
braillestuurprogramma, zoals protocol=foo, wat voor sommige ongewone modellen
nodig kan zijn. Documentatie over sneltoetsen voor brailleapparatuur is te
vinden op de brltty website.

5.2.4. Softwarematige spraaksynthese

Alle images van het installatiesysteem waarop de grafische versie van het
installatiesysteem staat, bieden ondersteuning voor softwarematige
spraaksynthese, d.w.z. alle netinst-, CD- en DVD-images en de gtk-variant van
het netboot-image. De softwarematige spraaksynthese kan geactiveerd worden door
dit in het opstartmenu te selecteren door s Enter te typen. Dan zal automatisch
de tekstversie van het installatiesysteem geselecteerd worden en op het
doelsysteem zal automatisch ondersteuning voor softwarematige spraaksynthese
geïnstalleerd worden.

Indien verschillende geluidskaarten gevonden worden, zal u gevraagd worden om
op Enter te drukken wanneer u uit de gewenste geluidskaart spraak hoort komen.

De eerste vraag (de taalkeuze) wordt in het Engels gesteld en tijdens de rest
van de installatie wordt de gekozen taal gesproken (als die beschikbaar is in
espeak).

De standaardspreeksnelheid is redelijk traag. Om ze te versnellen, drukt u op 
CapsLock+6. Om ze te vertragen, drukt u op CapsLock+5. Standaard staat een
gemiddelde geluidsterkte ingesteld. Voor een luider geluid drukt u op CapsLock+
2. Voor een stiller geluid drukt u op CapsLock+1. Voor meer informatie over
navigatie-sneltoetsen kunt u de Handleiding bij het speakup-programma
raadplegen. Om het standaardantwoord op een vraag te aanvaarden, drukt u aan de
prompt gewoon op Enter. Om op een vraag een leeg antwoord te geven, typt u aan
de prompt !. Om naar de vorige vraag terug te keren, typt u aan de prompt <.

5.2.5. Hardwarespraaksynthese

Alle images van het installatiesysteem waarop de grafische versie van het
installatiesysteem staat, bieden ondersteuning voor hardwarespraaksynthese,
d.w.z. alle netinst-, CD- en DVD-images en de gtk-variant van het
netboot-image. U moet dus in het opstartmenu kiezen voor een "Grafische
installatie".

Apparatuur voor hardwarespraaksynthese kan niet automatisch herkend worden. U
moet dus een opstartparameter speakup.synth=stuurprogramma opgeven om speakup
duidelijk te maken welk stuurprogramma gebruikt moet worden. stuurprogramma
moet u vervangen door de stuurprogrammacode van uw apparaat (zie de lijst met
stuurprogrammacodes). Automatisch zal dan de tekstversie van het
installatiesysteem gekozen worden en op het doelsysteem zal automatisch
ondersteuning voor het spraaksyntheseapparaat geïnstalleerd worden.

5.2.6. Apparatuur op een kaart

Sommige apparatuur voor toegankelijkheid heeft in feite de vorm van een kaart
die binnenin de machine ingeplugd moet worden en die de tekst rechtstreeks
leest uit het videogeheugen. Opdat dit soort apparaten zou werken moet u
framebufferondersteuning uitzetten door de opstartparameter vga=normal fb=false
te gebruiken. Op die manier wordt het aantal ondersteunde talen wel beperkt.

Desgewenst kan een tekstversie van de bootloader geactiveerd worden vooraleer
de opstartparameter opgegeven wordt, door h Enter te typen.

5.2.7. Een stijl met verhoogd contrast

Voor gebruikers met een verminderd gezichtsvermogen bestaat de mogelijkheid om
voor het installatiesysteem een kleurenschema met verhoogd contrast te kiezen,
waardoor het beter leesbaar wordt. Om dit te activeren, kunt u de sneltoets d
gebruiken om in het opstartscherm het item "Accessible high contrast" te
selecteren, of u kunt theme=dark toevoegen als opstartparameter.

5.2.8. Zoomfunctie

Voor gebruikers met een verminderd gezichtsvermogen biedt het grafische
installatiesysteem een erg basale zoomfunctie: met de sneltoetsen Control++ en 
Control+- kunnen de letters groter en kleiner gemaakt worden.

5.2.9. Expertmodus, reparatiemodus, geautomatiseerde installatie

De expertmodus en de reparatiemodus van het installatiesysteem en een
geautomatiseerde installatie kunnen ook met toegankelijkheidsvoorzieningen
uitgevoerd worden. Om ze te gebruiken moet men eerst naar het submenu "Advanced
options" van het opstartmenu gaan door a te typen. Op een BIOS-systeem (het
opstartmenu heeft dan slechts één bieptoon gegeven) moet u daarna op Enter
drukken. Bij UEFI-systemen (het opstartmenu heeft twee bieptonen gegeven) dient
u dit niet te doen. Om nadien eventueel spraaksynthese te activeren moet u op s
drukken (opnieuw gevolgd door Enter op een BIOS-systeem maar niet op een
UEFI-systeem). Vanaf dan kunnen verschillende sneltoetsen gebruikt worden: x
voor een installatie in expertmodus, r voor de reparatiemodus en a voor een
geautomatiseerde installatie. Op een BIOS-systeem moet u daarna telkens op 
Enter drukken.

De optie geautomatiseerde installatie laat toe om Debian volledig automatisch
te installeren via het gebruik van preseeding (vooraf ingestelde antwoorden),
waarvan de vindplaats na het opstarten van de toegankelijkheidsvoorzieningen
ingevoerd kan worden. Het gebruik van preseeding zelf wordt gedocumenteerd in
Bijlage B, De installatie automatiseren door antwoorden vooraf in te stellen.

5.2.10. Toegankelijkheid van het geïnstalleerde systeem

Documentatie over de toegankelijkheid van een geïnstalleerd systeem is te
vinden op de Wikipagina van Debian over toegankelijkheid.

5.3. Opstartparameters

Opstartparameters zijn parameters voor de Linux kernel die over het algemeen
gebruikt worden om ervoor te zorgen dat correct omgesprongen wordt met
randapparatuur. In het merendeel van de gevallen kan de kernel zelf automatisch
informatie over uw randapparatuur verzamelen. Maar in sommige gevallen moet u
de kernel echter een beetje helpen.

Als u het systeem voor het eerst opstart, kunt u dit best met de standaard
opstartparameters proberen (d.w.z. zonder te proberen parameters in te stellen)
en zien of de zaak correct werkt. En waarschijnlijk zal dit het geval zijn. Is
dit niet zo, dan kunt u later opnieuw opstarten en uitkijken naar eventuele
bijzondere parameters die het systeem over uw hardware kunnen informeren.

Over veel opstartparameters is informatie te vinden in de Linux BootPrompt
HOWTO, met inbegrip van tips voor obscure apparatuur. Dit onderdeel schetst
enkel de meest in het oog springende parameters. Enkele veel voorkomende
valkuilen worden hierna in Paragraaf 5.4, "Probleemanalyse bij het
installatieproces" behandeld.

5.3.1. Opstartconsole

Indien u met een seriële console opstart, zal de kernel die meestal automatisch
herkennen. Indien de computer ook een grafische kaart (framebuffer) en een
toetsenbord heeft, terwijl u hem via een seriële console wilt laten opstarten,
zult u aan de kernel het argument console=apparaat moeten doorgeven, waarbij
apparaat een serieel apparaat van het doel is, wat gewoonlijk iets in de zin
van ttyS0 is.

U zult mogelijk parameters moeten opgeven voor de seriële poort, zoals snelheid
en pariteit, bijvoorbeeld console=ttyS0,9600n8. Andere gebruikelijke snelheden
zijn 57600 en 115200. Zorg ervoor dat u deze optie specificeert na "---",
waardoor die gekopieerd wordt naar de configuratie van de bootloader van het
geïnstalleerde systeem (als het installatiesysteem dit voor de bootloader
ondersteunt).

Om er voor te zorgen dat het terminaltype dat door het installatiesysteem
gebruikt wordt, overeenkomt met uw terminal-emulator, kunt u de parameter TERM=
type gebruiken. Merk op dat het installatiesysteem enkel de volgende
terminaltypes ondersteunt: linux, bterm, ansi, vt102 en dumb. Voor een seriële
console in debian-installer is de standaard vt102. Indien u een IPMI console of
een virtualisatietoepassing gebruikt die zelf geen conversie naar dergelijke
terminaltypes verzorgt, bijvoorbeeld QEMU/KVM, kunt u die opstarten binnenin
een screen-sessie. Dat zal inderdaad voor een omslag naar het terminaltype
screen zorgen, wat heel dicht bij het type vt102 aanleunt.

5.3.2. Parameters voor het installatiesysteem van Debian

Het installatiesysteem herkent enkele bijkomende opstartparameters^[5] die
handig kunnen zijn.

Een aantal parameters hebben een "verkorte vorm", hetgeen helpt om de
beperkingen van de kernel inzake commandoregelopties te vermijden en het
invoeren van parameters vergemakkelijkt. Indien een parameter een verkorte vorm
heeft, zal die vermeld worden tussen haakjes achter de (normale) lange vorm. In
deze handleiding zal de verkorte vorm gewoonlijk ook in de voorbeelden
toegepast worden.

debconf/priority (priority)

    Deze parameter definieert wat de minimale prioriteit moet zijn opdat
    meldingen op het scherm weergegeven zouden worden.

    Een standaardinstallatie gebruikt priority=high. Dit betekent dat meldingen
    die behoren tot de prioriteitsklassen hoog (high) en kritiek (critical)
    weergegeven zullen worden, maar dat de meldingen die behoren tot de
    prioriteitsklassen middelmatig (medium) en laag (low) weggelaten worden.
    Indien er zich problemen voordoen, past het installatiesysteem indien nodig
    de urgentie aan.

    Indien u priority=medium als opstartparameter opgeeft, zult u het
    installatiemenu te zien krijgen en zult u meer controle hebben over de
    installatie. Indien u priority=low gebruikt, worden alle meldingen
    weergegeven (dit is het equivalent van de opstartmethode expert). Bij
    priority=critical zal het installatiesysteem enkel kritieke meldingen
    weergeven en trachten zonder poespas de juiste beslissing te nemen.

DEBIAN_FRONTEND

    Deze opstartparameter controleert het type gebruikersinterface dat voor het
    installatiesysteem gebruikt wordt. Momenteel kunnen voor deze parameter de
    volgende instellingen gebruikt worden:

      □ DEBIAN_FRONTEND=noninteractive

      □ DEBIAN_FRONTEND=text

      □ DEBIAN_FRONTEND=newt

      □ DEBIAN_FRONTEND=gtk

    Het standaard frontend is DEBIAN_FRONTEND=newt. DEBIAN_FRONTEND=text valt
    te verkiezen bij installaties via een seriële console. Sommige
    gespecialiseerde types installatiemedia hebben een gelimiteerd aantal
    beschikbare frontends, maar de frontends newt en text zijn op de meeste
    standaardinstallatiemedia beschikbaar. Op de architecturen die dit
    ondersteunen gebruikt het grafische installatiesysteem de frontend gtk.

BOOT_DEBUG

    Door deze opstartparameter op 2 in te stellen geeft u het
    installatiesysteem de opdracht om het opstartproces uitgebreid te loggen.
    Hem instellen op 3 maakt dat er op strategische punten in het opstartproces
    debug-shells beschikbaar worden. (Verlaat de shells om het opstartproces
    voort te zetten.)

    BOOT_DEBUG=0

        Dit is de standaardinstelling.

    BOOT_DEBUG=1

        Omslachtiger dan gebruikelijk.

    BOOT_DEBUG=2

        Een hoop debug-informatie.

    BOOT_DEBUG=3

        Op verschillende punten in het opstartproces wordt een shell gestart
        die toelaat om doorgedreven te debuggen. Verlaat de shell om het
        opstarten voort te zetten.

log_host, log_port

    Doet het installatiesysteem de logberichten zowel naar een extern
    syslog-bestand op de opgegeven computer en poort als naar een lokaal
    bestand sturen. Indien het poortnummer niet opgegeven werd, wordt de
    standaard syslogpoort 514 gebruikt.

lowmem

    Kan gebruikt worden om het installatiesysteem te dwingen om een strengere
    norm voor weinig geheugen te hanteren dan het standaard geneigd is in te
    stellen op basis van het beschikbaar geheugen. Mogelijke waarden zijn 1 en
    2. Zie ook Paragraaf 6.3.1.1, "Controle van het beschikbaar geheugen /
    modus voor weinig geheugen".

noshell

    Verhindert dat het installatiesysteem een interactieve shell ter
    beschikking stelt op tty2 en tty3. Nuttig voor onbemande installaties met
    een beperkte fysieke beveiliging.

debian-installer/framebuffer (fb)

    Sommige architecturen maken gebruik van de framebuffer van de kernel om de
    installatie in een aantal talen aan te bieden. Indien de framebuffer op uw
    systeem voor problemen zorgt, kunt u die functionaliteit uitschakelen door
    de parameter vga=normal fb=false te gebruiken. Symptomen van het probleem
    zijn foutmeldingen in verband met bterm en bogl, een leeg scherm of het
    vastlopen van de computer binnen enkele minuten na het starten van de
    installatie.

debian-installer/theme (theme)

    Een stijl bepaalt hoe de gebruikersinterface van het installatiesysteem er
    uitziet (kleuren, iconen, enz.). Welke stijlen beschikbaar zijn, verschilt
    per frontend. Momenteel hebben zowel de frontend newt als de frontend gtk
    (naast het standaard uiterlijk) enkel één extra stijl, met "dark" als naam,
    welke ontworpen is voor gebruikers met een visuele beperking. Stel deze
    stijl in door op te starten met theme=dark (hiervoor kan in het opstartmenu
    ook de toetsenbord-sneltoets d gebruikt worden).

netcfg/disable_autoconfig

    Standaard probeert debian-installer het netwerk automatisch te configureren
    via IPv6-autoconfiguratie en DHCP. Indien dit slaagt krijgt u niet de kans
    de verkregen instellingen na te kijken en te veranderen. U komt enkel uit
    bij het handmatig instellen van het netwerk in het geval de automatische
    configuratie mislukt.

    Indien u op uw lokaal netwerk een IPv6-router of een DHCP-server heeft die
    u wenst te vermijden, bijvoorbeeld omdat ze verkeerde antwoorden geven,
    kunt u de parameter netcfg/disable_autoconfig=true gebruiken om te
    verhinderen dat er een automatische configuratie van het netwerk (niet voor
    v4 en evenmin voor v6) plaats vindt en om de informatie handmatig te kunnen
    invoeren.

hw-detect/start_pcmcia

    Stel dit in op false om te voorkomen dat PCMCIA-diensten opgestart worden
    indien dat problemen veroorzaakt. Sommige laptops staan erom bekend zich
    slecht te gedragen op dit punt.

disk-detect/dmraid/enable (dmraid)

    Stel dit in op true om in het installatiesysteem de ondersteuning te
    activeren voor een opstelling met Seriële ATA RAID (ook ATA RAID, BIOS RAID
    of pseudo- of fake RAID genoemd) schijven. Merk op dat een dergelijke
    ondersteuning momenteel slechts experimenteel is. Bijkomende informatie
    vindt u op de Wiki-pagina van het installatiesysteem van Debian.

preseed/url (url)

    Geef de url op van een te downloaden bestand met vooraf ingestelde
    configuraties om dat te gebruiken bij een automatische installatie. Zie
    Paragraaf 4.6, "Automatische installatie".

preseed/file (file)

    Geef het pad op naar een te laden bestand met vooraf ingestelde
    configuraties om dat te gebruiken bij een automatische installatie. Zie
    Paragraaf 4.6, "Automatische installatie".

preseed/interactive

    Stel dit in op true om de vragen te tonen, ook al zijn de antwoorden in een
    antwoordbestand opgenomen. Kan nuttig zijn om een bestand met vooraf
    ingestelde configuraties te testen of op fouten te onderzoeken. Merk op dat
    dit geen effect zal hebben op parameters die als opstartparameters
    opgegeven werden, maar voor hen kan een bijzondere syntaxis gebruikt
    worden. Zie Paragraaf B.5.2, "Gebruik maken van preconfiguratie om
    standaardwaarden aan te passen" voor details.

auto-install/enable (auto)

    Stel vragen die normaal gezien gesteld worden vooraleer het doorgeven van
    antwoorden via een antwoordbestand mogelijk is, uit tot na de
    netwerkconfiguratie. Zie Paragraaf B.2.3, "Automatische modus" voor meer
    informatie over hoe u dit gebruikt met het oog op het automatiseren van
    installaties.

finish-install/keep-consoles

    Tijdens een installatie vanaf een seriële of een Management Console, worden
    de reguliere consoles (VT1 tot VT6) normaal gezien uitgeschakeld in /etc/
    inittab. Stel dit in op true om dit te voorkomen.

cdrom-detect/eject

    Standaard werpt debian-installer de tijdens de installatie gebruikte
    optische media uit vooraleer er herstart wordt. Als het systeem niet
    automatisch opstart vanaf dergelijke media is dit onnodig. In sommige
    gevallen kan het zelfs onwenselijk zijn, bijvoorbeeld als het optische
    station het medium niet zelf terug kan plaatsen en de gebruiker niet
    aanwezig is om dit handmatig te doen. Veel sleufstations en stations van
    het slim-line- of caddy-type kunnen media niet automatisch terugplaatsen.

    Stel in op false om het automatisch uitwerpen uit te schakelen. U moet er
    wel rekening mee houden dat u moet kunnen verzekeren dat het systeem niet
    automatisch opstart vanaf het optisch station na de initiële installatie.

base-installer/install-recommends (recommends)

    Door deze optie in te stellen op false wordt het pakketbeheersysteem
    ingesteld om pakketten die tot de categorie "Recommends" (aangeraden)
    behoren, niet automatisch te installeren tijdens het installatieproces en
    op het geïnstalleerde systeem. Zie ook Paragraaf 6.3.5, "Installatie van
    het Basissysteem".

    Merk op dat deze optie het mogelijk maakt om een compacter systeem te
    hebben, maar dat het gevolg ook kan zijn dat bepaalde functies ontbreken
    die u normaal gezien wel verwacht. Misschien zult u bepaalde van de
    aanbevolen pakketten handmatig moeten installeren om de door u gewenste
    volle functionaliteit te verkrijgen. Daarom zou deze optie enkel gebruikt
    moeten worden door zeer ervaren gebruikers.

debian-installer/allow_unauthenticated

    Standaard vereist het installatiesysteem dat pakketbronnen geauthenticeerd
    worden met een gekende gpg-sleutel. Stel dit in op true om die
    authenticatie uit te schakelen. Waarschuwing: onveilig, niet aanbevolen.

rescue/enable

    Stel in op true om naar de reparatiemodus te gaan in plaats van een normale
    installatie uit te voeren. Zie Paragraaf 8.6, "Een defect systeem
    herstellen".

5.3.3. Het gebruik van opstartparameters om op vragen te antwoorden

Op enkele uitzonderingen na kan voor elke tijdens de installatie gestelde vraag
een waarde ingesteld worden aan de opstartprompt. Dit is evenwel enkel in
specifieke situaties echt nuttig. Algemene instructies over de manier waarop u
dit doet, vindt u in Paragraaf B.2.2, "Met opstartparameters vooraf
installatievragen beantwoorden". Enkele specifieke voorbeelden worden hierna
vermeld.

debian-installer/language (language), debian-installer/country (country), 
    debian-installer/locale (locale)

    Er bestaan twee manieren om de taal, het land en het taalgebied die voor de
    installatie en het geïnstalleerde systeem gebruikt moeten worden, in te
    stellen.

    De eerste en gemakkelijkste manier is om enkel de parameter locale
    (taalgebied) op te geven. Taal en land worden dan van deze waarde afgeleid.
    U kunt bijvoorbeeld locale=de_CH gebruiken om Duits als taal te kiezen en
    Zwitserland als land (de_CH.UTF-8 zal als het standaard taalgebied (locale)
    ingesteld worden op het geïnstalleerde systeem). De beperking zit in het
    feit dat op deze manier niet alle mogelijke combinaties van taal, land en
    taalgebied uitgedrukt kunnen worden.

    De tweede meer flexibele optie is om language (taal) en country (land)
    apart op te geven. In dat geval kan eventueel ook locale (taalgebied)
    opgegeven worden om een specifiek standaardtaalgebied voor het
    geïnstalleerde systeem in te stellen. Bijvoorbeeld: language=en country=DE
    locale=en_GB.UTF-8.

anna/choose_modules (modules)

    Kan gebruikt worden om automatisch componenten van het installatiesysteem
    te laden die niet standaard geladen worden. Voorbeelden van facultatieve
    componenten die nuttig kunnen zijn, zijn openssh-client-udeb (waardoor u
    tijdens de installatie scp kunt gebruiken) en ppp-udeb (zie Paragraaf D.5,
    "Debian GNU/Linux installeren met PPP over Ethernet (PPPoE)").

netcfg/disable_autoconfig

    Stel dit in op true als u IPv6-autoconfiguratie en DHCP wilt uitschakelen
    en in plaats daarvan een statische netwerkconfiguratie wilt afdwingen.

mirror/protocol (protocol)

    Standaard maakt het installatiesysteem gebruik van het http-protocol voor
    het downloaden van bestanden van Debian spiegelservers. En tijdens een
    installatie op een gewoon prioriteitsniveau is het niet mogelijk om dit te
    veranderen naar ftp. Door deze parameter in te stellen op ftp kunt u het
    installatiesysteem dwingen om van dat protocol gebruik te maken. Merk op
    dat u geen ftp-spiegelserver kunt selecteren uit een lijst en dat u die
    computernaam dan handmatig zult moeten instellen.

tasksel:tasksel/first (tasks)

    Kan gebruikt worden om taken te selecteren die niet voorkomen in de
    interactieve takenlijst, zoals de taak kde-desktop. Zie Paragraaf 6.3.6.2,
    "Software selecteren en installeren" voor bijkomende informatie.

5.3.4. Parameters doorgeven aan kernelmodules

Voor stuurprogramma's die in de kernel gecompileerd werden, kunt u parameters
doorgeven zoals beschreven wordt in de documentatie bij de kernel. Indien een
stuurprogramma evenwel als module gecompileerd werd en omdat kernelmodules
tijdens een installatie iets anders geladen worden dan het geval is bij een
geïnstalleerd systeem, is het niet mogelijk om op de gebruikelijke manier
parameters door te geven aan modules. In de plaats daarvan moet u een speciale
syntaxis gebruiken die door het installatiesysteem herkend wordt. Het
installatiesysteem draagt er dan zorg voor dat de parameters in de passende
configuratiebestanden opgeslagen worden, zodat ze gebruikt zullen worden als de
modules effectief geladen worden. De parameters zullen ook automatisch
doorgegeven worden aan de configuratie-instellingen van het geïnstalleerde
systeem.

Merk op dat het tegenwoordig zelden nodig is om parameters door te geven aan
modules. In de meeste gevallen zal de kernel in staat zijn om de in het systeem
aanwezige hardware te herkennen en op die manier goede standaardwaarden in te
stellen. Toch kan het in sommige situaties nog steeds nodig zijn om parameters
handmatig in te stellen.

De syntaxis die u moet gebruiken om parameters in te stellen voor modules is:

module_naam.parameter_naam=waarde

Indien u aan dezelfde of aan verschillende modules meerdere parameters moet
doorgeven, moet u deze werkwijze gewoon herhalen. Om bijvoorbeeld in te stellen
dat een oude 3Com-netwerkkaart de BNC (coax) connector en IRQ 10 moet
gebruiken, zou u doorgeven:

3c509.xcvr=3 3c509.irq=10

5.3.5. Kernel modules op een zwarte lijst plaatsen

Soms kan het nodig zijn om een module op de zwarte lijst te plaatsen om te
voorkomen dat ze automatisch geladen wordt door de kernel en udev. Een
mogelijke reden kan zijn dat een specifieke module op uw hardware voor
problemen zorgt. Soms vermeldt de kernel ook twee verschillende
stuurprogramma's voor hetzelfde apparaat. Dit kan tot gevolg hebben dat het
apparaat niet correct werkt als de twee stuurprogramma's tegenstrijdig zijn of
als het verkeerde stuurprogramma eerst geladen werd.

U kunt een module op de zwarte lijst plaatsen met de volgende syntaxis:
module_naam.blacklist=yes. Dit leidt ertoe dat de module op de zwarte lijst
geplaatst wordt in/etc/modprobe.d/blacklist.local zowel tijdens de installatie
als op het geïnstalleerd systeem.

Merk op dat een module nog steeds geladen kan worden door het
installatiesysteem zelf. U kunt dit voorkomen door de installatie in
expertmodus uit te voeren en de module te verwijderen uit de lijst van modules
die weergegeven wordt tijdens de fase van apparaatherkenning.

5.4. Probleemanalyse bij het installatieproces

5.4.1. Betrouwbaarheid van optische media

Soms kan het gebeuren, vooral bij oudere stations, dat het installatiesysteem
er niet in slaagt op te starten vanaf een optische schijf. Het is ook mogelijk
-- zelfs nadat met succes opgestart werd vanaf een dergelijke schijf -- dat het
installatiesysteem er niet in slaagt de schijf te herkennen of foutmeldingen
produceert bij het lezen van de schijf tijdens de installatie.

Er kunnen veel verschillende mogelijke oorzaken zijn voor deze problemen. We
kunnen enkel enige courante problemen vermelden en algemene suggesties geven
over hoe ermee om te gaan. De rest laten we aan u over.

Eerst zou u twee heel eenvoudige dingen moeten proberen.

  • Indien er niet opgestart wordt vanaf de schijf, moet u nagaan of die wel
    correct in het station geplaatst werd en of zij niet vuil is.

  • Indien het installatiesysteem er niet in slaagt de schijf te herkennen,
    moet u gewoon nog een tweede keer de optie Installatiemedia detecteren en
    aankoppelen uitproberen. Het is bekend dat sommige DMA-gerelateerde
    problemen bij erg oude CD-stations op die manier opgelost raken.

Indien dit niet helpt, kunt u de suggesties uit de onderstaande paragrafen
uitproberen. De meeste, hoewel niet alle, hierna behandelde suggesties gelden
zowel voor CD als voor DVD.

Indien u er niet in slaagt de installatie vanaf een optische schijf op gang te
krijgen, moet u het met een van de andere mogelijke installatiemethodes
proberen.

5.4.1.1. Gebruikelijke problemen

  • Sommige oudere CD-stations slagen er niet in om schijven te lezen die aan
    een hoge snelheid gebrand werden door een moderne CD-writer.

  • Sommige zeer oude CD-stations werken niet correct als voor hen "direct
    memory access" (DMA) gebruikt wordt.

5.4.1.2. Problemen onderzoeken en ze eventueel oplossen

Indien het niet lukt om met de optische schijf op te starten, probeer dan de
hierna vermelde suggesties.

  • Ga na of uw BIOS/UEFI effectief het opstarten vanaf een optische schijf
    ondersteunt (kan enkel een probleem zijn op zeer oude systemen) en dat het
    opstarten vanaf dergelijke media in het BIOS/UEFI geactiveerd is.

  • Indien u een ISO-image downloadde, controleer dan of de md5sum van dat
    image overeenkomt met dat wat voor dat image in het bestand MD5SUMS vermeld
    staat. Dat bestand zou te vinden moeten zijn op dezelfde plaats waar u het
    image downloadde.

    $ md5sum debian-testing-i386-netinst.iso
    a20391b12f7ff22ef705cee4059c6b92  debian-testing-i386-netinst.iso

    Ga vervolgens na of ook de md5sum van de gebrande schijf ermee overeenkomt.
    Het volgende commando zou moeten werken. Het maakt gebruik van de grootte
    van het image om het correct aantal bytes van de schijf te lezen.

    $ dd if=/dev/cdrom | \
    > head -c `stat --format=%s debian-testing-i386-netinst.iso` | \
    > md5sum
    a20391b12f7ff22ef705cee4059c6b92  -
    262668+0 records in
    262668+0 records out
    134486016 bytes (134 MB) copied, 97.474 seconds, 1.4 MB/s

Als, nadat het installatiesysteem met succes opgestart werd, de schijf niet
herkend wordt, kan het probleem soms eenvoudig opgelost worden door nog eens te
proberen. Indien u meer dan één optisch station heeft, probeer de schijf dan
eens in het andere station te plaatsen. Indien dat niet helpt, of indien de
schijf herkend wordt maar er bij het lezen ervan foutmeldingen komen, moet u de
hieronder vermelde suggesties proberen. Daarvoor is enige basiskennis van Linux
nodig. Om deze commando's uit te voeren, moet u eerst naar de tweede virtuele
console (VT2) gaan en daar de shell activeren.

  • Ga naar VT4 of bekijk de inhoud van /var/log/syslog (gebruik de editor nano
    ) om eventuele specifieke foutmeldingen op te sporen. Kijk nadien ook de
    uitvoer na van dmesg.

  • Ga in de uitvoer van dmesg na of uw optisch station herkend werd. U zou
    iets moeten vinden in de zin van (de regels moeten niet noodzakelijk na
    elkaar komen):

    ata1.00: ATAPI: MATSHITADVD-RAM UJ-822S, 1.61, max UDMA/33
    ata1.00: configured for UDMA/33
    scsi 0:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ-822S  1.61 PQ: 0 ANSI: 5
    sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw xa/form2 cdda tray
    cdrom: Uniform CD-ROM driver Revision: 3.20

    Indien u niets dergelijks vindt, is het mogelijk dat de controller waarmee
    uw station verbonden is, niet herkend werd of zelfs helemaal niet
    ondersteund wordt. Indien u weet welk stuurprogramma er nodig is voor de
    controller, kunt u het handmatig proberen laden met modprobe.

  • Ga na of er voor uw optisch station onder /dev/ een 'device node'
    (apparaatbestand) bestaat. In het bovenstaande voorbeeld is dit /dev/sr0.
    Er zou ook een /dev/cdrom moeten bestaan.

  • Gebruik het commando mount om na te gaan of de optische schijf reeds
    aangekoppeld is. Indien dit niet het geval is, moet u proberen deze
    handmatig aan te koppelen:

    $ mount /dev/hdc /cdrom

    Ga na of dit commando eventueel aanleiding geeft tot foutmeldingen.

  • Ga na of DMA momenteel geactiveerd is:

    $ cd /proc/ide/hdc
    $ grep using_dma settings
    using_dma      1       0       1       rw

    Een "1" in de eerste kolom na using_dma wijst erop dat het geactiveerd is.
    Indien dit het geval is moet u proberen het te deactiveren:

    $ echo -n "using_dma:0" >settings

    Zorg ervoor dat u zich bevindt in de map van het apparaat dat met uw
    optisch station overeenkomt.

  • Indien er zich tijdens de installatie problemen voordoen, moet u de
    integriteit van de installatiemedia proberen na te gaan met behulp van de
    optie die u vindt ergens onderaan in het hoofdmenu van het
    installatiesysteem. Deze optie kan ook gebruikt worden als algemene test om
    na te gaan of de schijf op een betrouwbare wijze gelezen kan worden.

5.4.2. De configuratie van het opstartproces

Indien u problemen ervaart en de kernel gaat hangen tijdens het opstartproces,
of bepaalde randapparaten die u wel degelijk heeft, niet herkent, of stations
niet correct aanspreekt, is het eerste wat u moet doen, de opstartparameters
controleren, zoals besproken wordt in Paragraaf 5.3, "Opstartparameters".

In sommige gevallen kan het slecht functioneren te wijten zijn aan het feit dat
er firmware ontbreekt voor het apparaat (zie Paragraaf 2.2, "Apparaten waarvoor
firmware vereist is" en Paragraaf 6.4, "Ontbrekende firmware laden").

5.4.3. Softwarematige spraaksynthese

Indien de softwarematige spraaksynthese niet werkt, is de kans het grootst dat
er een probleem is met uw geluidskaart. Gewoonlijk is dat dan ofwel een
stuurprogramma dat niet aanwezig is in het installatiesysteem, ofwel een
stuurprogramma dat ongebruikelijke namen gebruikt om het geluidsniveau voor de
mixer aan te geven en die worden standaard op stil gezet. In een dergelijk
geval zou u dus een bugrapport moeten opsturen met daarin de uitvoer van de
volgende commando's. Dit moet op dezelfde machine gebeuren en vanuit een
Linux-systeem met werkend geluid (bijv. een live-CD).

  • dmesg

  • lspci

  • lsmod

  • amixer

5.4.4. Gebruikelijke installatieproblemen bij 64-bit PC

Sommige gebruikelijke installatieproblemen kunnen opgelost of vermeden worden
door bepaalde opstartparameters door te geven aan het installatiesysteem.

Indien uw systeem bij het opstarten van de kernel een vreemd beeld begint te
vertonen, bijv. een volledig wit of volledig zwart scherm of een rommelige boel
kleurrijke pixels, dan is het mogelijk dat er een problematische videokaart
insteekt die niet correct naar framebuffermodus overschakelt. U kunt dan de
opstartparameter fb=false gebruiken om de framebufferconsole uit te zetten.
Tijdens de installatie zullen dan slechts een bepekt aantal talen ter
beschikking staan wegens de beperkte consolefunctionaliteit. Zie Paragraaf 5.3,
"Opstartparameters" voor details.

5.4.4.1. Het vastlopen van het systeem in de fase van de PCMCIA-configuratie

Van sommige erg oude laptopmodellen die door Dell gefabriceerd werden, is
geweten dat ze crashen op het moment dat de detectie van PCMCIA-apparaten
sommige hardware-adressen probeert aan te spreken. Andere laptops kunnen
gelijkaardige problemen vertonen. Indien u een dergelijk probleem ervaart en u
tijdens de installatie geen behoefte heeft aan ondersteuning voor PCMCIA, kunt
u dat uitzetten met de opstartparameter hw-detect/start_pcmcia=false. U kunt
dan na het beëindigen van de installatie de configuratie van PCMCIA uitvoeren
en het systeembronnenbereik dat verantwoordelijk is voor de problemen,
uitsluiten.

In het andere geval kunt u het installatiesysteem opstarten in expertmodus. Er
zal u dan gevraagd worden om de opties voor systeembronnenbereik, waaraan uw
systeem behoefte heeft, op te geven. Indien u bijvoorbeeld een van de hierboven
vermelde Dell-laptops heeft, zou u hier exclude port 0x800-0x8ff moeten
opgeven. U kunt ook een lijst van gebruikelijke opties voor
systeembronnenbereik vinden in het hoofdstuk System resource settings van de
PCMCIA HOWTO. Merk op dat u eventuele komma's moet weglaten wanneer u deze
waarde aan het installatiesysteem doorgeeft.

5.4.5. De meldingen bij het opstarten van de kernel interpreteren

Tijdens de opstartsequentie kan het gebeuren dat u verschillende meldinden ziet
in de zin van can't find iets, of iets not present, can't initialize iets, of
zelfs this driver release depends on iets. De meeste van dit soort meldingen
zijn onschadelijk. U krijgt ze te zien omdat de kernel voor het
installatiesysteem gebouwd is om uitgevoerd te kunnen worden op computers met
veel verschillende randapparaten. Vanzelfsprekend zal geen enkele computer met
alle mogelijke randapparatuur uitgerust zijn en dus kan het besturingssysteem
enkele klachten uiten omdat het randapparaten die u niet heeft, niet kan
vinden. Het kan ook zijn dat u vaststelt dat het systeem even pauzeert. Dit
gebeurt wanneer het wacht op een antwoord van een apparaat dat niet op uw
systeem aanwezig is. Indien u de tijd die het systeem nodig heeft, als
onaanvaardbaar lang ervaart, kunt u later een aangepaste kernel maken (zie
Paragraaf 8.5, "Een nieuwe kernel compileren").

5.4.6. Installatieproblemen rapporteren

Indien u door de initiële opstartfase heen geraakt, maar de installatie niet
kunt voltooien, kan de menuoptie Save debug logs (debug-logs opslaan) nuttig
zijn. Het laat u toe om logs over systeemfouten en configuratie-informatie uit
het installatiesysteem op een opslagmedium op te slaan of ze met een webbrowser
te downloaden. Deze informatie kan aanwijzingen bevatten over wat er fout liep
en hoe het gerepareerd kan worden. Indien u een bugrapport instuurt, kunt u
deze informatie toevoegen aan het bugrapport.

Andere pertinente installatiemeldingen kunt u vinden in /var/log/ tijdens de
installatie en in /var/log/installer/ nadat de computer opgestart werd met het
geïnstalleerde systeem.

5.4.7. Installatierapporten insturen

Indien u problemen blijft ervaren, hebben we graag dat u een installatierapport
instuurt. We moedigen het insturen van installatierapporten zelfs aan als de
installatie succesvol was. Op die manier kunnen we zoveel mogelijk informatie
verzamelen over een zo groot mogelijk aantal hardwareconfiguraties.

Merk op dat uw installatierapport gepubliceerd zal worden in het Debian Bug
Tracking System (BTS), het bug-opvolgingssysteem van Debian, en doorgestuurd
wordt maar een publieke mailinglijst. Zorg ervoor dat u een e-mailadres
gebruikt waarvan u het niet erg vindt dat het openbaar gemaakt wordt.

Indien u over een werkend Debian systeem beschikt, loopt de gemakkelijkste
manier om een installatierapport in te sturen via het installeren van de
pakketten installation-report en reportbug (apt install installation-report
reportbug). Configureer reportbug zoals uitgelegd wordt in Paragraaf 8.4.2,
"E-mails versturen buiten het systeem" en voer het commando reportbug
installation-reports uit.

Een andere mogelijkheid is om dit model te gebruiken bij het opstellen van het
installatierapport en het verslag als een bugrapport over het
pseudo-pakketinstallation-reports in te sturen naar <submit@bugs.debian.org>.
Noot van het Nederlandse vertaalteam van Debian: aangezien Debian een
wereldwijd project is, wordt in de interne communicatie hoofdzakelijk de
Engelse taal gehanteerd. Mocht u dit als een drempel ervaren, dan kunt u
daarbij misschien hulp vragen op de mailinglijst van de Nederlandstalige
gebruikersgemeenschap van debian: <debian-user-dutch@lists.debian.org>.

Package: installation-reports
(Pakket: installation-reports)

Boot method: <How did you boot the installer? CD/DVD? USB stick? Network?>
(Opstartmethode: <Hoe startte u het installatiesysteem? CD/DVD? USB-stick? Netwerk?>)
Image version: <Full URL to image you downloaded is best>
(Image-versie: <Bij voorkeur de volledige URL van het gedownloade image>)
Date: <Date and time of the install>
(Datum <Datum en tijd van de installatie>)

Machine: <Description of machine (eg, IBM Thinkpad R32)>
(Computer:<Beschrijving van de machine (bijv. IBM Thinkpad R32)>)
Processor:
(Processor:)
Memory:
(Geheugen:)
Partitions: <df -Tl will do; the raw partition table is preferred>
(Partities: <df -Tl is bruikbaar; de ruwe partitietabel geniet de voorkeur>)

Output of lspci -knn (or lspci -nn):
(Uitvoer van lspci -knn (of lspci -nn):)

Base System Installation Checklist:
(Checklist bij de installatie van het basissysteem:)
[O] = OK, [E] = Error (please elaborate below), [ ] = didn't try it
([O] = OK, [E] = Fout (geef hieronder wat toelichting), [ ] = niet geprobeerd)

Initial boot:                    [ ]
(Aanvankelijk opstarten          [ ])
Detect network card:             [ ]
(Herkennen netwerkkaart          [ ])
Configure network:               [ ]
(Netwerkconfiguratie:            [ ])
Detect media:                       [ ]
(Herkennen media:                   [ ])
Load installer modules:          [ ]
(Installatiemodules laden:       [ ])
Detect hard drives:              [ ]
(Herkennen harde schijven:       [ ])
Partition hard drives:           [ ]
(Indelen harde schijven:         [ ])
Install base system:             [ ]
(Basissysteem installeren        [ ])
Clock/timezone setup:            [ ]
(Instellen klok/tijdzone         [ ])
User/password setup:             [ ]
(Instellen gebruiker/wachtwoord: [ ])
Install tasks:                   [ ]
(Taken installeren:              [ ])
Install boot loader:             [ ]
(Bootloader installeren        [ ])
Overall install:                 [ ]
(De globale installatie:         [ ])

Comments/Problems:
(Commentaar/Problemen:)

<Description of the install, in prose, and any thoughts, comments
      and ideas you had during the initial install.>
(<Beschrijf de installatie in gewone woorden en vermeld eventuele
   bedenkingen, commentaar en ideeën die u tijdens de installatie had.>)

Beschrijf in het bugrapport wat het probleem is, vermeld ook de laatste
zichtbare meldingen van de kernel als het een vastlopen van de kernel betreft.
Beschrijf de verschillende stappen die u ondernam en die tot het probleem op
het systeem leidden.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[4] Het mini ISO-image kan gedownload worden van een Debian spiegelserver
zoals beschreven wordt in Paragraaf 4.2, "Bestanden downloaden van Debian
spiegelservers". Zoek naar netboot/gtk/mini.iso.

^[5] Met de huidige kernels (2.6.9 of recenter) kunt u 32 commandoregelopties
en 32 omgevingsopties gebruiken. Indien deze aantallen overschreden worden, dan
zal de kernel panikeren. Er staat ook een limiet van 255 lettertekens op de
lengte van de volledige commandoregel voor de kernel. Alles wat deze limiet
overschrijdt wordt stilzwijgend weggelaten.

Hoofdstuk 6. Het Debian installatiesysteem gebruiken

Inhoudsopgave

6.1. Hoe het installatiesysteem werkt

    6.1.1. Het grafische installatiesysteem gebruiken

6.2. Voorstelling van de componenten
6.3. Individuele componenten gebruiken

    6.3.1. Het instellen van het installatiesysteem van Debian en het
        configureren van de hardware
    6.3.2. Gebruikers en wachtwoorden instellen
    6.3.3. De klok en de tijdzone instellen
    6.3.4. Schijfindeling en selectie van aankoppelpunten
    6.3.5. Installatie van het Basissysteem
    6.3.6. Aanvullende software installeren
    6.3.7. Zorgen dat uw systeem kan worden opgestart
    6.3.8. De installatie afronden
    6.3.9. Probleemoplossing
    6.3.10. Installatie over netwerk-console

6.4. Ontbrekende firmware laden

    6.4.1. Een medium voorbereiden
    6.4.2. Firmware en een geïnstalleerd systeem
    6.4.3. Het geïnstalleerde systeem voltooien

6.5. Aanpassingen maken

    6.5.1. Een ander init-systeem installeren

6.1. Hoe het installatiesysteem werkt

For this architecture the debian-installer supports two different user
interfaces: a graphical one and a text-based one. The graphical interface is
used by default unless you select an "Install" option in the boot menu. For
more information about booting the graphical installer, please refer to
Paragraaf 5.1.8, "Het grafische installatiesysteem".

Het Debian installatiesysteem bestaat uit een aantal componenten die elk
ontwikkeld zijn om een specifieke taak uit te voeren tijdens de installatie.
Elke component voert zijn taak uit, waarbij aan de gebruiker vragen gesteld
kunnen worden als dat voor die taak nodig is. Aan de vragen zelf is een
prioriteit toegekend, en bij het opstarten van het installatiesysteem wordt
ingesteld welke prioriteit vragen moeten hebben om gesteld te worden.

Als een standaardinstallatie wordt uitgevoerd, zullen alleen essentiële vragen
(met een hoge prioriteit - high priority) worden gesteld. Het resultaat is een
in hoge mate geautomatiseerd installatieproces met weinig interactie met de
gebruiker. Componenten worden vanzelf in de juiste volgorde uitgevoerd; welke
componenten worden uitgevoerd, wordt hoofdzakelijk bepaald door de gekozen
installatiemethode en door uw apparatuur. Het installatiesysteem zal
standaardantwoorden gebruiken voor vragen die niet worden gesteld.

Als er een probleem optreedt, wordt een scherm met een foutmelding getoond en
zal mogelijk het menu van het installatiesysteem worden getoond zodat de
gebruiker een alternatieve actie kan selecteren. Als er geen problemen zijn,
zal de gebruiker het menu van het installatiesysteem nooit zien, maar eenvoudig
de vragen voor iedere opeenvolgende component kunnen beantwoorden. Meldingen
van ernstige fouten hebben een prioriteit "critical" (kritiek), zodat de
gebruiker altijd geïnformeerd zal worden.

Sommige van de standaardwaarden die het installatiesysteem gebruikt, kunnen
beïnvloed worden door het meegeven van opstartparameters bij het starten van
debian-installer. Als u bijvoorbeeld statische netwerkconfiguratie wilt
forceren (standaard worden automatische IPv6-configuratie en DHCP gebruikt
indien dit beschikbaar is), kunt u de opstartparameter netcfg/
disable_autoconfig=true toevoegen. Zie Paragraaf 5.3.2, "Parameters voor het
installatiesysteem van Debian" voor een overzicht van beschikbare opties.

Het is mogelijk dat gevorderde gebruikers zich meer thuis voelen met een
menugestuurde interface, waarbij elke stap door de gebruiker zelf wordt bepaald
in plaats van het installatiesysteem dat automatisch elke stap in volgorde
uitvoert. Om het installatiesysteem op een handmatige, menugestuurde manier uit
te voeren, moet de opstartparameter priority=medium worden toegevoegd.

Als het voor uw apparatuur noodzakelijk is om parameters mee te geven bij de
installatie van kernelmodules, dan zult u het installatiesysteem moeten starten
in de "expert" modus. Dit is mogelijk door ofwel het commando expert te
gebruiken om het installatiesysteem op te starten, ofwel door priority=low als
opstartparameter toe te voegen. De expertmodus geeft u volledige controle over
debian-installer.

In the text-based environment the use of a mouse is not supported. Here are the
keys you can use to navigate within the various dialogs. The Tab or right arrow
keys move "forward", and the Shift+Tab or left arrow keys move "backward"
between displayed buttons and selections. The up and down arrow select
different items within a scrollable list, and also scroll the list itself. In
addition, in long lists, you can type a letter to cause the list to scroll
directly to the section with items starting with the letter you typed and use 
Pg-Up and Pg-Down to scroll the list in sections. The space bar selects an item
such as a checkbox. Use Enter to activate choices.

Bij sommige dialoogvensters krijgt u bijkomende informatie om u te helpen.
Indien er hulp beschikbaar is, wordt dit aangegeven in de onderste regel van
het scherm door te vermelden dat u hulp kunt krijgen door op de toets F1 te
drukken.

Foutmeldingen en logboekberichten worden omgeleid naar de vierde console. U
kunt toegang krijgen tot deze console door op linker Alt+F4 te drukken (houd de
linker Alt-toets vast terwijl u de F4-functietoets indrukt); u keert terug naar
het hoofdinstallatiescherm met linker Alt+F1.

Deze meldingen kunnen ook worden teruggevonden in /var/log/syslog. Na de
installatie wordt dit logbestand gekopieerd naar /var/log/installer/syslog op
uw nieuwe systeem. Andere installatiemeldingen kunnen tijdens de installatie
worden gevonden in /var/log/ en, nadat de computer opnieuw is opgestart met het
nieuwe systeem, in /var/log/installer/.

6.1.1. Het grafische installatiesysteem gebruiken

Het grafische installatiesysteem werkt eigenlijk op dezelfde manier als het
tekstgeoriënteerde installatiesysteem, en dus kunt u de rest van deze
handleiding gebruiken om u te laten begeleiden bij het installatieproces.

Indien u liever het toetsenbord dan de muis gebruikt, dient u twee zaken te
weten. Om een ingeklapte lijst (wordt bijvoorbeeld toegepast bij de selectie
van een land binnen een continent) uit te klappen, kunt u de toetsen + en -
gebruiken. Bij vragen waarbij meer dan een item geselecteerd kan worden (bijv.
de selectie van taken), moet u nadat u klaar bent met kiezen eerst met de toets
Tab naar de knop Volgende gaan. Op de entertoets drukken werkt als een
schakelaar (selecteert/deselecteert het actieve element), maar activeert niet 
Volgende.

Indien er bij een dialoogvenster bijkomende hulp beschikbaar is, zult u een 
Help-knop zien. U krijgt de hulp te zien door ofwel de knop te activeren of op
de F1-toets te drukken.

Om naar een andere console over te schakelen, zult u ook de Ctrl-toets moeten
gebruiken, zoals dat ook met het X Window System het geval is. Indien u
bijvoorbeeld wilt overschakelen naar VT2 (de eerste shell om te debuggen), zult
u de volgende toetsencombinatie gebruiken: Ctrl+linker Alt+F2. Het grafische
installatiesysteem zelf bevindt zich op VT5, en dus kunt u de toetsencombinatie
linker Alt+F5 gebruiken om er naar terug te keren.

6.2. Voorstelling van de componenten

Hieronder vindt u een lijst van de componenten van het installatiesysteem met
een korte beschrijving van het doel van elke component. Details over het
gebruik van een specifieke component staan in Paragraaf 6.3, "Individuele
componenten gebruiken".

main-menu

    De component 'main-menu' (hoofdmenu) toont tijdens de installatie aan de
    gebruiker de lijst met componenten en start een component wanneer deze
    geselecteerd wordt. De vragen van het hoofdmenu hebben medium (gemiddeld)
    als prioriteit. Dit betekent dat u het menu niet zult zien als u bij de
    installatie de prioriteit heeft ingesteld op high (hoog) of critical
    (kritiek) (high is de standaardwaarde). Indien er echter een fout optreedt
    waarvoor uw interventie nodig is, zal de prioriteit die vragen moeten
    hebben vooraleer ze gesteld worden, tijdelijk worden verlaagd om u in de
    gelegenheid te stellen het probleem op te lossen en in dat geval kan dus
    het menu alsnog verschijnen.

    U kunt het hoofdmenu bereiken door herhaaldelijk de knop Terug te
    selecteren, waardoor u stapsgewijs teruggaat uit de op dat moment actieve
    component.

localechooser

    Stelt de gebruiker in staat om lokalisatie-opties te selecteren voor de
    installatie en het geïnstalleerde systeem: taal, land en taalgebied
    (locale). Het installatiesysteem zal meldingen weergeven in de gekozen
    taal, tenzij de vertaling voor die taal niet compleet is. In dat geval
    kunnen sommige meldingen in het Engels zijn.

console-setup

    Toont een lijst van toetsenborden (toetsenbordindelingen) waaruit de
    gebruiker het model kan kiezen dat overeenkomt met het zijne.

hw-detect

    Detecteert automatisch de meeste hardware in het systeem, inclusief
    netwerkkaarten, harde schijven en PCMCIA.

cdrom-detect

    Zoekt een Debian installatiemedium en koppelt dit aan.

netcfg

    Configureert de netwerkverbindingen van de computer zodat die via het
    internet kan communiceren.

iso-scan

    Zoekt op harde schijven naar ISO-images (.iso-bestanden).

choose-mirror

    Toont een overzicht van spiegelservers die het archief van Debian
    aanbieden. De gebruiker kan hier kiezen uit welke bron de pakketten voor de
    installatie opgehaald worden.

cdrom-checker

    Controleert de integriteit van installatiemedia. Op die manier kan een
    gebruiker zeker zijn dat het installatie-image niet beschadigd is.

lowmem

    De component 'lowmem' probeert systemen met een beperkt werkgeheugen te
    detecteren en past vervolgens verschillende trucs toe om niet strict
    noodzakelijke onderdelen van debian-installer uit het werkgeheugen te
    verwijderen (ten koste van enige functionaliteit).

anna

    Het acroniem 'anna' staat voor "Anna's Not Nearly APT" (Anna is nog lang
    APT niet). Installeert pakketten die zijn opgehaald vanaf de gekozen
    spiegelserver of installatiemedia.

user-setup

    Stelt het wachtwoord in voor 'root' (wat de gebruikersnaam van de
    systeembeheerder is) en creëert een normale gebruiker.

clock-setup

    Zet de interne systeemklok juist en bepaalt of die al dan niet op de
    gecoördineerde wereldtijd (UTC) ingesteld moet staan.

tzsetup

    Selecteert de tijdzone op basis van de eerder geselecteerde locatie.

partman

    Stelt de gebruiker in staat om de met het systeem verbonden schijven in te
    delen, om op de geselecteerde partities bestandssystemen te creëren en om
    deze aan te koppelen aan de aankoppelpunten. Bovendien biedt 'partman'
    interessante functionaliteit zoals volledig geautomatiseerde schijfindeling
    en LVM-ondersteuning. Dit is het schijfindelingsgereedschap waaraan Debian
    de voorkeur geeft.

partitioner

    Stelt de gebruiker in staat om de met het systeem verbonden schijven in te
    delen. Er wordt een schijfindelingsprogramma gekozen dat past bij de
    architectuur van uw computer.

partconf

    Toont een overzicht van de partities en creëert bestandssystemen op de
    geselecteerde partities volgens de instructies van de gebruiker.

partman-lvm

    Helpt de gebruiker met het configureren van de LVM (Logical Volume
    Manager), het systeem dat logische volumes beheert.

partman-md

    Stelt de gebruiker in staat om een Software RAID (Redundant Array of
    Inexpensive Disks) te configureren. Een software RAID is veelal beter dan
    de goedkope (semi-hardwarematige) IDE-stuurapparaten voor RAID die op
    sommige nieuwere moederborden voorkomen.

base-installer

    Installeert de meest basale set pakketten die het mogelijk maakt om de
    computer onder Debian GNU/Linux te laten functioneren, nadat hij opnieuw
    opgestart werd.

apt-setup

    Verzorgt de configuratie van apt. Dit gebeurt grotendeels automatisch op
    basis van de media die voor het installatiesysteem gebruikt worden.

pkgsel

    Maakt gebruik van tasksel voor de selecte en de installatie van extra
    software.

os-prober

    Zoekt naar reeds op de computer aanwezige besturingssystemen en geeft deze
    informatie door aan de component 'bootloader-installer', die u in de
    mogelijkheid kan stellen om gevonden besturingssystemen toe te voegen aan
    het startmenu van de bootloader. Op deze manier kan de gebruiker tijdens
    het opstarten van de computer op een eenvoudige manier kiezen welk
    besturingssysteem moet worden gestart.

bootloader-installer

    De verschillende programma's voor het installeren van een 'bootloader'
    (bootloader), installeren allemaal een bootloaderprogramma op de harde
    schijf. Een dergelijk programma is noodzakelijk om de computer te laten
    opstarten met Linux zonder een USB-stick of CD te gebruiken. Veel
    bootloaders bieden de gebruiker de mogelijkheid om telkens wanneer de
    computer wordt opgestart te kiezen welk van de verschillende
    besturingssystemen gebruikt moet worden.

shell

    Stelt de gebruiker in staat vanuit het menu of op de tweede console een
    shell te starten.

save-logs

    Stelt de gebruiker in staat om informatie op een USB-stick, via het
    netwerk, op harde schijf of op een ander medium op te slaan wanneer zich
    problemen voordoen. Hiermee kan later een nauwkeurig verslag van problemen
    met het installatiesysteem worden gestuurd aan de ontwikkelaars van Debian.

6.3. Individuele componenten gebruiken

In dit onderdeel beschrijven we elke component van het installatiesysteem in
detail. De componenten zijn gegroepeerd in stadia die herkenbaar zouden moeten
zijn voor gebruikers. Ze worden voorgesteld in de volgorde waarin ze tijdens de
installatie aan bod komen. Merk op dat niet alle modules voor elke installatie
gebruikt zullen worden; welke modules daadwerkelijk worden gebruikt is
afhankelijk van de door u gebruikte installatiemethode en van uw apparatuur.

6.3.1. Het instellen van het installatiesysteem van Debian en het configureren
van de hardware

Laten we er vanuit gaan dat het Debian installatiesysteem is opgestart en dat u
het eerste scherm ervan voor u heeft. Op dat moment is de functionaliteit van
debian-installer nog vrij beperkt. Het weet nog niet veel over uw apparatuur,
over welke taal u verkiest en zelfs niet over de taken die het moet uitvoeren.
Maak u geen zorgen. Want debian-installer is behoorlijk slim. Het kan proberen
uw apparatuur automatisch te detecteren, het kan de rest van zijn componenten
lokaliseren en zichzelf opwaarderen tot een volwaardig installatiesysteem. U
zult echter debian-installer nog altijd moeten helpen met enige informatie die
het niet automatisch kan bepalen (zoals de selectie van de taal en de
toetsenbordindeling die u verkiest of van de gewenste spiegelserver).

U zult merken dat debian-installer tijdens dit stadium verschillende keren een
hardwareherkenning uitvoert. De eerste keer is dit specifiek gericht op de
apparatuur (bijvoorbeeld uw CD-station of netwerkkaart) die nodig is voor het
laden van componenten van het installatiesysteem. Omdat bij deze eerste keer
mogelijk nog niet alle stuurprogramma's beschikbaar zijn, moet de
hardwareherkenning later in het proces worden herhaald.

Tijdens de hardwareherkenning zal debian-installer nagaan of er
stuurprogramma's voor uw hardware zijn waarvoor eventueel firmware geladen moet
worden. Als er firmware nodig is die niet beschikbaar is, zal een
dialoogvenster getoond worden dat de mogelijkheid biedt om de ontbrekende
firmware vanaf een verwisselbaar medium te laden. Zie Paragraaf 6.4,
"Ontbrekende firmware laden" voor nadere details.

6.3.1.1. Controle van het beschikbaar geheugen / modus voor weinig geheugen

Een van de eerste dingen die debian-installer doet, is het controleren van het
beschikbaar geheugen. Als de hoeveelheid beschikbaar geheugen beperkt is, zal
deze component een aantal wijzigingen aanbrengen in het installatieproces
waardoor u hopelijk in staat zult zijn om Debian GNU/Linux op uw systeem te
installeren.

De eerste maatregel die genomen wordt om het geheugengebruik door het
installatiesysteem te beperken, is het uitschakelen van de vertaling. Dit
betekent dat de installatie enkel nog in het Engels kan verlopen. Natuurlijk
kunt u na de installatie nog steeds de lokalisatie voor het geïnstalleerde
systeem instellen.

Als dit nog steeds onvoldoende is, zal het installatiesysteem het
geheugengebruik nog verder trachten te verminderen door enkel die componenten
te laden die nodig zijn om een basale installatie uit te voeren. Dit beperkt de
functionaliteit van het installatiesysteem. U zult de gelegenheid krijgen om
bijkomende componenten handmatig te laden, maar u moet er zich rekenschap van
geven dat elke geselecteerde component ook extra geheugen zal gebruiken en dat
dit de installatie kan laten mislukken.

Indien het installatiesysteem in de modus voor weinig geheugen opereert, wordt
aangeraden om een relatief grote partitie voor wisselgeheugen (swap) aan te
maken (64-128MB). De wisselgeheugenpartitie zal als virtueel geheugen gebruikt
worden en dus de hoeveelheid geheugen die voor het systeem beschikbaar is,
verhogen. Het installatiesysteem zal zo vroeg mogelijk in het installatieproces
de wisselgeheugenpartitie activeren. Merk op dat intens gebruik van het
wisselgeheugen de performantie van uw systeem zal verminderen en veel
hardeschijfactiviteit zal genereren.

Het is mogelijk dat uw systeem ondanks deze maatregelen toch nog vastloopt, dat
er zich onverwachte fouten voordoen of dat bepaalde processen door de kernel
vernietigd worden omdat het systeem geen vrij geheugen meer heeft (op VT4 en in
het syslog-bestand zal dit resulteren in meldingen over "Out of memory" (te
weinig geheugen)).

Er werd bijvoorbeeld gerapporteerd dat in de modus voor weinig geheugen bij
onvoldoende wisselgeheugen het aanmaken van een groot ext3-bestandssysteem
mislukt. Indien een grotere wisselgeheugenpartitie geen soelaas biest, moet u
proberen om het bestandssysteem als een ext2-bestandssysteem (wat een
essentiële component van het installatiesysteem is) aan te maken. Na de
installatie kunt u een ext2-partitie naar ext3 omzetten.

Het is mogelijk om het installatiesysteem te dwingen om een strengere norm voor
weinig geheugen te hanteren dan het standaard geneigd is om te doen op basis
van het beschikbaar geheugen. Daarvoor gebruikt u de opstartparameter "lowmem"
zoals in Paragraaf 5.3.2, "Parameters voor het installatiesysteem van Debian"
beschreven wordt.

6.3.1.2. Lokalisatiekeuzes maken

Over het algemeen zullen de eerste vragen die u gesteld worden, betrekking
hebben op de lokalisatie voor zowel de installatie als het geïnstalleerde
systeem. De lokalisatie-keuzes betreffen taal, land en taalgebied (locale).

De taal die u kiest zal worden gebruikt tijdens het vervolg van de installatie,
tenminste als een vertaling van de verschillende dialogen beschikbaar is. Als
voor de geselecteerde taal geen geldige vertaling beschikbaar is, zal het
installatiesysteem terugvallen op Engels.

De geselecteerde geografische locatie (een land in de meeste gevallen) zal
later in het installatieproces worden gebruikt om de correcte tijdzone te
selecteren en een voor dat land geschikte Debian spiegelserver. Taal en land
samen zullen helpen bij het bepalen wat het standaard taalgebied (locale) voor
uw systeem is en bij de selectie van de correcte toetsenbordindeling.

Allereerst zal worden gevraagd welke taal uw voorkeur heeft. De naam van de
taal wordt zowel in het Engels (links) als in de taal zelf (rechts)
weergegeven; de naam van de rechterkant wordt ook gebruikt in het gepaste
script voor die taal. De lijst wordt gesorteerd op de Engelse namen. Bovenaan
de lijst vindt u een extra optie waarmee u, in plaats van een taal, de "C"
-locale kunt selecteren. Het kiezen van de"C"-locale heeft tot gevolg dat de
installatie in het Engels zal plaatsvinden; daarnaast zal het geïnstalleerde
systeem geen ondersteuning voor lokalisatie hebben, aangezien het pakket
localesniet zal worden geïnstalleerd.

Nadien zal u gevraagd worden uw geografische locatie te selecteren. Als u een
taal heeft geselecteerd die als officiële taal wordt erkend in meer dan één
land^[6], zal een keuzelijst worden getoond met daarin alleen die landen. Om
een land te kiezen dat niet in de lijst voorkomt, kiest u de optie ander (de
laatste keuzemogelijkheid). U krijgt dan een keuzelijst met continenten; na de
selectie van een continent volgt een keuzelijst met landen die behoren tot dat
continent.

Als met de taal slechts één land geassocieerd wordt, zult u een keuzelijst
krijgen met de landen van het continent of de regio waar dat land deel van
uitmaakt, waarbij dat specifieke land reeds als standaard geselecteerd is.
Gebruik de optie Terug om een land uit een ander continent te selecteren.

Opmerking

Het is belangrijk om het land waar u woont of waar u verblijft te selecteren,
omdat op basis daarvan de tijdzone voor het geïnstalleerde systeem
geconfigureerd wordt.

Indien u een combinatie van land en taal selecteerde waarvoor geen taalgebied
gedefinieerd is en er verschillende taalgebieden zijn met die taal, dan zal het
installatiesysteem u laten kiezen welke van die taalgebieden u verkiest als
standaard voor het geïnstalleerde systeem^[7]. In alle andere gevallen zal op
basis van de geselecteerde taal en het geselecteerde land een
standaardtaalgebied geselecteerd worden.

Elk taalgebied dat als standaard geselecteerd wordt op de in de vorige
paragraaf beschreven manier, zal UTF-8 als tekencodering gebruiken.

Indien u instelde dat tijdens de installatie ook vragen met een lage prioriteit
moeten gesteld worden, zult u de mogelijkheid hebben om bijkomende taalgebieden
te selecteren en ze voor het geïnstalleerde systeem te laten aanmaken, met
inbegrip van zogenaamde "oudere" taalgebieden^[8]. Indien u dit doet, zal u
gevraagd worden welk van de geselecteerde taalgebieden op het geïnstalleerde
systeem als standaard beschouwd moet worden.

6.3.1.3. Een toetsenbord selecteren

De indeling van toetsenborden is vaak aangepast aan de tekens die in een taal
worden gebruikt. Selecteer een indeling die overeenkomt met het toetsenbord dat
u gebruikt. Als uw toetsenbordindeling niet in de lijst voorkomt, kies dan de
indeling die het best in de buurt komt. U kunt, nadat de installatie is
voltooid, een toetsenbordindeling kiezen uit een meer uitgebreide selectie
(geef hiervoor, nadat u de installatie heeft afgerond, als systeembeheerder het
commando dpkg-reconfigure keyboard-configuration).

Verplaats de selectie naar het toetsenbord dat u wilt selecteren en druk op 
Enter. Gebruik de pijltjestoetsen om de selectie te verplaatsen -- zij zitten
op alle toetsenbordindelingen op dezelfde plaats en zijn dus onafhankelijk van
de toetsenbordconfiguratie.

6.3.1.4. Het ISO-image met het Debian installatiesysteem opzoeken

Als u de hd-media-installatiemethode gebruikt, komt er een moment waarop u het
ISO-image met het Debian installatiesysteem zult moeten lokaliseren en
aankoppelen om het restant van de installatiebestanden te laden. Dit is de taak
van de component iso-scan.

Allereerst zal iso-scan automatisch alle blok-apparaten (d.w.z. partities en
logische volumes) met daarop een bekend bestandssysteem, aankoppelen en deze
achtereenvolgens doorzoeken op bestanden met een extensie .iso (en trouwens ook
.ISO). Merk op dat tijdens de eerste poging alleen de hoogste twee niveau's van
de mapstructuur zullen worden doorzocht (d.w.z. dat bijvoorbeeld /willekeurig
.iso en /data/willekeurig.iso gevonden zullen worden, maar bijvoorbeeld niet /
data/tmp/willekeurig.iso). Nadat een ISO-image gevonden werd, controleert 
iso-scan de inhoud ervan om na te gaan of het image een geldig Debian ISO-image
is of niet. In het eerste geval zijn we klaar, in het tweede geval zoekt 
iso-scan verder naar een image.

Als de eerste poging om een ISO-installatie-image te vinden faalt, zal iso-scan
u vragen of u een meer uitgebreide zoektocht wilt laten uitvoeren. Tijdens deze
poging zal niet alleen in de hoogste mappen worden gezocht, maar wordt echt het
volledige bestandssysteem doorlopen.

Als iso-scan uw ISO-installatie-image niet kan vinden, start de computer dan
opnieuw op met uw oorspronkelijk besturingssysteem en controleer of het image
een correcte naam heeft (dus eindigend op.iso), of het staat op een
bestandssysteem dat door debian-installer wordt herkend en of het niet
beschadigd is (verifieer de checksum). Ervaren gebruikers van Unix kunnen deze
handelingen eventueel uitvoeren op de tweede console zonder het systeem opnieuw
op te starten.

Merk op dat de partitie (of schijf) waarop het ISO-image staat tijdens het
installatieproces niet hergebruikt kan worden, aangezien deze gebruik wordt
door het installatieprogramma. Om hieraan een mouw te passen en in de
veronderstelling dat u over voldoende systeemgeheugen beschikt, kan het
installatieprogramma het ISO-image naar het RAM-geheugen kopiëren voordat het
aangekoppeld wordt. Dit wordt geregeld door de debconf-vraag met lage
prioriteit iso-scan/copy_iso_to_ram (deze wordt enkel gesteld als aan de
geheugenvereisten voldaan wordt).

6.3.1.5. Het netwerk configureren

Als u met deze fase begint en het systeem detecteert dat u meer dan één
netwerkkaart heeft, zal u worden gevraagd welke van de apparaten u wilt
gebruiken voor uw primaire netwerkinterface, dat wil zeggen, die welke u wilt
gebruiken voor de installatie. De overige interfaces zullen op dit punt niet
geconfigureerd worden. U kunt bijkomende interfaces configureren nadat de
installatie is voltooid; zie hiervoor de man-pagina interfaces(5).

6.3.1.5.1. Automatische netwerkconfiguratie

Standaard zal debian-installer proberen uw netwerkinterface in de mate van het
mogelijke automatisch in te stellen. Er zijn verschillende redenen waarom dit
kan mislukken, variërend van het niet aangesloten zijn van de netwerkkabel tot
het ontbreken van de nodige infrastructuur om een automatische configuratie
mogelijk te maken. Als het fout loopt, kunt u voor nadere diagnose de
foutmeldingen op de vierde console raadplegen. In elk geval zal u worden
gevraagd of u een nieuwe poging wilt wagen of dat u het netwerk handmatig wilt
configureren. Soms kunnen de netwerkdiensten die instaan voor de automatische
configuratie traag reageren, en als u zeker weet dat alles aanwezig is, kunt u
dus gewoon de nieuwe poging tot automatisch configureren starten. Indien het
automatisch configureren blijft mislukken, kun u ter vervanging opteren voor de
handmatige configuratie.

6.3.1.5.2. Handmatige netwerkconfiguratie

Bij een handmatige configuratie van de netwerkinterface, zal u een aantal
vragen worden gesteld over uw netwerk, te weten: IP-adres, Netwerkmasker,
Gateway, Adressen van naamservers, en een Computernaam (host-naam). Als u
beschikt over een draadloos netwerkapparaat, zal u worden gevraagd naar het
draadloos ESSID ("de naam van het draadloos netwerk") en een WEP-sleutel of een
WPA/WPA2 wachtwoordzin. Voer de antwoorden uit Paragraaf 3.3, "Benodigde
informatie" in.

Opmerking

De volgende technische details kunnen mogelijk van pas komen (of niet). Het
programma gaat ervan uit dat het IP-adres van het netwerk het resultaat is van
een bitsgewijze AND-operatie van het IP-adres van uw systeem met het
netwerkmasker. Het standaard broadcast-adres wordt berekend als het resultaat
van een bitsgewijze OR-operatie van het IP-adres van uw systeem met de
bitsgewijze NOT van het netwerkmasker. Ook zal het een veronderstelling maken
voor uw gateway. Gebruik de voorgestelde standaardwaarden als u de juiste
waarden voor de antwoorden niet kunt vinden -- u kunt ze, indien nodig, altijd
nog wijzigen nadat de installatie is afgerond door het bestand /etc/network/
interfaces te wijzigen.

6.3.1.5.3. IPv4 en IPv6

Sinds Debian GNU/Linux 7.0 ("Wheezy") ondersteunt debian-installer zowel IPv6
als het "klassieke" IPv4. Alle combinaties van IPv4 en IPv6 (uitsluitend IPv4,
uitsluitend IPv6 en zogenaamde dual-stack configuraties met de beide types
adressen) worden ondersteund.

Autoconfiguratie voor IPv4 gebeurt via DHCP (Dynamic Host Configuration
Protocol), een protocol voor de dynamische netwerkconfiguratie van de computer.
De autoconfiguratie voor IPv6 ondersteunt statusloze autoconfiguratie met NDP
(Neighbor Discovery Protocol, met inbegrip van recursieve toewijzing van een
DNS server (RDNSS)), statusloze autoconfiguratie via DHCPv6 en gemengde
statusloze/statusgeoriënteerde autoconfiguratie (adresconfiguratie via NDP,
bijkomende parameters via DHCPv6).

6.3.2. Gebruikers en wachtwoorden instellen

Juist voor de klok ingesteld wordt, zal het installatiesysteem u in staat
stellen om het "root"-account (het systeembeheerdersaccount) en/of een account
voor de eerste gebruiker in te stellen. Accounts voor andere gebruikers kunnen
worden aangemaakt nadat de installatie is afgerond.

6.3.2.1. Het wachtwoord voor root instellen

Het root-account wordt ook wel de super-user genoemd; het is een login die alle
beveiligingen op uw systeem omzeilt. Het root-account dient alleen te worden
gebruikt voor systeembeheer en altijd gedurende de kortst mogelijke tijd.

Elk wachtwoord dat u aanmaakt zou uit tenminste 6 tekens moeten bestaan en zou
zowel hoofd- als kleine letters en ook leestekens moeten bevatten. Wees extra
zorgvuldig als u het wachtwoord voor root instelt, aangezien dit account zo
krachtig is. Vermijd woorden die voorkomen in woordenboeken of het gebruik van
persoonlijke gegevens die eenvoudig kunnen worden geraden.

Wees erg op uw hoede als iemand u ooit vertelt dat hij het wachtwoord van uw
root-account nodig heeft. Normaal gesproken zou u het wachtwoord voor uw
root-account nooit mogen onthullen, tenzij u een machine beheert die meer dan
één systeembeheerder heeft.

Indien u hier geen wachtwoord opgeeft voor de gebruiker "root", zal dit account
uitgeschakeld worden, maar zal later het pakket sudo geïnstalleerd worden om
het uitvoeren van beheerstaken op het nieuwe systeem mogelijk te maken.
Standaard zal de eerste gebruiker die aangemaakt wordt op het systeem, de
toelating krijgen om het commando sudo te gebruiken om gebruiker root te
worden.

6.3.2.2. Een gewone gebruiker aanmaken

Het systeem zal u op dit punt ook vragen of u een gewoon gebruikersaccount wilt
aanmaken. Dit account dient om u op het systeem aan te melden. Het is niet de
bedoeling dat u het root-account gebruikt voor dagelijks gebruik of als uw
persoonlijke login.

Waarom niet? Wel, één reden om het gebruik van de privileges van root te
vermijden, is dat het zeer eenvoudig is om als root onherstelbare schade aan te
richten. Een andere reden is dat u erin geluisd zou kunnen worden om een
programma uit te voeren met daarin verborgen een Trojaans paard -- een Trojaans
paard is een programma dat misbruik maakt van uw rechten als super-user om
achter uw rug de beveiliging van uw systeem te ontwrichten. In elk degelijk
boek over systeembeheer voor Unix wordt meer uitgebreid ingegaan op dit
onderwerp -- overweeg om er één te lezen als dit nieuw voor u is.

U zult eerst worden gevraagd om de volledige naam van de gebruiker in te
voeren. Vervolgens wordt u gevraagd naar een naam voor het gebruikersaccount;
in het algemeen is uw voornaam (de standaardwaarde) of iets dergelijks
afdoende. Tot slot zal een wachtwoord voor dit account worden gevraagd.

Als u op enig moment na de installatie nog een ander gebruikersaccount wilt
aanmaken, kunt u het commando adduser gebruiken.

6.3.3. De klok en de tijdzone instellen

Het installatiesysteem zal allereerst proberen om verbinding te maken met een
tijdserver op het Internet (gebruikmakend van het NTP-protocol) om op basis
daarvan de systeemtijd juist in te stellen. Als dit mislukt, zal het
installatiesysteem ervan uitgaan dat de datum en tijd die het tijdens het
opstarten van de interne systeemklok kreeg, juist zijn. Het is niet mogelijk om
tijdens de installatie de systeemtijd handmatig in te stellen.

Afhankelijk van de eerder in het installatieproces geselecteerde locatie, kan
een keuzelijst getoond worden met tijdzones die relevant zijn voor die locatie.
Als er voor uw locatie slechts één tijdzone bestaat en u een
standaardinstallatie uitvoert, zal u niets worden gevraagd en zal het systeem
ervan uitgaan dat dit de correcte tijdzone is.

In expertmodus of bij een installatie waarbij ook vragen gesteld worden die een
prioriteit medium hebben, zult u de extra mogelijkheid hebben om "Coordinated
Universal Time" (UTC - de gecoördineerde wereldtijd) als tijdzone te
selecteren.

Als u, om wat voor reden dan ook, voor het geïnstalleerde systeem een tijdzone
wilt instellen die niet past bij de geselecteerde locatie, dan zijn er twee
opties.

 1. De meest eenvoudige optie is om gewoon een andere tijdzone in te stellen
    nadat de installatie is afgerond en u uw nieuwe systeem heeft opgestart.
    Het commando hiervoor is:

    # dpkg-reconfigure tzdata

 2. Een alternatieve mogelijkheid is om de tijdzone helemaal aan het begin van
    de installatie op te geven door de parameter time/zone=waarde mee te geven
    bij het opstarten van het installatiesysteem. De waarde dient uiteraard een
    geldige tijdzone te zijn, zoals Europe/Amsterdam of UTC.

Voor geautomatiseerde installaties kan de tijdzone op om het even welke
gewenste waarde worden ingesteld door gebruik te maken van voorconfiguratie
(preseeding).

6.3.4. Schijfindeling en selectie van aankoppelpunten

Op dit punt, nadat voor de laatste keer hardwareherkenning heeft
plaatsgevonden, heeft debian-installer zijn volledige sterkte bereikt:
aangepast aan de behoeften van de gebruiker en klaar voor het echte werk. Zoals
de titel van dit onderdeel aangeeft, is de voornaamste taak van de volgende
componenten het indelen van uw harde schijven, het creëren van bestandssystemen
en het toewijzen van aankoppelpunten. Facultatief kunnen nauw gerelateerde
zaken als RAID, LVM of versleutelde partities worden geconfigureerd.

Als u weinig ervaring heeft met het indelen van schijven of gewoon meer
gedetailleerde informatie wenst, kunt u Bijlage C, Schijven indelen voor Debian
raadplegen.

Allereerst zal u de gelegenheid worden geboden om ofwel een gehele harde schijf
of de beschikbare vrije ruimte op een schijf automatisch in te delen. Dit wordt
ook "begeleide" schijfindeling genoemd. Als u de schijf niet automatisch wenst
in te delen, kies dan de optie Schijfindeling handmatig uitvoeren uit het menu.

6.3.4.1. Ondersteunde schijfindelingsopties

Het schijfindelingsprogramma dat in debian-installer gebruikt wordt, is
behoorlijk veelzijdig. Het laat toe om uiteenlopende schijfindelingsschema's,
verschillende partitietabellen en bestandssystemen en gespecialiseerde
blokapparaten te gebruiken.

Welke opties precies beschikbaar zijn, hangt hoofdzakelijk af van de
architectuur, maar ook nog van andere factoren. Op systemen met een beperkt
intern geheugen bijvoorbeeld, kunnen bepaalde opties niet beschikbaar zijn. Wat
als standaard geldt, kan ook verschillend zijn. Het type partitietabel dat
standaard gebruikt wordt, kan bijvoorbeeld anders zijn voor harde schijven met
een grote opslagcapaciteit dan voor kleinere harde schijven. Sommige opties
kunnen enkel aangepast worden als men een installatie uitvoert met een
gemiddelde (medium) of lage (low) debconf-prioriteit (waarbij dus ook de vragen
die een gemiddelde of lage prioriteit hebben, gesteld worden) . Bij een hogere
prioriteit zullen redelijke standaardwaarden gehanteerd worden.

Het installatiesysteem ondersteunt verschillende gespecialiseerde vormen van
schijfindeling en gebruik van opslagapparatuur, die in veel gevallen met elkaar
gecombineerd kunnen worden.

  • Logical Volume Management (LVM) - logisch volumebeheer

  • Software RAID

    Ondersteunde RAID-niveaus zijn 0, 1, 4, 5, 6 en 10.

  • Encryptie

  • Seriële ATA RAID (met dmraid)

    Wordt ook "fake RAID" (onechte RAID) of "BIOS RAID" genoemd. De
    ondersteuning voor seriële ATA RAID is momenteel enkel beschikbaar als deze
    bij het opstarten van het installatiesysteem geactiveerd werd. Bijkomende
    informatie is te vinden op onze Wiki.

  • Multipath (experimenteel)

    Raadpleeg onze Wiki voor informatie. De ondersteuning voor multipath (een
    techniek die meerdere paden tussen CPU en opslagapparaat gebruikt) is
    momenteel enkel beschikbaar als deze geactiveerd werd bij het opstarten van
    het installatiesysteem.

De volgende bestandssystemen worden ondersteund.

  • ext2, ext3, ext4

    Meestal is ext4 geselecteerd als standaard bestandssysteem. Voor /
    boot-partities zal bij een begeleide schijfindeling ext2 als standaard
    geselecteerd zijn.

  • jfs (niet op alle architecturen beschikbaar)

  • xfs (niet op alle architecturen beschikbaar)

  • reiserfs (facultatief; niet op alle architecturen beschikbaar)

    Ondersteuning voor het Reiser bestandssysteem is niet langer standaard
    beschikbaar. Als het installatiesysteem uitgevoerd wordt met een gemiddelde
    (medium) of lage (low) debconf-prioriteit (waardoor het installatiesysteem
    ook vragen met een gemiddelde of lage prioriteit stelt), kan die
    ondersteuning geactiveerd worden door de component partman-reiserfs te
    selecteren. Enkel versie 3 van het bestandssysteem wordt ondersteund.

  • qnx4

    Bestaande partities zullen herkend worden en het is mogelijk om er
    aankoppelpunten aan toe te kennen. Het is niet mogelijke om nieuwe
    qnx4-partities aan te maken.

  • FAT16, FAT32

  • NTFS (alleen-lezen)

    Van bestaande NTFS-partities kan de grootte aangepast worden en het is
    mogelijk om er aankoppelpunten aan toe te kennen. Het is niet mogelijk om
    nieuwe NTFS-partities aan te maken.

6.3.4.2. Begeleide schijfindeling

Als u kiest voor begeleide schijfindeling, heeft u drie mogelijke opties: de
partities direct op de harde schijf aanmaken (de klassieke methode), of ze
aanmaken met behulp van logisch volumebeheer (LVM), of ze aanmaken met behulp
van geëncrypteerd LVM^[9].

Opmerking

De optie om gebruik te maken van (geëncrypteerd) LVM is mogelijk niet op alle
architecturen beschikbaar.

Als u LVM of geëncrypteerd LVM gebruikt, zal het installatiesysteem de meeste
partities aanmaken binnenin één grote partitie; het voordeel van deze methode
is dat de grootte van de partities binnen die overkoepelende partitie later
relatief eenvoudig kan worden gewijzigd. Als het een geëncrypteerd LVM betreft,
zal de grote partitie niet leesbaar zijn zonder dat men de unieke sleutel kent.
Op die manier worden uw (persoonlijke) gegevens extra beveiligd.

Als u geëncrypteerd LVM gebruikt, zal het installatiesysteem de schijf ook
automatisch wissen door er willekeurige data op te schrijven. Dit verhoogt de
beveiliging nog meer (omdat het daardoor niet mogelijk is uit te maken welke
delen van de schijf in gebruik zijn en het ook garandeert dat elk spoor van een
eerdere installatie gewist wordt), maar afhankelijk van de grootte van uw
schijf kan dit wat tijd in beslag nemen.

Opmerking

Indien u kiest voor begeleide schijfindeling met LVM of geëncrypteerd LVM,
moeten bepaalde wijzigingen aan de partitietabel naar de gekozen schijf
geschreven worden tijdens het opzetten van LVM. Deze wijzigingen wissen
effectief alle gegevens die momenteel op de geselecteerde harde schijf staan en
ze later herstellen zal niet mogelijk zijn. Het installatiesysteem zal u
evenwel om bevestiging vragen vooraleer die wijzigingen naar schijf geschreven
worden.

Indien u kiest voor de begeleide schijfindeling (ofwel een klassieke
schijfindeling ofwel een schijfindeling met (geëncrypteerd) LVM) van een
volledige schijf, zal u eerst gevraagd worden de schijf te selecteren die u
wenst te gebruiken. Ga na of al uw schijven vermeld worden en als u
verschillende schijven heeft, moet u er op letten de juiste te selecteren. De
volgorde waarin ze opgesomd staan kan anders zijn dan u gewoon bent. De grootte
van de schijven kan u helpen om ze te herkennen.

Alle gegevens op de geselecteerde schijf zullen uiteindelijk verloren gaan,
maar er zal u altijd om bevestiging gevraagd worden bij het maken van
veranderingen vooraleer ze op de schijf toegepast worden. Indien u de klassieke
schijfindelingsmethode selecteerde, zult u tot op het einde de kans hebben om
alle wijzigingen ongedaan te maken. Indien u (geëncrypteerd) LVM gebruikt is
dit niet mogelijk.

Vervolgens zult u kunnen kiezen uit de schema's die in de onderstaande tabel
weergegeven worden. Elk van deze schema's heeft zijn voor- en nadelen, waarvan
een aantal wordt besproken in Bijlage C, Schijven indelen voor Debian. Als u
twijfelt, kies dan de eerste optie. Merk op dat begeleide schijfindeling een
zekere minimale vrije schijfruimte nodig heeft om te kunnen werken. Als u niet
tenminste ongeveer 1GB ruimte (afhankelijk van het gekozen schema) ter
beschikking kunt stellen, zal de begeleide schijfindeling mislukken.

┌──────────────────────────────────────┬─────────────┬───────────────────────┐
│        Schijfindelingsschema         │  Minimale   │ Aangemaakte partities │
│                                      │   ruimte    │                       │
├──────────────────────────────────────┼─────────────┼───────────────────────┤
│Alle bestanden op één partitie        │600MB        │/, swap                │
├──────────────────────────────────────┼─────────────┼───────────────────────┤
│Afzonderlijke partitie /home          │500MB        │/, /home, swap         │
├──────────────────────────────────────┼─────────────┼───────────────────────┤
│Afzonderlijke partities /home, /var en│1GB          │/, /home, /var, /tmp,  │
│/tmp                                  │             │swap                   │
└──────────────────────────────────────┴─────────────┴───────────────────────┘

Als u kiest voor begeleide schijfindeling met gebruik van (geëncrypteerd) LVM,
dan zal het installatiesysteem ook een afzonderlijke /boot partitie aanmaken.
Alle andere partities, met inbegrip van de partitie voor wisselgeheugen (swap),
zullen worden aangemaakt binnenin de LVM-partitie.

Indien u opstartte in EFI-modus dan zal er bij de begeleide schijfindeling een
extra partitie, geformatteerd als een opstartbaar FAT32-bestandssysteem,
aangemaakt worden voor de EFI-bootloader. Deze partitie wordt een EFI System
Partition (ESP) genoemd. Het formatteringsmenu bevat ook een extra item voor
het manueel instellen van een partitie als een ESP.

Nadat u een schema heeft geselecteerd, zal op het volgende scherm de nieuwe
partitietabel worden getoond met daarbij indicaties of en hoe deze
geformatteerd zullen worden en op welke aankoppelpunten ze aangekoppeld zullen
worden.

De lijst met partities zou er zo uit kunnen zien:

  SCSI1 (0,0,0) (sda) - 6.4 GB WDC AC36400L
        #1 primary   16.4 MB  B f ext2       /boot
        #2 primary  551.0 MB      swap       swap
        #3 primary    5.8 GB      ntfs
           pri/log    8.2 MB      VRIJE RUIMTE

  SCSI2 (1,0,0) (sdb) - 80.0 GB ST380021A
        #1 primary   15.9 MB      ext3
        #2 primary  996.0 MB      fat16
        #3 primary    3.9 GB      xfs        /home
        #5 logical    6.0 GB    f ext4       /
        #6 logical    1.0 GB    f ext3       /var
        #7 logical  498.8 MB      ext3

Dit voorbeeld toont twee harde schijven die zijn opgedeeld in verschillende
partities; de eerste schijf heeft nog vrije ruimte. Elke partitieregel bestaat
uit partitienummer, type, grootte, facultatieve opties, bestandssysteem en het
aankoppelpunt (eventueel). Merk op dat de hier weergegeven indeling niet kan
worden gerealiseerd met behulp van de begeleide schijfindeling. Zij toont
echter wel de flexibiliteit die kan worden bereikt met handmatige
schijfindeling.

Hiermee is de begeleide schijfindeling voltooid. Als u tevreden bent met de
gegenereerde partitietabel, kunt u de menuoptie Schijfindeling afronden en
veranderingen naar schijf schrijven kiezen om de nieuwe partitietabel te
implementeren (zoals beschreven wordt aan het einde van dit onderdeel). Als u
nog niet tevreden bent, kunt u kiezen voor Veranderingen aan partities ongedaan
maken en de begeleide schijfindeling nogmaals uitvoeren of de voorgestelde
indeling wijzigen zoals hieronder beschreven wordt voor de handmatige
schijfindeling.

6.3.4.3. Handmatige schijfindeling

Als u kiest voor handmatige schijfindeling, zal een vergelijkbaar scherm worden
getoond als hiervoor weergegeven, maar dan met uw bestaande partitietabel en
nog zonder aankoppelpunten. Hoe u handmatig de partitietabel kunt opstellen en
het gebruik van partities door uw nieuwe Debian systeem worden in de rest van
dit onderdeel behandeld.

Als u een nog maagdelijke schijf zonder partities of vrije ruimte selecteert,
zal u gevraagd worden of een nieuwe partitietabel aangemaakt moet worden (deze
is nodig om partities te kunnen aanmaken). Daarna zou in de tabel onder de
geselecteerde schijf een nieuwe regel met als titel "VRIJE RUIMTE" (FREE SPACE)
moeten verschijnen.

Als u vrije ruimte selecteert, krijgt u de gelegenheid om een nieuwe partitie
te creëren. U zult een korte serie vragen over grootte, type (primair of
logisch) en positie (aan het begin of het einde van de vrije ruimte) moeten
beantwoorden. Daarna krijgt u een gedetailleerd overzicht van de nieuwe
partitie. Het belangrijkste element is Gebruiken als: (Use as:), waarin
vastgelegd wordt of er op de partitie een bestandssysteem geplaatst wordt, of
ze gebruikt zal worden als wisselgeheugen, voor software RAID, voor LVM, als
een geëncrypteerd bestandssysteem of helemaal niet gebruikt zal worden. Andere
instellingen betreffen aankoppelpunt, aankoppelopties en de indicatie of de
partitie opstartbaar moet zijn. Welke instellingen getoond worden, is
afhankelijk van waarvoor de partitie gebruikt zal worden. Als de
standaardwaarden u niet bevallen, kunt u ze naar behoefte wijzigen. Door
bijvoorbeeld de optie Gebruiken als: te selecteren, kunt u een ander
bestandssysteem voor de partitie selecteren, inclusief de mogelijkheid om de
partitie te gebruiken voor wisselgeheugen (swap), software RAID, LVM of om de
partitie helemaal niet te gebruiken. Als u tevreden bent met de nieuwe partitie
kiest u Klaar met het instellen van de partitie waarna u terugkeert naar het
hoofdscherm van partman.

Als u een instelling van een partitie wilt wijzigen, selecteert u gewoon die
partitie waarna u in het configuratiemenu voor de partitie komt. Dit is
hetzelfde scherm als datgene voor het aanmaken van een nieuwe partitie en u
kunt dus dezelfde instellingen wijzigen. Iets wat mogelijk niet meteen
duidelijk is, is dat u de grootte van een partitie kunt wijzigen door het item
dat de grootte van de partitie aangeeft, te selecteren. Bestandssystemen
waarvan bekend is dat ze werken, zijn in ieder geval fat16, fat32, ext2, ext3
en swap. Dit menu stelt u ook in staat om een partitie te verwijderen.

Zorg ervoor dat u tenminste twee partities aanmaakt: één voor hetroot
-bestandssysteem, het basisbestandssysteem, (dat aangekoppeld moet worden aan
het aankoppelpunt /) en één voor swap, het wisselgeheugen. Als u vergeet om het
basisbestandssysteem aan te koppelen, zal partman u niet voort laten doen tot
dit probleem is verholpen.

Als u opstartte in EFI-modus maar vergeet om een EFI Systeem Partitie te
selecteren en te formatteren, zalpartman dit vaststellen en u beletten voort te
gaan tot u er een heeft toegewezen.

De functionaliteit van partman kan worden vergroot met behulp van modules voor
het installatiesysteem, maar die functionaliteit is afhankelijk van de
architectuur van uw systeem. Als u dus niet alle beschreven mogelijkheden
terugvindt, controleer dan of alle vereiste modules (zoals partman-ext3,
partman-xfs of partman-lvm) zijn geladen.

Als u tevreden bent met het eindresultaat van de schijfindeling, kiest u in het
schijfindelingsmenu de optie Schijfindeling afronden en veranderingen naar
schijf schrijven. Daarna zal een overzicht worden getoond van de aan de
schijven aangebrachte wijzigingen en zal u worden gevraagd om te bevestigen dat
de gewenste bestandssystemen wel degelijk moeten aangemaakt worden.

6.3.4.4. Meervoudige schijfapparaten configureren (Software RAID)

Als u in uw computer meer dan één harde schijf^[10] heeft, kunt u partman-md
gebruiken om uw schijfeenheden te configureren met betere prestaties en/of
grotere gegevensbetrouwbaarheid als doel. Het resultaat wordt een Multidisk
Device (MD) genoemd, een meervoudig schijfapparaat, of naar zijn meest bekende
variant, een Software RAID).

MD is in feite niets meer dan een verzameling partities op verschillende harde
schijven die worden gecombineerd om gezamenlijk één logisch apparaat te vormen.
Dit apparaat kan vervolgens worden gebruikt als een gewone partitie (dat wil
zeggen dat u het in partman kunt formatteren, er een aankoppelpunt kunt aan
toewijzen, enz.).

Het voordeel dat u behaalt, is afhankelijk van het soort MD-apparaat dat u
creëert. Op dit moment worden ondersteund:

RAID0

    Is hoofdzakelijk gericht op prestatieverbetering. RAID0 splitst alle
    binnenkomende gegevens op in blokken (ook wel stripes genoemd) en verdeelt
    deze gelijkmatig over elke schijf in de reeks. Dit kan de snelheid van
    lees- en schrijfoperaties verhogen, maar als één van de schijven defect
    raakt, verliest u alles (een deel van de informatie staat nog wel op de
    'gezonde' schijf/schijven, maar een ander deel stond op de defecte schijf).

    RAID0 wordt bijvoorbeeld veel toegepast voor video-bewerking.

RAID1

    Is geschikt voor situaties waar betrouwbaarheid de belangrijkste overweging
    is. Het bestaat uit verschillende (gewoonlijk twee) partities van gelijke
    grootte, waarbij beide partities exact dezelfde gegevens bevatten. In
    essentie betekent dit drie dingen. Ten eerste heeft u, als één van de
    schijven defect raakt, nog altijd de gegevens op de overige schijven staan.
    Ten tweede kunt u effectief slechts een deel van de beschikbare capaciteit
    gebruiken (meer exact: ter grootte van de kleinste partitie in de RAID).
    Ten derde wordt de belasting bij het lezen van gegevens verdeeld over de
    schijven. Dit kan de prestaties verbeteren wanneer op een server doorgaans
    meer lees- dan schrijfacties plaatsvinden, zoals bij een bestandsserver het
    geval is.

    Desgewenst kunt u een reserve harde schijf in de reeks opnemen die bij een
    storing de plaats zal innemen van de defecte schijf.

RAID5

    Is een goed compromis tussen snelheid, betrouwbaarheid en
    gegevensredundantie. Bij RAID5 worden binnenkomende gegevens gesplitst in
    blokken en gelijkmatig verdeeld over alle harde schijven op één na
    (vergelijkbaar met RAID0). In afwijking van RAID0, wordt bij RAID5 ook
    pariteitsinformatie berekend die op de overgebleven schijf wordt
    weggeschreven. De harde schijf met de pariteitsinformatie is niet statisch
    (dat zou RAID4 zijn), maar wordt periodiek gewijzigd zodat de
    pariteitsinformatie gelijkelijk wordt verdeeld over alle schijven. Als één
    van de schijven defect raakt, kan het ontbrekende deel van de informatie
    worden berekend op basis van de resterende gegevens en hun pariteit. RAID5
    dient te zijn opgebouwd uit tenminste drie actieve partities. Desgewenst
    kunt u een reservehardeschijf in de reeks opnemen die bij een storing de
    plaats zal innemen van de defecte schijf.

    Zoals u kunt zien, heeft RAID5 een vergelijkbare mate van betrouwbaarheid
    als RAID1 terwijl de opslag minder redundant is. Aan de andere kant is het,
    in verband met de berekening van de partiteitsinformatie, mogelijk iets
    trager bij schrijfoperaties dan RAID0.

RAID6

    Is vergelijkbaar met RAID5 behalve dat het twee pariteitsapparaten gebruikt
    in plaats van één.

    Een reeks schijven van het type RAID6 kan zich herstellen van wel twee
    defecte harde schijven.

RAID10

    RAID10 combineert het werken met blokken (zoals in RAID0) en met spiegeling
    (zoals in RAID1). Het maakt n kopieën van inkomende gegevens en verdeelt ze
    over de partities, zodanig dat zich nooit meer dan één kopie van dezelfde
    gegevens op hetzelfde apparaat bevindt. De standaardwaarde voor n is 2,
    maar in de expertmodus kan het op een andere waarde ingesteld worden. Het
    aantal gebruikte partities moet minstens n zijn. RAID10 hanteert
    verschillende modellen om de kopieën te verdelen. Het standaardmodel werkt
    met nabije-kopieën (near copies). Daarbij bevindt de kopie zich op elk van
    de schijven op ongeveer dezelfde offset. Bij verre-kopieën (far copies)
    bevinden de kopieën zich op de schijven op verschillende offsets. Bij
    offset-kopieën wordt het blok gekopieerd, niet de individuele kopie.

    RAID10 kan gebruikt worden om betrouwbaarheid en redundantie te bekomen
    zonder het nadeel van de pariteitsberekening.

Samenvattend:

┌──────┬─────────┬─────────────┬──────────────┬───────────────────────────────┐
│      │ Minimum │             │Overleeft een │                               │
│ Type │ aantal  │Reserveschijf│schijfstoring?│      Beschikbare ruimte       │
│      │apparaten│             │              │                               │
├──────┼─────────┼─────────────┼──────────────┼───────────────────────────────┤
│      │         │             │              │Grootte van de kleinste        │
│RAID0 │2        │nee          │nee           │partitie vermenigvuldigd met   │
│      │         │             │              │het aantal apparaten in de RAID│
├──────┼─────────┼─────────────┼──────────────┼───────────────────────────────┤
│RAID1 │2        │facultatief  │ja            │Grootte van de kleinste        │
│      │         │             │              │partitie in de RAID            │
├──────┼─────────┼─────────────┼──────────────┼───────────────────────────────┤
│      │         │             │              │Grootte van de kleinste        │
│RAID5 │3        │facultatief  │ja            │partitie vermenigvuldigd met   │
│      │         │             │              │(het aantal apparaten in de    │
│      │         │             │              │RAID minus één)                │
├──────┼─────────┼─────────────┼──────────────┼───────────────────────────────┤
│      │         │             │              │Grootte van de kleinste        │
│RAID6 │4        │facultatief  │ja            │partitie vermenigvuldigd met   │
│      │         │             │              │(het aantal apparaten in de    │
│      │         │             │              │RAID minus twee)               │
├──────┼─────────┼─────────────┼──────────────┼───────────────────────────────┤
│      │         │             │              │Het totaal aantal partities    │
│RAID10│2        │facultatief  │ja            │gedeeld door het aantal keer   │
│      │         │             │              │dat elk fragment gekopieerd    │
│      │         │             │              │wordt (standaard twee maal)    │
└──────┴─────────┴─────────────┴──────────────┴───────────────────────────────┘

Als u meer wilt weten over software RAID, raadpleeg dan de Software RAID HOWTO.

Om een MD-apparaat aan te maken, moet u de partities waarvan u wilt dat ze er
deel van uitmaken, markeren om gebruikt te worden in een RAID. (U doet dit in 
partman in het menu met Partitie-instellingen. Daar selecteert u Gebruiken als:
→ Fysiek volume voor RAID.)

Opmerking

Zorg ervoor dat het systeem opgestart zal kunnen worden met het
schijfindelingsschema dat u in gedachten heeft. Over het algemeen zal het nodig
zijn om een apart bestandssysteem aan te maken voor /boot als u voor het
basisbestandssysteem (/) RAID wilt gebruiken. De meeste bootloaders (waaronder
grub) ondersteunen de spiegelende vorm (niet de met blokken werkende of striped
vorm!) van RAID1, en dus is bijvoorbeeld RAID5 gebruiken voor / en RAID1 voor /
boot een mogelijkheid.

Vervolgens dient u in het hoofdmenu van partman te kiezen voor Software-RAID
instellen. (Dit menu verschijnt pas nadat u tenminste één partitie heeft
gemarkeerd om gebruik te worden als Fysiek volume voor RAID.) Kies dan op het
eerste scherm van partman-md voor MD-apparaat aanmaken. Er zal een lijst met
ondersteunde types MD-apparaten worden getoond, waaruit u er één kunt kiezen
(bijvoorbeeld RAID1). Het vervolg is afhankelijk van het geselecteerde type MD.

  • RAID0 is eenvoudig -- er zal een overzicht met beschikbare RAID-partities
    worden getoond en uw enige taak is het selecteren van de partities die u
    voor het MD-apparaat wilt gebruiken.

  • RAID1 is iets lastiger. Allereerst zal u worden gevraagd om het aantal
    actieve en het aantal reserve-eenheden voor het MD-apparaat in te geven.
    Vervolgens dient u uit de lijst met beschikbare RAID-partities eerst de
    partities te kiezen die actief moeten zijn en vervolgens de
    reserve-partities. Het aantal partities dat u selecteert moet gelijk zijn
    aan het aantal dat u eerder heeft opgegeven. Maak u geen zorgen. Als u een
    fout maakt en een afwijkend aantal partities selecteert, zal
    debian-installer u beletten voort te gaan totdat dit gecorrigeerd is.

  • De configuratieprocedure voor RAID5 is vergelijkbaar met die voor RAID1.
    Het enige verschil is dat u tenminste drie actieve partities dient te
    gebruiken.

  • Ook de configuratieprocedure voor RAID6 is vergelijkbaar met die voor RAID1
    behalve dat minstens vier actieve partities nodig zijn.

  • Ook voor RAID10 is de configuratieprocedure te vergelijken met die voor
    RAID1, behalve in de expertmodus. In de expertmodus zal debian-installer u
    naar de opmaak vragen. De opmaak bestaat uit twee delen. Het eerste deel is
    het type. Dat is ofwel n (voor het type 'near copies'), f (voor het type
    'far copies') of o (voor het type 'offset copies'). Het tweede deel is het
    aantal te maken kopieën van de data. Er moeten minstens evenveel actieve
    apparaten zijn, zodanig dat elke kopie naar een andere schijf gestuurd kan
    worden.

Het is zonder meer mogelijk om verschillende types MD-apparaten naast elkaar te
hebben. Als u bijvoorbeeld drie 200 GB harde schijven heeft ten behoeve van MD,
elk met twee partities van 100 GB, kunt u de eerste partities op alle drie de
schijven samenvoegen tot één RAID0 (snelle partitie van 300 GB voor
videobewerking) en de andere drie partities (2 actieve en 1 reserve) gebruiken
voor RAID1 (als zeer betrouwbare partitie van 100 GB voor /home).

Nadat u de MD-apparaten naar uw tevredenheid heeft ingesteld, kunt u partman-md
Voltooien om terug te keren naar partman om op uw nieuwe MD-apparaten
bestandssystemen aan te maken en daaraan de gebruikelijke kenmerken, zoals
aankoppelpunten, toe te kennen.

6.3.4.5. Logisch volumebeheer (LVM) instellen

Als u met computers werkt op het niveau van systeembeheerder of dat van "
gevorderde" gebruiker, heeft u vast de situatie meegemaakt waarbij op een
schijfpartitie (meestal de belangrijkste) onvoldoende ruimte beschikbaar was,
terwijl het gebruik van een andere partitie sterk ondermaats was. Als oplossing
heeft u mogelijk bestanden moeten verplaatsen en moeten werken met symbolische
koppelingen vanaf de oude locatie naar de nieuwe locatie, enz.

Om deze situatie te voorkomen, kunt u gebruik maken van Logisch volumebeheer
(Logical Volume Management -- LVM). Eenvoudig gesteld, kunt u met LVM uw
partities (in de terminologie van LVM fysieke volumes) combineren tot een
virtuele harde schijf (een zogenaamde volumegroep). Deze kan op zijn beurt
worden opgedeeld in virtuele partities (logische volumes). Waar het om gaat is
dat logische volumes (en natuurlijk ook de onderliggende volumegroepen)
verschillende fysieke harde schijven kunnen omvatten.

Als u bijvoorbeeld vervolgens ontdekt dat u meer ruimte nodig heeft op uw oude
160GB /home-partitie, kunt u eenvoudig een extra 300GB harde schijf in de
computer plaatsen, deze toevoegen aan uw bestaande volumegroep en vervolgens
het logische volume vergroten waarop uw /home-bestandssysteem zich bevindt. En
klaar is Kees -- uw gebruikers kunnen beschikken over de extra ruimte op een
vernieuwde partitie van 460GB. Dit voorbeeld is uiteraard enigszins
gesimplificeerd. Wij raden u aan om, voor zover u dat nog niet heeft gedaan, de
LVM HOWTO te raadplegen.

Het instellen van LVM in debian-installer is relatief eenvoudig en volledig
ondersteund in partman. Allereerst dient u de partitie(s) die u wilt gebruiken
als fysieke volumes voor LVM, te markeren. Hiervoor selecteert u in partman
vanuit het menu Partitie-instellingen de optie Gebruiken als: → Fysiek volume
voor LVM.

Waarschuwing

Waarschuwing: de nieuwe LVM-installatie zal alle gegevens vernietigen op alle
partities die gemarkeerd zijn met een code van het type LVM. Dus, indien u op
sommige van uw harde schijven reeds een LVM heeft en op die machine ook nog
Debian wilt installeren, zal de oude (bestaande) LVM gewist worden! Hetzelfde
geldt voor partities die (om welke reden ook) ten onrechte gemarkeerd zijn met
een code van het type LVM, maar iets anders bevatten (zoals een versleuteld
opslagmedium). U dient dergelijke schijven te verwijderen uit het systeem
vooraleer u een nieuwe installatie van LVM uitvoert!

Als u terugkeert op het hoofdscherm van partman, zult u een nieuwe optie 
Logisch volumebeheer (LVM) instellen zien. Als u deze selecteert, zal u eerst
worden gevraagd om nog niet vastgelegde wijzigingen in de partitietabel te
bevestigen (als die er zijn) en vervolgens zal het configuratiemenu voor LVM
worden getoond. Boven het menu wordt een samenvatting van de LVM-configuratie
getoond. Het menu zelf is contextgevoelig en toont alleen toegestane acties. De
mogelijke acties zijn:

  • Toon configuratiedetails: toont onder andere de structuur van LVM-apparaten
    en de namen en groottes van logische volumes

  • Volumegroep aanmaken

  • Logisch volume aanmaken

  • Volumegroep verwijderen

  • Logisch volume verwijderen

  • Volumegroep uitbreiden

  • Volumegroep verkleinen

  • Voltooien: keer terug naar het hoofdscherm van partman

Gebruik de opties in dit menu om eerst een volumegroep en vervolgens daaronder
de gewenste logische volumes aan te maken.

Nadat u teruggekeerd bent naar het hoofdscherm van partman, zult u de
aangemaakte logische volumes als ware het gewone partities terugvinden in het
menu (en u kunt ze verder ook als zodanig behandelen).

6.3.4.6. Geëncrypteerde volumes instellen

U hebt de mogelijkheid om met debian-installer geëncrypteerde partities in te
stellen. Elk bestand dat u naar een dergelijke partitie wegschrijft wordt op
het apparaat onmiddellijk in geëncrypteerde vorm opgeslagen. Toegang tot de
geëncrypteerde gegevens krijgt men pas na het invoeren van de wachtwoordzin die
gebruikt werd toen de geëncrypteerde partitie aangemaakt werd. Deze
functionaliteit is nuttig voor het beschermen van gevoelige informatie wanneer
uw harde schijf of uw laptop gestolen worden. De dief kan er in slagen fysieke
toegang te krijgen tot de harde schijf, maar zonder de correcte wachtwoordzin
te kennen zullen de gegevens op de harde schijf eruit zien als willekeurige
tekens.

De twee belangrijkste partities vanuit het oogpunt van encryptie zijn: de
partitie met de persoonlijke mappen (home) waarop zich uw persoonlijke gegevens
bevinden en de swap-partitie, het wisselgeheugen, waarop al werkend tijdelijk
gevoelige gegevens opgeslagen kunnen worden. Niets belet u evenwel om eventueel
nog andere partities die voor u ook belangrijk zijn, te encrypteren.
Bijvoorbeeld /var waar databaseservers, mailservers en printservers hun
gegevens opslaan, of /tmp dat door verschillende programma's gebruikt wordt
voor de tijdelijke opslag van potentieel belangrijke bestanden. Het kan zelfs
zijn dat sommige mensen hun hele systeem wensen te encrypteren. Over het
algemeen vormt de /boot-partitie hier de enige uitzondering. Deze mag niet
geëncrypteerd worden, omdat er oorspronkelijk geen manier bestond om de kernel
te laden vanaf een geëncrypteerde partitie. (GRUB kan dit nu wel, maar het
ontbreekt debian-installer momenteel aan een eigen ondersteuning voor een
geëncrypteerde /boot. Het opzet wordt daarom in een apart document behandeld.)

Opmerking

Merk op dat de prestaties van geëncrypteerde partities zwakker zijn dan die van
niet-geëncrypteerde, omdat bij elke lees- of schrijfbewerking de gegevens
gedecrypteerd of geëncrypteerd moeten worden. Hoe groot de impact op de
prestaties is, is afhankelijk van de snelheid van de CPU, de gekozen
coderingsmethode en de lengte van de encryptiesleutel.

Om encryptie te kunnen gebruiken, moet u een nieuwe partitie maken door in het
hoofdmenu van het schijfindelingprogramma vrije schijfruimte te selecteren. Een
andere mogelijkheid is een bestaande partitie te kiezen (bijv. een gewone
partitie, een LVM logisch volume of een RAID volume). In het menu 
Partitie-instellingen moet u dan bij de optie Gebruiken als: kiezen voor Fysiek
volume voor encryptie. Het menu zal zich dan aanpassen en verschillende
cryptografische opties voor de partitie tonen.

De door debian-installer ondersteunde encryptiemethode is dm-crypt (ingebouwd
in recente Linux-kernels en met de mogelijkheid om het te gebruiken met fysieke
LVM-volumes).

Laten we eens bekijken welke mogelijkheden er zijn als u encryptie selecteert
via Device-mapper (dm-crypt). Zoals altijd geldt dat u bij twijfel best de
standaardinstellingen gebruikt, omdat ze met zorg geselecteerd werden met het
oog op veiligheid.

Encryptie: aes

    Deze keuzemogelijkheid dient voor het selecteren van het encryptiealgoritme
    (coderingsmethode) dat gebruikt zal worden voor de encryptie van de
    gegevens op de partitie. Momenteel ondersteunt debian-installer de volgende
    blokcoderingsmethodes: aes, blowfish, serpent en twofish. Een bespreking
    van de kwaliteiten van deze verschillende algoritmes valt buiten het bestek
    van dit document. Maar misschien kan het u helpen bij het maken van een
    keuze als u weet dat AES in 2000 gekozen werd door het Amerikaans National
    Institute of Standards and Technology als het standaard encryptiealgoritme
    voor het beveiligen van gevoelige informatie in de 21ste eeuw.

Grootte van de sleutel: 256

    Hier kunt u de lengte van de encryptiesleutel opgeven. Over het algemeen
    betekent een langere sleutel een betere encryptie. Daartegenover staat dat
    het vergroten van de sleutellengte een negatieve impact op de prestaties
    heeft. Welke sleutelgroottes beschikbaar zijn hangt af van de
    coderingsmethode.

IV algoritme: xts-plain64

    Het algoritme Initialization Vector of IV wordt gebruikt in de cryptografie
    om ervoor te zorgen dat het toepassen van de coderingsmethode op dezelfde
    gegevens in niet-gecodeerde tekst met eenzelfde sleutel steeds weer een
    unieke gecodeerde tekst oplevert. Het achterliggende idee is om te beletten
    dat een aanvaller informatie zou kunnen afleiden uit terugkerende patronen
    in de geëncrypteerde gegevens.

    Van de geboden alternatieven is de standaard xts-plain64 momenteel het
    minst kwetsbaar voor de bekende aanvallen. Gebruik een van de andere
    alternatieven enkel als u moet zorgen voor compatibiliteit met een vroeger
    geïnstalleerd systeem dat niet in staat is recentere algoritmes te
    gebruiken.

Encryptiesleutel: Wachtwoordzin

    Hier kunt u voor deze partitie het type encryptiesleutel kiezen.

    Wachtwoordzin

        De encryptiesleutel zal berekend worden^[11] op basis van een
        wachtwoordzin die u later in het proces zult kunnen invoeren.

    Willekeurige sleutel

        Telkens u probeert de geëncrypteerde partitie actief te maken, zal er
        een nieuwe encryptiesleutel gegenereerd worden uit willekeurige
        gegevens. Met andere woorden: iedere maal de computer afgesloten wordt,
        zal de inhoud van de partitie verloren gaan, vermits de sleutel die
        zich in het geheugen bevindt, vernietigd wordt. (U zou natuurlijk
        kunnen proberen om de sleutel te raden via een aanval met brute kracht,
        maar tenzij er een onbekende zwakte zou zitten in het
        coderingsalgoritme, is een mensenleven daarvoor te kort.)

        Willekeurige sleutels zijn geschikt voor partities met wisselgeheugen
        aangezien u zich niet dient te bekommeren om het onthouden van de
        wachtwoordzin of om het wissen van gevoelige informatie op de
        wisselgeheugenpartitie vooraleer de computer afgesloten wordt. Dit
        betekent evenwel ook dat u geen gebruik zult kunnen maken van de
        functionaliteit "slaapstand-naar-schijf" die door recentere Linux
        kernels geboden wordt, omdat het (bij de volgende opstart) niet
        mogelijk zal zijn om de naar de wisselgeheugenpartitie weggeschreven
        slapende data te herstellen.

Gegevens wissen: ja

    Bepaalt of de inhoud van deze partitie met willekeurige gegevens
    overschreven moet worden alvorens de encryptie op te zetten. Dit wordt
    aanbevolen omdat het anders voor een aanvaller mogelijk kan zijn om uit te
    maken welke delen van de partitie in gebruik zijn en welke niet.
    Daarenboven zal dit het moeilijker maken om eventuele achtergebleven
    gegevens van eerdere installaties^[12] te herstellen.

Nadat u voor uw geëncrypteerde partities de gewenste parameters geselecteerd
heeft, moet u terugkeren naar het hoofdmenu van het schijfindelingsprogramma.
Daar zou nu in het menu een nieuw item Geëncrypteerde volumes configureren
moeten staan. Als u het selecteert, wordt u gevraagd om te bevestigen dat de
gegevens op de partities die u als te wissen gemarkeerd heeft, wel degelijk
vernietigd mogen worden. En mogelijk wordt u ook gevraagd om nog andere acties
te bevestigen, zoals het neerschrijven van een nieuwe partitietabel. Bij grote
partities kan dit enige tijd in beslag nemen.

Vervolgens zal u gevraagd worden om een wachtwoordzin in te voeren voor de
partities die als zodanig geconfigureerd werden. Goede wachtwoordzinnen moeten
langer dan 8 tekens zijn, en zouden een combinatie moeten zijn van letters,
cijfers en andere tekens. Zij zouden geen gebruikelijke woorden uit het
woordenboek mogen bevatten of informatie die gemakkelijk met u geassocieerd kan
worden (zoals geboortedata, hobby's, namen van huisdieren, namen van
familieleden of verwanten, enz.).

Waarschuwing

Vooraleer u begint met het invoeren van een wachtwoordzinnen, moet u er zich
van vergewissen dat het toetsenbord correct geconfigureerd is en de verwachte
tekens genereert. Indien u twijfelt, kunt u naar de tweede virtuele console
overschakelen en aan de prompt wat tekst intypen. Op die manier kunt u de
zekerheid hebben dat u later niet voor verrassingen zult komen te staan,
bijvoorbeeld door te proberen een wachtwoordzin in te voeren met een
qwertyklavier terwijl u tijdens de installatie een azertyklavier gebruikte. Een
dergelijke situatie kan aan verschillende oorzaken te wijten zijn. Misschien
schakelde u tijdens de installatie over op een andere toetsenbordindeling of
was de geselecteerde toetsenbordindeling nog niet geconfigureerd toen u de
wachtwoordzin voor het basisbestandssysteem invoerde.

Indien u andere methodes dan een wachtwoordzin koos voor het creëren van
encryptiesleutels, zullen die laatste nu gegenereerd worden. Omdat het mogelijk
is dat in dit vroege stadium van de installatie de kernel nog niet voldoende
entropie kon verzamelen, kan dit proces veel tijd in beslag nemen. U kunt het
proces helpen versnellen door entropie te genereren: bijv. door willekeurige
toetsen aan te slaan, of door over te schakelen naar de shell op de tweede
virtuele console en netwerktrafiek en schijftrafiek te genereren (enkele
bestanden downloaden, omvangrijke bestanden voederen aan /dev/null enz.). Dit
wordt herhaald voor elke partitie die geëncrypteerd moet worden.

Nadat u teruggekeerd bent naar het hoofdmenu van het schijfindelingsprogramma,
zult u nu alle geëncrypteerde volumes als extra partities terugvinden die op
dezelfde manier als gewone partities geconfigureerd kunnen worden. Het volgende
voorbeeld toont een met dm-crypt geëncrypteerd volume.

Geëncrypteerd volume (sda2_crypt) - 115.1 GB Linux device-mapper
     #1 115.1 GB  F ext3

Nu is het tijd om aankoppelpunten toe te kennen aan de volumes en om eventueel
het type bestandssysteem te wijzigen als de standaardinstelling voor u niet
geschikt is.

Let op de naam tussen haakjes (sda2_crypt in dit geval) en op de
aankoppelpunten die u aan elk geëncrypteerd volume toegekend heeft. U zult die
informatie later bij het opstarten van het nieuwe systeem nodig hebben. Het
verschil tussen een gewoon opstartproces en een opstartproces waar encryptie
mee gemoeid is, wordt later behandeld in Paragraaf 7.2, "Geëncrypteerde volumes
aankoppelen".

Eens u tevreden bent met het schijfindelingsschema, kunt u voortgaan met de
installatie.

6.3.5. Installatie van het Basissysteem

Hoewel dit stadium het minst problematische is, beslaat het wel een significant
deel van de duur van de installatie omdat hier het volledige basissysteem wordt
opgehaald, geverifieerd en uitgepakt. Als u een langzame computer of
netwerkverbinding heeft, kan dit enige tijd in beslag nemen.

Tijdens de installatie van het basissysteem worden meldingen met betrekking tot
het uitpakken en configureren van pakketten doorgestuurd naar tty4. U kunt naar
deze terminal overschakelen door op Linker Alt+F4 te drukken. U schakelt terug
naar het hoofdscherm van de installatie met behulp van Linker Alt+F1.

De meldingen over uitpakken en configureren die tijdens deze fase worden
gegenereerd worden ook opgeslagen in /var/log/syslog. Als de installatie wordt
uitgevoerd vanaf een seriële console, kunt u ze daar raadplegen.

Als onderdeel van de installatie zal een Linux kernel worden geïnstalleerd.
Tijdens een installatie met een standaard prioriteit voor vragen zal het
installatiesysteem een kernel voor u kiezen die het beste past bij uw
apparatuur. Bij installaties met een lagere prioriteit zal een lijst worden
getoond met beschikbare kernels waaruit u een keuze kunt maken.

Als pakketten worden geïnstalleerd met behulp van het systeem voor
pakketbeheer, zullen standaard ook de pakketten die door die pakketten
aanbevolen worden, geïnstalleerd worden. Aanbevolen pakketten zijn voor de
kernfuncties van de geselecteerde software niet strikt noodzakelijk, maar ze
breiden de mogelijkheden van die software uit en zouden volgens de opvattingen
van de pakketonderhouders normaal gezien samen met die software geïnstalleerd
moeten worden.

Opmerking

Wegens redenen van technische aard worden tijdens de installatie van het
basissysteem pakketten zonder hun "Recommends" geïnstalleerd, zonder de door
hen aanbevolen pakketten. De hierboven beschreven regel treedt pas in werking
na dit punt in het installatieproces.

6.3.6. Aanvullende software installeren

Op dit punt beschikt u over een bruikbaar systeem, maar met beperkte
functionaliteit. De meeste gebruikers zullen aanvullende programmatuur op het
systeem willen installeren om het af te stellen op hun behoeften. Het
installatiesysteem maakt dit mogelijk. Deze stap kan, zeker indien u een
langzame computer of netwerkverbinding heeft, nog meer tijd in beslag nemen dan
de installatie van het basissysteem.

6.3.6.1. De configuratie van apt

Een gereedschap dat gebruikt wordt om pakketten op een Debian GNU/Linux systeem
te installeren, is het programma apt uit het pakket apt^[13]. Ook andere
hulpprogramma's voor pakketbeheer, zoals aptitude en synaptic worden gebruikt.
Nieuwe gebruikers wordt aangeraden gebruik te maken van deze hulpprogramma's
omdat zij aanvullende functionaliteit (het zoeken van pakketten en
statuscontroles) integreren in een vriendelijke gebruikersinterface.

apt moet worden geconfigureerd zodat het weet waar pakketten opgehaald moeten
worden. Het resultaat van deze configuratie wordt weggeschreven naar het
bestand /etc/apt/sources.list. U kunt dit bestand na afronding van de
installatie bekijken en naar behoefte aanpassen.

Indien u de installatie uitvoert op de standaardprioriteit, zal het
installatiesysteem in grote mate zelf automatisch de configuratie voor zijn
rekening nemen. Het baseert zich daarbij op de installatiemethode die u
gebruikt en mogelijk op keuzes die u eerder in het installatieproces maakte. In
de meeste gevallen zal het installatiesysteem automatisch een spiegelserver
toevoegen voor veiligheidsupdates en, indien u de stabiele distributie
installeert, een spiegelserver voor de dienst "stable-updates" voor updates van
pakketten uit de stabiele distributie.

Indien u de installatie uitvoert op een lagere prioriteit (bijv. in
expertmodus), zult u de kans hebben om zelf meer keuzes te maken. U kunt dan
zelf kiezen of u de diensten voor beveiligingsupdates en updates van de
distributie 'stable' wilt gebruiken en u kunt er eventueel ook voor kiezen om
de pakketten toe te voegen uit de secties "contrib" en "non-free" van het
archief.

6.3.6.1.1. De installatie uitvoeren met meer dan één CD- of DVD-image

Indien u een installatie uitvoert met een CD- of DVD-image dat deel uitmaakt
van een ruimere set, zal het installatiesysteem vragen of u bijkomende
installatiemedia wilt laten scannen. Indien u zulke bijkomende installatiemedia
heeft, wilt u dit wellicht laten doen, zodat het installatiesysteem de
pakketten die zij bevatten, kan gebruiken.

Indien u geen andere media heeft, is dat geen probleem: het is niet verplicht
ze te gebruiken. Indien u ook geen netwerkspiegelserver gebruikt (zoals in het
volgende onderdeel uitgelegd wordt), kan dit betekenen dat niet alle pakketten
die horen bij de taken die u in de volgende stap selecteert, geïnstalleerd
zullen kunnen worden.

Opmerking

De volgorde van de pakketten op CD- en DVD-images wordt door hun populariteit
bepaald. Dit betekent dat in de meeste gevallen enkel het eerste image van een
set nodig is en dat slechts heel weinig mensen daadwerkelijk pakketten
gebruiken die op de laatste images van een set staan.

Dit betekent ook dat een volledige CD-set kopen of downloaden en branden gewoon
geldverspilling is, aangezien u de meeste ervan nooit zult gebruiken. In de
meeste gevallen bent u beter af als u enkel de eerste 3 tot 8 CD's ophaalt en
eventuele extra pakketten die u nog nodig heeft, via een spiegelserver op het
internet installeert. Hetzelfde geldt voor de DVD-sets: de eerste DVD, of
misschien de eerste twee DVD's volstaan voor de noden van de meeste gebruikers.

Indien u meerdere installatiemedia laat scannen, zal het installatiesysteem u
vragen ze te verwisselen wanneer het pakketten nodig heeft van een ander image
dan dat welke op dat moment in het station zit. Merk op dat enkel schijven die
tot dezelfde set behoren, gescand zouden mogen worden. De volgorde waarin ze
gescand worden doet er niet echt toe, maar hen in aflopende volgorde laten
scannen kan de kans op fouten verminderen.

6.3.6.1.2. Een netwerkspiegelserver gebruiken

Een vraag die tijdens de meeste installaties aan bod komt, is of er een
netwerkspiegelserver gebruikt moet worden als pakketbron. In de meeste gevallen
zou het standaardantwoord geschikt moeten zijn, maar er zijn enkele
uitzonderingen.

Indien u de installatie niet uitvoert met een image van een volledige CD/DVD,
moet u echt een netwerkspiegelserver gebruiken, aangezien u anders op het einde
enkel een erg minimaal systeem zult hebben. Als u evenwel slechts over een
beperkte internetverbinding beschikt, is het best om in de volgende stap van de
installatie niet de taak desktopomgeving te selecteren.

Indien u de installatie uitvoert met één enkel image van een volledige CD, is
het gebruik van een netwerkspiegelserver niet vereist, maar het blijft wel
sterk aanbevolen omdat op één enkel CD-image slechts een eerder beperkt aantal
pakketten staat. Indien u slechts een beperkte netwerkverbinding heeft, kan het
nog altijd beter zijn om hier geen netwerkspiegelserver te selecteren, maar de
installatie af te ronden enkel op basis van wat op het CD-image beschikbaar is
en dan na het beëindigen van de installatie selectief extra pakketten te
installeren (d.w.z. nadat u naar het nieuwe systeem opgestart hebt).

Indien u de installatie uitvoert met een DVD zou elk pakket dat nodig is
tijdens de installatie, op het eerste DVD-image moeten staan. Het gebruik van
een netwerkspiegelserver is facultatief.

Een voordeel van het gebruik van een netwerkspiegelserver is dat updates die
plaats vonden na het moment waarop de CD/DVD-images gecreëerd werden en
opgenomen werden in een tussenrelease (een point release), geïnstalleerd kunnen
worden. Op die manier wordt de levensduur van uw CD/DVD-set verlengd, zonder
dat u de veiligheid of de stabiliteit van het geïnstalleerde systeem in het
gedrang brengt.

Samenvattend: een netwerkspiegelserver selecteren is meestal een goede keuze,
behalve als u niet over een goede internetverbinding beschikt. Indien de
nieuwste versie van een pakket op installatiemedia staat, zal het
installatiesysteem altijd dat medium gebruiken. De hoeveelheid data die
gedownload zal worden als u een spiegelserver selecteert, hangt dus af van

 1. de taken die u in de volgende stap van de installatie selecteert,

 2. welke pakketten voor die taken nodig zijn,

 3. welke van die pakketten op de installatiemedia staan die u liet scannen en

 4. of er op een spiegelserver (ofwel een gewone pakketspiegelserver, ofwel een
    spiegelserver voor veiligheidsupdates of updates van de stabiele release)
    bijgewerkte versies beschikbaar zijn van pakketten die op de
    installatiemedia staan.

Merk op dat dit laatste punt betekent dat zelfs als u ervoor kiest om geen
netwerkspiegelserver te gebruiken, sommige pakketten nog altijd van het
internet kunnen gedownload worden wanneer er van dat pakket een
veiligheidsupdate of een update voor de stabiele release beschikbaar is en deze
diensten ingesteld werden.

6.3.6.1.3. Een netwerkspiegelserver kiezen

Tenzij u ervoor koos om geen netwerkspiegelserver te gebruiken, zult u een
lijst met netwerkspiegelservers te zien krijgen op basis van het land dat u
eerder in het installatieproces selecteerde. Het standaardaanbod selecteren is
meestal goed.

Het standaardaanbod is deb.debian.org, wat zelf geen spiegelserver is, maar dat
zal doorverwijzen naar een spiegelserver die up-to-date en snel zou moeten
zijn. Dergelijke spiegelservers ondersteunen TLS (https protocol) en IPv6. Deze
dienst wordt onderhouden door het team van Debian systeembeheerders (Debian
System Administration - DSA).

U kunt ook handmatig een spiegelserver opgeven door "de informatie handmatig
invoeren" te kiezen. U kunt dan de computernaam van de spiegelserver opgeven en
facultatief een poortnummer. Dit moet feitelijk een URL-basis zijn, d.w.z. dat
als u een IPv6-adres opgeeft, u er rechte haakjes rond moet plaatsen,
bijvoorbeeld "[2001:db8::1]".

Indien uw computer zich op een exclusief IPv6-netwerk bevindt (wat voor de
overgrote meerderheid van de gebruikers wellicht niet het geval is), werkt de
standaardspiegelserver voor uw land mogelijk niet. Alle spiegelservers uit de
lijst zijn bereikbaar via IPv4, maar slechts enkele ervan kunnen via IPv6
gebruikt worden. Vermits de connectiviteit van individuele spiegelservers in de
loop van de tijd kan veranderen, beschikt het installatiesysteem niet over deze
informatie. Indien de standaardspiegelserver van uw land geen
IPv6-connectiviteit heeft, kunt u ofwel enkele van de andere voorgestelde
spiegelservers proberen, ofwel kiezen voor de optie "de informatie handmatig
invoeren". U kunt dan "ftp.ipv6.debian.org" opgeven als de naam van de
spiegelserver, hetgeen een alias is voor een spiegelserver die via IPv6
beschikbaar is, hoewel het wellicht niet de snelst mogelijke is.

6.3.6.2. Software selecteren en installeren

Tijdens de installatie wordt de mogelijkheid geboden om aanvullende
programmatuur te installeren. In plaats van individuele softwarepakketten te
selecteren uit de 87573 beschikbare pakketten, ligt de nadruk tijdens deze fase
van de installatie op het selecteren en installeren van vooraf gedefinieerde
verzamelingen van programmatuur waarmee uw computer snel kan worden ingericht
voor het uitvoeren van diverse taken.

Deze taken vertegenwoordigen min of meer een aantal verschillende doeleinden
waarvoor u uw computer zou kunnen gebruiken, zoals "Desktopomgeving", "
Webserver" of "SSH-server"^[14]. In Paragraaf D.2, "De hoeveelheid schijfruimte
die nodig is voor taken" is een overzicht opgenomen van de voor de beschikbare
taken benodigde ruimte.

Sommige taken kunnen reeds automatisch geselecteerd zijn afhankelijk van de
eigenschappen van de computer waarop de installatie wordt uitgevoerd. Als u het
met deze selectie niet eens bent, kunt u deze ongedaan maken. U kunt er op dit
punt zelfs voor kiezen om geen enkele taak te installeren.

Tip

Bij de standaard gebruikersinterface van het installatiesysteem kunt u de
spatiebalk gebruiken om een taak te (de)selecteren.

Opmerking

De taak "Desktopomgeving" zal een grafische desktopomgeving installeren.

Standaard installeert debian-installer de desktopomgeving Gnome . Het is
mogelijk om interactief een andere desktopomgeving te selecteren tijdens de
installatie. Het is ook mogelijk om verschillende desktopomgevingen te
installeren, maar het kan zijn dat sommige combinaties ervan niet samen
geïnstalleerd kunnen worden.

Merk op dat dit enkel zal werken als de pakketten die voor de gewenste
desktopomgeving nodig zijn, ook effectief beschikbaar zijn. Indien u de
installatie uitvoert met één enkel volledig CD-image, moeten zij mogelijk
gedownload worden van een netwerkspiegelserver, omdat zij zich niet op het
CD-image bevinden wegens zijn beperkte opslagruimte. Die installatiewerkwijze
gebruiken zou voor elk van de beschikbare desktopomgevingen correct moeten
werken als u een DVD-image of een andere installatiemethode gebruikt.

Via de diverse server-taken wordt in grote lijnen volgende software
geïnstalleerd. Web-server: apache2; SSH-server: openssh.

Via de taak "Standaardsysteem" wordt elk pakket geïnstalleerd dat als
prioriteit "standaard" heeft. Dit omvat een heleboel gebruikelijke
hulpprogramma's die gewoonlijk op elk Linux- of Unix-systeem aanwezig zijn. U
zou deze taak geselecteerd moeten laten tenzij u weet wat u doet en echt een
heel minimaal systeem wilt.

Indien tijdens het selecteren van de taal een ander standaard taalgebied
geselecteerd werd dan "C", zal tasksel nagaan of voor dat taalgebied een
lokalisatietaak gedefinieerd is en zal automatisch de relevante
lokalisatiegerelateerde pakketten trachten te installeren. Daartoe horen
bijvoorbeeld pakketten met woordenlijsten of speciale lettertekens voor uw
taal. Indien een desktopomgeving geselecteerd werd, zullen ook daarvoor de
passende lokalisatiepakketten geïnstalleerd worden (als die beschikbaar zijn).

Nadat u klaar bent met het selecteren van taken, moet u Volgende selecteren.
Dan zal apt de pakketten installeren die tot die geselecteerde taken behoren.
Indien een bepaald programma meer informatie nodig heeft van de gebruiker, zal
het gedurende dit proces daarom vragen.

U moet er zich van bewust zijn dat vooral de taak Desktopomgeving erg
uitgebreid is. Vooral als u installeert vanaf een gewone CD in combinatie met
een spiegelserver voor pakketten die niet op de CD staan, kan het
installatiesysteem heel wat pakketten via het netwerk ophalen. Indien u over
een relatief trage internetverbinding beschikt, kan dit veel tijd in beslag
nemen. Eens de installatie van de pakketten gestart is, heeft u niet meer
mogelijkheid om die installatie te annuleren.

Zelfs als de pakketten op de CD staan, kan het nog gebeuren dat het
installatiesysteem ze ophaalt van de spiegelserver in het geval de versie op de
spiegelserver recenter is dan die op de CD. Indien u de distributie 'stable'
installeert, kan dit het geval zijn na een releaseupdate (een 'point release' -
een update van de originele stabiele release). Indien u de testdistributie
'testing' installeert zal dit het geval zijn als u een ouder image gebruikt.

6.3.7. Zorgen dat uw systeem kan worden opgestart

Als u een werkstation zonder schijfeenheden installeert, is opstarten vanaf een
lokale schijfeenheid uiteraard geen optie en zal deze stap worden overgeslagen.

6.3.7.1. Andere besturingssystemen detecteren

Voordat een bootloader wordt geïnstalleerd, zal het installatiesysteem eerst
proberen om te ontdekken of er op de machine andere besturingssystemen
geïnstalleerd zijn. Als het een besturingssysteem heeft gevonden dat wordt
ondersteund, zult u hierover worden geïnformeerd tijdens de installatie van de
bootloader en zal de computer geconfigureerd worden om naast Debian ook dit
andere besturingssysteem te kunnen opstarten.

Merk op dat het opstarten van meerdere besturingssystemen op één machine nog
altijd iets wegheeft van zwarte magie. De ondersteuning voor de detectie van
andere besturingssystemen en voor het instellen van bootloaders om deze te
laden, varieert per architectuur en kan zelfs per subarchitectuur variëren. Als
het niet lukt dient u de documentatie van uw bootloader te raadplegen voor
nadere informatie.

6.3.7.2. De bootloader Grub installeren op de schijf

De bootloader voor amd64 heet "grub". Grub is een flexibele en robuuste
bootloader en standaard een goede keuze voor zowel nieuwe als ervaren
gebruikers.

Standaard wordt grub geïnstalleerd op de UEFI-partitie/het Boot Record van de
eerste schijf, waar het de volledige controle over het opstartproces overneemt.
Indien u dit wenst kunt u grub elders installeren. Raadpleeg de handleiding bij
grub voor de volledige informatie.

Indien u grub niet wenst te installeren, gebruik dan de knop Terug om naar het
hoofdmenu terug te keren. Selecteer van daaruit dan de bootloader die u wenst
te gebruiken.

6.3.7.3. Verder gaan zonder bootloader

Deze optie kan gebruikt worden om de installatie te voltooien, zelfs als er
geen bootloader wordt geïnstalleerd, ofwel omdat er geen bootloader beschikbaar
is voor die (sub)architectuur, ofwel omdat u er geen wilt installeren (b.v. als
u de bestaande bootloader wilt gebruiken).

Indien u zinnens bent om de bootloader handmatig te configureren, moet u nagaan
wat de naam is van de geïnstalleerde kernel in /target/boot. U moet ook nagaan
of in die map een bestand initrd aanwezig is. Is dit het geval, dan zult u
wellicht uw bootloader de instructie moeten geven om het te gebruiken.
Informatie die u ook nodig zult hebben is de schijf en de partitie die u
selecteerde voor het /-bestandssysteem en voor het bestandssysteem van /boot
als u ervoor geopteerd heeft om uw /boot-bestandssysteem op een aparte partitie
te plaatsen.

6.3.8. De installatie afronden

Dit is de laatste stap van het installatieproces voor Debian waarbij het
installatiesysteem nog enkele afrondende taken uitvoert. Het komt er
voornamelijk op neer dat de losse eindjes die debian-installer achter liet, nog
aan elkaar geknoopt worden.

6.3.8.1. De systeemklok instellen

Het installatiesysteem kan u vragen of de interne klok van uw computer
ingesteld staat op UTC. Normaal wordt deze vraag vermeden als dat kan. Het
installatiesysteem zal dan op basis van informatie zoals welke andere
besturingssystemen nog geïnstalleerd zijn, zelf proberen te bepalen of de
interne klok al dan niet is ingesteld op UTC.

Bij een installatie in expert-modus zal u altijd kunnen kiezen of de klok wordt
ingesteld op UTC of niet. Systemen waarop (ook) Dos of Windows gebruikt worden,
staan gewoonlijk ingesteld op de lokale tijd. Selecteer lokale tijd in plaats
van UTC als u meerdere besturingssystemen op uw computer wilt gebruiken.

Op dit punt zal debian-installer ook proberen om de huidige tijd vast te leggen
in de interne systeemklok. Dit zal ofwel in UTC ofwel in de lokale tijd zijn,
afhankelijk van de zojuist gemaakte selectie.

6.3.8.2. Het systeem opnieuw opstarten

Men zal u vragen om het opstartmedium (CD, USB-stick, enz.) dat u heeft
gebruikt om het installatiesysteem op te starten, te verwijderen. Vervolgens
zal uw systeem opnieuw opstarten met uw nieuw Debian systeem.

6.3.9. Probleemoplossing

De componenten die in dit onderdeel vermeld worden, komen normaal gezien niet
aan bod in het installatieproces, maar staan op de achtergrond ter beschikking
om de gebruiker te helpen als er iets mis gaat.

6.3.9.1. De logbestanden van de installatie bewaren

Als de installatie succesvol is, worden de logbestanden die tijdens het
installatieproces zijn aangemaakt, automatisch opgeslagen in de map /var/log/
installer/ op uw nieuwe Debian systeem.

De optie Debug-logbestanden opslaan uit het hoofdmenu biedt u de mogelijkheid
om de logbestanden op een USB-stick, op een plaats in het netwerk, op een harde
schijf of op een ander medium te bewaren. Dit kan nuttig zijn als u
onoverkomelijke problemen tegenkomt tijdens de installatie en u de logbestanden
op een ander systeem wilt bestuderen of ze wilt meesturen met een
installatierapport.

6.3.9.2. Een shell gebruiken en de logs bekijken

Bij het uitvoeren van een installatie staan u verschillende methodes ter
beschikking om een shell te krijgen. Op de meeste systemen, en als u de
installatie niet via een seriële console uitvoert, is de gemakkelijkste methode
om naar de tweede virtuele console te gaan door te drukken op Linker Alt+F2^
[15] (op een Mac-toetsenbord, Option+F2). Gebruik Linker Alt+F1 om terug te
keren naar het installatiesysteem zelf.

Raadpleeg bij een grafische installatie ook Paragraaf 6.1.1, "Het grafische
installatiesysteem gebruiken".

Indien u niet kunt wisselen tussen consoles, is er ook nog het item Een shell
uitvoeren in het hoofdmenu dat gebruikt kan worden om een shell te starten.
Vanuit de meeste dialoogvensters kunt naar het hoofdmenu gaan door een of meer
keren de knop Terug te gebruiken. Typ exit om de shell af te sluiten en naar
het installatiesysteem terug te keren.

Op dit punt is uw systeem opgestart vanaf een RAM-schijf en staan u een beperkt
aantal Unix-hulpprogramma's ter beschikking. U kunt zien welke programma's
beschikbaar zijn door het commando ls /bin /sbin /usr/bin /usr/sbin te
gebruiken of door help te typen. De shell is ash, een kloon van de
Bourne-shell. De shell heeft een aantal aardige functies zoals het automatisch
voltooien van commando's en bestandsnamen en een opdrachthistorie.

Gebruik de teksteditor nano om bestanden te bewerken en te bekijken.
Logbestanden van het installatiesysteem zijn te vinden in de map /var/log.

Opmerking

Hoewel u in principe in een shell alles kunt doen wat men met de beschikbare
commando's kan doen, is de mogelijkheid om een shell te gebruiken enkel bedoeld
voor het geval er iets mis gaat en om te debuggen.

Bepaalde taken handmatig uitvoeren vanuit de shell kan interfereren met het
installatieproces en kan resulteren in fouten of een onvolledige installatie.
In het bijzonder zou u zeker aan het installatiesysteem moeten overlaten om de
partitie met het wisselgeheugen, de swap-partitie, te activeren. Dit zou u niet
zelf vanuit een shell mogen doen.

6.3.10. Installatie over netwerk-console

Een van de meer interessante componenten is network-console. Deze component
maakt het mogelijk om een groot deel van de installatie via SSH over het
netwerk uit te voeren. Het gebruik van het netwerk impliceert dat u de eerste
stappen van de installatie vanaf de console zult moeten uitvoeren: in ieder
geval tot en met de configuratie van het netwerk. (Het is echter mogelijk om
dat deel van de installatie te automatiseren met Paragraaf 4.6, "Automatische
installatie".)

Deze component wordt niet automatisch getoond in het installatiemenu en dus
moet u er expliciet naar vragen. Als u installeert vanaf optische media, moet u
de installatie starten met prioriteit "medium" of op een andere manier het
hoofdmenu van de installatie oproepen en daar de optie Installatiecomponenten
van installatiemedia laden selecteren. Vervolgens selecteert u uit de lijst met
aanvullende componenten netwerk-console: de installatie met SSH vanaf een
andere computer verder zetten. De component is succesvol geladen als in het
menu een nieuwe optie De installatie verder van op afstand doorlopen via SSH
verschijnt.

Nadat u deze nieuwe optie heeft geselecteerd, zal u worden gevraagd naar een
wachtwoord waarmee de verbinding met het installatiesysteem zal worden
gerealiseerd en een bevestiging daarvan. Dat is alles. Vervolgens zal een
melding worden getoond met instructies om vanaf een ander systeem in te loggen
als gebruiker installer met het wachtwoord dat u daarnet heeft ingevoerd. Een
ander belangrijk detail op dit scherm is de vingerafdruk van dit systeem. U
dient deze op een veilige manier beschikbaar te stellen aan degene die de
installatie op afstand zal vervolgen.

Indien u besluit de installatie lokaal te vervolgen, kunt u altijd met behulp
van de Enter terugkeren naar het hoofdmenu, waar u een andere component kunt
selecteren.

Laten we ons nu verplaatsen naar het andere einde van de netwerkkabel. Voordat
u de verbinding kunt opzetten, dient u uw terminal te configureren voor UTF-8,
aangezien dat door het installatiesysteem gebruikt wordt. Als u dit niet doet,
is installatie vanop afstand nog wel mogelijk, maar kunt u vreemde effecten op
uw scherm zien, zoals kapotte randen van dialoogvensters of onleesbare
niet-ASCII karakters. U brengt de verbinding met het installatiesysteem
eenvoudig tot stand door het volgende te typen:

$ ssh -l installer nieuw_systeem

Daarbij is nieuw_systeem ofwel de naam ofwel het IP-adres van de computer
waarop het systeem wordt geïnstalleerd. Voordat daadwerkelijk wordt ingelogd
zal de vingerafdruk van dat systeem worden getoond en zult u moeten bevestigen
dat die correct is.

Opmerking

De ssh-server in het installatiesysteem gebruikt een standaardconfiguratie
waarbij geen pakketten verzonden worden om de verbinding in leven te houden. In
principe zou een verbinding met de computer waarop de installatie gebeurt,
onbeperkt open moeten blijven. Nochtans kan het in sommige omstandigheden --
afhankelijk van de instellingen van uw lokaal netwerk -- gebeuren dat de
verbinding na een bepaalde periode van inactiviteit verloren gaat. Een veel
voorkomende situatie waarin dit kan gebeuren is wanneer er ergens tussen de
cliënt en het systeem waarop de installatie plaats heeft, een vorm van Network
Address Translation (NAT) plaats vindt. Afhankelijk van het punt in de
installatie waarop de verbinding verloren ging, kan het zijn dat u wel of niet
in staat bent om de installatie voort te zetten nadat u een nieuwe verbinding
tot stand bracht.

U kunt mogelijk vermijden dat de verbinding wegvalt door bij het starten van de
ssh-verbinding de optie -o ServerAliveInterval=waarde toe te voegen of die
optie in uw configuratiebestand van ssh op te nemen. Merk evenwel op dat deze
optie gebruiken in sommige gevallen ook de oorzaak voor het wegvallen van de
verbinding kan zijn (bijvoorbeeld als blijf-in-leven-pakketten verzonden worden
tijdens een korte onderbreking in de netwerkverbinding waarvan ssh zich anders
hersteld zou hebben). Gebruik dit dus enkel als het nodig is.

Opmerking

Als u meerdere computers na elkaar installeert en deze hetzelfde IP-adres of
dezelfde computernaam krijgen, zal ssh weigeren om de verbinding te maken met
een dergelijke computer. De reden is dat opeenvolgende systemen een andere
vingerafdruk zullen hebben, wat meestal een indicatie is van een "spoofing"
-aanval. Als u er zeker van bent dat dit niet het geval is, dient u de
betreffende regel te verwijderen uit ~/.ssh/known_hosts^[16], waarna u een
nieuwe poging kunt doen.

Nadat u bent ingelogd zal een aanvangsscherm worden getoond met twee opties die
als naam hebben: Menu starten en Shell starten. De eerste optie geeft toegang
tot het hoofdmenu van het installatiesysteem vanwaar u de installatie zoals
gebruikelijk kunt vervolgen. De laatste optie start een shell op het nieuwe
systeem die u kunt gebruiken om het systeem te onderzoeken en eventueel te
repareren. U zou maximaal één SSH-sessie mogen starten met het installatiemenu,
maar u kunt desgewenst meerdere sessies starten met een shell.

Waarschuwing

Nadat u via SSH de installatie vanop afstand heeft gestart, zou u niet meer
mogen terugkeren naar de installatiesessie op de lokale console. Als u dat toch
doet, kunt u de databank met de configuratie van het nieuwe systeem
beschadigen. Dit kan op zijn beurt tot gevolg hebben dat de installatie mislukt
of na de installatie resulteren in problemen met het nieuwe systeem.

6.4. Ontbrekende firmware laden

Zoals beschreven wordt in Paragraaf 2.2, "Apparaten waarvoor firmware vereist
is", is het voor sommige apparaten noodzakelijk dat er firmware geladen wordt.
In de meeste gevallen zal het apparaat zonder firmware helemaal niet werken.
Soms heeft het ontbreken van firmware geen gevolgen voor de basisfuncties, maar
is de firmware enkel nodig om geavanceerde functies te kunnen gebruiken.

Indien een stuurprogramma voor een apparaat firmware nodig heeft die niet
beschikbaar is, zal debian-installer met een dialoogvenster u aanbieden om de
ontbrekende firmware te laden. Indien u deze optie selecteert, zal
debian-installer op beschikbare opslagapparaten zoeken naar afzonderlijke
firmwarebestanden of naar pakketten met firmware. Indien de firmware gevonden
wordt, zal ze naar de juiste plaats (/lib/firmware) gekopieerd worden en zal de
stuurprogrammamodule opnieuw geladen worden.

Opmerking

Welke apparaten doorzocht worden en welke bestandssystemen ondersteund worden
is afhankelijk van de architectuur, de installatiemethode en de fase van de
installatie. In het bijzonder tijdens de vroege fases van de installatie, is de
kans het grootst dat het laden van de firmware slaagt als dat gebeurt vanaf een
voor FAT geformatteerde USB-stick. Op i386 en amd64 kan firmware ook geladen
worden vanaf een MMC- of SD-kaart.

Merk op dat het mogelijk is om het laden van de firmware over te slaan als u
weet dat het apparaat ook zonder die firmware zal functioneren of als het
apparaat niet nodig is tijdens de installatie.

debian-installer vraagt enkel naar firmware die nodig is voor kernelmodules die
tijdens de installatie geladen worden. Niet alle stuurprogramma's werden
opgenomen in debian-installer. In het bijzonder is dat voor radeon het geval.
Dit houdt in dat de mogelijkheden van sommige apparaten op het einde van de
installatie niet verschillen van aan het begin van de installatie. Als gevolg
daarvan kan het zijn dat van sommige onderdelen van uw hardware niet alle
mogelijkheden benut worden. Indien u vermoedt dat dit het geval is, of indien u
gewoon nieuwsgierig bent, is het geen kwaad idee om op het vers opgestart
systeem de uitvoer van het commando dmesg na te kijken en te zoeken naar "
firmware".

6.4.1. Een medium voorbereiden

Officiële installatie-images bevatten geen niet-vrije firmware. De meest
gebruikelijke methode om dergelijke firmware te laden, is van een verwijderbaar
medium zoals een USB-stick. Een alternatieve mogelijkheid zijn niet-officiële
installatie-images met niet-vrije firmware die u kunt vinden op https://
cdimage.debian.org/cdimage/unofficial/non-free/cd-including-firmware/. Wilt u
een USB-stick (of een ander medium zoals een partitie van een harde schijf)
klaar maken, dan moet u de firmware-bestanden of -pakketten plaatsen in de
basismap (root) ofwel in een map die /firmware heet. Het wordt aanbevolen om
FAT als bestandssysteem te gebruiken omdat tijdens de vroege stadia van het
installatieproces dat bestandssysteem de grootste kans maakt om ondersteund te
worden.

Tar-archieven en zip-bestanden met de huidige pakketten voor de meest courante
firmware zijn te vinden op:

  • https://cdimage.debian.org/cdimage/unofficial/non-free/firmware/

Download gewoon het tar-archief of het zip-bestand voor de juiste release en
pak het op het bestandssysteem van het medium uit.

Indien de firmware die u nodig heeft zich niet in het tar-archief bevindt, kunt
u ook specifieke firmware-pakketten downloaden van (de sectie non-free van) het
archief. Het volgende overzicht vermeldt de meeste van de beschikbare
firmware-pakketten, maar het overzicht is niet gegarandeerd volledig en kan ook
pakketten bevatten die geen firmware zijn:

  • https://packages.debian.org/search?keywords=firmware

U kunt ook individuele firmwarebestanden kopiëren naar het medium. Aparte
firmware is bijvoorbeeld te vinden op een reeds geïnstalleerd systeem of bij de
leverancier van de hardware.

6.4.2. Firmware en een geïnstalleerd systeem

Alle firmware die tijdens de installatie geladen wordt, zal automatisch
gekopieerd worden naar het geïnstalleerde systeem. In de meeste gevallen zal
dit ervoor zorgen dat het apparaat dat de firmware nodig heeft, ook correct zal
werken nadat de computer opnieuw opgestart werd met het geïnstalleerde systeem.
Indien het geïnstalleerde systeem een andere kernelversie gebruikt dan het
installatiesysteem, is er een kleine kans dat de firmware niet geladen kan
worden wegens een versieverschil.

Indien de firmware van een firmwarepakket geladen werd, zal debian-installer
dit pakket ook installeren op het geïnstalleerde systeem en zal het de sectie
non-free van het pakketarchief ook automatisch toevoegen in het bestand
sources.list van APT. Dit heeft het voordeel dat de firmware automatisch
opgewaardeerd zal worden als een meer recente versie beschikbaar wordt.

Indien het laden van de firmware overgeslagen werd tijdens de installatie, zal
het betrokken apparaat wellicht niet werken op het geïnstalleerde systeem
totdat de firmware (of het firmware-pakket) handmatig geïnstalleerd werd.

Opmerking

Indien de firmware geladen werd aan de hand van losse firmwarebestanden, zal de
naar het geïnstalleerde systeem gekopieerde firmware niet automatisch
opgewaardeerd worden, tenzij het overeenkomstige firmware-pakket (als dat
bestaat) geïnstalleerd wordt nadat de installatie afgerond is.

6.4.3. Het geïnstalleerde systeem voltooien

Afhankelijk van hoe de installatie is uitgevoerd, kan het zijn dat de behoefte
aan bepaalde firmware niet werd gedetecteerd tijdens de installatie, dat de
betreffende firmware niet beschikbaar was, of dat men ervoor koos om bepaalde
firmware op dat moment niet te installeren. In sommige gevallen kan een
succesvolle installatie nog steeds eindigen in een zwart scherm of een vervormd
scherm bij het opnieuw opstarten van het geïnstalleerde systeem. Wanneer dat
gebeurt, kunnen de volgende tijdelijke oplossingen worden geprobeerd:

  • Aan de opdrachtregel van de kernel de optie nomodeset opgeven. Dit kan
    helpen om op te starten in een "grafische nood"-modus.

  • De toetsencombinatie Ctrl+Alt+F2 gebruiken om over te schakelen naar VT2,
    die een functionele login-prompt kan bieden.

Eens u ingelogd bent op het geïnstalleerde systeem, is het mogelijk om de
detectie van ontbrekende firmware te automatiseren evenals het uitvoeren van de
vereiste stappen om deze te activeren door deze procedure toe te passen:

 1. Het pakket isenkram-cli installeren.

 2. Het commando isenkram-autoinstall-firmware uitvoeren als "root"-gebruiker.

Meestal is herstarten de eenvoudigste manier om er zeker van te zijn dat alle
kernelmodules juist geïnitialiseerd zijn; dat is vooral belangrijk wanneer men
het systeem heeft opgestart met de optie nomodeset als tussentijdse maatregel.

Opmerking

Het installeren van firmwarepakketten vereist zeer waarschijnlijk het
inschakelen van de sectie non-free van het pakketarchief. Vanaf Debian GNU/
Linux 11.0, zal het uitvoeren van het commando isenkram-autoinstall-firmware
dat automatisch doen door een speciaal bestand (/etc/apt/sources.list.d/
isenkram-autoinstall-firmware.list) aan te maken dat verwijst naar een
generieke spiegelserver.

6.5. Aanpassingen maken

Met behulp van de shell (zie Paragraaf 6.3.9.2, "Een shell gebruiken en de logs
bekijken"), kan het installatieproces zorgvuldig worden aangepast, zodat het
geschikt is voor uitzonderlijke gebruikssituaties:

6.5.1. Een ander init-systeem installeren

Debian gebruikt systemd als het standaard init-systeem. Andere init-systemen
(zoals sysvinit en OpenRC) worden echter ondersteund, en het gemakkelijkste
moment om een alternatief init-systeem te selecteren is tijdens het
installatieproces. Raadpleeg de Init-pagina op de Debian-wiki voor
gedetailleerde instructies om dit te doen.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[6] In technische termen: indien voor die taal meerdere taalgebieden (locales)
bestaan met verschillende landcodes.

^[7] Als u instelde dat ook vragen van gemiddelde of lage prioriteit gesteld
moeten worden, kunt u steeds uw voorkeurstaalgebied kiezen uit die welke voor
de geselecteerde taal bestaan (als er meer dan één bestaat).

^[8] Een oud (of verouderd) taalgebied is een taalgebied dat geen UTF-8
gebruikt, maar een van de oudere standaarden voor tekencodering, zoals
ISO 8859-1 (gebruikt door West-Europese talen) of EUC-JP (gebruikt door het
Japans).

^[9] Het installatiesysteem zal de LVM volumegroep encrypteren met behulp van
een 256 bits AES-sleutel en maakt gebruik van de ondersteuning voor "dm-crypt"
in de kernel.

^[10] Om eerlijk te zijn, kunt u zelfs een meervoudig schijfapparaat maken met
partities die op één fysieke harde schijf staan, maar dit biedt geen enkel
voordeel.

^[11] Een wachtwoordzin gebruiken als sleutel betekent momenteel dat de
partitie ingesteld zal worden met behulp van LUKS.

^[12] Er wordt nochtans verondersteld dat de gozers van het bureau met de naam
die uit drie letters bestaat, gegevens van magnetisch-optische media kunnen
terughalen, zelfs als die meerdere keren overschreven werden.

^[13] Merk op dat het programma dat de feitelijke installatie van pakketten
uitvoert, dpkg is. Dit programma is echter meer een soort onderliggend
gereedschap. apt is een hoger gereedschap dat, waar nodig dpkg inroept. Het is
in staat om pakketten op te halen vanaf installatiemedia, het netwerk en andere
bronnen. Het is ook in staat om automatisch andere pakketten te installeren die
nodig zijn om het pakket dat u probeert te installeren, correct te laten
functioneren.

^[14] U moet weten dat om deze lijst te tonen het installatiesysteem eigenlijk
het programma tasksel gebruikt. Het kan na de installatie op elk gewenst moment
uitgevoerd worden om extra pakketten te installeren (of ze te verwijderen), of
u kunt daarvoor een eerder fijnmazig instrument zoals aptitude gebruiken. Als
u, nadat de installatie voltooid is, op zoek bent naar een specifiek pakket,
kunt u eenvoudig aptitude install pakket uitvoeren, waarbij pakket de naam is
van het pakket waarnaar u op zoek bent.

^[15] Dat is: op de Alt-toets links van de spatiebalk drukken en tezelfdertijd
op de functietoets F2.

^[16] Met het volgende commando verwijdert u de regel met betrekking tot een
bepaalde computer: ssh-keygen -R <computernaam|IP--adres>.

Hoofdstuk 7. De computer opstarten met uw nieuwe Debian systeem

Inhoudsopgave

7.1. Het moment van de waarheid
7.2. Geëncrypteerde volumes aankoppelen

    7.2.1. Problemen oplossen

7.3. Inloggen

7.1. Het moment van de waarheid

De eerste keer dat u uw computer opnieuw opstart met uw nieuwe Debian systeem
is een soort "vuurdoop".

Als u een standaardinstallatie heeft uitgevoerd, is het menu van de
grub-bootloader het eerste wat u zou moeten zien nadat u het systeem opnieuw
opstart. De eerste keuzemogelijkheden in het menu zullen betrekking hebben op
uw nieuwe Debian systeem. Als u ook andere besturingssystemen (zoals Windows)
op de computer had die door het installatiesysteem gedetecteerd zijn, dan
zullen deze lager in het menu zijn opgenomen.

Als het systeem niet juist opstart, raak dan vooral niet in paniek. Als de
installatie succesvol is afgerond, dan is de kans groot dat slechts een
relatief klein probleem het opstarten van het systeem met Debian verhindert. In
de meeste gevallen kunnen zulke problemen worden opgelost zonder de installatie
te moeten overdoen. Eén van de beschikbare opties om opstartproblemen te
verhelpen is het gebruik van de ingebouwde herstelmodus van het
installatiesysteem (zie Paragraaf 8.6, "Een defect systeem herstellen").

Als Debian en Linux nieuw zijn voor u, dan kunt u hierbij mogelijk wat hulp
gebruiken van meer ervaren gebruikers. Voor directe online hulp kunt u de
IRC-kanalen #debian of #debian-boot op het OFTC-netwerk proberen (in het
Engels). Of anders kunt u een bericht sturen naar de mailinglijst debian-user
(in het Engels) of naar de Nederlandstalige mailinglijst debian-user-dutch. Ook
kunt u ons (in het Engels) een installatieverslag sturen, zoals beschreven in
Paragraaf 5.4.7, "Installatierapporten insturen". Probeer daarbij uw probleem
helder te omschrijven en integreer in het verslag eventuele meldingen die
weergegeven werden en die anderen kunnen helpen het probleem te diagnosticeren.

Als er andere besturingssystemen op uw computer aanwezig waren die niet of niet
correct gedetecteerd werden, stuur ons dan alstublieft een installatieverslag.

7.2. Geëncrypteerde volumes aankoppelen

Indien u tijdens de installatie geëncrypteerde volumes aanmaakte en er
aankoppelpunten aan toekende, zal u tijdens het opstarten gevraagd worden om
voor elk van die volumes de wachtwoordzin te geven.

Bij partities die met dm-crypt geëncrypteerd werden, zult u tijdens het
opstarten de volgende prompt zien:

Starting early crypto disks... part_crypt(starting)
Enter LUKS passphrase:

In de eerste regel van de prompt is part de naam van de onderliggende partitie,
bijv. sda2 of md0. U vraagt zich nu wellicht af voor welk volume u eigenlijk de
wachtwoordzin geeft. Is het voor /home? Of is het misschien voor /var? Als u
natuurlijk maar één geëncrypteerd volume heeft, is het gemakkelijk en kunt u
gewoon de wachtwoordzin geven die u gebruikte bij het instellen van dat volume.
Indien u bij de installatie meer dan één geëncrypteerd volume instelde, komen
de notities die u nam tijdens de laatste stap in Paragraaf 6.3.4.6,
"Geëncrypteerde volumes instellen" nu van pas. Indien u niet eerder notitie nam
van de samenhang tussen elk part_crypt en zijn overeenkomstig aankoppelpunt,
kunt u daar alsnog zicht op krijgen in /etc/crypttab en /etc/fstab van uw nieuw
systeem.

Het kan zijn dat de prompt er wat anders uitziet als een geëncrypteerd
root-bestandssysteem aangekoppeld wordt. Dit is afhankelijk van welk programma
als initramfs-generator gebruikt werd voor het genereren van het initrd-bestand
waarmee het systeem wordt opgestart. Het hierna volgende voorbeeld geldt voor
een initrd dat aangemaakt werd met initramfs-tools:

Begin: Mounting root file system... ...
Begin: Running /scripts/local-top ...
Enter LUKS passphrase:

Er zullen geen tekens (zelfs geen sterretjes) weergegeven worden terwijl de
wachtwoordzin ingevoerd wordt. Indien u de verkeerde wachtwoordzin geeft,
krijgt u nog twee extra kansen. Na de derde poging zal het opstartproces dit
volume overslaan en voortgaan met het aankoppelen van het volgende
bestandssysteem. Raadpleeg Paragraaf 7.2.1, "Problemen oplossen" voor
bijkomende informatie.

Nadat u alle wachtwoordzinnen ingegeven heeft, zou het opstartproces zoals
gewoonlijk moeten voortgaan.

7.2.1. Problemen oplossen

Indien bepaalde geëncrypteerde volumes niet aangekoppeld konden worden omdat
een foute wachtwoordzin gegeven werd, zult u ze zelf moeten aankoppelen na het
opstarten. Er kunnen zich verschillende scenario's voordoen.

  • In een eerste scenario gaat het om de root-partitie. Als die niet correct
    aangekoppeld wordt, stopt het opstartproces en zult u de computer opnieuw
    moeten opstarten en nogmaals moeten proberen.

  • Het gemakkelijkste scenario is dat waarbij het om geëncrypteerde volumes
    gaat waarop gegevens staan zoals /home of /srv. U kunt ze gewoon handmatig
    aankoppelen na het opstarten.

    Met dm-crypt is dat echter een beetje gecompliceerd. Eerst moet u de
    volumes bij device mapper registreren met de opdracht:

    # /etc/init.d/cryptdisks start

    Hierdoor worden alle volumes die in /etc/crypttab vermeld worden,
    onderzocht en nadat de correcte wachtwoordzin opgegeven werd, wordt een
    passend apparaat aangemaakt onder de map /dev. (Reeds geregistreerde
    volumes worden overgeslagen. U kunt dit commando dus zonder problemen
    verschillende keren na elkaar gebruiken.) Na een succesvolle registratie
    kunt u de volumes op de gebruikelijke manier aankoppelen:

    # mount /aankoppel_punt

  • Indien een volume met niet-cruciale systeembestanden niet aangekoppeld kon
    worden (/usr of /var), zal het systeem nog altijd opstarten en zult u ze
    zoals in het vorige scenario handmatig kunnen aankoppelen. U zult echter de
    diensten die u op een volledig functioneel systeem gewoonlijk gebruikt,
    moeten (her)starten omdat de kans groot is dat ze niet opgestart werden. De
    gemakkelijkste manier is de computer gewoon herstarten.

7.3. Inloggen

Nadat het systeem is opgestart, wordt de login-prompt getoond. Meld u aan met
uw persoonlijke gebruikersaccount door de gebruikersnaam en het wachtwoord die
u tijdens de installatie heeft geselecteerd, in te voeren. Uw systeem is nu
klaar voor gebruik.

Als u een nieuwe gebruiker bent, is het misschien goed om, terwijl u het
systeem begint te gebruiken, de documentatie te verkennen die reeds op het
systeem geïnstalleerd is. Momenteel zijn er verschillende documentatiesystemen
in gebruik, maar er wordt gewerkt aan een integratie van de verschillende types
documentatie. Hierna volgen enkele aanknopingspunten.

De documentatie bij programma's die u heeft geïnstalleerd, kunt u vinden in /
usr/share/doc/ onder een onderliggende map die naar het programma genoemd werd
(of juister, naar het Debian pakket dat het programma bevat). Meer uitgebreide
documentatie wordt echter vaak afzonderlijk verpakt in speciale
documentatiepakketten die over het algemeen niet standaard geïnstalleerd
worden. Documentatie over het pakketbeheersysteem apt kan bijvoorbeeld gevonden
worden in de pakketten apt-doc en apt-howto.

Daarnaast zijn er enkele bijzondere mappen onder /usr/share/doc/. Linux HOWTO
handleidingen worden in .gz-formaat (gecomprimeerd) geïnstalleerd in /usr/share
/doc/HOWTO/en-txt/. Na installatie van dhelp vindt u in /usr/share/doc/HTML/
index.html een inhoudsopgave van documentatie die met een browser kan worden
bekeken.

Een eenvoudige manier om deze documenten met een tekstgeoriënteerde browser te
bekijken, is met de volgende commando's:

$ cd /usr/share/doc/
$ w3m .

De punt achter het commando w3m bepaalt dat de inhoud van de huidige map moet
worden getoond.

Als u een grafische desktopomgeving heeft geïnstalleerd, kunt u ook de
bijbehorende webbrowser gebruiken. Start de browser vanuit het toepassingenmenu
en typ /usr/share/doc/ in de adresregel.

U kunt ook info commando ofman commando typen om documentatie te bekijken over
de meeste opdrachten die aan de commandoregel gebruikt kunnen worden. Als u
help typt, krijgt u hulp over shell-commando's. En als u een commando typt
gevolgd door --help, krijgt u over het algemeen een korte samenvatting over het
gebruik van het betreffende commando. Als de uitvoer van een commando niet op
één scherm past, typ dan | more achter het commando, zodat de uitvoer
gepauzeerd wordt voordat deze voorbij de bovenkant van het scherm schuift. U
kunt een overzicht krijgen van alle opdrachten die met (een) bepaalde letter(s)
beginnen door direct achter de letter(s) tweemaal op de tab-toets te drukken.

Hoofdstuk 8. De volgende stappen en waar u hierna nog terecht kunt

Inhoudsopgave

8.1. Het systeem afsluiten
8.2. Zich mentaal instellen op Debian

    8.2.1. Het pakketbeheersysteem van Debian
    8.2.2. Extra software die voor Debian beschikbaar is
    8.2.3. Het versiebeheer van toepassingssoftware
    8.2.4. Het beheer van cron-taken

8.3. Aanvullende lectuur en informatie
8.4. Uw systeem instellen voor het gebruik van e-mail

    8.4.1. Een standaard e-mailconfiguratie
    8.4.2. E-mails versturen buiten het systeem
    8.4.3. De Exim4 Mail Transport Agent configureren

8.5. Een nieuwe kernel compileren
8.6. Een defect systeem herstellen

8.1. Het systeem afsluiten

Als u een werkend Debian GNU/Linux systeem wilt afsluiten, mag u het systeem
niet herstarten met de reset-knop vooraan of achteraan op de computer of mag u
hem niet gewoon uitzetten. Debian GNU/Linux moet op een gecontroleerde manier
afgesloten worden, anders bestaat de kans dat er bestanden verloren gaan en/of
dat de schijf beschadigd wordt. Indien u in een desktopomgeving werkt, is er in
het toepassingsmenu gewoonlijk een optie beschikbaar om zich "af te melden".
Daarmee kunt u het systeem afsluiten (of opnieuw opstarten).

Anders kunt u gebruik maken van de toetsencombinatie Ctrl+Alt+Del . Als die
toetsencombinatie niet werkt, is een laatste mogelijkheid om als
systeembeheerder in te loggen en de vereiste commando's in te typen. Gebruik 
reboot om het systeem opnieuw te laten opstarten. Gebruik halt om het systeem
te stoppen zonder het uit te zetten ^[17]. Om een systeem uit te zetten
gebruikt u poweroff of shutdown -h now. Het systemd init-systeem biedt extra
commando's die dezelfde rol vervullen, bijvoorbeeld systemctl reboot of 
systemctl poweroff.

8.2. Zich mentaal instellen op Debian

Debian verschilt een beetje van andere distributies. Zelfs als u vertrouwd bent
met Linux in andere distributies, zijn er zaken die u moet weten over Debian om
uw systeem in een goede en zuivere staat te kunnen houden. Dit hoofdstuk bevat
materiaal dat u kan helpen bij het vinden van de juiste richting. Het is niet
opgevat als een beginnershandleiding over het gebruik van Debian. Het biedt
slechts een vluchtige inkijk in het systeem ten behoeve van wie erg gehaast is.

8.2.1. Het pakketbeheersysteem van Debian

Het belangrijkste concept dat u goed moet begrijpen is het systeem van
pakketbeheer in Debian. In essentie komt het erop neer dat een groot deel van
uw systeem gecontroleerd wordt door dat pakketbeheersysteem. Daaronder vallen:

  • /usr (met uitzondering van /usr/local)

  • /var (maar u kunt /var/local aanmaken en daarin bent u dan veilig)

  • /bin

  • /sbin

  • /lib

Als u bijvoorbeeld /usr/bin/perl vervangt, zal dat werken, maar als u nadien uw
perl-pakket opwaardeert, zal het bestand dat u daar geplaatst had, vervangen
worden. Geoefende gebruikers kunnen dit omzeilen door in aptitude pakketten te
markeren als "te handhaven" (ze on "hold" te plaatsen).

Een van de beste installatiemethodes is apt. U kunt de commandoregelversie van 
apt gebruiken of gereedschap zoals aptitude of synaptic (die alleen maar
grafische frontends zijn voor apt). Merk op dat apt u toelaat de pakketbronnen
main, contrib en non-free te combineren, zodat u tegelijk pakketten met
verspreidingsbeperkingen (die strikt genomen niet tot Debian behoren) als
pakketten van Debian GNU/Linux kunt gebruiken.

8.2.2. Extra software die voor Debian beschikbaar is

Er zijn officiële en niet-officiële softwarebronnen die bij een
standaardinstallatie van Debian niet automatisch geactiveerd worden. Ze
bevatten software die veel mensen belangrijk vinden en waarvan ze ook
verwachten dat ze beschikbaar is. Informatie over die extra bonnen kunt u
vinden op deze Wiki-pagina van Debian: The Software Available for Debian's
Stable Release (De software die voor de stabiele uitgave van Debian beschikbaar
is).

8.2.3. Het versiebeheer van toepassingssoftware

Het beheer van verschillende versies van een bepaalde toepassing gebeurt met
update-alternatives. Indien u meerdere versies van een toepassing behoudt op uw
systeem, lees dan de man-pagina van update-alternatives.

8.2.4. Het beheer van cron-taken

Alle taken die tot het bevoegdheidsgebied van de systeembeheerder behoren,
moeten zich in /etc bevinden, vermits het om configuratiebestanden gaat. Indien
u werkt met dagelijkse, wekelijkse of maandelijkse cron-taken van de
systeembeheerder, moet u ze respectievelijk in /etc/cron.{daily,weekly,monthly}
opnemen. Deze taken worden vanuit /etc/crontab aangeroepen en worden na elkaar
in alfabetische volgorde uitgevoerd.

Anderzijds, als u een cron-taak heeft die (a) door een specifieke gebruiker of
(b) op een specifiek moment of met een specifieke frequentie uitgevoerd moet
worden, kunt u ofwel /etc/crontab gebruiken, of nog beter zelfs, /etc/cron.d/
willekeurige-naam. Deze specifieke bestanden bevatten een extra veld waarin u
kunt specificeren onder welke gebruikersaccount de taak uitgevoerd wordt.

In beide gevallen dient u enkel de bestanden te bewerken. Het cron-mechanisme
zal ze automatisch opmerken. U dient daartoe geen speciaal commando uit te
voeren. Raadpleeg voor bijkomende informatie de man-pagina's cron(8) en crontab
(5) en het bestand /usr/share/doc/cron/README.Debian.

8.3. Aanvullende lectuur en informatie

Op de Website van Debian vindt u een grote hoeveelheid documentatie over
Debian. Bekijk vooral eens de Debian GNU/Linux FAQ en de Debian
Referentiehandleiding. Een uitgebreider overzicht van documentatie over Debian
vindt u op de pagina van het Debian Documentatieproject. De Debian-gemeenschap
werkt zelfvoorzienend. Om in te tekenen op een of meer van de mailinglijsten
van Debian, gaat u naar de pagina Abonnementen op mailinglijsten. Tot slot moet
u weten dat de Mailinglijstarchieven van Debian een schat aan informatie over
Debian bevatten.

Indien u informatie nodig heeft over een specifiek programma, moet u eerst
proberen die op te vragen met behulp van het commando man programma of info 
programna.

Daarnaast vindt u heel wat nuttige documentatie in /usr/share/doc. In het
bijzonder in /usr/share/doc/HOWTO en /usr/share/doc/FAQ is heel wat
interessante informatie te vinden. Raadpleeg met betrekking tot het indienen
van een bugrapport /usr/share/doc/debian/bug*. Bent u op zoek naar
Debian-specifieke informatie in verband met een specifiek programma, raadpleeg
dan /usr/share/doc/(pakketnaam)/README.Debian.

Het Linux Documentation Project is een bron van algemene informatie over GNU/
Linux. Daar vindt u de HOWTO's en verwijzingen naar andere zeer waardevolle
informatie over de onderdelen van een GNU/Linux systeem.

Linux is een implementatie van Unix. Het Linux Documentation Project (LDP)
verzamelt een aantal HOWTO's en online-boeken in verband met Linux.

Indien u niet vertrouwd bent met Unix, doet u er wellicht goed aan enkele
boeken te gaan kopen en er wat in te lezen. Deze lijst met Unix FAQ's bevat een
aantal UseNet-documenten die een mooi historisch overzicht bieden.

8.4. Uw systeem instellen voor het gebruik van e-mail

Tegenwoordig bekleedt e-mail een belangrijke plaats in het leven van veel
personen. Aangezien er veel verschillende manieren zijn waarop e-mail ingesteld
kan worden en vermits het belangrijk is voor sommige Debian hulpprogramma's dat
dit op een correcte manier gebeurt, zullen we in dit onderdeel de
basisbeginselen ervan trachten te bespreken.

Een e-mailsysteem bestaat uit drie hoofdfuncties. In de eerste plaats heeft men
de zogenaamde Mail User Agent (MUA - het e-mail-gebruikersprogramma). Daarmee
wordt het programma bedoeld waarmee een gebruiker zijn e-mailberichten maakt en
leest. Vervolgens is er de Mail Transfer Agent (MTA - de e-mail-transporteur).
Dat is het programma dat instaat voor het transfereren van een bericht van de
ene naar de andere computer. Tenslotte is er de Mail Delivery Agent (MDA - de
e-mail-bezorger). Dit programma draagt er zorg voor dat inkomende e-mail
afgeleverd wordt in het Postvak IN van de gebruiker.

Deze drie functies kunnen door afzonderlijke programma's vervuld worden, maar
ze kunnen ook gecombineerd worden in een of twee programma's. Het is ook
mogelijk dat verschillende programma's deze functies opnemen voor verschillende
soorten e-mail.

Op Linux- en Unix-systemen is mutt van oudsher een erg populaire MUA. Zoals de
meeste traditionele Linux-programma's is het tekstgeoriënteerd. Vaak wordt het
gebruikt in combinatie met exim of sendmail als MTA en procmail als MDA.

Met de toenemende populariteit van grafische desktopsystemen zijn ook grafische
e-mailprogramma's, zoals evolution onder GNOME, kmail onder KDE of Mozilla's 
thunderbird populairder geworden. Deze programma's combineren de functies van
MUA, MTA en MDA, maar kunnen ook gebruikt worden in combinatie met het
traditionele Linux-gereedschap -- en in de praktijk is dat ook vaak het geval
--.

8.4.1. Een standaard e-mailconfiguratie

Zelfs als u van plan bent om een grafisch e-mailprogramma te gebruiken, is het
nuttig dat op uw Debian GNU/Linux systeem ook een traditionele MTA/MDA
geïnstalleerd en correct ingesteld wordt. De reden hiervoor is dat
verschillende hulpprogramma's die actief zijn op het systeem^[18], via e-mail
belangrijke berichten kunnen sturen naar de systeembeheerder om hem te
informeren over wijzigingen of (mogelijke) problemen.

Om die reden kunt u exim4 en mutt installeren met apt install exim4 mutt. exim4
is een relatief kleine maar toch erg flexibele gecombineerde MTA/MDA. Het
programma wordt standaard ingesteld om enkel lokale e-mail af te handelen op
het systeem zelf, en om e-mail die aan de systeembeheerder (root-account)
gericht is, af te leveren bij het account van de gewone gebruiker die tijdens
de installatie aangemaakt werd^[19].

Het afleveren van e-mail die afkomstig is van het systeem, gebeurt door de
berichten toe te voegen aan een bestand in /var/mail/account_naam. De berichten
kunnen met mutt gelezen worden.

8.4.2. E-mails versturen buiten het systeem

Zoals eerder reeds aangegeven, wordt het geïnstalleerde Debian systeem
ingesteld om enkel e-mail af te handelen die op het systeem zelf gegenereerd
wordt, en niet om e-mail berichten te versturen naar of te ontvangen van andere
systemen.

Indien u wilt dat exim4 ook externe e-mail verwerkt, raadpleeg dan het volgende
onderdeel waarin enkele mogelijke basisopties voor de configuratie besproken
worden. Zorg ervoor dat u zeker uittest of e-mail wel degelijk correct
verstuurd en ontvangen kan worden.

Indien u van plan bent om een grafisch e-mailprogramma te gebruiken samen met
de e-mailserver van uw internetaanbieder (Internet Service Provider - ISP) of
van uw bedrijf, dan is er eigenlijk geen enkele reden waarom u exim4 zou
instellen om externe e-mail te verwerken. Stel uw favoriete grafische
e-mailprogramma gewoon in om de juiste servers te gebruiken voor het verzenden
en ontvangen van e-mail (hoe u dit doet, valt buiten het bestek van deze
handleiding).

In dat geval kan het echter wel zijn dat u individuele hulpprogramma's moet
instellen zodat ze e-mails correct versturen. Een dergelijk hulpprogramma is 
reportbug, een programma dat ondersteuning biedt bij het versturen van een
bugrapport over een Debian pakket. Standaard verwacht het dat het gebruik kan
maken van exim4 bij het versturen van een bugrapport.

Om reportbug op een correcte manier in te stellen op het gebruik van een
externe e-mailserver, moet u het commando reportbug --configure gebruiken. Op
de vraag of er een MTA beschikbaar is, moet u dan "no" antwoorden. Dan zal u
gevraagd worden welke SMTP-server gebruikt moet worden voor het insturen van
een bugrapport.

8.4.3. De Exim4 Mail Transport Agent configureren

Indien u wilt dat uw systeem ook externe e-mail verwerkt, zult u het pakket
exim4 opnieuw moeten configureren^[20]:

# dpkg-reconfigure exim4-config

Nadat u dit commando gegeven heeft (als systeembeheerder), zal u gevraagd
worden of u de configuratie wilt opdelen in kleine bestanden. Selecteer bij
twijfel de voorgestelde optie.

Vervolgens zult u kunnen kiezen uit verschillende gebruikelijke
e-mailscenario's. Selecteer het scenario dat het dichtst aansluit bij uw
behoeften.

internet-site

    Uw systeem is aangesloten op een netwerk en uw e-mail wordt rechtstreeks
    verzonden en ontvangen met behulp van SMTP. Op de daaropvolgende schermen
    worden u enkele basisvragen gesteld, zoals de mail-naam van uw computer en
    een lijst van domeinen waarvoor u e-mail aanvaardt of doorzendt.

e-mail verzenden via smarthost

    In dit scenario wordt uw uitgaande e-mail doorgestuurd naar een andere
    computer, die men een "smarthost" noemt en die het verzenden van de
    berichten naar de bestemmeling voor zijn rekening neemt. Meestal bewaart de
    smarthost ook inkomende e-mail die gericht is aan uw computer, zodat uw
    computer niet permanent online moet zijn. Dit impliceert ook dat u uw
    e-mailberichten moet ophalen bij de smarthost via programma's zoals
    fetchmail.

    In veel gevallen is de smrathost de mailserver van uw internetaanbieder
    (ISP). Daardoor is deze optie erg geschikt voor gebruikers van
    inbelverbindingen. De smarthost kan ook de mailserver zijn van het bedrijf
    of mogelijk zelfs een ander systeem binnen uw eigen netwerk.

e-mail verzenden via smarthost; geen lokale e-mail

    Deze optie is in principe gelijk aan de vorige, behalve dat het systeem
    niet ingesteld wordt om e-mail te verwerken voor een lokaal e-maildomein.
    E-mail op het systeem zelf (bijv. voor de systeembeheerder) wordt wel
    verwerkt.

alleen lokale e-mail

    Standaard wordt uw systeem op deze optie ingesteld.

nu niet configureren

    Kies hiervoor enkel als u absoluut overtuigd bent dat u weet wat u doet.
    Bij deze optie blijft u achter met een e-mailsysteem dat niet
    geconfigureerd is -- tot u het zelf instelt, zult u niet in staat zijn om
    e-mail te verzenden of te ontvangen en is er een kans dat u belangrijke
    berichten van hulpprogramma's op het systeem misloopt.

Indien geen enkel van deze scenario's aan uw behoeften beantwoordt, of indien u
behoefte heeft aan een meer verfijnde instelling, zult u de
configuratiebestanden in de map /etc/exim4 moeten bewerken na het beëindigen
van de installatie. Meer informatie over exim4 vindt u onder /usr/share/doc/
exim4. Het bestand README.Debian.gz bevat meer details over hoe exim4
geconfigureerd wordt en vermeldt ook waar u aanvullende documentatie kunt
vinden.

Merk op dat e-mail rechtstreeks naar het internet versturen hoewel u niet over
een officiële domeinnaam beschikt, ertoe kan leiden dat uw e-mail door een
ontvangende server verworpen wordt in het kader van anti-spammaatregelen. De
voorkeur moet uitgaan naar het gebruiken van de mailserver van uw ISP. Indien u
toch e-mail rechtstreeks wenst te versturen, zult u best een ander e-mailadres
gebruiken dan datgene wat standaard aangemaakt wordt. Indien u exim4 als MTA
gebruikt, kunt u dit doen door een regel toe te voegen aan /etc/
email-addresses.

8.5. Een nieuwe kernel compileren

Waarom zou iemand een nieuwe kernel willen compileren? Dit is
hoogstwaarschijnlijk niet noodzakelijk, aangezien de standaardkernel die door
Debian geleverd wordt, bijna met alle configuraties overweg kan.

Indien u toch uw eigen kernel wilt compileren, is dit uiteraard mogelijk en
raden we aan het target "make deb-pkg" te gebruiken. Lees voor bijkomende
informatie het Debian Linux Kernel Handbook.

8.6. Een defect systeem herstellen

Soms gaat er iets mis en gebeurt het dat het systeem dat u met zorg
installeerde, niet meer kan opstarten. Misschien geraakte de configuratie van
de bootloader defect toen u een aanpassing wilde uitproberen, of misschien kan
een nieuwe kernel die u installeerde, niet opstarten, of misschien werd uw
harde schijf getroffen door een kosmische straling waardoor in /sbin/init een
bitje gewijzigd werd. Wat de oorzaak ook moge zijn, om het defect systeem te
repareren zult u een systeem moeten hebben dat wel werkt en daarvoor kan de
reparatiemodus erg handig zijn.

Om in de reparatiemodus te geraken, moet u in het opstartmenu rescue
(reparatiemodus) selecteren, of aan de boot:-prompt rescue typen, of opstarten
met de opstartparameter rescue/enable=true. U krijgt dan de eerste schermen van
het installatiesysteem te zien, met in een hoek van het scherm een aanwijzing
dat u zich in de reparatiemodus bevindt en dat het niet gaat om een volledige
installatie. Wees niet bezorgd dat uw systeem zal overschreven worden! De
reparatiemodus maakt gewoon nuttig gebruik van de
hardwareherkenningscapaciteiten waarover het installatiesysteem beschikt, zodat
u tijdens de reparatie van het systeem gebruik kunt maken van uw schijven,
netwerkapparatuur enzovoort.

In plaats van het hulpprogramma voor schijfindeling, krijgt u nu een lijst met
de partities die zich op uw systeem bevinden en de vraag om er een te
selecteren. Normaal moet u de partitie selecteren waarop zich het
basisbestandssysteem bevindt dat u moet repareren. U kunt zowel partities op
RAID- en LVM-apparaten selecteren als die welke rechtstreeks op schijf
gecreëerd werden.

Als dit mogelijk is, zal het installatiesysteem u nu in het door u
geselecteerde bestandssysteem een shell-prompt geven, waarvan u gebruik kunt
maken om de noodzakelijke reparatiehandelingen uit te voeren. Als u
bijvoorbeeld de GRUB bootloader opnieuw moet installeren in het MBR (master
boot record) van de eerste harde schijf, kunt u dit met het commando
grub-install '(hd0)' doen.

Indien het installatiesysteem er niet in slaagt om in het door u geselecteerde
basisbestandssysteem een bruikbare shell te openen, misschien omdat dat
bestandssysteem defect is, zal het u waarschuwen en voorstellen om in de plaats
daarvan een shell te openen binnen de omgeving van het installatiesysteem. In
die omgeving staan u mogelijk niet evenveel hulpmiddelen ter beschikking, maar
vaak is dit toch voldoende voor het repareren van uw systeem. Het door u
geselecteerde basisbestandssysteem zal aangekoppeld worden op de map /target.

In de beide gevallen zal het systeem herstarten nadat u de shell heeft
verlaten.

Merk op dat het repareren van een defect systeem moeilijk kan zijn. Deze
handleiding tracht niet in te gaan op alles wat fout kan gaan en hoe u dat kunt
repareren. Raadpleeg een expert als u met problemen geconfronteerd wordt.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[17] Onder het SysV init-systeem had het commando halt hetzelfde effect as het
commando poweroff, maar met systemd als init-systeem (sinds jessie is dit het
standaard init-systeem) hebben beide commando's een ander effect.

^[18] Voorbeelden zijn: cron, quota, logcheck, aide, ...

^[19] Het doorsturen van aan de systeembeheerder gerichte e-mail naar de gewone
gebruiker wordt geconfigureerd in /etc/aliases. Indien er geen account voor een
gewone gebruiker aangemaakt werd, zal de e-mail uiteraard afgeleverd worden bij
de root-account zelf.

^[20] U kunt natuurlijk ook exim4 verwijderen en vervangen door een andere MTA/
MDA.

Bijlage A. Installatie-howto

Inhoudsopgave

A.1. Voorbereidselen
A.2. Het installatiesysteem opstarten

    A.2.1. Optische schijf
    A.2.2. USB-geheugenstick
    A.2.3. Opstarten van het netwerk
    A.2.4. Opstarten vanaf harde schijf

A.3. De installatie
A.4. Stuur ons een installatieverslag
A.5. En tenslotte...

Dit document beschrijft hoe u Debian GNU/Linux bullseye voor de 64-bit PC ("
amd64") installeert met de nieuwe debian-installer. Het is een snelle
presentatie van het installatieproces die alle noodzakelijke informatie zou
moeten bevatten die men voor de meeste installaties nodig heeft. Als meer
informatie nuttig kan zijn, zullen we doorverwijzen naar meer gedetailleerde
informatie uit andere delen van dit document.

A.1. Voorbereidselen

Indien u tijdens uw installatie met bugs af te rekenen krijgt, raadpleeg dan
Paragraaf 5.4.7, "Installatierapporten insturen" voor instructies over hoe u ze
kunt rapporteren. Indien u vragen heeft die niet door dit document beantwoord
worden, stel ze dan aan de mailing-lijst debian-boot (in het Engels)
(debian-boot@lists.debian.org) of stel uw vraag op IRC (in het Engels) (#
debian-boot op het OFTC-netwerk).

A.2. Het installatiesysteem opstarten

Het Debian CD-team stelt installatie-images met debian-installer ter
beschikking op de Debian CD/DVD-webpagina. Meer informatie over waar u
installtie-images kunt verkrijgen, vindt u op Paragraaf 4.1, "Officiële Debian
GNU/Linux installatie-images".

Sommige installatiemethodes hebben andere images nodig dan deze voor optische
medida. Paragraaf 4.2.1, "Waar u installatiebestanden kunt vinden" legt uit
waar u op de Debian spiegelservers images kunt vinden.

In de volgende onderdelen geven we meer informatie over welke images u nodig
heeft voor alle mogelijke installatiemethodes.

A.2.1. Optische schijf

Het "netinst" CD-image is een populair image dat gebruikt kan worden voor het
installeren van bullseye met de debian-installer. Met deze installatiemethode
is het de bedoeling om vanaf dat image op te starten en dan bijkomende
pakketten over het netwerk te installeren. Vandaar de naam "netinst". Het image
bevat de softwarecomponenten die nodig zijn om het installatieprogramma uit te
voeren en de basispakketten te installeren om zo een minimaal bullseye-systeem
te bekomen. Indien u dat verkiest kunt u ook een volledig CD/DVD-image ophalen,
waarbij u het netwerk niet nodig heeft voor de installatie. U heeft enkel het
eerste image van een dergelijke reeks nodig.

Download het type dat u verkiest en brandt het op een optische schijf. Om vanaf
de schijf op te starten moet u mogelijk uw BIOS/UEFI-configuratie aanpassen,
zoals uitgelegd wordt in Paragraaf 3.6.1, "Het instellingenmenu van het BIOS/
UEFI openen".

A.2.2. USB-geheugenstick

U kunt de installatie ook uitvoeren met een verwijderbaar USB-opslagapparaat.
Een USB-stick kan een handig Debian installatiemedium zijn dat u overal met u
mee kunt nemen.

De makkelijkste manier om uw USB-geheugenstick klaar te maken, is een Debian
CD- of DVD-image dat er op past downloaden en het image rechtstreeks op de
geheugenstick schrijven. Uiteraard zal dit alles wat reeds op de geheugenstick
stond, vernietigen. Dit werkt op die manier omdat de Debian CD/DVD-images
zogenaamde "isohybrid" images zijn, waarmee u zowel vanaf een optisch station
als vanaf een USB-station kunt opstarten.

Er bestaan ook meer flexibele manieren om een geheugenstick in te richten om
het debian installatiesysteem te gebruiken, en het is mogelijk om het systeem
te laten functioneren met een kleinere geheugenstick. Meer informatie vindt u
in Paragraaf 4.3, "Bestanden klaar maken om van een USB-geheugenstick op te
starten".

Komt opstarten vanaf een USB-opslagmedium vrij algemeen voor op UEFI-systemen,
dan is dat enigszins anders voor de oudere BIOS-wereld. Sommige BIOS'en kunnen
rechtstreeks opstarten van een USB-opslagmedium, andere zijn daar niet toe in
staat. Mogelijk moet u uw BIOS/UEFI configureren om "USB legacy support"
(ondersteuning voor oudere USB) of "Legacy support" (ondersteuning voor oudere
functionaliteit) te activeren. In het keuzemenu voor het opstartapparaat zou u 
"removable drive" (verwijderbare schijf) of "USB-HDD" moeten vinden om te
kunnen opstarten vanaf het USB-apparaat. Raadpleeg voor nuttige tips en meer
informatie Paragraaf 5.1.1, "Opstarten van een USB-geheugenstick".

A.2.3. Opstarten van het netwerk

Het is ook mogelijk om debian-installer volledig over het netwerk op te
starten. De verschillende methodes om over het netwerk op te starten houden
verband met de architectuur en met hoe opstarten over het netwerk opgezet werd.
De bestanden in netboot/ kunnen gebruikt worden om debian-installer over het
netwerk op te starten.

Het makkelijkst op te zetten is wellicht over het netwerk opstarten met PXE.
Pak het bestand netboot/pxeboot.tar.gz uit in /srv/tftp of op een andere
passende plaats voor uw tftp-server. Stel uw DHCP-server in om bestandsnaam
pxelinux.0 door te geven aan cliënten en met wat geluk werkt alles gewoon. Kijk
voor gedetailleerde instructies op Paragraaf 4.5, "Bestanden klaarmaken om over
het netwerk op te starten met TFTP".

A.2.4. Opstarten vanaf harde schijf

Het is mogelijk om het installatiesysteem op te starten zonder verwisselbare
media, maar met enkel een bestaande harde schijf, waarop een andere
besturingssysteem kan staan. Download hd-media/initrd.gz, hd-media/vmlinuz en
een Debian CD/DVD-image naar de basismap van de harde schijf. Zorg ervoor dat
de naam van het image eindigt op .iso. Nu komt het er nog enkel op aan om linux
op te starten met het initrd-bestand. Paragraaf 5.1.5, "Opstarten vanuit Linux
met behulp van GRUB" legt een manier uit waarop u dit kunt doen.

A.3. De installatie

Nadat het installatiesysteem opgestart is, zult u begroet worden door een
openingsscherm. Druk op Enter om op te starten of lees de instructies voor
andere opstartmethodes en parameters (zie Paragraaf 5.3, "Opstartparameters").

Na een poosje zal u gevraagd worden uw taal te selecteren. Gebruik de
pijltjestoetsen om een taal te kiezen en druk op Enter om voort te gaan. Daarna
zal u gevraagd worden uw land te selecteren uit een lijst van mogelijke landen
waarin uw taal gesproken wordt. Indien uw land niet in die verkorte lijst
voorkomt, kunt u een lijst krijgen van alle landen ter wereld.

U zult mogelijk de indeling van uw toetsenbord moeten bevestigen. Kies voor de
voorgestelde optie tenzij u een betere mogelijkheid kent.

Nu kunt u rustig achteroverleunen terwijl het installatiesysteem van Debian
nagaat welke hardware u heeft en de rest van het installatie-image ophaalt.

Daarna zal het installatiesysteem uw netwerkhardware trachten te herkennen en
het netwerk instellen met behulp van DHCP. Indien u zich niet in een netwerk
bevindt of geen DHCP heeft, zult u de kans krijgen om het netwerk handmatig te
configureren.

Na het instellen van het netwerk volgt het aanmaken van gebruikersaccounts.
Standaard wordt u gevraagd om een wachtwoord in te geven voor het account van "
root" (de systeembeheerder). Er wordt ook naar de informatie gevraagd die nodig
is om een account aan te maken voor een gewone gebruiker. Indien u geen
wachtwoord opgeeft voor gebruiker "root", zal dat account gedeactiveerd worden
en zal later het sudo-pakket geïnstalleerd worden om het mogelijk te maken om
beheerstaken uit te voeren op het nieuwe systeem. Standaard zal de eerste
gebruiker die aangemaakt wordt op het systeem de toelating hebben om het
commando sudo te gebruiken om gebruiker root te worden.

De volgende stap is het instellen van de klok en de tijdzone. Het
installatiesysteem zal proberen contact te maken met een tijdserver op het
internet om er voor te zorgen dat de klok juist ingesteld wordt. De tijdzone
wordt gebaseerd op het land dat u eerder selecteerde en enkel wanneer het land
meerdere tijdzones heeft, zal het installatiesysteem u vragen er een te
selecteren.

Nu is de tijd aangebroken om uw schijven in te delen. Eerst zult u de
mogelijkheid krijgen om automatisch een volledige harde schijf of alle vrije
ruimte op een schijf in te delen (zie Paragraaf 6.3.4.2, "Begeleide
schijfindeling"). Dit wordt aanbevolen voor nieuwe gebruikers en voor wie
gehaast is. Indien u de automatische schijfindeling niet wenst, kiest u in het
menu voor Handmatig.

Indien u een bestaande DOS- of Windows-partitie heeft die u wenst te behouden,
wees dan erg voorzichtig met automatische schijfindeling. Indien u handmatige
schijfindeling kiest, kunt u het installatiesysteem gebruiken om de grootte van
bestaande FAT- of NTFS-partities aan te passen om ruimte te maken voor de
Debian installatie: selecteer gewoon die partitie en geef er een nieuwe grootte
voor op.

Op het volgende scherm krijgt u de partitietabel te zien, hoe die partities
geformatteerd zullen worden en waar ze zullen aangekoppeld worden. Selecteer
een partitie als u die wilt wijzigen of verwijderen. Indien u voor automatische
schijfindeling koos, zult u in het menu enkel kunnen kiezen voor De
schijfindeling afronden en de wijzigingen wegschrijven naar schijf om op die
manier toe te passen wat het systeem instelde. Denk eraan om minstens een
partitie voor te behouden voor wisselgeheugen (swap space) en een partitie aan
te koppelen op /. Voor meer gedetailleerde informatie over het gebruik van het
schijfindelingssysteem, kunt u terecht in Paragraaf 6.3.4, "Schijfindeling en
selectie van aankoppelpunten". De appendix Bijlage C, Schijven indelen voor
Debian bevat meer algemene informatie over het indelen van schijven.

Nu formatteert debian-installer uw partities en begint met de installatie van
het basissysteem. Dit kan enige tijd in beslag nemen. Hierop volgt de
installatie van de kernel.

Het eerder geïnstalleerde basissysteem resulteert in een werkende, maar erg
minimale installatie. Om een meer functioneel systeem te bekomen, kunt in de
volgende stap extra pakketten installeren via het selecteren van taken.
Vooraleer er pakketten geïnstalleerd kunnen worden, moet apt geconfigureerd
worden, omdat dit definieert waar de pakketten zulle opgehaald worden. De taak 
"Standaardsysteem" wordt standaard geselecteerd en moet normaal gesproken
geïnstalleerd worden. Selecteer de taak "Desktopomgeving" als u na de
installatie over een grafische werkomgeving wilt beschikken. Raadpleeg
Paragraaf 6.3.6.2, "Software selecteren en installeren" voor bijkomende
informatie over deze stap.

De laatste stap bestaat uit het installeren van een bootloader. Indien het
installatiesysteem andere besturingssystemen aantreft op uw computer, zal het
die toevoegen aan het opstartmenu en u hierover informeren. Standaard wordt
GRUB op de UEFI-partitie/boot record van de eerste harde schijf geïnstalleerd
en meestal is dat de juiste keuze. U zult de kans krijgen om deze keuze aan te
passen en de bootloader op een andere plaats te installeren.

debian-installer zal u nu laten weten dat de installatie afgerond is. Verwijder
de CD of een ander opstartmedium en druk op Enter om uw computer opnieuw op te
starten. Deze zou nu moeten opstarten in het pas geïnstalleerde systeem en u de
mogelijkheid bieden in te loggen. Dit wordt toegelicht in Hoofdstuk 7, De
computer opstarten met uw nieuwe Debian systeem.

Als u meer informatie nodig heeft over het informatieproces, raadpleeg dan
Hoofdstuk 6, Het Debian installatiesysteem gebruiken.

A.4. Stuur ons een installatieverslag

Indien u met succes een installatie uitvoerde met debian-installer, neem dan
even de tijd om ons een verslag te bezorgen. De eenvoudigste manier om dit te
doen is het pakket reportbug te installeren (apt install reportbug), reportbug
te configureren zoals uitgelegd wordt in Paragraaf 8.4.2, "E-mails versturen
buiten het systeem" en het commando reportbug installation-reports te geven.

Indien u de installatie niet kon afronden, bent u waarschijnlijk gestoten op
een bug in het installatiesysteem van Debian. Om het installatiesysteem te
kunnen verbeteren is het belangrijk dat we er kennis van krijgen. Neem daarom
de tijd om ze te rapporteren. U kunt een installatieverslag gebruiken om
problemen te rapporteren. Als de installatie volledig mislukt, raadpleeg dan
Paragraaf 5.4.6, "Installatieproblemen rapporteren".

A.5. En tenslotte...

hopen we dat uw Debian installatie leuk is en dat u Debian nuttig vindt.
Mogelijk bent u geïnteresseerd in Hoofdstuk 8, De volgende stappen en waar u
hierna nog terecht kunt.

Bijlage B. De installatie automatiseren door antwoorden vooraf in te stellen

Inhoudsopgave

B.1. Inleiding

    B.1.1. Methodes om preconfiguratie toe te passen
    B.1.2. Beperkingen

B.2. Vooraf configureren in de praktijk

    B.2.1. Het antwoordbestand laden
    B.2.2. Met opstartparameters vooraf installatievragen beantwoorden
    B.2.3. Automatische modus
    B.2.4. Nuttige aliassen bij het vooraf configureren
    B.2.5. Preconfiguratievoorbeelden voor de opstart-prompt
    B.2.6. Een DHCP-server gebruiken om antwoordbestanden op te geven

B.3. Een antwoordbestand aanmaken
B.4. Inhoud van het antwoordbestand (voor bullseye)

    B.4.1. Lokalisatie
    B.4.2. Netwerkconfiguratie
    B.4.3. Netwerkconsole
    B.4.4. Spiegelserverinstellingen
    B.4.5. Accounts instellen
    B.4.6. Instellen van klok en tijdzone
    B.4.7. Schijfindeling
    B.4.8. De installatie van het basissysteem
    B.4.9. Apt instellen
    B.4.10. Pakketselectie
    B.4.11. De installatie van de bootloader
    B.4.12. De installatie afronden
    B.4.13. Andere pakketten vooraf configureren

B.5. Opties voor gevorderden

    B.5.1. Aangepaste commando's uitvoeren tijdens de installatie
    B.5.2. Gebruik maken van preconfiguratie om standaardwaarden aan te passen
    B.5.3. Een aaneenschakeling van antwoordbestanden laden

In deze bijlage wordt uitgelegd hoe u antwoorden op vragen van debian-installer
vooraf kunt instellen (in het Engels gebruikt men hiervoor de term preseeding)
om op die manier de installatie automatisch te laten verlopen.

De configuratiefragmenten die in deze bijlage gebruikt worden, zijn ook terug
te vinden in een voorbeeldconfiguratiebestand uit ../example-preseed.txt.

B.1. Inleiding

Zaken vooraf instellen is een manier om antwoord te geven op de vragen die
tijdens het installatieproces gesteld worden, zonder dat u die antwoorden zelf
moet ingeven terwijl het installatieproces bezig is. Dit maakt het mogelijk om
de meeste installatietypes volledig te automatiseren en het biedt zelfs enige
functionaliteit die tijdens een gewone installatie niet beschikbaar is.

Zaken vooraf instellen is niet verplicht. Indien u gebruik maakt van een leeg
antwoordbestand (ook wel preconfiguratiebestand genoemd - in het Engels preseed
file), zal het installatiesysteem zich gedragen op precies dezelfde manier als
wanneer het een gewone handmatige installatie betreft. Elk antwoord dat u
vooraf geeft (als u dit op de juiste manier doet!), heeft tot gevolg dat het
verloop van de installatie in bepaalde mate afwijkt van dit basisgegeven.

B.1.1. Methodes om preconfiguratie toe te passen

Vooraf configureren kan op drie manieren gebeuren: via initrd, via een bestand
en via het netwerk. Vooraf configureren via initrd werkt bij elke
installatiemethode en ondersteunt het vooraf configureren van meer elementen,
maar het vraagt ook de meeste voorbereiding. Vooraf configureren met behulp van
een bestand en via het netwerk zijn elk te gebruiken bij andere
installatiemethodes.

De volgende tabel laat zien welke preconfiguratiemethodes gebruikt kunnen
worden bij welke installatiemethodes.

┌─────────────────────────────────────────────┬─────────┬──────────┬──────────┐
│             Installatiemethode              │ initrd  │ bestand  │ netwerk  │
├─────────────────────────────────────────────┼─────────┼──────────┼──────────┤
│CD/DVD/USB                                   │ja       │ja        │ja^[a]    │
├─────────────────────────────────────────────┼─────────┼──────────┼──────────┤
│net-opstart                                  │ja       │neen      │ja        │
├─────────────────────────────────────────────┼─────────┼──────────┼──────────┤
│hd-media (inclusief usb-stick)               │ja       │ja        │ja^[a]    │
├─────────────────────────────────────────────┴─────────┴──────────┴──────────┤
│^[a] maar enkel als er netwerktoegang is en als preseed/url passend ingesteld│
│is                                                                           │
└─────────────────────────────────────────────────────────────────────────────┘

Een belangrijk verschil tussen de preconfiguratiemethodes is het punt waarop
het bestand met preconfiguratie-instellingen geladen en verwerkt wordt. Bij de
initrd-methode van vooraf configureren is dit onmiddellijk bij het begin van de
installatie, zelfs nog vooraleer de eerste vraag gesteld wordt. Vooraf
configureren vanaf de commandoregel van de kernel vindt vlak daarna plaats. Het
is dus mogelijk om een configuratie-instelling die via initrd ingesteld werd te
wijzigen door de commandoregel van de kernel te bewerken (ofwel in de
configuratie-instellingen van de bootloader ofwel handmatig op het moment van
opstarten bij bootloaders die dit ondersteunen). Het vooraf configureren met
behulp van een bestand vindt plaats nadat het installatie-image geladen werd.
Het vooraf configureren over het netwerk vindt pas plaats nadat het netwerk
geconfigureerd werd.

Belangrijk

Vanzelfsprekend is preconfiguratie niet mogelijk voor de vragen die aan bod
komen vooraleer het antwoordbestand geladen wordt (dit betreft ook vragen die
slechts gesteld worden bij een gemiddelde of lage prioriteit, zoals bij de
eerste ronde van de hardwareherkenning). Een niet erg handige manier om deze
vragen te vermijden is de antwoorden vooraf configureren met behulp van
opstartparameters, zoals beschreven wordt in Paragraaf B.2.2, "Met
opstartparameters vooraf installatievragen beantwoorden".

Om op een gemakkelijke manier de vragen te vermijden die normaal gesproken
gesteld zouden worden vooraleer het vooraf configureren in werking treedt, kunt
u het installatiesysteem starten in de modus "auto". Dit stelt de vragen uit
die normaliter vanuit het oogpunt van preconfiguratie te vroeg aan bod komen
(met name taal, land en de selectie van het toetsenbord). Die vragen worden dan
uitgesteld tot het ogenblik waarop het netwerk klaar is, waardoor het mogelijk
wordt ze via preconfiguratie te beantwoorden. In deze modus verloopt de
installatie volgens de zogenaamde kritieke of cruciale prioriteit, waardoor
veel onbelangrijke vragen overgeslagen worden. Zie Paragraaf B.2.3,
"Automatische modus" voor meer informatie.

B.1.2. Beperkingen

Hoewel met deze methode de meeste antwoorden op vragen die door
debian-installer gesteld worden, vooraf geconfigureerd kunnen worden, zijn er
enkele vermeldenswaardige uitzonderingen. U dient een volledige schijf
(opnieuw) in te delen of beschikbare vrije ruimte op een schijf te gebruiken.
Het is niet mogelijk om bestaande partities te gebruiken.

B.2. Vooraf configureren in de praktijk

Eerst zult u een zogenaamd antwoordbestand of preconfiguratiebestand moeten
creëren en dat moeten plaatsen daar waar u het wenst te gebruiken. Het creëren
van het antwoordbestand wordt later in deze bijlage behandeld. Het op de juiste
plaats zetten is behoorlijk eenvoudig bij preconfiguratie via het netwerk of
wanneer u het bestand wilt inlezen vanaf een usb-stick. Indien u het bestand in
een installatie-ISO-image wilt opnemen, zult u het image opnieuw moeten
genereren. Hoe u het antwoordbestand kunt opnemen in het initrd valt buiten het
bestek van dit document. Raadpleeg in dit verband de documentatie ten behoeve
van de ontwikkelaars van debian-installer.

Een voorbeeld van een antwoordbestand dat u als basis kunt gebruiken voor uw
eigen preconfiguratiebestand is te vinden op ../example-preseed.txt. Dit
bestand is gebaseerd op de configuratiefragmenten die in deze bijlage gebruikt
worden.

B.2.1. Het antwoordbestand laden

Indien u de preconfiguratiemethode met initrd gebruikt, moet u er alleen voor
zorgen dat u een bestand met de naam preseed.cfg in de basismap van initrd
heeft staan. Het installatiesysteem zal automatisch nagaan of zich daar een
dergelijk bestand bevindt en het dan laden.

Voor de andere preconfiguratiemethodes moet u het installatiesysteem bij het
opstarten zeggen welk bestand het moet gebruiken. Dit wordt gewoonlijk gedaan
door de kernel een opstartparameter mee te geven, ofwel handmatig bij het
opstarten ofwel via het bewerken van het configuratiebestand van de bootloader 
(bijv. syslinux.cfg) en de parameter toe te voegen aan het einde van de
'append'-regel(s) voor de kernel.

Indien u het preconfiguratiebestand vermeldt in de configuratie van de
bootloader, zou u de configuratie zo kunnen aanpassen dat u niet op de
enter-toets moet drukken om het installatiesysteem op te starten. Voor syslinux
betekent dit in syslinux.cfg de pauzetijd (timeout) instellen op 1.

Om er zeker van te zijn dat het installatiesysteem het juiste antwoordbestand
gebruikt, kunt u facultatief de checksum van het bestand vermelden. Momenteel
moet dat een md5sum zijn en als u dit vermeldt moet de checksum wel passen bij
het antwoordbestand, anders zal het installatiesysteem weigeren het bestand te
gebruiken.

Opstartparameters die u moet opgeven:
- indien u over het netwerk opstart:
  preseed/url=http://computernaam/pad/naar/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d
- of
  preseed/url=tftp://computernaam/pad/naar/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d

- indien u opstart van een opnieuw gegenereerd installatie-image:
  preseed/file=/cdrom/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

- indien u de installatie met USB-media uitvoert
  (plaats het antwoordbestand in de basismap van de USB-stick):
  preseed/file=/hd-media/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

Merk op dat preseed/url ingekort kan worden tot url, preseed/file tot file en
preseed/file/checksum tot preseed-md5 wanneer ze opgegeven worden als
opstartparameters.

B.2.2. Met opstartparameters vooraf installatievragen beantwoorden

Als er geen gebruik gemaakt kan worden van een antwoordbestand om voor sommige
stappen de antwoorden vooraf te geven, kan de installatie nog steeds volledig
geautomatiseerd worden, aangezien u preconfiguratiewaarden aan de commandoregel
kunt opgeven bij het opstarten van het installatiesysteem.

Opstartparameters kunnen ook gebruikt worden als u niet echt vooraf wilt
configureren, maar enkel een antwoord op een specifieke vraag wilt meegeven.
Elders in deze handleiding worden enkele voorbeelden gegeven van situaties
waarin dit zinvol kan zijn.

Om een waarde in te stellen die binnenin debian-installer gebruikt moet worden,
kunt u voor elke preconfiguratievariabele die in de voorbeelden in deze bijlage
vermeld wordt, gewoon het volgende opgeven: pad/naar/variabele=waarde. Indien
het een waarde betreft die gebruikt moet worden om een pakket voor het
doelsysteem te configureren, moet u de eigenaar^[21] van de variabele
voorvoegen, zoals in dit voorbeeld: eigenaar:pad/naar/variabele=waarde. Indien
u geen eigenaar vermeldt, zal de waarde van de variabele niet gekopieerd worden
naar de databank van debconf op het doelsysteem en dus niet gebruikt worden
tijdens de configuratie van het betreffende pakket.

Als u een vraag op deze manier vooraf beantwoordt, heeft dat tot gevolg dat ze
normaal gezien niet zal gesteld worden. Wilt u voor een bepaalde vraag een
specifieke waarde als standaard instellen, maar wilt u ook dat de vraag toch
nog gesteld wordt, gebruik dan "?=" in plaats van "=" als operator. Zie ook
Paragraaf B.5.2, "Gebruik maken van preconfiguratie om standaardwaarden aan te
passen".

Merk op dat sommige variabelen die frequent aan de opstartprompt ingesteld
worden, een verkorte alias hebben. Indien er een alias bestaat, wordt die in de
voorbeelden in deze bijlage gebruikt in plaats van de volledige variabele. Voor
de variabele preseed/url bijvoorbeeld, wordt de alias url gebruikt. Een ander
voorbeeld is de alias tasks, die staat voor tasksel:tasksel/first.

Een "---" in de opstartopties heeft een bijzondere betekenis. Kernelparameters
die na de laatste "---" staan, zullen gekopieerd worden naar de configuratie
van de bootloader van het geïnstalleerde systeem (als het installatiesysteem
dit voor die bootloader ondersteunt). Het installatiesysteem zal automatisch
elke optie die het herkent (zoals preconfiguratieopties), uitfilteren.

Opmerking

De huidige linux kernels (2.6.9 en recenter) accepteren maximaal 32
commandoregelopties en 32 omgevingsopties, inclusief die opties die standaard
gebruikt worden voor het installatiesysteem. Indien deze aantallen overschreden
worden, zal de kernel panikeren (crashen). (Bij oudere kernels lagen deze
aantallen lager.)

Bij de meeste installaties mogen sommige van de standaardopties in het
configuratiebestand van de bootloader, zoals vga=normal, probleemloos
verwijderd worden, waardoor u meer preconfiguratieopties kunt gebruiken.

Opmerking

Het is niet altijd mogelijk om voor opstartparameters waarden op te geven die
een spatie bevatten, zelfs niet als u ze met spaties afbakent.

B.2.3. Automatische modus

Er kunnen verschillende eigenschappen van het installatiesysteem van Debian
gecombineerd worden, waardoor met een redelijk eenvoudig commando aan de
opstartprompt een vrij gekozen aangepaste complexe automatische installatie
gerealiseerd kan worden.

Dit is mogelijk als u bij het opstarten kiest voor Geautomatiseerde
installatie. Bij sommige architecturen of opstartmethodes wordt die ook auto
genoemd. In dit onderdeel staat auto dus niet voor een parameter, maar wel voor
het selecteren van die opstartkeuze, waarbij de erop volgende opstartparameters
toegevoegd worden aan de opstartprompt. Zie Paragraaf 5.1.7, "Het
opstartscherm" voor informatie over hoe u een opstartparameter moet toevoegen.

Ter illustratie geven we hier enkele voorbeelden die aan de opstartprompt
gebruikt kunnen worden:

auto url=autoserver

Dit rekent erop dat er een DHCP-server beschikbaar is die de machine tot op het
punt kan krijgen waarop autoserver door DNS opgezocht kan worden, nadat er
eventueel het lokale domein aan toegevoegd werd als dat door DHCP vermeld
wordt. Indien dit toegepast wordt op een site waarvan het domein example.com
is, en waarvan de DHCP-configuratie op een verstandige manier aangepakt is,
heeft dit tot gevolg dat het volgende antwoordbestand opgehaald wordt: http://
autoserver.example.com/d-i/bullseye/./preseed.cfg.

Het laatste deel van die url (d-i/bullseye/./preseed.cfg) is afkomstig van
auto-install/defaultroot. Standaard bevat die de map bullseye om toe te laten
dat toekomstige versies een eigen codenaam gebruiken en om een dergelijke
verwijzing op een gecontroleerde manier te kunnen aanpassen. Het element /./
wordt gebruikt om een basismap aan te geven. Erop volgende paden worden daaraan
relatief verankerd (om in preseed/include en preseed/run gebruikt te worden).
Dit maakt het mogelijk om bestanden op te geven aan de hand van een volledige
URL, of met een pad dat begint met een / en dat dus verankerd is, of zelfs met
een pad dat relatief is ten opzichte van de plaats waar het laatste
antwoordbestand gevonden werd. Men kan hiervan gebruik maken om scripts te
maken die beter transponeerbaar zijn, waardoor een samenhangend geheel van
scripts verplaatst kan worden naar een andere locatie zonder dat ze onklaar
worden. Een voorbeeld zou kunnen zijn ze naar een USB-stick kopiëren terwijl ze
oorspronkelijk op een webserver dienst deden. Als het antwoordbestand uit dit
voorbeeld preseed/run instelt op /scripts/late_command.sh, dan zal het bestand
opgehaald worden van http://autoserver.example.com/d-i/bullseye/./scripts/
late_command.sh.

Als er geen lokale infrastructuur voor DHCP of DNS aanwezig is, of als u het
standaardpad naar preseed.cfg niet wilt gebruiken, kunt u nog steeds een
expliciete URL gebruiken en als u het element /./ niet gebruikt, zal de
verankering aan het begin van het pad (d.w.z. de derde / in de URL) gebeuren.
Hierna volgt een voorbeeld dat minimale ondersteuning vraagt van de lokale
netwerkinfrastructuur:

auto url=http://192.168.1.2/pad/naar/mijnantwoord.bestand

Dit werkt als volgt:

  • als de URL geen protocol vermeldt, wordt http verondersteld,

  • als het element computernaam geen punt bevat, wordt de van DHCP afkomstige
    domeinnaam eraan toegevoegd, en

  • als er na de computernaam geen /'s staan, dan wordt het standaardpad eraan
    toegevoegd.

Naast de URL, kunt u ook nog instellingen opgeven die niet onmiddellijk het
gedrag van debian-installer zelf beïnvloeden, maar die doorgegeven kunnen
worden aan scripts die in het geladen antwoordbestand vermeld worden met behulp
van preseed/run. Momenteel is het enige voorbeeld hiervan auto-install/classes,
waarvoor classes een alias is. Dit kan als volgt gebruikt worden:

auto url=example.com classes=klasse_A;klasse_B

De klassen zouden bijvoorbeeld het type systeem kunnen vermelden dat
geïnstalleerd moet worden of de te gebruiken lokalisatie.

Het is uiteraard mogelijk om dit concept uit te breiden en als u dit doet, is
het redelijk om daarvoor de naamruimte auto-install te gebruiken. Zo zou men
iets kunnen hebben als auto-install/style, hetgeen dan in uw scripts gebruikt
wordt. Indien u de behoefte voelt om dit te doen, gelieve het dan te vermelden
op de mailinglijst <debian-boot@lists.debian.org>, zodat we
naamruimteconflicten kunnen vermijden en eventueel ten behoeve van u een alias
voor de parameter kunnen toevoegen.

De opstartoptie auto is nog niet op alle architecturen gedefinieerd. U kunt
hetzelfde effect bekomen door gewoon de twee parameters auto=true priority=
critical toe te voegen aan de commandoregel van de kernel. De kernelparameter
auto is een alias voor auto-install/enable en die op true instellen stelt de
vragen over taalgebied en toetsenbordindeling uit tot na het moment waarop er
een mogelijkheid was om ze via een antwoordbestand te beantwoorden. De
parameter priority is een alias voor debconf/priority en als die op critical
ingesteld wordt, worden geen vragen meer gesteld die een lagere prioriteit
hebben.

Andere opties die interessant kunnen zijn in het geval u een installatie tracht
te automatiseren waarin van DHCP gebruik gemaakt wordt zijn: interface=auto
netcfg/dhcp_timeout=60. Deze opties zorgen ervoor dat de machine kiest voor de
eerste bruikbare netwerkkaart (NIC) en meer geduld heeft bij het wachten op een
antwoord op zijn DHCP-aanvraag.

Tip

Een uitgebreid voorbeeld van het gebruik van dit raamwerk, met inbegrip van
voorbeeldscripts en klassen, kunt u vinden op de website van de ontwikkelaar.
De voorbeelden die u daar aantreft tonen ook veel andere leuke effecten die u
met een creatief gebruik van preconfiguratie kunt bekomen.

B.2.4. Nuttige aliassen bij het vooraf configureren

De volgende aliassen kunnen nuttig zijn als u gebruik maakt van preconfiguratie
(eventueel in automatische modus). Merk op dat dit gewoon korte aliassen zijn
voor de namen van de vragen en dat u ook steeds een waarde moet opgeven:
bijvoorbeeld auto=true of interface=eth0.

priority    debconf/priority
fb          debian-installer/framebuffer
language    debian-installer/language
country     debian-installer/country
locale      debian-installer/locale
theme       debian-installer/theme
auto        auto-install/enable
classes     auto-install/classes
bestand     preseed/file
url         preseed/url
domain      netcfg/get_domain
hostname    netcfg/get_hostname
interface   netcfg/choose_interface
protocol    mirror/protocol
suite       mirror/suite
modules     anna/choose_modules
recommends  base-installer/install-recommends
tasks       tasksel:tasksel/first
desktop     tasksel:tasksel/desktop
dmraid      disk-detect/dmraid/enable
keymap      keyboard-configuration/xkb-keymap
preseed-md5 preseed/file/checksum

B.2.5. Preconfiguratievoorbeelden voor de opstart-prompt

Hier volgen enkele voorbeelden van hoe de opstart-prompt er kan uitzien (u zal
dit aan uw behoeften moeten aanpassen; zie ook Paragraaf 5.1.7, "Het
opstartscherm").

# Om Frans als taal in te stellen en Frankrijk als land:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz language=fr country=FR --- quiet
# Om Engels als taal in te stellen en Duitsland als land, en om een Duitse toetsenbordindeling te gebruiken:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz language=en country=DE locale=en_US.UTF-8 keymap=de --- quiet
# Om de grafische werkomgeving MATE te installeren:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz desktop=mate-desktop --- quiet
# Om de taak web-server te installeren:
/install.amd/vmlinuz initrd=/install.amd/initrd.gz tasksel:tasksel/first=web-server ---

B.2.6. Een DHCP-server gebruiken om antwoordbestanden op te geven

Het is ook mogelijk om DHCP te gebruiken om een antwoordbestand op te geven dat
van het netwerk opgehaald moet worden. DHCP laat toe om een bestandsnaam op te
geven. Gewoonlijk is dat een bestand dat gebruikt wordt bij het opstarten over
het netwerk, maar als blijkt dat het een URL is, dan zullen installatiemedia
die preconfiguratie over het netwerk ondersteunen, het bestand ophalen op die
URL en het gebruiken als antwoordbestand. Hierna volgt een voorbeeld van de
manier waarop dit voor versie 3 van de ISC DHCP-server (het Debian pakket
isc-dhcp-server) opgezet kan worden in het bestand dhcpd.conf.

if substring (option vendor-class-identifier, 0, 3) = "d-i" {
    filename "http://host/preseed.cfg";
}

Merk op dat het bovenstaande voorbeeld dit bestand voorbehoudt voor de
DHCP-cliënten die zichzelf als "d-i" identificeren, zodat het geen invloed
heeft op gewone DHCP-cliënten, maar enkel gebruikt wordt voor het
installatiesysteem. U kunt de tekst ook in een informatieblok plaatsen dat
geldt voor één enkele computer, zodat u kunt vermijden dat preconfiguratie
gebruikt wordt voor alle installaties die op uw netwerk uitgevoerd worden.

Een goede manier om gebruik te maken van preconfiguratie via DHCP is om dit te
reserveren voor het vooraf configureren van waarden (antwoorden) die specifiek
zijn voor uw netwerk, zoals de te gebruiken Debian spiegelserver. Op die manier
zullen installaties op uw netwerk automatisch een goede spiegelserver
selecteren, terwijl de rest van de installatie interactief uitgevoerd kan
worden. Preconfiguratie via DHCP gebruiken om installaties van Debian volledig
te automatiseren, zou enkel met de nodige voorzichtigheid mogen gebeuren.

B.3. Een antwoordbestand aanmaken

Een antwoordbestand wordt opgemaakt in de indeling die door het commando 
debconf-set-selections gebruikt wordt. De algemene indeling van een regel in
een antwoordbestand is:

<eigenaar> <naam_van_de_vraag> <vraagtype> <waarde>

Het bestand moet beginnen met #_preseed_V1

U moet enkele regels in acht nemen als u een antwoordbestand schrijft.

  • Plaats slechts één spatie of tab tussen type en waarde: eventuele extra
    witruimte zal als onderdeel van de waarde geïnterpreteerd worden.

  • Een regel kan in meerdere regels opgesplitst worden door een backslash ("\"
    ) toe te voegen als teken dat de regel voortgaat op de volgende regel. Een
    goede plaats om een regel te splitsen is na de naam van de vraag. Een
    slechte plaats om te splitsen is tussen type en waarde. Gesplitste regels
    zullen tot één regel samengevoegd worden en daarbij wordt alle voorafgaande
    witruimte tot één spatie gereduceerd.

  • Voor debconf-variabelen (sjablonen) die enkel in het installatiesysteem
    zelf gebruikt worden, moet "d-i" als eigenaar opgegeven worden. Om
    variabelen vooraf te configureren die gebruikt worden in het geïnstalleerde
    systeem, moet de naam gebruikt worden van het pakket dat het
    overeenkomstige debconf-sjabloon bevat. Enkel de variabelen met een andere
    eigenaar dan "d-i" zullen overgedragen worden naar de debconf-databank op
    het geïnstalleerde systeem.

  • Bij het vooraf geven van een antwoord moet voor de meeste vragen een waarde
    opgegeven worden die geldig is in het Engels en niet de vertaling ervan.
    Nochtans moet voor sommige vragen (bijvoorbeeld in partman) wel de
    vertaling van de waarde gebruikt worden.

  • Sommige vragen krijgen een code als waarde in plaats van de Engelse tekst
    die tijdens de installatie te zien is.

  • Begin met #_preseed_V1

  • Een commentaar is een regel die begint met een hekje ("#") en strekt zich
    over de volledige lengte van die regel uit.

De makkelijkste manier om een antwoordbestand te maken is om het
voorbeeldbestand waarnaar in Paragraaf B.4, "Inhoud van het antwoordbestand
(voor bullseye)" gerefereerd wordt, te gebruiken als basis en daarop voort te
werken.

Een andere methode is om een handmatige installatie uit te voeren en nadien, na
het opnieuw opstarten van het systeem, het commando debconf-get-selections uit
het pakket debconf-utils te gebruiken om zowel de debconf-databank als de
cdebconf-databank van het installatiesysteem te dumpen naar één bestand:

$ echo "#_preseed_V1" > bestand
$ debconf-get-selections --installer >> bestand
$ debconf-get-selections >> bestand

Een bestand dat op deze manier gegenereerd wordt, bevat echter enkele elementen
die niet gebruikt zouden mogen worden in een antwoordbestand en voor de meeste
gebruikers is het voorbeeldbestand een beter aanknopingspunt.

Opmerking

Deze methode betrouwt op het feit dat aan het einde van de installatie de
cdebconf-databank van het installatiesysteem opgeslagen wordt in /var/log/
installer/cdebconf op het geïnstalleerde systeem. Maar omdat de databank
gevoelige informatie kan bevatten, kunnen de bestanden standaard enkel door de
systeembeheerder gelezen worden.

De map /var/log/installer en alle bestanden die ze bevat, zullen van uw systeem
verwijderd worden als u het pakket installation-report wist met het commando
purge.

Om mogelijke waarden voor vragen te controleren, kunt u nano gebruiken om de
bestanden in /var/lib/cdebconf na te kijken terwijl een installatie bezig is.
Bekijk templates.dat voor de ruwe sjablonen en questions.dat voor de huidige
waarden en voor de waarden die aan variabelen toegekend werden.

Om na te gaan of de indeling van uw antwoordbestand geldig is, vooraleer u een
installatie gaat uitvoeren, kunt u het commando gebruiken 
debconf-set-selections -c preseed.cfg (waarbij preseed.cfg de naam van het
antwoordbestand is).

B.4. Inhoud van het antwoordbestand (voor bullseye)

De configuratiefragmenten die in deze bijlage gebruikt worden, zijn ook terug
te vinden in een voorbeeldconfiguratiebestand uit ../example-preseed.txt.

Merk op dat dit voorbeeld gebaseerd is op een installatie voor de architectuur
x86 van Intel. Indien u een installatie uitvoert op een andere architectuur,
kan het zijn dat sommige voorbeelden (zoals de selectie van het toetsenbord en
de installatie van de bootloader) niet relevant zijn en vervangen moeten worden
door debconf-instellingen die aangepast zijn aan uw architectuur.

Gedetailleerde informatie over de eigenlijke werking van de verschillende
componenten van het installatiesysteem van Debian kunt u vinden in
Paragraaf 6.3, "Individuele componenten gebruiken".

B.4.1. Lokalisatie

Tijdens een gewone installatie worden de vragen over lokalisatie eerst gesteld,
en dus kunnen deze waarden enkel vooraf geconfigureerd worden via de methode
met initrd of via kernelopstartparameters. De modus auto (Paragraaf B.2.3,
"Automatische modus") stelt auto-install/enable=true in (gewoonlijk via de
preconfiguratiealias auto). Dit stelt de lokalisatievragen uit, zodat ze vooraf
geconfigureerd kunnen worden met gelijk welke methode.

Het taalgebied kan gebruikt worden om zowel de taal als het land te
specificeren en kan om het even welke combinatie zijn van een door
debian-installer ondersteunde taal en een erkend land. Indien de combinatie van
beide elementen geen geldig taalgebied is, zal het installatiesysteem zelf
automatisch een taalgebied selecteren dat geldig is voor de geselecteerde taal,
Om het taalgebied via een opstartparameter te specificeren, gebruikt u
bijvoorbeeld locale=nl_BE (of nl_NL).

Hoewel deze methode makkelijk in gebruik is, laat ze niet toe om in een
preconfiguratie alle mogelijke combinaties van taal, land en taalgebied^[22] te
vormen. Als alternatieve mogelijkheid kunt u dus de verschillende waarden apart
preconfigureren. Taal en land kunnen ook als opstartparameters opgegeven
worden.

# Enkel locale (taalgebied) preconfigureren stelt zowel taal, land als taalgebied
# in.
d-i debian-installer/locale string en_US

# Met het oog op meer flexibiliteit kunnen de waarden ook apart
  gepreconfigureerd worden.
#d-i debian-installer/language string en
#d-i debian-installer/country string NL
#d-i debian-installer/locale string en_GB.UTF-8
# Eventueel kunt u ook extra te genereren taaldefinities opgeven.
#d-i localechooser/supported-locales multiselect en_US.UTF-8, nl_NL.UTF-8

Het configureren van het toetsenbord behelst het selecteren van een
toetsenbordindeling en (voor niet-Latijnse toetsenbordindelingen) een
schakeltoets om te wisselen tussen de niet-Latijnse toetsenbordindeling en de
US-toetsenbordindeling. Enkel de basisvarianten van de toetsenbordindelingen
zijn tijdens het installatieproces beschikbaar. Meer gespecialiseerde varianten
kunnen enkel op het geïnstalleerde systeem beschikbaar gemaakt worden met
behulp van het commando dpkg-reconfigure keyboard-configuration.

# Toetsenbordselectie.
d-i keyboard-configuration/xkb-keymap select us
# d-i keyboard-configuration/toggle select No toggling

Om de toetsenbordconfiguratie over te slaan, gebruikt u de preconfiguratie
keymap met skip-config. Het resultaat is dat de toetsenbordindeling van de
kernel actief blijft.

B.4.2. Netwerkconfiguratie

Uiteraard zal het configureren van het netwerk via een antwoordbestand niet
lukken als u het antwoordbestand over het netwerk moet ophalen. Maar het gaat
perfect als u opstart van een optische schijf of een USB-stick. Als u
antwoordbestanden ophaalt over het netwerk, kunt u configuratieparameters voor
het netwerk opgeven onder de vorm van opstartparameters voor de kernel.

Indien u een specifieke netwerkkaart moet gebruiken bij het opstarten over het
netwerk vooraleer een antwoordbestand via het netwerk opgehaald wordt, moet u
een opstartparameter gebruiken zoals interface=eth1.

De configuratie van het netwerk vooraf instellen is normaal gezien niet
mogelijk als u met een antwoordbestand op het netwerk werkt (met "preseed/url"
). U kunt echter het volgende trucje toepassen om dit te omzeilen, bijvoorbeeld
als u een statisch adres wilt instellen voor de netwerkkaart. De truc bestaat
erin om af te dwingen dat de netwerkconfiguratie opnieuw uitgevoerd wordt nadat
het antwoordbestand geladen is door een "preseed/run"-script te maken dat de
volgende commando's bevat:

kill-all-dhcp; netcfg

De volgende debconf-variabelen zijn relevant voor de configuratie van het
netwerk.

# Disable network configuration entirely. This is useful for cdrom
# installations on non-networked devices where the network questions,
# warning and long timeouts are a nuisance.
#d-i netcfg/enable boolean false

# netcfg will choose an interface that has link if possible. This makes it
# skip displaying a list if there is more than one interface.
d-i netcfg/choose_interface select auto

# To pick a particular interface instead:
#d-i netcfg/choose_interface select eth1

# To set a different link detection timeout (default is 3 seconds).
# Values are interpreted as seconds.
#d-i netcfg/link_wait_timeout string 10

# If you have a slow dhcp server and the installer times out waiting for
# it, this might be useful.
#d-i netcfg/dhcp_timeout string 60
#d-i netcfg/dhcpv6_timeout string 60

# Automatic network configuration is the default.
# If you prefer to configure the network manually, uncomment this line and
# the static network configuration below.
#d-i netcfg/disable_autoconfig boolean true

# If you want the preconfiguration file to work on systems both with and
# without a dhcp server, uncomment these lines and the static network
# configuration below.
#d-i netcfg/dhcp_failed note
#d-i netcfg/dhcp_options select Configure network manually

# Static network configuration.
#
# IPv4 example
#d-i netcfg/get_ipaddress string 192.168.1.42
#d-i netcfg/get_netmask string 255.255.255.0
#d-i netcfg/get_gateway string 192.168.1.1
#d-i netcfg/get_nameservers string 192.168.1.1
#d-i netcfg/confirm_static boolean true
#
# IPv6 example
#d-i netcfg/get_ipaddress string fc00::2
#d-i netcfg/get_netmask string ffff:ffff:ffff:ffff::
#d-i netcfg/get_gateway string fc00::1
#d-i netcfg/get_nameservers string fc00::1
#d-i netcfg/confirm_static boolean true

# Any hostname and domain names assigned from dhcp take precedence over
# values set here. However, setting the values still prevents the questions
# from being shown, even if values come from dhcp.
d-i netcfg/get_hostname string unassigned-hostname
d-i netcfg/get_domain string unassigned-domain

# If you want to force a hostname, regardless of what either the DHCP
# server returns or what the reverse DNS entry for the IP is, uncomment
# and adjust the following line.
#d-i netcfg/hostname string somehost

# Disable that annoying WEP key dialog.
d-i netcfg/wireless_wep string
# The wacky dhcp hostname that some ISPs use as a password of sorts.
#d-i netcfg/dhcp_hostname string radish

# If non-free firmware is needed for the network or other hardware, you can
# configure the installer to always try to load it, without prompting. Or
# change to false to disable asking.
#d-i hw-detect/load_firmware boolean true

Merk op dat netcfg het netwerkmasker automatisch zal vaststellen als netcfg/
get_netmask niet vooraf geconfigureerd is. In dergelijk geval moet bij
automatische installaties de variabele als seen gemarkeerd worden. Evenzo zal 
netcfg een passend adres kiezen als netcfg/get_gateway niet ingesteld werd. Een
bijzondere toepassing is dat u netcfg/get_gateway kunt instellen op "none" om
aan te geven dat er geen gateway gebruikt moet worden.

B.4.3. Netwerkconsole

# Gebruik de volgende instellingen als u de netwerkconsolecomponent
# wilt gebruiken voor een installatie vanop afstand via SSH. Dit is
# enkel zinvol als u de rest van de installatie handmatig wilt uitvoeren.
#d-i anna/choose_modules string network-console
#d-i network-console/authorized_keys_url string http://10.0.0.1/openssh-sleutel
#d-i network-console/password password IkBenr00t
#d-i network-console/password-again password IkBenr00t

Meer informatie in verband met network-console is te vinden in
Paragraaf 6.3.10, "Installatie over netwerk-console".

B.4.4. Spiegelserverinstellingen

Afhankelijk van de installatiemethode die u gebruikt, kan een spiegelserver
gebruikt worden om bijkomende componenten van het installatiesysteem op te
halen, om het basissysteem te installeren of om het bestand /etc/apt/
sources.list op het geïnstalleerde systeem in te stellen.

De parameter mirror/suite bepaalt welke suite (voorbeelden zijn stable,
testing, enz.) op het geïnstalleerde systeem gebruikt wordt.

De parameter mirror/udeb/suite bepaalt welke suite gebruikt moet worden voor de
bijkomende componenten van het installatiesysteem. Het is enkel zinvol om dit
in te stellen als er inderdaad componenten over het netwerk opgehaald worden.
De ingestelde waarde moet overeenkomen met de suite die gebruikt werd voor het
bouwen van het initrd van de gebruikte installatiemethode. Normaal gezien kiest
het installatiesysteem automatisch de correcte waarde en is het niet nodig om
deze in te stellen.

# Spiegelserver-protocol:
# Indien u ftp selecteert, moet de waarde voor mirror/country niet ingesteld worden.
# Standaardwaarde voor het spiegelserver-protocol: http.
#d-i mirror/protocol string ftp
d-i mirror/country string manual
d-i mirror/http/hostname string ftp.nl.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

# Te installeren suite.
#d-i mirror/suite string testing
# Te gebruiken suite voor het ophalen van componenten van het installatiesysteem (facultatief).
#d-i mirror/udeb/suite string testing

B.4.5. Accounts instellen

Het wachtwoord voor het account van root (de systeembeheerder) en de naam en
het wachtwoord van de eerste gewone gebruiker kunnen vooraf geconfigureerd
worden. Voor de wachtwoorden kunt u ofwel gebruik maken van waarden in
ongecodeerde tekst of in crypt(3) hashes.

Waarschuwing

U moet weten dat wachtwoorden vooraf configureren via een antwoordbestand niet
volledig veilig is, aangezien iedereen die toegang heeft tot het
antwoordbestand deze wachtwoorden kan kennen. Het opslaan van wachtwoorden in
de vorm van een hashcode wordt als veilig beschouwd tenzij een zwak
hashalgoritme gebruikt wordt, zoals DES of MD5. Deze kunnen met brute kracht
gekraakt worden. Aanbevolen algoritmes voor het hashen van wachtwoorden zijn
SHA-256 en SHA512.

# Sla het aanmaken van het account van root over.
# (het account van de gewone gebruiker zal sudo kunnen gebruiken).
#d-i passwd/root-login boolean false
# Als u daarentegen het aanmaken van het account
# voor de gewone gebruiker wilt overslaan.
#d-i passwd/make-user boolean false

# Wachtwoord van root, ofwel in ongecodeerde tekst
#d-i passwd/root-password password IkBenr00t
#d-i passwd/root-password-again password IkBenr00t
# ofwel geëncrypteerd met een crypt(3) hash.
#d-i passwd/root-password-crypted password [crypt(3) hash]

# Om een account voor een gewone gebruiker aan te maken.
#d-i passwd/user-fullname string Gebruiker van Debian
#d-i passwd/username string gebruiker
# Wachtwoord van de gewone gebruiker, ofwel in ongecodeerde tekst
#d-i passwd/user-password password niet-veilig
#d-i passwd/user-password-again password niet-veilig
# ofwel geëncrypteerd met een crypt(3) hash.
#d-i passwd/user-password-crypted password [crypt(3) hash]
# Maak de eerste gebruiker aan met het opgegeven UID in plaats van de standaard.
#d-i passwd/user-uid string 1010

# Het account van de gewone gebruiker wordt standaard toegevoegd
# aan een aantal groepen. Om dit aan te passen gebruikt u het volgende.
#d-i passwd/user-default-groups string audio cdrom video

De variabelen passwd/root-password-crypted en passwd/user-password-crypted kunt
u in de preconfiguratie ook de waarde "!" geven. In dat geval wordt het
betreffende account uitgeschakeld. Dit kan handig zijn voor het account van
root, uiteraard op voorwaarde dat een andere methode ingesteld wordt om het
uitvoeren van beheerstaken of het inloggen van root mogelijk te maken
(bijvoorbeeld door bij SSH gebruik te maken van authenticatie via een sleutel
of door gebruik te maken van sudo).

Het volgende commando (te vinden in het pakket whois) kan gebruikt worden om
een SHA-512 crypt(3) hash te genereren voor een wachtwoord:

mkpasswd -m sha-512

B.4.6. Instellen van klok en tijdzone

# Bepaalt of de hardwareklok op UTC ingesteld moet worden.
d-i clock-setup/utc boolean true

# U kunt dit instellen op elke geldige waarde voor $TZ; raadpleeg voor
# mogelijke waarden de inhoud van /usr/share/zoneinfo/.
d-i time/zone string US/Eastern

# Bepaalt of tijdens de installatie NTP moet gebruikt worden
# om de tijd in te stellen
d-i clock-setup/ntp boolean true
# Te gebruiken NTP-server. De standaard voldoet hier bijna altijd.
#d-i clock-setup/ntp-server string ntp.example.com

B.4.7. Schijfindeling

Wat u op het vlak van het indelen van de harde schijf kunt doen met een
antwoordbestand, is gelimiteerd tot wat door partman-auto ondersteund wordt. U
kunt ofwel kiezen voor het indelen van bestaande vrije ruimte op een harde
schijf, ofwel voor het indelen van een volledige harde schijf. De indeling van
de schijf kan bepaald worden door gebruik te maken van een vooraf gedefinieerd
schema, van een aangepast schema uit een bestand of van een schema dat in het
antwoordbestand opgenomen wordt.

Het vooraf configureren van gespecialiseerde schijfindelingsopstellingen met
RAID, LVM en encryptie wordt ondersteund, maar niet met de volledige
flexibiliteit die beschikbaar is bij een schijfindeling tijdens een installatie
zonder preconfiguratie.

De hiernavolgende voorbeelden verschaffen enkel basisinformatie over het
gebruik van zogenaamde schema's of recepten. Raadpleeg voor gedetailleerde
informatie de bestanden partman-auto-recipe.txt en partman-auto-raid-recipe.txt
uit het pakket debian-installer. Beide bestanden zijn ook te vinden in het
depot van de broncode van debian-installer. Merk op dat tussen verschillende
releases de ondersteunde functionaliteit veranderingen kan ondergaan.

Waarschuwing

Het identificeren van schijven is afhankelijk van de volgorde waarin hun
stuurprogramma's geladen worden. Indien het systeem verschillende schijven
bevat, moet u er heel zeker van zijn dat de correcte schijf geselecteerd zal
worden vooraleer u preconfiguratie gaat gebruiken.

B.4.7.1. Een schijfindelingsvoorbeeld

# Indien er op het systeem vrije ruimte is, kunt u ervoor
# kiezen om enkel die in te delen. Dit wordt enkel gehonoreerd
# als partman-auto/method (hieronder) niet ingesteld werd.
#d-i partman-auto/init_automatically_partition select biggest_free

# Een andere mogelijkheid is om op te geven dat een specifieke schijf
# ingedeeld moet worden. Als het systeem maar één schijf heeft, zal het
# installatiesysteem standaard die gebruiken, maar anders moet de
# naam van de schijf opgegeven worden in het gebruikelijke
# niet-devfs formaat (dus bijv. /dev/sda en niet /dev/discs/disc0/disc).
# Om bijvoorbeeld de eerste SCSI/SATA harde schijf te gebruiken:
#d-i partman-auto/disk string /dev/sda
# Bovendien moet u de te gebruiken methode opgeven.
# De methodes die momenteel gebruikt mogen worden, zijn:
# - regular: gebruik de voor uw architectuur gewone schijfindelingstypes
# - lvm:     gebruik LVM om de schijf in te delen
# - crypto:  gebruik LVM binnen een geëncrypteerde partitie
d-i partman-auto/method string lvm

# U kunt definiëren hoeveel ruimte gebruikt zal worden voor de
# LVM-volumegroep. Dit kan een grootte, uitgedrukt in een bepaalde
# eenheid zijn (bijv. 20 GB), een percentage van de vrije ruimte of
# het trefwoord 'max'.
d-i partman-auto-lvm/guided_size string max

# Indien een van de schijven die automatisch ingedeeld zal worden, een oude
# LVM-configuratie bevat, krijgt de gebruiker normaal gezien een waarschuwing.
# Met behulp van preconfiguratie kan men die uitzetten...
d-i partman-lvm/device_remove_lvm boolean true
# Hetzelfde geldt in het geval er al een software RAID aanwezig is:
d-i partman-md/device_remove_md boolean true
# Op dezelfde manier kan men het schrijven van de lvm-partities bevestigen.
d-i partman-lvm/confirm boolean true
d-i partman-lvm/confirm_nooverwrite boolean true

# U kunt gebruik maken van een van de drie voorgedefinieerde indelingsschema's:
# - atomic: alle bestanden in één partitie
# - home:   aparte partitie voor /home
# - multi:  aparte partities voor /home, /var en /tmp
d-i partman-auto/choose_recipe select atomic

# Of u kunt een eigen schema aanreiken...
# Indien u een methode heeft om een bestand dat het schema bevat, in de
# omgeving van debian-installer te krijgen, kunt u er gewoon naar verwijzen.
#d-i partman-auto/expert_recipe_file string /hd-media/recipe

# Is dit niet het geval, dan kunt u een volledig schema plaatsen in
# het antwoordbestand in de vorm van één (logische) regel.
# In dit voorbeeld wordt een kleine /boot-partitie gemaakt en een passende
# swap-partitie, terwijl de overige ruimte naar de root-partitie gaat:
#d-i partman-auto/expert_recipe string                         \
#      boot-root ::                                            \
#              40 50 100 ext3                                  \
#                      $primary{ } $bootable{ }                \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ /boot }                     \
#              .                                               \
#              500 10000 1000000000 ext3                       \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ / }                         \
#              .                                               \
#              64 512 300% linux-swap                          \
#                      method{ swap } format{ }                \
#              .

# De volledige indeling van een schema of zogenaamd recept wordt
# toegelicht in het bestand partman-auto-recipe.txt dat in het pakket
# 'debian-installer' te vinden is en ook in het depot met de broncode van D-I.
# Daarin wordt ook uitgelegd hoe u instellingen zoals bestandssysteemlabels
# en volumegroepnamen moet opgeven en hoe u kunt aangeven welke fysieke
# apparaten in een volumegroep opgenomen moeten worden.


## Schijfindeling voor EFI
# Indien uw systeem een EFI-partitie nodig heeft, zou u iets als het volgende
# kunnen toevoegen aan het bovenstaande recept, als het eerste element van het
# recept:
#               538 538 1075 free                              \
#                      $iflabel{ gpt }                         \
#                      $reusemethod{ }                         \
#                      method{ efi }                           \
#                      format{ }                               \
#               .                                              \
#
# Het bovenstaande fragment is voor de amd64-architectuur; voor een andere
# architectuur kunnen de details verschillen. Het pakket 'partman-auto' in de
# opslagruimte met de broncode van D-I bevat mogelijk een voorbeeld dat u
# kunt volgen.

# Hiermee laat u partman de schijfindeling automatisch uitvoeren zonder
# om bevestiging te vragen, in de veronderstelling dat u het programma
# met een van de bovenstaande methodes aangaf wat er moet gebeuren.
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true


# UEFI-opstart afdwingen ('BIOS-compatibiliteit' gaat verloren).
# Standaard: false.
#d-i partman-efi/non_efi_system boolean true
# Ervoor zorgen dat de partitietabel GPT is - dit is vereist voor EFI
#d-i partman-partitioning/choose_label select gpt
#d-i partman-partitioning/default_label string gpt

# In het geval er gebruik gemaakt wordt van schijfencryptie,
# sla dan het vooraf schoonvegen van de partities over.
#d-i partman-auto-crypto/erase_disks boolean false

B.4.7.2. Schijfindeling met RAID

U kunt het instellen van schijfpartities op een software RAID ook vooraf
configureren. De ondersteunde RAID-niveaus zijn 0, 1, 5, 6 en 10. Ook het
creëren van een aangetaste array en het opgeven van reserveapparaten worden
ondersteund.

Indien u RAID 1 gebruikt, kunt u vooraf configureren dat grub op alle apparaten
die in de array gebruikt worden, geïnstalleerd wordt. Zie Paragraaf B.4.11, "De
installatie van de bootloader".

Waarschuwing

Dit type van automatische schijfindeling kan gemakkelijk fout lopen. Het gaat
ook om een functionaliteit die relatief weinig getest wordt door de
ontwikkelaars van debian-installer. Het valt onder de verantwoordelijkheid van
de gebruiker om de verschillende schema's op een correcte manier toe te passen
(zodanig dat ze zin hebben en geen conflicten veroorzaken). Raadpleeg /var/log/
syslog mocht u in de problemen komen.

# Als methode moet "raid" ingesteld worden.
#d-i partman-auto/method string raid
# Geef de in te delen schijven op. Ze krijgen alle dezelfde indeling,
# zodat dit enkel werkt bij schijven van dezelfde grootte.
#d-i partman-auto/disk string /dev/sda /dev/sdb

# Vervolgens moet u de fysieke partities die gebruikt moeten worden, opgeven.
#d-i partman-auto/expert_recipe string \
#      multiraid ::                                         \
#              1000 5000 4000 raid                          \
#                      $primary{ } method{ raid }           \
#              .                                            \
#              64 512 300% raid                             \
#                      method{ raid }                       \
#              .                                            \
#              500 10000 1000000000 raid                    \
#                      method{ raid }                       \
#              .

# Tenslotte moet u opgeven hoe de hiervoor gedefinieerde partities in de
# RAID-opstelling gebruikt moeten worden. Gebruik voor logische partities
# de correcte partitienummers. RAID-niveaus 0, 1, 5, 6 en 10 worden
# ondersteund; schijven worden onderling gescheiden door "#".
# Parameters zijn:
#    <raidtype> <schijfnummer> <reserveschijfnummer> <bestandssysteemtype>
#    <aankoppelpunt> <schijven> <reserveschijven>

#d-i partman-auto-raid/recipe string \
#    1 2 0 ext3 /                    \
#          /dev/sda1#/dev/sdb1       \
#    .                               \
#    1 2 0 swap -                    \
#          /dev/sda5#/dev/sdb5       \
#    .                               \
#    0 2 0 ext3 /home                \
#          /dev/sda6#/dev/sdb6       \
#    .

# Ga voor bijkomende informatie kijken in het bestand
# partman-auto-raid-recipe.txt uit het pakket 'debian-installer'.
# Het is ook te vinden in het depot van de broncode van D-I.

# Hiermee laat u partman de schijfindeling automatisch uitvoeren zonder
# bevestiging te vragen.
d-i partman-md/confirm boolean true
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

B.4.7.3. De aankoppeling van partities sturen

Gewoonlijk worden bestandssystemen aangekoppeld op basis van hun unieke
identiteitssleutel (UUID). Daardoor kunnen ze juist aangekoppeld worden, zelfs
als hun schijfnaam wijzigt. UUID's zijn lang en moeilijk te lezen en dus kan
het installatiesysteem, als u dat verkiest, bestandssystemen aankoppelen op
basis van hun traditionele schijfnaam of op basis van een label dat u aan hen
toekent. Indien u het installatiesysteem vraagt om de aankoppeling te doen op
basis van een label, zal elk bestandssysteem zonder label aangekoppeld worden
op basis van zijn UUID.

Voor schijven met stabiele namen, zoals logische LVM-volumes, blijft gelden dat
hun traditionele benaming gebruikt wordt in plaats van hun UUID.

Waarschuwing

De traditionele benaming van schijven kan veranderen op basis van de volgorde
waarin de schijven bij het opstarten door de kernel ontdekt worden. Dit kan
ertoe leiden dat het verkeerde bestandssysteem aangekoppeld wordt. Labels van
hun kant kunnen samenvallen als u een nieuwe schijf of USB-schijf plaatst en
als dit gebeurt, dan wordt het gedrag van uw systeem bij het opstarten
onvoorspelbaar.

# Het standaardgedrag is aankoppelen volgens UUID, maar u kunt ook "traditional"
# kiezen om de traditionele schijfnamen te laten gebruiken, of "label"
# om bestandssysteemlabels te laten gebruiken en in tweede instantie
# terug te vallen op UUID's.
#d-i partman/mount_style select uuid

B.4.8. De installatie van het basissysteem

Voor dit stadium kan eigenlijk niet veel vooraf geconfigureerd worden. De enige
vragen die gesteld worden, hebben betrekking op de installatie van de kernel.

# Stel APT in om standaard geen aanbevolen pakketten te installeren.
# Deze optie gebruiken kan een onvolledig systeem opleveren en ze zou
# enkel door erg ervaren gebruikers toegepast mogen worden.
#d-i base-installer/install-recommends boolean false

# Het te installeren kernelimage-(meta)pakket;
# "none" kan gebruikt worden als geen kernel geïnstalleerd moet worden.
#d-i base-installer/kernel/image string linux-image-686

B.4.9. Apt instellen

Het instellen van /etc/apt/sources.list en het instellen van de basisopties
verlopen volledig automatisch op basis van uw installatiemethode en uw eerdere
antwoorden. Eventueel kunt u andere (lokale) pakketbronnen toevoegen.

# Choose, if you want to scan additional installation media
# (default: false).
d-i apt-setup/cdrom/set-first boolean false
# You can choose to install non-free and contrib software.
#d-i apt-setup/non-free boolean true
#d-i apt-setup/contrib boolean true
# Uncomment the following line, if you don't want to have the sources.list
# entry for a DVD/BD installation image active in the installed system
# (entries for netinst or CD images will be disabled anyway, regardless of
# this setting).
#d-i apt-setup/disable-cdrom-entries boolean true
# Uncomment this if you don't want to use a network mirror.
#d-i apt-setup/use_mirror boolean false
# Select which update services to use; define the mirrors to be used.
# Values shown below are the normal defaults.
#d-i apt-setup/services-select multiselect security, updates
#d-i apt-setup/security_host string security.debian.org

# Additional repositories, local[0-9] available
#d-i apt-setup/local0/repository string \
#       http://local.server/debian stable main
#d-i apt-setup/local0/comment string local server
# Enable deb-src lines
#d-i apt-setup/local0/source boolean true
# URL to the public key of the local repository; you must provide a key or
# apt will complain about the unauthenticated repository and so the
# sources.list line will be left commented out.
#d-i apt-setup/local0/key string http://local.server/key
# If the provided key file ends in ".asc" the key file needs to be an
# ASCII-armoured PGP key, if it ends in ".gpg" it needs to use the
# "GPG key public keyring" format, the "keybox database" format is
# currently not supported.

# By default the installer requires that repositories be authenticated
# using a known gpg key. This setting can be used to disable that
# authentication. Warning: Insecure, not recommended.
#d-i debian-installer/allow_unauthenticated boolean true

# Uncomment this to add multiarch configuration for i386
#d-i apt-setup/multiarch string i386


B.4.10. Pakketselectie

U kunt voor elke mogelijke combinatie van beschikbare taken kiezen. Op dit
ogenblik zijn de volgende taken beschikbaar:

  • standard (standaard gereedschappen)

  • desktop (grafische werkomgeving)

  • gnome-desktop (Gnome desktopomgeving)

  • xfce-desktop (XFCE desktopomgeving)

  • kde-desktop (KDE Plasma desktopomgeving)

  • cinnamon-desktop (Cinnamon desktopomgeving)

  • mate-desktop (MATE desktopomgeving)

  • lxde-desktop (LXDE desktopomgeving)

  • web-server (webserver)

  • ssh-server (SSH-server)

U kunt er ook voor kiezen om geen taken te installeren en op een andere manier
het installeren van een aantal pakketten af te dwingen. We raden u aan om
steeds de taak standard te installeren.

Or if you don't want the tasksel dialog to be shown at all, preseed pkgsel/
run_tasksel (no packages are installed via tasksel in that case).

Indien u individuele pakketten wenst te installeren naast de pakketten die door
de taken geïnstalleerd worden, kunt u de parameter pkgsel/include gebruiken. De
waarde van deze parameter kan een lijst van pakketten zijn die onderling
gescheiden zijn door ofwel een komma of een spatie, waardoor dit ook
gemakkelijk aan de commandoregel van de kernel toegepast kan worden.

#tasksel tasksel/first multiselect standard, web-server, kde-desktop

# Or choose to not get the tasksel dialog displayed at all (and don't install
# any packages):
#d-i pkgsel/run_tasksel boolean false

# Individual additional packages to install
#d-i pkgsel/include string openssh-server build-essential
# Whether to upgrade packages after debootstrap.
# Allowed values: none, safe-upgrade, full-upgrade
#d-i pkgsel/upgrade select none

# You can choose, if your system will report back on what software you have
# installed, and what software you use. The default is not to report back,
# but sending reports helps the project determine what software is most
# popular and should be included on the first CD/DVD.
#popularity-contest popularity-contest/participate boolean false

B.4.11. De installatie van de bootloader

# Grub is de bootloader (voor x86).

# Het is redelijk veilig om dit in te stellen. Het zorgt voor het automatisch
# installeren van grub op de UEFI-partitie/boot record indien
# geen ander besturingssysteem aangetroffen wordt op de machine.
d-i grub-installer/only_debian boolean true

# Hiermee laat u grub-installer grub installeren op de UEFI-partitie/boot record
# als het ook een ander OS (besturingssysteem) aantreft. Dit is minder veilig,
# aangezien het er misschien niet in slaagt om dat ander OS op te starten.
d-i grub-installer/with_other_os boolean true

# Meer bepaald wegens het feit dat er misschien USB-sticks gebruikt worden,
# is het in het algemeen niet mogelijk om de primaire schijf precies te
# lokaliseren en dus moet deze opgegeven worden:
#d-i grub-installer/bootdev  string /dev/sda
# Om de installatie op de eerste schijf uit te voeren
# (in de veronderstelling dat dit geen USB-stick is):
#d-i grub-installer/bootdev  string default

# Als u daarentegen de installatie op een andere locatie dan op de
# UEFI-partitie/boot record wilt uitvoeren, moet u bij deze regels
# het commentaarteken verwijderen en hun inhoud aanpassen:
#d-i grub-installer/only_debian boolean false
#d-i grub-installer/with_other_os boolean false
#d-i grub-installer/bootdev  string (hd0,1)
# Om grub op verschillende schijven te installeren:
#d-i grub-installer/bootdev  string (hd0,1) (hd1,1) (hd2,1)

# Facultatief wachtwoord voor grub, ofwel in ongecodeerde tekst
#d-i grub-installer/password password IkBenr00t
#d-i grub-installer/password-again password IkBenr00t
# of geëncrypteerd met een MD5-hash; zie grub-md5-crypt(8).
#d-i grub-installer/password-crypted password [MD5 hash]

# Gebruik de volgende optie om extra opstartparameters voor het geïnstalleerde
# systeem toe te voegen (als het installatieprogramma van de bootloader
# dit ondersteunt).
# Noot: aan het installatiesysteem opgegeven opties worden automatisch
# toegevoegd.
#d-i debian-installer/add-kernel-opts string nousb

Een MD5-hash voor een wachtwoord voor grub kan automatissch gegenereerd worden
met grub-md5-crypt of met het commando uit het voorbeeld in Paragraaf B.4.5,
"Accounts instellen".

B.4.12. De installatie afronden

# Tijdens een installatie vanaf een seriële console, worden normaal de
# gewone virtuele consoles (VT1-VT6) uitgezet in /etc/inittab.
# Verwijder het commentaarteken van de volgende regel om dit te voorkomen.
#d-i finish-install/keep-consoles boolean true

# Vermijd de laatste melding die zegt dat de installatie afgerond is.
d-i finish-install/reboot_in_progress note

# Dit zal voorkomen dat het installatiesysteem de CD uitwerpt bij het herstarten,
# wat in sommige situaties nuttig kan zijn.
#d-i cdrom-detect/eject boolean false

# Op de volgende manier laat u het installatiesysteem afsluiten als het klaar
# is, zonder dat nadien het geïnstalleerde systeem opgestart wordt.
#d-i debian-installer/exit/halt boolean true
# Hiermee stopt u de machine niet alleen, maar zet u ze ook uit.
#d-i debian-installer/exit/poweroff boolean true

B.4.13. Andere pakketten vooraf configureren

# Onder invloed van welke software u installeert, of indien er zaken fout lopen
# tijdens het installatieproces, is het mogelijk dat andere vragen gesteld
# worden.
# Ook hiervoor kunt u uiteraard de antwoorden vooraf configureren.
# Om een overzicht te bekomen van alle mogelijke vragen die tijdens
# een installatie gesteld kunnen worden, moet u een installatie
# uitvoeren en nadien de volgende commando's geven:
#   debconf-get-selections --installer > bestand
#   debconf-get-selections >> bestand

B.5. Opties voor gevorderden

B.5.1. Aangepaste commando's uitvoeren tijdens de installatie

Een erg krachtige en flexibele optie die geboden wordt door de
preconfiguratiegereedschappen is de mogelijkheid om op bepaalde punten in de
installatie commando's of scripts uit te voeren.

Als het bestandssysteem van het doelsysteem aangekoppeld is, is het beschikbaar
in /target. Wanneer een installatie-CD gebruikt wordt, is die beschikbaar in /
cdrom als die aangekoppeld is.

# Het toepassen van preconfiguratie met d-i is inherent onveilig.
# Het installatiesysteem bevat geen enkele controle op eventuele pogingen
# om via een buffer overflow of op een andere manier de waarden uit een
# antwoordbestand, zoals dit hier, te compromitteren. Gebruik enkel
# antwoordbestanden die afkomstig zijn van locaties die u vertrouwt!
# Om dit te beklemtonen en omdat het ook een algemeen nut heeft,
# tonen we u hier een manier om elk gewenst shell-commando automatisch
# uit te voeren binnen het installatiesysteem.

# Dit eerste commando wordt zo vroeg mogelijk uitgevoerd,
# net nadat de preconfiguratie ingelezen werd.
#d-i preseed/early_command string anna-install some-udeb
# Dit commando wordt uitgevoerd vlak voordat de schijfindeling begint.
# Het kan nuttig zijn om voor het schijfindelingsprogramma een dynamische
# preconfiguratie te gebruiken die rekening houdt met de toestand van de
# schijven (die mogelijk niet bekend is op het ogenblik dat de commando's van
# preseed/early_command uitgevoerd worden).
#d-i partman/early_command \
#       string debconf-set partman-auto/disk "$(list-devices disk | head -n1)"
# Dit commando wordt uitgevoerd vlak voor de installatie beëindigd wordt, maar
# de map /target nog gebruikt kan worden. U kunt chrooten naar /target
# en het rechtstreeks gebruiken of de commando's apt-install en in-target
# gebruiken om op een eenvoudige manier pakketten te installeren en
# commando's uit te voeren op het doelsysteem.
#d-i preseed/late_command string apt-install zsh; in-target chsh -s /bin/zsh

B.5.2. Gebruik maken van preconfiguratie om standaardwaarden aan te passen

Het is mogelijk om preconfiguratie te gebruiken om het standaardantwoord op een
vraag aan te passen, terwijl de vraag nog steeds gesteld wordt. Om dit te doen
moet de seen-vlag (de gezien-vlag) teruggezet worden op "false" nadat de waarde
voor een antwoord ingesteld werd.

d-i foo/bar string waarde
d-i foo/bar seen false

Hetzelfde effect kunt u bereiken voor alle vragen door aan de opstartprompt de
parameter preseed/interactive=true in te stellen. Dit kan ook nuttig zijn om uw
antwoordbestand te testen of te debuggen.

Merk op dat u "d-i" als eigenaar enkel mag gebruiken voor variabelen die in het
installatiesysteem zelf gebruikt worden. Voor variabelen die behoren tot
pakketten die op het doelsysteem geïnstalleerd worden, moet u de naam van dat
pakket gebruiken als eigenaar. Zie de voetnoot bij Paragraaf B.2.2, "Met
opstartparameters vooraf installatievragen beantwoorden".

Indien u vooraf configureert met behulp van opstartparameters, kunt u het
installatiesysteem de betreffende vraag laten stellen door de operator "?=" te
gebruiken, d.w.z. foo/bar?=waarde (of eigenaar:foo/bar?=waarde). Dit zal
natuurlijk enkel effect hebben voor parameters die betrekking hebben op vragen
die werkelijk gesteld worden tijdens een installatie en niet voor "interne"
parameters.

Om meer debug-informatie te krijgen, moet u de opstartparameter DEBCONF_DEBUG=5
gebruiken. Daardoor zal debconf veel meer gedetailleerde informatie geven over
de huidige instellingen van elke variabele en over zijn voortgang in de
installatiescripts van elk pakket.

B.5.3. Een aaneenschakeling van antwoordbestanden laden

Het is mogelijk om in een antwoordbestand andere antwoordbestanden te laten
opnemen. Alle instellingen uit deze bestanden zullen eerder gemaakte
instellingen uit eerder geladen bestanden vervangen. Dit maakt het mogelijk om
bijvoorbeeld de voor uw locatie algemeen geldende netwerkinstellingen in een
bestand te plaatsen en meer specifieke instellingen voor bepaalde configuraties
in andere bestanden.

# Meer dan één bestand kan vermeld worden, onderling gescheiden door een spatie;
# ze zullen allemaal opgenomen worden. De opgenomen bestanden kunnen op hun
# beurt ook zelf opdrachten van het type preseed/include bevatten.
# Merk op dat als de bestanden een relatieve naam hebben, die bestanden
# uit dezelfde map geladen worden als het antwoordbestand dat ze opneemt.
#d-i preseed/include string x.cfg

# Het installatiesysteem kan eventueel checksums van antwoordbestanden
# controleren vooraleer deze te gebruiken. Momenteel worden enkel md5sums
# ondersteund. Vermeld de md5sums in dezelfde volgorde als die welke
# gehanteerd wordt voor de lijst van de op te nemen bestanden.
#d-i preseed/include/checksum string 5da499872becccfeda2c4872f9171c3d

# Deze meer flexibele methode voert een shell-commando uit en als de uitvoer
# ervan de namen geeft van antwoordbestanden, worden deze bestanden opgenomen.
#d-i preseed/include_command \
#      string if [ "`hostname`" = bob ]; then echo bob.cfg; fi

# Deze meest flexibele methode van allemaal downloadt een programma en voert
# het uit. Het programma kan commando's gebruiken zoals debconf-set om de
# debconf-databank te bewerken. Meerdere scripts kunnen vermeld worden,
# onderling gescheiden door spaties. Merk op dat als de bestanden een relatieve
# naam hebben, die bestanden uit dezelfde map geladen worden als het
# antwoordbestand dat ze uitvoert.
#d-i preseed/run string foo.sh

Het is eveneens mogelijk om vanuit de initrd-preconfiguratiefase of vanuit de
preconfiguratiefase die met een antwoordbestand werkt, de koppeling te maken
naar de fase van preconfiguratie die via het netwerk verloopt, door in de
eerdere bestanden preseed/url in te stellen. Hierdoor zal het preconfigureren
via het netwerk uitgevoerd worden bij de activatie van het netwerk. Als u dit
toepast moet u dit met zorg doen, vermits er tweemaal een preconfiguratiefase
zal zijn. Dit betekent bijvoorbeeld dat u nog een kans heeft om het commando
preseed/early uit te voeren. De tweede maal vindt dan plaats na de activatie
van het netwerk.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[21] De eigenaar van een debconf-variabele (of sjabloon) is normaal gezien de
naam van het pakket dat het overeenkomstige debconf-sjabloon bevat. Voor
variabelen die in het installatiesysteem zelf gebruikt worden, is de eigenaar"
d-i". Sjablonen en variabelen kunnen meer dan één eigenaar hebben en dit
gegeven kan helpen bij het bepalen of een bepaalde variabele uit de databank
van debconf verwijderd mag worden als een pakket op het systeem gewist wordt
(d.w.z. als apt met het commando purge gebruikt wordt).

^[22] Als u bijvoorbeeld in de preconfiguratie locale zou instellen op en_NL,
zou dit resulteren in en_US.UTF-8 als standaardtaalgebied voor het
geïnstalleerde systeem. Indien u bijvoorbeeld en_GB.UTF-8 wenselijker zou
vinden, zou u de individuele waarden apart moeten preconfigureren.

Bijlage C. Schijven indelen voor Debian

Inhoudsopgave

C.1. Keuzes maken in verband met Debian partities en hun grootte
C.2. De mappenboom
C.3. Aanbevolen schijfindelingsschema
C.4. De benaming van apparaten in Linux
C.5. Debian schijfindelingsprogramma's

    C.5.1. Schijven indelen voor 64-bit PC

C.1. Keuzes maken in verband met Debian partities en hun grootte

Als absolute minimum heeft GNU/Linux zelf één partitie nodig. U kunt één enkele
partitie hebben met daarop zowel het volledige besturingssysteem als de
toepassingen en uw persoonlijke bestanden. De meeste mensen vinden dat een
aparte swap-partitie (wisselgeheugenpartitie) ook noodzakelijk is, al is dat
strikt genomen niet het geval. "Swap" is kladruimte voor een besturingssysteem,
wat het systeem toelaat om schijfopslagruimte te gebruiken als "virtueel
geheugen". Door wisselgeheugen op een aparte partitie te plaatsen, kan Linux er
veel efficiënter gebruik van maken. Het is mogelijk om Linux te dwingen een
gewoon bestand als wisselgeheugen te gebruiken, maar dit wordt niet aanbevolen.

De meeste mensen kiezen er evenwel voor om GNU/Linux meer dan het minimum
aantal partities te geven. Er zijn twee redenen waarom u het bestandssysteem
wellicht zult willen opsplitsen in een aantal kleinere partities. De eerste
reden is veiligheid. Indien er iets gebeurt dat het bestandssysteem beschadigt,
wordt meestal slechts één partitie getroffen. En dus moet u slechts een deel
van uw systeem vervangen (met behulp van de reservekopieën die u zorgvuldig
bijgehouden heeft). Als absolute minimum zou u moeten overwegen om wat men
gewoonlijk een "root-partitie" noemt, aan te maken. Deze bevat de meest
essentiële componenten van het systeem. Als een van de andere partities
beschadigd raakt, kunt u toch nog altijd GNU/Linux opstarten om het systeem te
repareren. Dit kan u de moeite besparen om het hele systeem helemaal opnieuw te
moeten installeren.

De tweede reden heeft over het algemeen meer belang in een bedrijfscontext,
hoewel het echt afhankelijk is van het gebruik dat u van de machine maakt. Bij
een e-mailserver bijvoorbeeld, die overspoeld wordt met spamberichten, kan een
partitie gemakkelijk vollopen. Indien u op de e-mailserver een aparte partitie
aanmaakte voor /var/mail, zal het systeem grotendeels blijven functioneren,
zelfs als u af te rekenen krijgt met een spamtoevloed.

Het enige nadeel van het gebruik van meerdere partities is, dat het dikwijls
moeilijk vooraf in te schatten valt welke uw behoeften zullen zijn. Indien u
een bepaalde partitie te klein maakt, zult u ofwel het systeem opnieuw moeten
installeren of voortdurend zaken moeten verplaatsen om in de te kleine partitie
vrije ruimte te creëren. Als u daarentegen de partitie te groot maakt, verspilt
u ruimte die wellicht elders nuttig gebruikt kon worden. Tegenwoordig is
schijfruimte wel goedkoop, maar toch kunt u zich blijven afvragen of u geen
geld aan het verspillen bent.

C.2. De mappenboom

Debian GNU/Linux volgt voor het benoemen van mappen en bestanden de Filesystem
Hierarchy Standard (de standaard die de hiërarchische opbouw van het
bestandssysteem bepaalt). Deze standaard maakt het mogelijk voor gebruikers en
softwareprogramma's om vooraf te weten op welke plaats bestanden en mappen te
vinden zullen zijn. De map op het basisniveau wordt gewoon voorgesteld door een
slash /. In deze basismap bevinden zich op alle Debian systemen de volgende
mappen:

┌─────┬─────────────────────────────────────────────────────────────────┐
│ Map │                             Inhoud                              │
├─────┼─────────────────────────────────────────────────────────────────┤
│bin  │Essentiële commando's in binaire vorm                            │
├─────┼─────────────────────────────────────────────────────────────────┤
│boot │Statische bestanden van de bootloader                            │
├─────┼─────────────────────────────────────────────────────────────────┤
│dev  │Apparaat-bestanden                                               │
├─────┼─────────────────────────────────────────────────────────────────┤
│etc  │Computerspecifieke systeemconfiguratie                           │
├─────┼─────────────────────────────────────────────────────────────────┤
│home │Persoonlijke mappen van gebruikers                               │
├─────┼─────────────────────────────────────────────────────────────────┤
│lib  │Essentiële gedeelde bibliotheken en kernelmodules                │
├─────┼─────────────────────────────────────────────────────────────────┤
│media│Bevat aankoppelpunten voor verwijderbare media                   │
├─────┼─────────────────────────────────────────────────────────────────┤
│mnt  │Aankoppelpunt om tijdelijk een bestandssysteem op aan te koppelen│
├─────┼─────────────────────────────────────────────────────────────────┤
│proc │Virtuele map voor systeeminformatie                              │
├─────┼─────────────────────────────────────────────────────────────────┤
│root │Persoonlijke map van gebruiker root, de systeembeheerder         │
├─────┼─────────────────────────────────────────────────────────────────┤
│run  │Variabele gegevens van actieve programma's                       │
├─────┼─────────────────────────────────────────────────────────────────┤
│sbin │Essentiële systeemprogramma's in binaire vorm                    │
├─────┼─────────────────────────────────────────────────────────────────┤
│sys  │Virtuele map voor systeeminformatie                              │
├─────┼─────────────────────────────────────────────────────────────────┤
│tmp  │Tijdelijke bestanden                                             │
├─────┼─────────────────────────────────────────────────────────────────┤
│usr  │Secundaire hiërarchie                                            │
├─────┼─────────────────────────────────────────────────────────────────┤
│var  │Variabele data                                                   │
├─────┼─────────────────────────────────────────────────────────────────┤
│srv  │Data voor door het systeem verleende diensten                    │
├─────┼─────────────────────────────────────────────────────────────────┤
│opt  │Pakketten met supplementaire toepassingssoftware                 │
└─────┴─────────────────────────────────────────────────────────────────┘

Hierna volgt een lijst met belangrijke overwegingen in verband met mappen en
partities. Merk op dat het schijfgebruik erg verschillend kan zijn naargelang
de systeemconfiguratie en de specifieke taken die de computer moet vervullen.
De hierna gegeven aanbevelingen zijn algemene richtlijnen die een
aanknopingspunt bieden voor de schijfindeling.

  • De root-partitie / moet fysiek steeds de mappen /etc, /bin, /sbin, /lib en
    /dev bevatten, anders zal de computer niet kunnen opstarten. Voor de
    root-partitie is gewoonlijk 250-350MB vereist.

  • /usr: bevat alle gebruikersprogramma's (/usr/bin), bibliotheken (/usr/lib),
    documentatie (/usr/share/doc), enz. Dit onderdeel van het bestandssysteem
    neemt meestal de meeste ruimte in. U moet er minstens 500MB schijfruimte
    voor voorzien. Afhankelijk van het aantal en het type pakketten dat u denkt
    te zullen installeren, moet u dit getal verhogen. Een rijkelijk gestoffeerd
    werkstation of een server hebben hiervoor ongeveer 4-6GB nodig.

  • Het wordt tegenwoordig aanbevolen dat /usr op de root-partitie / staat,
    anders is het mogelijk dat er zich bij het opstarten problemen
    manifesteren. Dit betekent dat u voor de root-partitie met inbegrip van /
    usr minstens 600-750MB schijfruimte moet voorzien of wanneer het een
    werkstation of een server betreft, 5-6GB.

  • /var: variabele data, zoals nieuwsartikels, e-mails, websites, databanken,
    de cache van het pakketbeheersysteem, enz., worden onder deze map
    geplaatst. De grootte van deze map is sterk afhankelijk van het gebruik dat
    van het systeem gemaakt wordt, maar bij de meeste mensen wordt ze vooral
    bepaald door wat het gereedschap voor pakketbeheer nodig heeft. Indien u in
    één enkele sessie een volledige installatie van zowat alles wat Debian te
    bieden heeft, gaat uitvoeren, zou 2 tot 3 GB schijfruimte voorzien voor /
    var moeten volstaan. Indien u zinnens bent de installatie in verschillende
    fases uit te voeren (dat wil zeggen, eerst diensten en hulpprogramma's
    installeren, nadien tekstgereedschappen, dan X, ...), kunt reeds genoeg
    hebben aan 300-500 MB. Indien harde schijfruimte een primaire bekommernis
    is, en u niet zinnens bent om grote systeemupdates te doen, kunt u zelfs
    volstaan met een uiterst beperkte 30 tot 40 MB.

  • /tmp: tijdelijke data die door programma's gecreëerd worden, komen meestal
    in deze map terecht. 40-100MB zou normaal moeten volstaan. Sommige
    toepassingen -- zoals gereedschap waarmee u archieven of CD's/DVD's kunt
    bewerken, en multimediasoftware -- maken mogelijk gebruik van /tmp om
    tijdelijk image-bestanden op te slaan. Indien u plant om dergelijke
    toepassingen te gebruiken, moet u de ruime die u voorziet voor /tmp daaraan
    aanpassen.

  • /home: iedere gebruiker zal zijn persoonlijke documenten in een
    onderliggende map van deze map plaatsen. De grootte is dus afhankelijk van
    het aantal gebruikers op het systeem en van welk soort bestanden er in hun
    persoonlijke map terecht zullen komen. Afhankelijk van waarvoor u het
    systeem denkt te zullen gebruiken, moet u ongeveer 100MB per gebruiker
    voorzien. Maar pas deze waarde wel aan uw behoeften aan. Voorzie veel meer
    ruimte als u zinnens bent om veel multimediabestanden (foto's,
    MP3-muziekbestanden, films) op te slaan in uw persoonlijke map.

C.3. Aanbevolen schijfindelingsschema

Voor een nieuwe gebruiker, een persoonlijke Debian computer, een thuiscomputer
en andere situaties waarin de computer hoofdzakelijk slechts voor één persoon
bestemd is, is een opstelling met één enkele /-partitie (plus swap) wellicht de
makkelijkste en eenvoudigste oplossing. Het aanbevolen partitietype is ext4.

Voor systemen met meerdere gebruikers en systemen met veel schijfruimte is het
beter om /var, /tmp en /home telkens op een eigen partitie te plaatsen, los van
de /-partitie.

Misschien heeft u een aparte /usr/local-partitie nodig als u veel programma's
denkt te installeren die geen deel uitmaken van de Debian-distributie. Als uw
computer dienst zal doen als een e-mailserver, moet u misschien een aparte
partitie voorzien voor /var/mail. Indien u een server met veel
gebruikersaccounts installeert, is het over het algemeen aangewezen om een
ruime aparte partitie te hebben voor /home. Over het algemeen verschilt de
toegepaste schijfindeling per computer naargelang het gebruik dat er van
gemaakt wordt.

Voor erg complexe systemen raadpleegt u best de Multi Disk HOWTO. Die bevat
diepgaande informatie die vooral nuttig is voor aanbieders van internetdiensten
(ISP's) en voor mensen die servers beheren.

Er bestaan verschillende opvattingen over de grootte van de
wisselgeheugenpartitie (swap). Een goede vuistregel is om evenveel swap te
gebruiken als het werkgeheugen waarover uw computer beschikt. In de meeste
gevallen zou die partitie ook niet kleiner dan 512MB mogen zijn. Natuurlijk
zijn er uitzonderingen op deze algemene regel.

Een mogelijk voorbeeld is een oudere thuiscomputer met 512MB RAM-geheugen en
een SATA harde schijf van 20GB op /dev/sda. Deze zou een partitie kunnen hebben
van 8GB op /dev/sda1 met daarop een ander besturingssysteem, een swap-partitie
van 512MB op /dev/sda3 en een Linux-partitie van ongeveer 11.4GB op /dev/sda2.

Als u een idee wilt krijgen van de ruimte die ingenomen wordt door bepaalde
taken die u na de installatie van het systeem zou willen installeren, kunt u
Paragraaf D.2, "De hoeveelheid schijfruimte die nodig is voor taken"
raadplegen.

C.4. De benaming van apparaten in Linux

Onder Linux is de benaming van schijven en partities mogelijk anders dan bij
andere besturingssystemen. Als u partities maakt en aankoppelt moet u de namen
die door Linux gebruikt worden, kennen. Hierna volgt basisinformatie over het
naamgevingsschema:

  • De harde schijf die eerst aangetroffen wordt, heet /dev/sda.

  • De harde schijf die als tweede aangetroffen wordt, heet /dev/sdb,
    enzovoort.

  • Het eerste SCSI CD-station heet /dev/scd0 en is ook gekend als /dev/sr0.

De partities op iedere schijf worden voorgesteld door aan de naam van de schijf
een decimaal getal toe te voegen: sda1 en sda2 stellen de eerste en de tweede
partitie voor op de eerse SCSI-schijf op uw systeem.

Hierna volgt een voorbeeld uit de praktijk. Laten we aannemen dat u een systeem
heeft met 2 SCSI-schijven, de ene op het SCSI-adres 2 en de andere op het
SCSI-adres 4. De eerste schijf (op adres 2) krijgt dan de naam sda en de tweede
sdb. Als er zich op de schijf sda 3 partities bevinden, zullen die sda1, sda2
en sda3 heten. Hetzelfde geldt voor schijf sdb en haar partities.

Merk op dat als uw computer twee computerbusadapters voor SCSI heeft (d.w.z.
twee SCSI-controllers), er verwarring kan ontstaan over de volgorde van de
schijven. In dat geval is de beste oplossing om de opstartberichten in het oog
te houden en deze informatie te koppelen aan wat u weet over het type en de
grootte van de schijven.

Linux stelt de primaire partities voor door de naam van de schijf te nemen met
daarbij het cijfer 1 tot 4. De eerste primaire partitie op de eerste schijf is
dus /dev/sda1. De logische partities worden genummerd te beginnen vanaf 5 en
dus is de eerste logische partitie op diezelfde schijf /dev/sda5. Denk eraan
dat de uitgebreide partitie, dit wil zeggen de primaire partitie die de
logische partities bevat, op zich niet bruikbaar is.

C.5. Debian schijfindelingsprogramma's

De ontwikkelaars van Debian hebben verschillende aantallen
schijfindelingsprogramma's aangepast om uiteenlopende types harde schijven en
computerarchitecturen te kunnen bedienen. Hierna volgt een lijst met de
programma's die voor uw architectuur van toepassing zijn.

partman

    Het aanbevolen schijfindelingsgereedschap in Debian. Dit Zwitsers zakmes is
    ook in staat de partitiegrootte te wijzigen, bestandssystemen aan te maken 
    ("formatteren" in Windows-taalgebruik) en ze toe te wijzen aan
    aankoppelpunten.

fdisk

    Het originele Linux schijfindelingsprogramma; goed voor goeroes.

    Wees voorzichtig als uw machine bestaande FreeBSD-partities heeft. De
    kernels van het installatiesysteem ondersteunen deze partities, maar de
    wijze waarop fdisk ze voorstelt (of dat niet doet) kan maken dat de
    benaming van de schijven verschilt. Zie de Linux+FreeBSD HOWTO.

cfdisk

    Een gemakkelijk te gebruiken schijfindelingsprogramma in een volledig
    scherm voor de rest onder ons.

    Merk op dat cfdisk helemaal geen notie heeft van FreeBSD-partities, en
    nogmaals, als gevolg daarvan kan de benaming van de schijven verschillend
    zijn.

Een van deze programma's zal standaard uitgevoerd worden als u Schijven indelen
(of iets dergelijks) selecteert. Het is mogelijk om een ander
schijfindelingsprogramma te gebruiken aan de commandoregel op VT2, maar dit
wordt niet aangeraden.

Denk eraan om uw opstartpartitie te markeren als "Bootable" (opstartbaar).

C.5.1. Schijven indelen voor 64-bit PC

Indien u een nieuwe harde schijf wilt gebruiken (of de hele partitietabel van
uw harde schijf wilt wissen), moet een nieuwe partitietabel aangemaakt worden.
De "Begeleide schijfindeling" doet dit automatisch, maar indien u de
schijfindeling handmatig uitvoert, moet u de selectiebalk plaatsen op het item
dat, op het hoogste niveau, verwijst naar de schijf en op Enter drukken.
Daardoor zal op die schijf een nieuwe partitietabel aangemaakt worden. In de
expertmodus zal u dan gevraagd worden naar het type partitietabel. Voor
UEFI-systemen is dit standaard "gpt", terwijl dit voor de oudere BIOS-wereld
standaard "msdos" is. Bij een installatie op een standaardprioriteitsniveau
zullen deze standaardwaarden automatisch gebruikt worden.

Opmerking

Wanneer een partitietabel van het type "gpt" geselecteerd werd (standaard voor
UEFI-systemen), zal automatisch een vrije ruimte van 1 MB aangemaakt worden aan
het begin van de schijf. Dit is bedoeld en vereist om er de GRUB2 bootloader in
te plaatsen.

Indien u een ander besturingssysteem, zoals DOS of Windows, op de computer
heeft staan en dat parallel met de installatie van Debian wilt behouden, zult u
de partitie waarop dit besturingssysteem staat, moeten verkleinen om plaats
vrij te maken voor de installatie van Debian. Het installatiesysteem
ondersteunt het aanpassen van de grootte van zowel FAT- als
NTFS-bestandssystemen. Als u tijdens het installatieproces toe komt aan de fase
van schijfindeling, moet u de optie Handmatig selecteren en dan gewoon een
bestaande partitie selecteren en de grootte ervan wijzigen.

Hoewel moderne UEFI-systemen niet de onderstaande beperkingen kennen, legt het
oude PC-BIOS gewoonlijk extra beperkingen op aan de schijfindeling. Er bestaat
een limiet voor het aantal "primaire" en "logische" partities die een schijf
kan bevatten. Voor BIOS-en die dateren van voor 1994-98 geldt een bijkomende
beperking inzake de plaats op de schijf waarvandaan het BIOS kan opstarten.
Meer informatie vindt u in de Linux Partition HOWTO, maar in dit onderdeel
geven we een kort overzicht waarmee u de meest voorkomende situaties kunt
aanpakken.

De "primaire" partities zijn het originele schijfindelingssysteem voor
PC-schijven. Er kunnen er echter slechts vier van bestaan. Om aan deze
beperking te ontkomen, werden "extended" (uitgebreide) en "logical" (logische)
partities bedacht. Door van een van uw primaire partities een uitgebreide
partitie te maken, kunt u alle ruimte die aan die partitie toegekend werd
opdelen in logische partities. Per uitgebreide partitie kunt u 60 logische
partities aanmaken. Op een schijf kunt u echter slecht één uitgebreide partitie
hebben.

Linux beperkt het aantal partities per schijf tot een totaal van 255 voor
SCSI-schijven (3 bruikbare primaire partities en 252 logische partities) en tot
63 voor IDE-schijven (3 bruikbare primaire partities en 60 logische partities).
Maar het normale Debian GNU/Linux-systeem voorziet slechts in 20 devices
(apparaten) voor partities. U kunt dus niet installeren op een hogere partitie
dan de 20e, tenzij u eerst zelf apparaten creëert voor die partities.

Indien u een grote IDE-schijf heeft en geen gebruik maakt van de
LBA-adresseringstechniek of van een overlay-stuurprogramma (soms meegeleverd
door de fabrikant van de harde schijf), moet de opstartpartitie (de
boot-partitie - de partitie waarop het kernel-image staat) op de eerste 1024
cylinders van de harde schijf (zonder BIOS-translation meestal ongeveer 524
megabytes) staan.

Deze beperking geldt niet voor een BIOS van na ongeveer 1995-98 (afhankelijk
van de fabrikant) die ondersteuning bevat voor de "Enhanced Disk Drive Support
Specification". mbr, het Lilo-alternatief van Debian, moet het BIOS gebruiken
om de kernel van de schijf in het RAM in te lezen. Indien de int 0x13
BIOS-uitbreidingen voor toegang tot grote harde schijven aangetroffen worden,
worden ze gebruikt. Anders wordt teruggevallen op de oudere interface voor het
benaderen van harde schijven, maar die kan niet gebruikt worden voor het
benaderen van een plaats op de schijf voorbij de 1023e cylinder. Deze
beperkingen gelden niet meer nadat de Linux opgestart is, ongeacht het BIOS van
uw computer. De Linux maakt immers geen gebruik van het BIOS om de harde schijf
te benaderen.

Indien u een harde schijf heeft, zult u mogelijk zogenaamde cylinder
translation technieken (cylinderomzettingstechnieken) moeten gebruiken. U kunt
die instellen met het setup-programma van uw BIOS. Het gaat dan om technieken
als LBA (Logical Block Addressing) of de CHS translation modus ("Large"). Meer
informatie over aandachtspunten bij grote harde schijven kunt u vinden in de
Large Disk HOWTO. Indien u een model voor cylinder translation toepast, maar uw
BIOS de uitbreidingen voor het benaderen van grote harde schijven niet
ondersteunt, moet uw boot-partitie (opstartpartitie) zich binnen de omgezette
representatie van de 1024e cylinder bevinden.

De aanbevolen manier om dit te realiseren is om een kleine (25-50MB zou moeten
volstaan) partitie aan het begin van de harde schijf aan te maken die dan als
boot-partitie gebruikt wordt. Daarna kunt u op het resterende deel alle overige
gewenste partities aanmaken. Deze opstartpartitie moet aangekoppeld worden op /
boot, aangezien dat de map is waarin de Linux kernel(s) opgeslagen worden. Een
dergelijke configuratie werkt op elk systeem, ongeacht of LBA of CHS
translation voor grote harde schijven gebruikt wordt of niet en ongeacht het
feit of uw BIOS de uitbreidingen voor het benaderen van grote harde schijven
ondersteunt of niet.

Bijlage D. Varia

Inhoudsopgave

D.1. Linux-apparaten

    D.1.1. Uw muis instellen

D.2. De hoeveelheid schijfruimte die nodig is voor taken
D.3. Debian GNU/Linux installeren vanuit een Unix/Linux-Systeem

    D.3.1. Aan de slag
    D.3.2. debootstrap installeren
    D.3.3. Het programma debootstrap uitvoeren
    D.3.4. Het basissysteem configureren
    D.3.5. Een kernel installeren
    D.3.6. Zet de bootloader op
    D.3.7. Toegang vanop afstand: SSH installeren en de toegang opzetten
    D.3.8. Afwerking

D.4. Debian GNU/Linux installeren met het Parallel Line Internet Protocol
    (PLIP)

    D.4.1. Vereisten
    D.4.2. Bron opzetten
    D.4.3. Doel installeren

D.5. Debian GNU/Linux installeren met PPP over Ethernet (PPPoE)

D.1. Linux-apparaten

In Linux kunt u verschillende bijzondere bestanden vinden in de map /dev. Deze
bestanden worden apparaat-bestanden (device files) genoemd en gedragen zich
niet als gewone bestanden. De meest gebruikelijke types apparaat-bestanden zijn
die voor blok-apparaten en teken-apparaten. Deze bestanden vormen een interface
voor het eigenlijke stuurprogramma (onderdeel van de Linux-kernel) dat op zijn
beurt de hardware benadert. Een ander minder gebruikelijk type apparaat-bestand
is de zogenaamde named pipe (een pijp met een naam). De belangrijkste
apparaat-bestanden worden in de onderstaande tabellen vermeld.

┌────┬───────────────────────────────────────────┐
│sda │Eerste harde schijf                        │
├────┼───────────────────────────────────────────┤
│sdb │Tweede harde schijf                        │
├────┼───────────────────────────────────────────┤
│sda1│Eerste partitie van de eerste harde schijf │
├────┼───────────────────────────────────────────┤
│sdb7│Zevende partitie van de tweede harde schijf│
└────┴───────────────────────────────────────────┘

┌───┬──────────────────┐
│sr0│Eerste CD-station │
├───┼──────────────────┤
│sr1│Tweede CD-station │
└───┴──────────────────┘

┌───────┬────────────────────────────────────────────────────────────────┐
│ttyS0  │Seriële poort 0, COM1 onder MS-DOS                              │
├───────┼────────────────────────────────────────────────────────────────┤
│ttyS1  │Seriële poort 1, COM2 onder MS-DOS                              │
├───────┼────────────────────────────────────────────────────────────────┤
│psaux  │PS/2-muis                                                       │
├───────┼────────────────────────────────────────────────────────────────┤
│gpmdata│Pseudoapparaat, repeaterdata van de GPM-achtergronddienst (muis)│
└───────┴────────────────────────────────────────────────────────────────┘

┌─────┬────────────────────────────────────────────────────────────┐
│cdrom│Symbolische koppeling naar het CD-station                   │
├─────┼────────────────────────────────────────────────────────────┤
│mouse│Symbolische koppeling naar het apparaat-bestand voor de muis│
└─────┴────────────────────────────────────────────────────────────┘

┌────┬─────────────────────────────────────────────────────────┐
│null│Alles wat naar dit apparaat geschreven wordt, verdwijnt  │
├────┼─────────────────────────────────────────────────────────┤
│zero│Uit dit apparaat kan men onbeperkt nullen blijven inlezen│
└────┴─────────────────────────────────────────────────────────┘

D.1.1. Uw muis instellen

De muis kan zowel aan de Linux-console (met gpm) gebruikt worden als in de
X-window-omgeving. Normaal is dit gewoon een kwestie van het installeren van
gpm en de X-server zelf. Beide moeten ingesteld worden om /dev/input/mice te
gebruiken als muis. Het correcte muis-protocol heet in gpm exps2 en in X
ExplorerPS/2. De respectieve configuratiebestanden zijn /etc/gpm.conf en /etc/
X11/xorg.conf.

Opdat uw muis zou werken, moeten bepaalde kernelmodules geladen worden. In de
meeste gevallen worden de correcte modules automatisch gedetecteerd, maar dit
is niet altijd het geval voor de oudere seriële en bus-muizen^[23], die erg
zeldzaam zijn behalve op zeer oude computers. Samenvattend zijn de volgende
Linux kernelmodules nodig voor de verschillende muistypes:

┌────────┬──────────────────────────────────────────┐
│ Module │               Beschrijving               │
├────────┼──────────────────────────────────────────┤
│psmouse │PS/2-muis (wordt automatisch gedetecteerd)│
├────────┼──────────────────────────────────────────┤
│usbhid  │USB-muis (wordt automatisch gedetecteerd) │
├────────┼──────────────────────────────────────────┤
│sermouse│De meeste seriële muizen                  │
├────────┼──────────────────────────────────────────┤
│logibm  │Bus-muis aan Logitech adapterkaart        │
├────────┼──────────────────────────────────────────┤
│inport  │Bus-muis aan ATI of Microsoft InPort-kaart│
└────────┴──────────────────────────────────────────┘

Om een struurprogrammamodule voor een muis te laden kunt u het commando modconf
(uit het gelijknamige pakket) gebruiken. U moet zoeken in de categorie kernel/
drivers/input/mouse.

D.2. De hoeveelheid schijfruimte die nodig is voor taken

Een standaardinstallatie voor de amd64-architectuur met alle standaardpakketten
en de standaardkernel neemt 971MB schijfruimte in beslag. Een minimale
basisinstallatie, zonder de taak "Standaardsysteem", gebruikt 769MB.

Belangrijk

In beide gevallen gaat het over de effectief gebruikte schijfruimte na het
beëindigen van de installatie en nadat alle tijdelijke bestanden gewist werden.
Er wordt ook geen rekening gehouden met eventuele overhead die door het
bestandssysteem gebruikt wordt, bijvoorbeeld voor journaalbestanden. Dit
betekent dat in de praktijk aanzienlijk meer schijfruimte vereist is, zowel 
tijdens de installatie als nadien voor een normaal gebruik van het systeem.

De volgende tabel geeft de grootte weer die aptitude rapporteert voor de taken
die in tasksel vermeld worden. Merk op dat sommige taken overlappende
componenten hebben, waardoor twee taken samen in totaal na installatie minder
ruimte kunnen innemen dan wat een gewone optelling zou laten vermoeden.

Standaard installeert het installatiesysteem de grafische werkomgeving GNOME. U
kunt echter ook voor een andere grafische werkomgeving kiezen door ofwel een
van de speciale installatie-images te gebruiken ofwel door de gewenste
grafische werkomgeving op te geven tijdens de installatie (zie
Paragraaf 6.3.6.2, "Software selecteren en installeren").

Merk op dat u voor het bepalen van de grootte van partities, de in deze tabel
vermelde groottes moet optellen bij de grootte van de standaardinstallatie. Het
grootste deel van wat vermeld wordt onder "Geïnstalleerde grootte" komt terecht
in /usr en in /lib. De grootte die vermeld wordt onder "Download-grootte" is
(tijdelijk) nodig in /var.

┌──────────────┬─────────────────┬────────────────┬───────────────────────────┐
│     Taak     │ Geïnstalleerde  │Download-grootte│    Voor de installatie    │
│              │  grootte (MB)   │      (MB)      │   benodigde ruimte (MB)   │
├──────────────┼─────────────────┼────────────────┼───────────────────────────┤
│Grafische     │                 │                │                           │
│werkomgeving  │                 │                │                           │
├──────────────┼─────────────────┼────────────────┼───────────────────────────┤
│  • GNOME     │2790             │786             │3576                       │
│(standaard)   │                 │                │                           │
├──────────────┼─────────────────┼────────────────┼───────────────────────────┤
│  • KDE Plasma│4122             │1212            │5334                       │
├──────────────┼─────────────────┼────────────────┼───────────────────────────┤
│  • Xfce      │2187             │621             │2808                       │
├──────────────┼─────────────────┼────────────────┼───────────────────────────┤
│  • LXDE      │2271             │653             │2924                       │
├──────────────┼─────────────────┼────────────────┼───────────────────────────┤
│  • MATE      │2574             │711             │3285                       │
├──────────────┼─────────────────┼────────────────┼───────────────────────────┤
│  • Cinnamon  │4197             │1251            │5448                       │
├──────────────┼─────────────────┼────────────────┼───────────────────────────┤
│Web-server    │44               │11              │55                         │
├──────────────┼─────────────────┼────────────────┼───────────────────────────┤
│SSH-server    │2                │0               │2                          │
└──────────────┴─────────────────┴────────────────┴───────────────────────────┘

Indien u de installatie in een andere taal dan het Engels uitvoert, zal tasksel
mogelijk automatisch een lokalisatietaak installeren als een dergelijke taak
voor uw taal beschikbaar is. Hoeveel ruimte daarvoor vereist is, verschilt
naargelang de taal. U zou in totaal 350MB moeten voorzien voor het downloaden
en installeren ervan.

D.3. Debian GNU/Linux installeren vanuit een Unix/Linux-Systeem

In dit onderdeel wordt beschreven hoe u Debian GNU/Linux installeert vanuit een
bestaand Unix- of Linux-systeem zonder gebruik te maken van het
menu-georiënteerde installatiesysteem waarover het in de rest van deze
handleiding gaat. Om een dergelijke "cross-installatie" HOWTO werd verzocht
door gebruikers die naar Debian GNU/Linux wilden overschakelen vanuit Red Hat,
Mandriva, en SUSE. In dit onderdeel wordt ervan uitgegaan dat u tot op zekere
hoogte vertrouwd bent met het geven van *nix-commando's en met het laveren door
het bestandssysteem. In dit onderdeel symboliseert $ een commando dat
uitgevoerd moet worden in het huidige systeem van de gebruiker, terwijl #
verwijst naar een commando dat in de Debian chroot uitgevoerd wordt.

Nadat het nieuwe Debian systeem naar uw voorkeur geconfigureerd werd, kunt u de
(eventuele) bestaande gebruikersgegevens ernaartoe verplaatsen terwijl het
systeem blijft functioneren. Daarom is dit een installatie van Debian GNU/Linux
"zonder dat het systeem een tijd onbereikbaar is". Het is ook een handige
manier om met hardware om te gaan waarmee diverse opstart- en installatiemedia
anders moeilijk overweg kunnen.

Opmerking

Vermits het grootste deel van deze procedure handmatig uitgevoerd moet worden,
moet u er rekening mee houden dat u een groot deel van de basisconfiguratie van
het systeem zelf zult moeten uitvoeren, wat over het algemeen ook een grondiger
kennis van Debian en van Linux vereist dan een gewone installatie. U kunt niet
verwachten dat u met deze werkwijze een systeem bekomt dat identiek is aan een
systeem dat op een gewone manier geïnstalleerd werd. U moet er ook rekening mee
houden dat in de hier beschreven werkwijze enkel de basisstappen voor het
opzetten van een systeem beschreven worden. Mogelijk zijn bijkomende stappen op
het gebied van installatie en/of configuratie nodig.

D.3.1. Aan de slag

Met het schijfindelingsgereedschap van uw huidig *nix-systeem moet u volgens uw
behoeften de harde schijf herindelen en minstens één bestandssysteem en een
wisselgeheugenpartitie creëren. U moet minstens ongeveer 769MB beschikbaar
hebben voor de installatie van een systeem waarin u enkel aan de console kunt
werken, of ongeveer 2271MB als u zinnens bent X te installeren (en meer als u
grafische werkomgevingen zoals GNOME of KDE Plasma wilt installeren).

Maak vervolgens bestandssystemen aan op de partities. Om bijvoorbeeld een
ext3-bestandssysteem te creëren op partitie /dev/sda6 (dat is de root-partitie
in ons voorbeeld), geeft u de opdracht

# mke2fs -j /dev/sda6

Om in de plaats daarvan een ext2-bestandssysteem te creëren, laat u -j weg.

Initialiseer en activeer het wisselgeheugen (swap) (vervang het partitienummer
door het nummer van de partitie die u wilt gebruiken als Debian swap-partitie):

# mkswap /dev/sda5
# sync
# swapon /dev/sda5

Koppel een partitie aan als /mnt/debinst (het installatiepunt dat op uw nieuwe
systeem het root-bestandssysteem (/) zal zijn). De naam van het aankoppelpunt
is puur arbitrair gekozen; hieronder blijven we diezelfde naam ervoor
gebruiken.

# mkdir /mnt/debinst
# mount /dev/sda6 /mnt/debinst

Opmerking

Indien u wilt dat onderdelen van het bestandssysteem (bijv. /usr) aangekoppeld
worden op aparte partities, dan moet u deze mappen handmatig creëren en
aankoppelen voor u verdergaat met de volgende fase.

D.3.2. debootstrap installeren

Het hulpprogramma dat door het installatiesysteem van Debian gebruikt wordt en
dat geldt als de officiële manier voor het installeren van een Debian
basissysteem, is debootstrap. Het maakt gebruik van wget en van ar, maar voorts
gebruikt het enkel /bin/sh en het basisgereedschap van Unix/Linux^[24].
Installeer wget en ar als zij nog niet aanwezig zijn op uw huidige systeem en
download en installeer vervolgens debootstrap.

Of u kunt de volgende werkwijze gebruiken om het handmatig te installeren. Maak
een werkmap aan om het .deb-bestand in uit te pakken:

# mkdir werk
# cd werk

Het programma debootstrap bevindt zich in het Debian-archief (zorg ervoor om
het bij uw architectuur passende bestand te selecteren). Download het 
debootstrap.deb-bestand uit de pool, kopieer het pakket naar de werkmap en pak
er de bestanden uit. U moet over de rechten van systeembeheerder beschikken om
de bestanden te installeren.

# ar -x debootstrap_0.X.X_all.deb
# cd /
# zcat /volledig-pad-naar-werk/werk/data.tar.gz | tar xv

D.3.3. Het programma debootstrap uitvoeren

Als u debootstrap uitvoert, kan het programma de benodigde bestanden
rechtstreeks uit het archief ophalen. U kunt in het voorbeeld van het commando
hieronder ftp.nl.debian.org/debian vervangen door gelijk welke spiegelserver
voor het Debian-archief, bij voorkeur een spiegelserver die vanuit
netwerkoogpunt dichtbij is. De spiegelservers worden opgesomd in http://
www.debian.org/mirror/list.

Indien u een installatie-image met bullseye Debian GNU/Linux aangekoppeld heeft
op /cdrom, kunt u de http-URL vervangen door de bestands-URL: file:/cdrom/
debian/

Vervang in het debootstrap-commando ARCH door een van de volgende
architectuurnamen: amd64, arm64, armel, armhf, i386, mips64el, mipsel, ppc64el,
s390x.

# /usr/sbin/debootstrap --arch ARCH bullseye \
     /mnt/debinst http://ftp.us.debian.org/debian

Als de doelarchitectuur verschilt van die van de host, moet u de optie
--foreign toevoegen.

D.3.4. Het basissysteem configureren

U heeft nu op schijf een echt, hoewel eerder afgeslankt, Debian-systeem. chroot
er naartoe:

# LANG=C.UTF-8 chroot /mnt/debinst /bin/bash

Als de doelarchitectuur verschilt van die van de host, moet u eerst
qemu-user-static kopiëren naar de nieuwe host:

# cp /usr/bin/qemu-ARCH-static /mnt/debinst/usr/bin
# LANG=C.UTF-8 chroot /mnt/debinst qemu-ARCH-static /bin/bash

Na het chrooten moet u mogelijk de terminaldefinitie instellen om ze compatibel
te maken met het Debian basissysteem, bijvoorbeeld:

# export TERM=xterm-color

Afhankelijk van de waarde van TERM, kan het zijn dat om voor de terminal
ondersteuning te krijgen, u het pakket ncurses-term moet installeren.

Als de doelarchitectuur verschilt van die van de host, moet u de meerfasige
bootstrap afronden:

/debootstrap/debootstrap --second-stage

D.3.4.1. Apparaatbestanden creëren

Op dit punt bevat /dev/ slechts heel basale apparaatbestanden. Mogelijk zijn
bijkomende apparaatbestanden nodig voor de volgende stappen van de installatie.
Er zijn verschillende manieren om dit aan te pakken. Welke methode u moet
gebruiken hangt af van het host-systeem dat u voor de installatie gebruikt, van
het feit of u al dan niet een modulaire kernel gaat gebruiken en of u zinnens
bent om voor het nieuwe systeem dynamische (bijvoorbeeld door udev te
gebruiken) dan wel statische apparaatbestanden te gebruiken.

Enkele van de beschikbare opties zijn:

  • het pakket makedev installeren en (na het chrooten) een standaardset van
    statische apparaatbestanden creëren met

    # apt install makedev
    # mount none /proc -t proc
    # cd /dev
    # MAKEDEV generic

  • enkel specifieke apparaatbestanden handmatig creëren met MAKEDEV

  • de map /dev van uw host-systeem met de optie bind (mount --bind)
    aankoppelen bovenop /dev van het doelsysteem. Merk op dat de
    postinstallatiescripts (postinst) van sommige pakketten apparaatbestanden
    proberen aan te maken. Gebruik deze mogelijkheid dus met zorg.

D.3.4.2. Partities aankoppelen

U moet /etc/fstab creëren.

# editor /etc/fstab

Hier volgt een voorbeeld dat u volgens uw behoeften kunt aanpassen:

# /etc/fstab: informatie over het statische bestandssysteem.
#
# bestandssysteem    aankoppelpunt   type    opties                  dump pass
/dev/XXX             /               ext3    defaults                 0    1
/dev/XXX             /boot           ext3    ro,nosuid,nodev          0    2

/dev/XXX             none            swap    sw                       0    0
proc                 /proc           proc    defaults                 0    0

/dev/cdrom           /media/cdrom    iso9660 noauto,ro,user,exec      0    0

/dev/XXX             /tmp            ext3    rw,nosuid,nodev          0    2
/dev/XXX             /var            ext3    rw,nosuid,nodev          0    2
/dev/XXX             /usr            ext3    rw,nodev                 0    2
/dev/XXX             /home           ext3    rw,nosuid,nodev          0    2

Gebruik mount -a om alle bestandssystemen die u opgegeven heeft in uw /etc/
fstab aan te koppelen. Of gebruik het volgende commando om bestandssystemen
apart aan te koppelen:

# mount /pad   # bijv.: mount /usr

De huidige Debian-systemen plaatsen hun aankoppelpunten voor verwijderbare
media onder /media, maar behouden uit compatibiliteitsoverwegingen symbolische
koppelingen in /. Maak die waar nodig aan, bijvoorbeeld:

# cd /media
# mkdir cdrom0
# ln -s cdrom0 cdrom
# cd /
# ln -s media/cdrom

U kunt het proc-bestandssysteem meerdere keren en op willekeurige plaatsen
aankoppelen, hoewel /proc gangbaar is. Indien u niet mount -a gebruikte, moet u
voor u verdergaat eerst proc aankoppelen:

# mount -t proc proc /proc

Met het commando ls /proc zou u nu een niet-lege map te zien moeten krijgen.
Mocht dit mislukken, dan kunt u mogelijk proc aankoppelen van buiten de chroot:

# mount -t proc proc /mnt/debinst/proc

D.3.4.3. De tijdzone instellen

Door de derde regel van het bestand /etc/adjtime in te stellen op "UTC" of "
LOCAL" bepaalt u of het systeem de tijd van de hardwareklok zal interpreteren
als respectievelijk aangeduid in UTC of in de lokale tijd. Het volgende
commando stelt u in staat om dit in te stellen.

# editor /etc/adjtime

Hierna volgt een voorbeeld:

0.0 0 0.0
0
UTC

Het volgende commando laat u toe uw tijdzone te kiezen.

# dpkg-reconfigure tzdata

D.3.4.4. Het netwerk configureren

Om het netwerk te configureren moet u /etc/network/interfaces, /etc/
resolv.conf, /etc/hostname en /etc/hosts bewerken.

# editor /etc/network/interfaces

Hier volgen enkele eenvoudige voorbeelden uit /usr/share/doc/ifupdown/examples:

######################################################################
# /etc/network/interfaces -- configuratiebestand voor ifup(8), ifdown(8)
# Zie de manpagina interfaces(5) voor informatie over beschikbare
# opties.
######################################################################

# De interface loopback is niet langer vereist, maar kan zo nodig
# gebruikt worden.
#
# auto lo
# iface lo inet loopback

# Om dhcp te gebruiken:
#
# auto eth0
# iface eth0 inet dhcp

# Een voorbeeld van een configuratie met een statisch IP-adres:
# (network, broadcast en gateway zijn facultatief)
#
# auto eth0
# iface eth0 inet static
#     address 192.168.0.42
#     network 192.168.0.0
#     netmask 255.255.255.0
#     broadcast 192.168.0.255
#     gateway 192.168.0.1

Geef uw naamservers en opzoekingsrichtlijnen op in /etc/resolv.conf:

# editor /etc/resolv.conf

Een eenvoudig voorbeeld van het bestand /etc/resolv.conf:

search example.com
nameserver 10.1.1.36
nameserver 192.168.9.100

Geef de hostnaam van uw systeem op (2 tot 63 lettertekens):

# echo DebianComputerNaam > /etc/hostname

En een basaal bestand /etc/hosts met ondersteuning voor IPv6:

127.0.0.1 localhost
127.0.1.1 DebianComputerNaam

# De volgende regels zijn wenselijk bij IPv6-compatibele computers
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts

Indien u verschillende netwerkkaarten heeft, moet u de namen van de
stuurprogrammamodules in het bestand /etc/modules in de gewenste volgorde
plaatsen. Tijdens het opstarten zal iedere kaart dan geassocieerd worden met de
verwachte interfacenaam (eth0, eth1, enz.)

D.3.4.5. Apt configureren

Debootstrap zal een heel basaal bestand /etc/apt/sources.list aangemaakt
hebben, waardoor het installeren van bijkomende pakketten mogelijk is. Mogelijk
wilt u echter extra pakketbronnen toevoegen, bijvoorbeeld voor
broncodepakketten en voor beveiligingsupdates:

deb-src http://ftp.nl.debian.org/debian bullseye main

deb http://security.debian.org/ bullseye-security main
deb-src http://security.debian.org/ bullseye-security main

Denk eraan om het commando apt update uit te voeren nadat u de lijst met
pakketbronnen wijzigde.

D.3.4.6. Het taalgebied en het toetsenbord configureren

Om de lokalisatie-instellingen zo te configureren dat een andere taal dan het
Engels gebruikt wordt, moet u het pakket dat ondersteuning biedt voor locales
installeren en configureren. Tegenwoordig wordt aanbevolen om een lokalisatie
van het type UTF-8 te gebruiken.

# apt install locales
# dpkg-reconfigure locales

Om zo nodig uw toetsenbord te configureren:

# apt install console-setup
# dpkg-reconfigure keyboard-configuration

Merk op dat u het toetsenbord niet kunt instellen terwijl u zich in de chroot
bevindt, maar dat het op deze manier geconfigureerd wordt in functie van de
volgende herstart van de computer.

D.3.5. Een kernel installeren

Indien u zinnens bent om dit systeem op te starten, zult u wellicht een Linux
kernel en een bootloader willen hebben. Ga na welke voorverpakte kernels
beschikbaar zijn met:

# apt search linux-image

Installeer vervolgens het kernelpakket van uw keuze aan de hand van zijn
pakketnaam.

# apt install linux-image-arch-enz

D.3.6. Zet de bootloader op

Om te maken dat uw Debian GNU/Linux-systeem kan opstarten, moet u uw bootloader
instellen om de geïnstalleerde kernel met uw nieuwe root-partitie te laden.
Merk op dat debootstrap geen bootloader installeert, maar dat u apt binnen uw
Debian chroot kunt gebruiken om dat te doen.

Gebruik het commando info grub om de instructies over het opzetten van de
bootloader te lezen. Indien u het systeem dat u gebruikte om Debian te
installeren behoudt, moet u gewoon aan uw bestaande grub.cfg van grub2 een
extra item voor de Debian-installatie toevoegen.

Het installeren en instellen van grub2 is zo eenvoudig als dit:

# apt install grub-pc
# grub-install /dev/sda
# update-grub

Het tweede commando installeert grub2 (in dit geval in het MBR van sda). Het
laatste commando creëert een correct en werkend bestand /boot/grub/grub.cfg.

Merk op dat dit ervan uitgaat dat er een apparaatbestand /dev/sda gecreëerd
werd. Er bestaan andere mogelijkheden om grub2 te installeren, maar die vallen
buiten het bestek van deze bijlage.

D.3.7. Toegang vanop afstand: SSH installeren en de toegang opzetten

Indien u via de console op het systeem kunt inloggen, kunt u dit onderdeel
overslaan. Indien het systeem later toegankelijk moet zijn over het netwerk,
dient u SSH te installeren en de toegang op te zetten.

# apt install ssh

Standaard staat voor root (de systeembeheerder) inloggen met een wachtwoord
uitgeschakeld. Dus kan het instellen van de toegang gebeuren door een
wachtwoord in te stellen en inloggen met een wachtwoord voor root terug
mogelijk te maken:

# passwd
# editor /etc/ssh/sshd_config

De volgende optie moet geactiveerd worden:

PermitRootLogin yes

De toegang kan ook mogelijk gemaakt worden door aan het account van root een
ssh-sleutel toe te voegen:

# mkdir /root/.ssh
# cat << EOF > /root/.ssh/authorized_keys
ssh-rsa ....
EOF

Tenslotte kan de toegang ook mogelijk gemaakt worden door een gewone gebruiker
toe te voegen en voor deze een wachtwoord in te stellen:

# adduser joe
# passwd joe

D.3.8. Afwerking

Zoals reeds eerder vermeld werd, zal het geïnstalleerde systeem erg basaal
zijn. Indien u liever heeft dat het systeem wat meer voldragen is, kunt u op
een makkelijke manier alle pakketten installeren die een prioriteit "standard"
(standaard) hebben:

# tasksel install standard

U kunt natuurlijk ook gewoon apt gebruiken om individuele pakketten te
installeren.

Na de installatie zullen er zich in /var/cache/apt/archives/ een heleboel
gedownloade pakketten bevinden. U kunt schijfruimte vrijmaken met de opdracht:

# apt clean

D.4. Debian GNU/Linux installeren met het Parallel Line Internet Protocol
(PLIP)

In dit onderdeel wordt uitgelegd hoe u Debian GNU/Linux kunt installeren op een
computer zonder ethernetkaart, maar die via een zogenaamde Null-Modemkabel (ook
wel Null-Printer-kabel of crossed-over RS-232-kabel genoemd) verbonden is met
een ander systeem, een gateway-computer genaamd. De gateway-computer moet
verbonden zijn met een netwerk waarop zich een Debian-spiegelserver bevindt
(bijv. verbonden met het internet).

In het voorbeeld in deze bijlage zetten we een PLIP-verbinding op met een
gateway die met het internet verbonden is via een inbelverbinding (ppp0). We
gebruiken het internetadres 192.168.0.1 voor de PLIP-interface op het
doelsysteem en 192.168.0.2 voor de PLIP-interface op het bronsysteem (beide
adressen mogen in uw netwerkadresruimte niet in gebruik zijn).

De PLIP-verbinding die tijdens de installatie opgezet wordt zal na de herstart
ook met het geïnstalleerde systeem beschikbaar zijn (zie Hoofdstuk 7, De
computer opstarten met uw nieuwe Debian systeem).

Voor u begint moet u de BIOS-configuratie (IO-basisadres en IRQ) nakijken van
de parallelle poort van zowel het bron- als het doelsysteem. De meest gangbare
waarden zijn io=0x378, irq=7.

D.4.1. Vereisten

  • Een doelcomputer, doel genoemd, waarop Debian geïnstalleerd zal worden.

  • Installatiemedia om het systeem te installeren; zie Paragraaf 2.4,
    "Installatiemedia".

  • Een tweede computer die verbonden is met het internet, bron genoemd, en die
    als gateway dienst zal doen.

  • Een DB-25 Null-Modem-kabel. Raadpleeg de PLIP-Install-HOWTO voor meer
    informatie over deze kabel en voor richtlijnen om er zelf een te maken.

D.4.2. Bron opzetten

Het volgende shell-script is een eenvoudig voorbeeld van hoe u de broncomputer
kunt configureren als een gateway naar het internet via ppp0.

#!/bin/sh

# We verwijderen actieve modules uit de kernel om conflicten te vermijden
# en om ze zelf opnieuw handmatig te configureren.
modprobe -r lp parport_pc
modprobe parport_pc io=0x378 irq=7
modprobe plip

# Configureer de plip-interface
# (in mijn geval plip0. Gebruik dmesg | grep plip om dit na te gaan)
ifconfig plip0 192.168.0.2 pointopoint 192.168.0.1 netmask 255.255.255.255 up

# Configureer de gateway
modprobe iptable_nat
iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE
echo 1 > /proc/sys/net/ipv4/ip_forward

D.4.3. Doel installeren

Start het installatiemedium op. De installatie moet uitgevoerd worden in
expertmodus; voer expert in aan de opstartprompt. Als u parameters moet
instellen voor kernelmodules, moet u dat ook aan de opstartprompt doen.
Bijvoorbeeld, om het installatiesysteem op te starten en voor de module
parport_pc waarden in te stellen voor de opties "io" en "irq", moet u aan de
opstartpromt de volgende invoer gebruiken:

expert parport_pc.io=0x378 parport_pc.irq=7

Hierna vindt u de antwoorden die tijdens de verschillende fases van de
installatie moeten gegeven worden.

 1. Componenten van het installatiesysteem laden van installatiemedia

    Selecteer uit de lijst de optie plip-modules. Dit zal de
    PLIP-stuurprogramma's beschikbaar maken voor het installatiesysteem.

 2. Netwerkhardware detecteren

      □ Indien 'doel' wel degelijk een netwerkkaart heeft, zult u een lijst van
        stuurprogrammamodules voor de gedetecteerde kaart te zien krijgen.
        Indien u debian-installer wilt dwingen om in de plaats daarvan plip te
        gebruiken, moet u alle vermelde stuurprogrammamodules uitvinken. Als
        'doel' geen netwerkkaart heeft, zal het installatiesysteem die lijst
        uiteraard niet tonen.

      □ Omdat voordien geen netwerkkaart gedetecteerd/geselecteerd werd, zal
        het installatiesysteem u vragen om een netwerkstuurprogrammamodule te
        selecteren uit een lijst. Selecteer de plip-module.

 3. Het netwerk configureren

      □ Het netwerk automatisch configureren met DHCP: No/Neen

      □ IP-adres: 192.168.0.1

      □ Point-to-point-adres: 192.168.0.2

      □ Naamserveradressen: u kunt dezelfde adressen opgeven die u voor 'bron'
        gebruikte (zie /etc/resolv.conf)

D.5. Debian GNU/Linux installeren met PPP over Ethernet (PPPoE)

In sommige landen is PPP over Ethernet (PPPoE) een gebruikelijk protocol voor
de breedbandverbinding (ADSL of kabel) met de aanbieder van internetdiensten
(ISP). Een netwerkverbinding opzetten met PPPoE wordt standaard niet
ondersteund in het installatiesysteem, maar ze kan heel eenvoudig tot stand
gebracht worden. In dit onderdeel leggen we uit hoe.

De PPPoE-verbinding die tijdens de installatie opgezet wordt zal ook na het
heropstarten van het geïnstalleerde systeem, beschikbaar zijn (zie Hoofdstuk 7,
De computer opstarten met uw nieuwe Debian systeem).

Om de mogelijkheid te hebben om tijdens de installatie PPPoE in te stellen en
te gebruiken, zult u de installatie moeten uitvoeren met een van de beschikbare
CD/DVD-images. In de andere installatiemethodes (bijv. netboot) wordt dit niet
ondersteund.

Het uitvoeren van de installatie over PPPoE verloopt grotendeels gelijk elke
andere installatie. In de volgende stappen leggen we de verschillen uit.

  • Start het installatiesysteem op met de opstartparameter modules=ppp-udeb^
    [25]. Dit garandeert dat de component die instaat voor het opzetten van
    PPPoE (ppp-udeb) automatisch geladen en opgestart wordt.

  • Volg de gewone eerste stappen van de installatie (selecteren van taal, land
    en toetsenbord, het laden van bijkomende componenten van het
    installatiesysteem^[26]).

  • De volgende stap is de detectie van netwerkhardware om eventuele
    ethernetkaarten op het systeem te identificeren.

  • Daarna wordt met het eigenlijke opzetten van PPPoE begonnen. Het
    installatiesysteem zal alle gedetecteerde ethernetkaarten afzoeken in een
    poging om een PPPoE-concentrator (een servertype dat PPPoE-verbindingen
    afhandelt) te vinden.

    Het is mogelijk dat bij de eerste poging de concentrator niet gevonden
    wordt. Dit kan sporadisch gebeuren op trage of zwaar belaste netwerken of
    met ondeugdelijke servers. In de meeste gevallen is een tweede poging om de
    concentrator te detecteren wel succesvol. Om opnieuw te proberen moet u in
    het hoofdmenu van het installatiesysteem Een PPPoE-verbinding configureren
    en starten selecteren.

  • Nadat een concentrator gevonden werd, zal de gebruiker gevraagd worden om
    de aanmeldinformatie in te typen (de gebruikersnaam en het wachtwoord voor
    PPPoE).

  • Op dit punt zal het installatiesysteem de verstrekte informatie gebruiken
    om de PPPoE-verbinding op te zetten. Indien de juiste informatie verstrekt
    werd, zou de PPPoE-verbinding geconfigureerd moeten worden en zou het
    installatiesysteem in staat moeten zijn ze te gebruiken om de verbinding
    met het internet te maken en over die verbinding pakketten op te halen (als
    dat nodig is). Is de aanmeldinformatie niet correct of trad er een fout op,
    dan zal het installatiesysteem stoppen, maar u kunt een nieuwe
    configuratiepoging ondernemen door het menu-item Een PPPoE-verbinding
    configureren en starten te selecteren.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[23] Een seriële muis heeft meestal een connector in de vorm van een D en met
9 gaatjes. Een bus-muis heeft een ronde connector met 8 pinnetjes. Men mag dit
niet verwarren met de ronde connector met 6 pinnetjes van een PS/2-muis of met
de ronde connector met 4 pinnetjes van een ADB-muis.

^[24] Het betreft hier de belangrijkste GNU hulpprogramma's en commando's zoals
sed, grep, tar en gzip.

^[25] Zie Paragraaf 5.1.7, "Het opstartscherm" voor informatie over hoe u een
opstartparameter toevoegt.

^[26] De component ppp-udeb wordt in deze stap als een van de bijkomende
componenten geladen. Indien u de installatie wilt uitvoeren met 'medium' of
'low' als prioriteit (gemiddelde of lage prioriteit), kunt u ook zelf handmatig
de ppp-udeb selecteren in plaats van de "modules"-parameter op te geven aan de
opstartprompt.

Bijlage E. Administrivia

Inhoudsopgave

E.1. Over dit document
E.2. Een bijdrage leveren aan dit document
E.3. Belangrijkste bijdragen
E.4. Handelsmerken

E.1. Over dit document

Deze handleiding werd gemaakt voor het Debian installatiesysteem van Sarge en
was gebaseerd op de installatiehandleiding van Woody voor een installatie met
diskettes. Die was op zijn beurt gebaseerd op eerdere installatiehandleidingen
van Debian en op de handleiding voor de Progeny distributie die in 2003
uitgegeven werd onder een GPL-licentie.

Dit document werd in DocBook XML geschreven. Uitvoerformaten ervan worden
gegenereerd door verschillende programma's die informatie gebruiken uit de
pakketten docbook-xml en docbook-xsl.

Om het onderhoud van dit document te vergemakkelijken gebruiken we een aantal
XML-functies, zoals entiteiten en profielattributen. Ze spelen een
vergelijkbare rol als variabelen en voorwaardelijke acties in programmeertalen.
De XML-broncode van dit document bevat bepaalde informatie die voor een
specifieke architectuur geldt -- profiel-attributen worden gebruikt om sommige
stukjes tekst af te zonderen en als architectuurspecifiek aan te duiden.

De coördinatie van de Nederlandse vertaling van deze installatiehandleiding
gebeurt in de mailinglijst <debian-l10n-dutch@lists.debian.org>. Eventuele
fouten in de vertaling van deze handleiding kunnen daar gemeld worden. De
volgende personen leverden een substantiële bijdrage aan deze vertaling: Frans
Pop (2004-2009), Jeroen Schot (2012) en Frans Spiesschaert (2017).

E.2. Een bijdrage leveren aan dit document

Indien u in verband met dit document problemen ziet of suggesties heeft, kunt u
ze wellicht best signaleren via een bugrapport over het pakket
installation-guide. Raadpleeg het pakket reportbug of lees de
online-documentatie van het Debian bugopvolgingssysteem. Het zou vriendelijk
zijn mocht u eerst de openstaande bugs voor het pakket installation-guide
willen nakijken om na te gaan of uw probleem reeds gesignaleerd werd. Mocht dit
het geval zijn dan kunt u bijkomende nuttige informatie of een bevestiging van
het probleem sturen naar <XXXX@bugs.debian.org>, waarbij XXXX het nummer is van
de reeds gerapporteerde bug.

Nog beter is om een kopie van de DocBook-broncode voor dit document op te halen
en er patches met aanpassingen voor te produceren. De DocBook-broncode is te
vinden op de projectpagina installation-guide op salsa. Indien u niet vertrouwd
bent met DocBook, moet u zich geen zorgen maken: in de map van de handleidingen
vindt u een eenvoudig spiekbriefje dat u op weg kan helpen. DocBook is te
vergelijken met html, maar is georiënteerd op de betekenis van de tekst eerder
dan op de presentatie ervan. Patches die ingediend worden op de mailinglijst
debian-boot (zie hieronder) zijn welkom. Zie README in de basismap van de
broncode voor instructies voor het ophalen van de broncode via git.

Gelieve de auteurs van dit document niet rechtstreeks te willen contacteren. Er
bestaat ook een mailinglijst voor de coördinatie van de ontwikkeling van
debian-installer, en daaronder valt ook deze handleiding. Het betreft de
mailinglijst <debian-boot@lists.debian.org>. De voertaal is Engels. Hoe u zich
op de lijst kunt inschrijven wordt uitgelegd op de webpagina Abonnementen op
mailinglijsten. U kunt ook online de Mailinglijstarchieven van Debian
doorbladeren.

E.3. Belangrijkste bijdragen

Dit document werd oorspronkelijk geschreven door Bruce Perens, Sven Rudolph,
Igor Grobman, James Treacy en Adam Di Carlo. Sebastian Ley schreef de
Installatie Howto.

Veel van de nieuwigheden in het installatiesysteem van Debian bij de uitgave
van Sarge werden door Miroslav Kuře beschreven. Bij de releases van Etch, Lenny
en Squeeze fungeerde Frans Pop als hoofdauteur en als coördinator van de
release.

Heel veel Debian-gebruikers en -ontwikkelaars droegen bij tot dit document. Een
bijzondere vermelding verdienen Michael Schmitz (m68k-ondersteuning), Frank
Neumann (originele auteur van de Installatiehandleiding voor Amiga), Arto
Astala, Eric Delaunay/Ben Collins (SPARC-informatie), Tapio Lehtonen en
Stéphane Bortzmeyer voor de talloze bijdragen en correcties. Pascal Le Bail
moeten we danken voor de nuttige informatie over het opstarten met een
USB-geheugenstick.

Erg nuttige informatie vonden we onder meer ook in de HOWTO van Jim Mintha over
opstarten over het netwerk (een URL ontbreekt), in de Debian FAQ, de Linux/m68k
FAQ, de Linux for SPARC Processors FAQ, de Linux/Alpha FAQ. De auteurs en
onderhouders van deze vrij beschikbare rijke bronnen van informatie verdienen
onze erkentelijkheid.

Het onderdeel uit deze handleiding over installaties in een chroot (
Paragraaf D.3, "Debian GNU/Linux installeren vanuit een Unix/Linux-Systeem") is
deels gebaseerd op documenten waarvan het copyright berust bij Karsten M. Self.

Het onderdeel uit deze handleiding over installaties over plip (Paragraaf D.4,
"Debian GNU/Linux installeren met het Parallel Line Internet Protocol (PLIP)")
is gebaseerd op de PLIP-Install-HOWTO van Gilles Lamiral.

E.4. Handelsmerken

Alle handelsmerken zijn eigendom van hun respectieve eigenaars.

Bijlage F. GNU General Public License -- GNU Algemene Publieke Licentie

Opmerking

This is an unofficial translation of the GNU General Public License into Dutch.
It was not published by the Free Software Foundation, and does not legally
state the distribution terms for software that uses the GNU GPL -- only the
original English text of the GNU GPL does that. However, we hope that this
translation will help Dutch speakers to better understand the GNU GPL.

Dit is een niet-officiële vertaling naar het Nederlands van de GNU General
Public License. Deze vertaling is niet gemaakt door de Free Software Foundation
en bevat niet de juridisch bindende distributievoorwaarden voor software die
gebruik maakt van de GNU GPL -- alleen de originele Engelse tekst van de GNU
GPL is juridisch bindend. Wij hopen echter dat deze vertaling Nederlandstaligen
zal helpen de GNU GPL beter te begrijpen.^[27]

Versie 2, juni 1991

Copyright (C) 1989, 1991 Free Software Foundation, Inc.
51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.

Het is iedereen toegestaan om letterlijke kopieën van deze
licentievoorwaarden te maken en te verspreiden. Het wijzigen
van deze licentievoorwaarden is niet toegestaan.

F.1. Preambule

De licenties voor de meeste software zijn ontworpen om u het recht te ontnemen
om deze software te delen en te wijzigen. In tegenstelling hiermee is de GNU
Algemene Publieke Licentie bedoeld om u het recht te garanderen op het delen en
wijzigen van vrije software -- om ervoor te zorgen dat het vrije software
blijft voor alle gebruikers. Deze Algemene Publieke Licentie is van toepassing
op de meeste software van de Free Software Foundation en op elk ander programma
waarvan de auteurs zich engageren om ze te gebruiken. (Sommige software van de
Free Software Foundation valt evenwel onder de GNU Library General Public
License -- de GNU Algemene Publieke Licentie voor Softwarebibliotheken.) U kunt
deze licentie ook op uw programma’s van toepassing verklaren.

Wanneer wij het hebben over vrije software, dan bedoelen wij vrijheid, niet
kostprijs. Onze GNU Algemene Publieke Licenties zijn geschreven om ervoor te
zorgen dat u de vrijheid heeft om kopieën van vrije software te verspreiden (en
voor deze dienst een vergoeding te vragen als u dat wenst), dat u de broncode
ontvangt of ze desgewenst kunt krijgen, dat u de software kunt wijzigen of
stukken ervan kunt gebruiken in nieuwe vrije programma’s en dat u weet dat u
deze dingen kunt doen.

Om uw rechten te beschermen, moeten wij beperkingen instellen die anderen
verbieden u deze rechten te ontzeggen of u te vragen afstand te doen van deze
rechten. Deze restricties brengen enkele verantwoordelijkheden mee voor u als u
kopieën van de software verspreidt, of als u deze software wijzigt.

Bijvoorbeeld, als u kopieën van een dergelijk programma verspreidt, of het nu
gratis is of tegen een vergoeding, dan moet u aan de ontvangers alle rechten
geven die u zelf heeft. U moet zorgen dat ook zij de broncode ontvangen of
kunnen verkrijgen. Ook moet u ze deze voorwaarden tonen zodat zij hun rechten
kennen.

Wij beschermen uw rechten in twee stappen: (1) auteursrecht plaatsen op de
software, en (2) u deze licentie aanbieden die u juridisch gezien toestemming
geeft om deze software te kopiëren, verspreiden en/of te wijzigen.

Ter bescherming van elke auteur en van onszelf, willen we tevens ook zeker zijn
dat iedereen begrijpt dat er geen garanties op deze vrije software zitten. Als
de software door iemand anders gewijzigd en verspreid wordt, willen we dat de
ontvangers van deze software weten dat zij niet de originele versie ervan
hebben, zodat eventuele problemen die anderen introduceerden niet onterecht de
reputatie van de originele auteur zouden beschadigen.

Tot slot, elk vrij programma wordt voortdurend bedreigd door softwareoctrooien.
Wij willen het gevaar vermijden dat verdelers van een vrij programma zelf
octrooien zouden verwerven en op die manier dat programma feitelijk 'gesloten
software' zouden maken. Om dit te voorkomen stellen we duidelijk dat een
eventueel octrooi in licentie moet gegeven worden met het oog op een vrij
gebruik door iedereen of helemaal niet in licentie gegeven moet worden.

De precieze bepalingen en voorwaarden inzake kopiëren, verspreiden en wijzigen
volgen hierna.

F.2. GNU GENERAL PUBLIC LICENSE -- GNU ALGEMENE PUBLIEKE LICENTIE

BEPALINGEN EN VOORWAARDEN INZAKE KOPIËREN, VERSPREIDEN EN WIJZIGEN

0. Deze licentie is van toepassing op elk programma of ander werk dat een
vermelding bevat van de copyrighthouder, waarin staat dat het mag verspreid
worden onder de bepalingen van deze Algemene Publieke Licentie. Als hierna "
Programma" gebruikt wordt, verwijst dit naar elk dergelijk programma of werk en
een "op het Programma gebaseerd werk" betekent het Programma of elk afgeleid
werk volgens de copyrightwetgeving: dit wil zeggen, een werk dat het Programma
bevat of een gedeelte ervan, ofwel letterlijk of gewijzigd en/of naar een
andere taal vertaald. (In wat hierna volgt is vertaling zonder beperking
inbegrepen in de term "wijziging".) Elke licentiehouder wordt aangesproken als 
"u".

Andere handelingen dan kopiëren, verspreiden en wijzigen vallen niet onder deze
Licentie. Hiervoor is deze niet bedoeld. Er staan geen beperkingen op het
uitvoeren van het Programma en de uitvoer die het Programma produceert, valt
enkel onder deze licentie indien de inhoud van die uitvoer een op het Programma
gebaseerd werk vormt (los van het feit dat het gerealiseerd werd door het
Programma uit te voeren). Of dit het geval is hangt af van wat het Programma
doet.

1. U mag letterlijke kopieën van de broncode van het Programma zoals je die
zelf gekregen hebt, kopiëren en verspreiden op elk medium, op voorwaarde dat u
op duidelijk waarneembare en passende wijze op elke kopie een toepasselijke
copyrightkennisgeving aanbrengt en een niet-aansprakelijkheidsverklaring, alle
kennisgevingen die naar deze Licentie en naar de
niet-aansprakelijkheidsverklaring verwijzen intact laat, en alle ontvangers van
het Programma samen met het Programma een kopie van deze Licentie geeft.

U mag een vergoeding vragen voor de materiële handeling van het overmaken van
een kopie en u mag naar eigen goeddunken garanties bieden in ruil voor een
vergoeding.

2. U mag uw kopie of kopieën van het Programma of elk deel ervan wijzigen, en
aldus een op het Programma gebaseerd werk vormen, en u mag dergelijke
wijzigingen kopiëren en verspreiden onder de bepalingen van Paragraaf 1
hierboven, indien U ook aan al deze voorwaarden voldoet:

 a. U moet ervoor zorgen dat de gewijzigde bestanden een duidelijke vermelding
    bevatten van het feit dat U het bestand gewijzigd hebt en van de datum van
    elke wijziging.

 b. U moet elk werk dat U verspreidt of publiceert en dat het Programma geheel
    of gedeeltelijk bevat of van dat Programma of van een deel ervan afgeleid
    is, in zijn geheel onder de bepalingen van deze Licentie kosteloos in
    licentie geven aan alle derde partijen.

 c. Indien het gewijzigde programma normaal gezien op een interactieve manier
    commando's verwerkt wanneer het uitgevoerd wordt, dan moet u ervoor zorgen
    dat, als het voor een dergelijk interactief gebruik in zijn meest
    eenvoudige vorm opgestart wordt, het een kennisgeving afdrukt of weergeeft
    met een passende copyrightvermelding en met de vermelding dat er geen
    garantie geboden wordt (of anders, dat U een garantie voorziet) en dat
    gebruikers het programma mogen verspreiden onder deze voorwaarden en waarin
    de gebruiker geïnformeerd wordt over hoe hij een kopie van deze Licentie
    kan bekijken. (Uitzondering : als het Programma zelf interactief is maar
    normaal geen dergelijke kennisgeving afdrukt, dan moet uw op het Programma
    gebaseerd werk evenmin die kennisgeving afdrukken.)

Deze vereisten zijn van toepassing op het werk in zijn geheel. Als duidelijke
onderdelen van dat werk niet afgeleid zijn van het Programma en redelijkerwijs
beschouwd kunnen worden als op zich staande onafhankelijke en afzonderlijke
werken, dan is deze Licentie en zijn bepalingen niet van toepassing op die
onderdelen als U die als aparte werken verspreidt. Maar als u diezelfde
onderdelen verspreidt als deel van een geheel dat een op het Programma
gebaseerd werk is, dan moet de verspreiding van het geheel gebeuren in
overeenstemming met de bepalingen van deze Licentie, waarvan de vergunningen
voor andere licentiehouders betrekking hebben op het volledige geheel, en dus
op elk onderdeel, ongeacht wie het schreef.

Het is dus niet de bedoeling van deze paragraaf om aanspraak te maken op
rechten op werk dat geheel door uzelf geschreven is of uw rechten op dat werk
te betwisten. Het is eerder de bedoeling om het recht uit te oefenen op
controle over de verspreiding van afgeleide of collectieve werken gebaseerd op
het Programma.

Daarenboven geldt dat het louter samenbrengen van een ander werk dat niet op
het Programma gebaseerd is met het Programma (of met een op het Programma
gebaseerd werk) op een opslagmedium of een verspreidingsmedium, dat ander werk
niet doet vallen onder de bepalingen van deze Licentie.

3. U mag het Programma (of een volgens paragraaf 2 erop gebaseerd werk)
verspreiden en kopiëren in objectcode of uitvoerbare vorm onder de bepalingen
van bovenstaande paragrafen 1 en 2 op voorwaarde dat U ook aan een van de
volgende voorwaarden voldoet:

 a. Dat u de volledige bijbehorende mechanisch afleesbare broncode eraan
    toevoegt, die verspreid moet worden onder de bepalingen van de bovenstaande
    paragrafen 1 en 2 op een medium dat gebruikelijk is voor het uitwisselen
    van software, of

 b. Dat u een schriftelijk aanbod toevoegt, dat minstens drie jaar geldig
    blijft, om aan elke derde een volledige mechanisch afleesbare kopie van de
    bijbehorende broncode te verstrekken onder de bepalingen van de
    bovenstaande paragrafen 1 en 2 op een medium dat gebruikelijk is voor het
    uitwisselen van software tegen een vergoeding die niet hoger ligt dan de
    materiële kost voor het verspreiden van de broncode, of

 c. Dat u de informatie toevoegt die u ontving met betrekking tot het aanbod om
    de bijbehorende broncode te verdelen. (Dit alternatief is enkel toegestaan
    voor een niet-commerciële verspreiding en enkel als u het programma ontving
    in objectcode of in uitvoerbare vorm met een dergelijk aanbod in
    overeenstemming met de bovenstaande subparagraaf b.)

Onder de broncode van een werk wordt die vorm van het werk verstaan waarin het
bij voorkeur bewerkt wordt. Voor een uitvoerbaar werk betekent volledige
broncode alle broncode van alle modules waaruit het werk bestaat, plus alle
bestanden die een eventuele erbij horende interface definiëren, plus de scripts
voor het compileren en het installeren van het uitvoerbare programma. Bij wijze
van bijzondere uitzondering geldt echter dat in de gedistribueerde broncode
niets moet opgenomen worden dat normaal verspreid wordt (in broncode of in
uitvoerbare vorm) via de hoofdcomponenten (compiler, kernel, enz.) van het
besturingssysteem waaronder het programma uitgevoerd wordt, tenzij die
component zelf bij het uitvoerbare bestand hoort.

Als de verspreiding van het uitvoerbare bestand of de objectcode gebeurt door
het bieden van de mogelijkheid om deze te kopiëren van een bepaalde plaats, dan
geldt het bieden van de mogelijkheid om de broncode van diezelfde plaats te
kopiëren als het verspreiden van de broncode, zelfs indien men niet verplicht
is ook de broncode te kopiëren samen met de objectcode.

4. U mag het Programma niet kopiëren, wijzigen, sublicentiëren of verspreiden
op een andere wijze dan uitdrukkelijk is toegestaan onder deze Licentie. Elke
andere poging om het Programma te kopiëren, te wijzigen, te sublicentiëren of
te verspreiden is nietig en zal automatisch uw rechten onder deze Licentie
beëindigen. Echter, derden die van u kopieën of rechten onder deze Licentie
ontvangen hebben, blijven hun rechten behouden zolang ze de voorwaarden niet
schenden.

5. U bent niet verplicht deze Licentie te aanvaarden, aangezien u ze niet
ondertekend heeft. U heeft echter geen enkele andere toestemming om het
Programma of afgeleide werken te wijzigen of te verspreiden. Deze handelingen
zijn bij wet verboden als u deze Licentie niet aanvaardt. Hieruit volgt dat u
aangeeft deze Licentie en al zijn voorwaarden en bepalingen in verband met het
kopiëren, verspreiden of wijzigen van het Programma of erop gebaseerde werken
te aanvaarden, als u het Programma (of elk op het Programma gebaseerd werk)
wijzigt of verspreidt.

6. Telkens u het Programma (of een op het Programma gebaseerd werk) verspreidt,
krijgt de ontvanger automatisch de toelating van de originele licentiegever om
het Programma te kopiëren, te verspreiden of te wijzigen onder deze bepalingen
en voorwaarden. U mag de ontvanger geen andere beperkingen opleggen inzake de
uitoefening van de rechten die hierin bepaald zijn. U bent niet
verantwoordelijk voor het afdwingen van de naleving door derden van deze
Licentie.

7. Als u ten gevolge van een gerechtelijk bevel of van een beschuldiging van
inbreuk op een octrooi of om eender welke andere reden (niet beperkt tot
octrooikwesties) voorwaarden opgelegd worden (zij het bij gerechtelijk
bevelschrift, in onderlinge overeenkomst of op een andere wijze) die in
tegenspraak zijn met de voorwaarden van deze Licentie, ontslaan deze u niet van
de voorwaarden van deze Licentie. Als u de verspreiding niet zodanig kunt doen
dat u tegelijk voldoet aan de bepalingen van deze Licentie en aan eventuele
andere toepasselijke verplichtingen, is de consequentie dat u het Programma
helemaal niet mag verspreiden. Als bijvoorbeeld een octrooilicentie niet zou
toestaan dat het Programma zonder royalty's verder verspreid wordt door
diegenen die het Programma direct of indirect via u verkrijgen, dan zou de
enige manier waarop u zowel daaraan als aan deze Licentie kunt voldoen, zijn,
dat u zich volledig onthoudt van het verspreiden van het Programma.

Als een deel van dit artikel als ongeldig wordt beschouwd of ten gevolge van
een specifieke omstandigheid niet kan afgedwongen worden, dan wordt de rest van
het artikel van kracht geacht. In andere omstandigheden wordt het artikel in
zijn geheel geacht van kracht te zijn.

Het is niet de bedoeling van dit artikel om u aan te zetten tot inbreuken tegen
octrooien of tegen andere aanspraken op eigendomsrechten of tot het aanvechten
van de geldigheid van zulke aanspraken. Het enige doel van dit artikel is het
beschermen van de integriteit van het distributiesysteem van vrije software dat
via het aanwenden van een openbare licentie gestalte krijgt. Veel mensen hebben
grootmoedig bijgedragen aan een grote verscheidenheid van vrije software die
via dat systeem verspreid wordt, erop vertrouwend dat dit systeem op
betrouwbare wijze toegepast wordt. Het behoort tot de vrijheid van de auteur/
donateur om te bepalen of hij of zij software wil verspreiden via gelijk welk
ander systeem en een licentiehouder kan die keuze niet opleggen.

Dit artikel is bedoeld om dat wat verondersteld wordt een consequentie te zijn
van de overige bepalingen van deze Licentie, grondig in de verf te zetten.

8. Als de verspreiding en/of het gebruik van het Programma in bepaalde landen
beperkt is door octrooien of door interfaces waarop copyright rust, dan mag de
oorspronkelijke copyrighthouder die het Programma onder deze Licentie plaatst,
een expliciete geografische beperking inzake verspreiding toevoegen waarbij
deze landen uitgesloten worden, zodat verspreiding enkel toegestaan is in of
tussen landen die niet aldus uitgesloten werden. In dat geval integreert deze
Licentie die beperking alsof ze in het corpus van deze Licentie stond
ingeschreven.

9. De Free Software Foundation kan zo nu en dan herziene en/of nieuwe versies
publiceren van de Algemene Publieke Licentie. Zulke nieuwe versies zullen in
dezelfde geest zijn opgesteld als de huidige versie, maar kunnen in de details
afwijken om nieuwe problemen of bekommernissen aan te pakken. Elke versie
krijgt een onderscheidend versienummer. Als het Programma specificeert dat een
bepaalde genummerde versie van de Algemene Publieke Licentie en "elke latere
versie" van toepassing is, heeft u de vrijheid om te handelen overeenkomstig de
bepalingen en de voorwaarden van die genummerde versie of van elke latere
versie die door de Free Software Foundation gepubliceerd werd. Als het
Programma geen versienummer van de Algemene Publieke Licentie specificeert,
kunt u gelijk welke versie kiezen die ooit door de Free Software Foundation
werd gepubliceerd.

10. Indien u delen van het Programma wilt invoegen in andere vrije programma's
waarvoor andere verspreidingsvoorwaarden gelden, dan moet u de auteur van dat
programma om schriftelijke toestemming vragen. Voor software waarvan het
auteursrecht bij de Free Software Foundation berust moet u naar de Free
Software Foundation schrijven. We maken hiervoor soms een uitzondering. Onze
beslissing zal ingegeven worden door deze twee doelstellingen: de vrije status
vrijwaren van alle derivaten van onze vrije software, en het delen en
hergebruiken van software in het algemeen bevorderen.

AFWIJZING VAN GARANTIE

11. VERMITS HET PROGRAMMA KOSTELOOS IN LICENTIE GEGEVEN WORDT, WORDEN GEEN
GARANTIES GEGEVEN VOOR HET PROGRAMMA VOOR ZOVER TOEGESTAAN DOOR DE
TOEPASSELIJKE REGELGEVING. BEHALVE WANNEER DIT ANDERSZINS SCHRIFTELIJK IS
BEVESTIGD, BIEDEN DE AUTEURSRECHTHEBBENDEN EN/OF ANDERE PARTIJEN DIT PROGRAMMA
AAN "ZOALS HET IS", ZONDER ENIGE GARANTIE, EXPLICIET OF IMPLICIET, WAARONDER
MAAR NIET HIERTOE BEPERKT DE IMPLICIETE GARANTIES DIE GEBRUIKELIJK ZIJN IN DE
HANDEL EN DE GARANTIE VAN BRUIKBAARHEID VOOR EEN SPECIFIEK DOEL. HET VOLLEDIGE
RISICO MET BETREKKING TOT DE KWALITEIT EN DE PRESTATIES VAN HET PROGRAMMA
BERUST BIJ U. MOCHT HET PROGRAMMA GEBREKEN BLIJKEN TE VERTONEN, DAN DIENT U
ALLE NOODZAKELIJKE SERVICE-, REPARATIE- OF RECTIFICATIEKOSTEN VOOR EIGEN
REKENING TE NEMEN.

12. IN GEEN GEVAL, TENZIJ VEREIST DOOR DE TOEPASSELIJKE REGELGEVING OF
SCHRIFTELIJK OVEREENGEKOMEN, ZAL ENIGE AUTEURSRECHTHEBBENDE, OF ENIGE ANDERE
PARTIJ DIE HET PROGRAMMA WIJZIGT EN/OF VERSPREIDT OVEREENKOMSTIG DE HIERVOOR
GEGEVEN TOESTEMMING, AANSPRAKELIJK ZIJN TEGENOVER U VOOR TOEGEBRACHTE SCHADE,
INCLUSIEF ELKE ALGEMENE, SPECIALE, INCIDENTELE OF GEVOLGSCHADE DIE VOORTVLOEIT
UIT HET GEBRUIK OF HET ONVERMOGEN OM HET PROGRAMMA TE GEBRUIKEN (INCLUSIEF MAAR
NIET BEPERKT TOT HET VERLIES VAN DATA, DE WEERGAVE VAN INACCURATE DATA, DE DOOR
U OF DERDEN GELEDEN VERLIEZEN OF EEN FALEN VAN HET PROGRAMMA OM MET ANDERE
PROGRAMMA’S SAMEN TE WERKEN), ZELFS ALS EEN DERGELIJKE AUTEURSRECHTHEBBENDE OF
ANDERE PARTIJ EROP GEWEZEN WERD DAT ZULKE SCHADE MOGELIJK IS.

EINDE VAN DE BEPALINGEN EN DE VOORWAARDEN

F.3. Hoe u deze bepalingen kunt toepassen op uw nieuwe programma’s

Als u een nieuw programma ontwikkelt en u wenst dat het van het grootst
mogelijke nut is voor het publiek, kunt u dit het best bereiken door het vrije
software te maken die door iedereen verder kan worden verspreid en gewijzigd
onder deze voorwaarden.

Dat doet u door de volgende kennisgeving^[28] aan het programma toe te voegen.
Het is het veiligste om ze aan het begin van elk broncodebestand op te nemen om
zo op de meest effectieve wijze elke aansprakelijkheid uit te sluiten; en elk
bestand zou tenminste de "copyright"-regel moeten bevatten en een verwijzing
naar waar de volledige kennisgeving gevonden kan worden.

een regel om de naam van het programma weer te geven en een korte omschrijving van wat het programma doet.
Copyright (C) jaar  naam van de auteur

Dit programma is vrije software; u mag het verder verspreiden en/of
wijzigen onder de voorwaarden van de GNU Algemene Publieke Licentie
zoals gepubliceerd door de Free Software Foundation, ofwel versie 2
van de Licentie of (naar uw keuze) elke latere versie.

Dit programma wordt gedistribueerd in de hoop dat het nuttig zal zijn,
maar ZONDER ENIGE GARANTIE, zelfs zonder de impliciete garanties die
GEBRUIKELIJK ZIJN IN DE HANDEL OF DE GARANTIE VAN BRUIKBAARHEID VOOR EEN
SPECIFIEK DOEL. Zie de GNU Algemene Publieke Licentie voor meer details.

U zou samen met dit programma een kopie van de GNU Algemene Publieke Licentie
ontvangen moeten hebben. Is dit niet het geval, schrijf dan naar de
Free Software Foundation, Inc.,
51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

Voeg ook informatie toe over hoe men u via elektronische en traditionele post
kan bereiken.

Betreft het een interactief programma, laat het dan bij het opstarten in
interactieve modus een korte melding zoals deze weergeven:

Gnomovision versie 69, Copyright (C) jaar naam van de auteur
Er zit absoluut geen garantie op Gnomovision; typ show w
voor meer informatie. Dit is vrije software en u bent van harte uitgenodigd
om het onder bepaalde voorwaarden verder te verspreiden;
typ show c voor meer informatie.

De hypothetische commando’s "show w" en "show c" dienen de gepaste delen van de
Algemene Publieke Licentie te tonen. Natuurlijk kunnen de commando’s die u
gebruikt anders zijn dan "show w" en "show c"; het kunnen zelfs muisklikken
zijn of menu-items -- wat ook maar best geschikt is voor uw programma.

U moet er ook voor zorgen dat uw werkgever (als u werkt als programmeur) of uw
school, voor zover relevant, een "verklaring van afstand van copyright""
ondertekent met betrekking tot het programma. Hierna volgt een voorbeeld; pas
de namen aan:

Yoyodyne, NV., ziet hierbij af van elk copyrightbelang in het programma
Gnomovision (een doorgeefluik naar compilatieprogramma's),
geschreven door James Hacker.

handtekening van Ty Coon, 1 april 1989
Ty Coon, Vicevoorzitter

Deze Algemene Publieke Licentie staat niet toe dat uw programma wordt opgenomen
in zogenaamde niet-vrije of gesloten software. Als uw programma een bibliotheek
met subroutines is, kan het zijn dat u het zinvoller acht om gesloten software
toe te staan te linken naar deze bibliotheek. Als u dit wilt doen, gebruik dan
de GNU Minder Algemene Publieke Licentie (GNU Lesser General Public License) in
plaats van deze Licentie.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[27] Deze vertaling is geen origineel werk, maar maakt zoveel mogelijk gebruik
van reeds geleverd vertaalwerk. In eerste instantie wordt dankbaar gebruik
gemaakt van de niet-officiële vertaling van versie 2 van de licentie die te
vinden is op http://users.skynet.be/xterm/gpld.txt. Waar de tekst tussen de
versies 2 en 3 van de GPL ongewijzigd bleef, gingen we ook te rade bij de
Nederlandse vertaling door Bart Beuving en Maurits Westerik van GPLv3 die u
vindt op https://bartbeuving.files.wordpress.com/2008/07/gpl-v3-nl-101.pdf.

^[28] Enkel de oorspronkelijke Engelse tekst van de kennisgeving heeft bindende
waarde en niet de hiernavolgende vertaling ervan.

