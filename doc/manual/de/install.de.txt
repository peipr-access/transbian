Debian GNU/Linux - Installationsanleitung

Copyright © 2004 - 2021 Das Debian-Installer-Team

Dieses Handbuch ist freie Software; Sie können es unter den Bedingungen der GNU
General Public License weiter veröffentlichen und/oder verändern. Sie finden
die Lizenz im Anhang F, GNU General Public License (Allgemeine Öffentliche
GNU-Lizenz, GNU GPL).

Build-Version dieses Handbuchs: 20220129~deb11u1.

Zusammenfassung

Dieses Dokument enthält Anweisungen zur Installation von Debian GNU/Linux 11
(Codename BULLSEYE) für die 64-Bit PC-Architektur ("amd64"). Es enthält auch
Verweise auf andere Informationsquellen sowie Tipps, wie Sie das Beste aus
Ihrem neuen Debian-System machen.

Deutsche Übersetzung von Holger Wansing und anderen. Senden Sie Vorschläge oder
Hinweise auf Fehler in dieser Übersetzung an <
debian-l10n-german@lists.debian.org>.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Inhaltsverzeichnis

Debian GNU/Linux 11 installieren auf amd64-Systemen
1. Willkommen bei Debian

    1.1. Was ist Debian?
    1.2. Was ist GNU/Linux?
    1.3. Was ist Debian GNU/Linux?
    1.4. Was ist der Debian-Installer?
    1.5. Woher bekomme ich Debian?
    1.6. Die neueste Version dieses Dokuments erhalten
    1.7. Aufbau dieses Dokuments
    1.8. Über Copyrights und Software-Lizenzen

2. Systemanforderungen

    2.1. Unterstützte Hardware

        2.1.1. Unterstützte Architekturen
        2.1.2. CPU-Unterstützung
        2.1.3. Laptops
        2.1.4. Mehrprozessor-Systeme
        2.1.5. Unterstützung für Grafik-Hardware
        2.1.6. Hardware für Netzwerkverbindungen
        2.1.7. Braillezeilen
        2.1.8. Hardware-Sprachausgabe
        2.1.9. Peripherie und andere Hardware

    2.2. Hardware, die Firmware erfordert
    2.3. Hardware speziell für GNU/Linux kaufen

        2.3.1. Vermeiden Sie proprietäre oder "Closed" Hardware

    2.4. Installationsmedien

        2.4.1. CD-ROM/DVD-ROM/BD-ROM
        2.4.2. USB-Memory-Stick
        2.4.3. Netzwerk
        2.4.4. Festplatten
        2.4.5. Un*x- oder GNU-System
        2.4.6. Unterstützte Speichersysteme

    2.5. Anforderungen an Arbeitsspeicher und Festplattenplatz

3. Bevor Sie Debian GNU/Linux installieren

    3.1. Übersicht über den Installationsverlauf
    3.2. Sichern Sie Ihre Daten!
    3.3. Benötigte Informationen

        3.3.1. Dokumentation
        3.3.2. Quellen für Hardware-Informationen finden
        3.3.3. Hardware-Kompatibilität
        3.3.4. Netzwerkeinstellungen

    3.4. Minimale Hardware-Anforderungen
    3.5. Im Voraus partitionieren für eine Multiboot-Installation
    3.6. Hardware- und Betriebssystem-Setup vor der Installation

        3.6.1. Das BIOS/UEFI-Setup-Menü aufrufen
        3.6.2. Auswahl des Boot-Laufwerks
        3.6.3. Systeme mit UEFI-Firmware
        3.6.4. Secure Boot
        3.6.5. Deaktivieren der "Fast boot"/"Fast startup"-Funktionalität in
            Windows
        3.6.6. Hardware-Probleme, auf die Sie achten sollten

4. Systeminstallations-Medien beschaffen

    4.1. Offizielle Debian GNU/Linux-Installations-Images
    4.2. Dateien von einem Debian-Spiegel-Server herunterladen

        4.2.1. Wo Sie die Installationsdateien finden

    4.3. Dateien vorbereiten für das Booten von einem USB-Memory-Stick

        4.3.1. Einen USB-Stick vorbereiten mit einem Hybrid-CD/DVD-Image
        4.3.2. Dateien manuell auf den USB-Stick kopieren
        4.3.3. Dateien manuell auf den USB-Stick kopieren - der flexible Weg

    4.4. Dateien vorbereiten für das Booten von Festplatte

        4.4.1. Booten des Installers von Festplatte unter Linux mittels GRUB
        4.4.2. Booten des Installers von Festplatte unter DOS mittels loadlin

    4.5. Dateien vorbereiten für TFTP-Netzwerk-Boot

        4.5.1. Einen DHCP-Server einrichten
        4.5.2. Einen BOOTP-Server einrichten
        4.5.3. Den TFTP-Server aktivieren
        4.5.4. Die TFTP-Images an ihren Platz befördern

    4.6. Automatische Installation

        4.6.1. Automatische Installation mit dem Debian-Installer

    4.7. Verifizieren der Authentizität von Installationsdateien

5. Das Installationssystem booten

    5.1. Starten des Installers auf 64-Bit PC-Systemen

        5.1.1. Von einem USB-Stick booten
        5.1.2. Booten von einem optischen Datenträger (CD/DVD)
        5.1.3. Von Windows aus booten
        5.1.4. Von DOS aus booten mittels loadlin
        5.1.5. Von Linux aus booten mittels GRUB
        5.1.6. Booten per TFTP
        5.1.7. Der Start-Bildschirm (Boot-Screen)
        5.1.8. Der Grafische Installer

    5.2. Barrierefreiheit

        5.2.1. Installer-Oberfläche (Frontend)
        5.2.2. USB-Braillezeilen
        5.2.3. Serielle Braillezeilen
        5.2.4. Software-Sprachausgabe (Software-Sprachsynthesizer)
        5.2.5. Hardware-Sprachausgabe (Hardware-Sprachsynthesizer)
        5.2.6. Interne Boards/Karten
        5.2.7. Theme mit hohem Kontrast
        5.2.8. Zoom
        5.2.9. Experten-Installation, Rettungsmodus, automatisierte
            Installation
        5.2.10. Barrierefreiheit auf dem neu installierten System

    5.3. Boot-Parameter

        5.3.1. Boot-Konsole
        5.3.2. Debian-Installer-Parameter
        5.3.3. Boot-Parameter benutzen, um Fragen automatisiert zu beantworten
        5.3.4. Parameter für Kernelmodule angeben
        5.3.5. Kernel-Module als gesperrt markieren

    5.4. Beseitigen von Problemen während der Installation

        5.4.1. Unzuverlässigkeit von optischen Datenträgern
        5.4.2. Boot-Konfiguration
        5.4.3. Software-Sprachausgabe (Software-Sprachsynthesizer)
        5.4.4. Häufige Installationsprobleme unter 64-Bit PC
        5.4.5. Die Startmeldungen des Kernels deuten
        5.4.6. Installationsprobleme berichten
        5.4.7. Installationsberichte einschicken

6. Den Debian-Installer verwenden

    6.1. Wie der Installer funktioniert

        6.1.1. Den grafischen Installer verwenden

    6.2. Einführung in die Komponenten
    6.3. Die einzelnen Komponenten

        6.3.1. Den Debian-Installer einrichten und Konfiguration der Hardware
        6.3.2. Benutzerzugänge und Passwörter einrichten
        6.3.3. Konfiguration der Uhr und Zeitzone
        6.3.4. Partitionierung und Auswahl der Einbindungspunkte im Dateisystem
        6.3.5. Installation des Basissystems
        6.3.6. Installation zusätzlicher Software
        6.3.7. Ihr System boot-fähig machen
        6.3.8. Die Installation beenden
        6.3.9. Fehlersuche/-behebung
        6.3.10. Installation über die Netzwerk-Konsole

    6.4. Fehlende Firmware nachladen

        6.4.1. Einen Datenträger vorbereiten
        6.4.2. Firmware und das zu installierende System
        6.4.3. Das installierte System vervollständigen

    6.5. Anpassungen

        6.5.1. Installation eines alternativen Init-Systems

7. Das neue Debian-System starten

    7.1. Der Moment der Wahrheit
    7.2. Verschlüsselte Dateisysteme einbinden

        7.2.1. Fehlersuche und -behebung

    7.3. Anmelden

8. Die nächsten Schritte und welche Seiten Sie noch besuchen sollten

    8.1. Das System herunterfahren
    8.2. Sich in Debian orientieren

        8.2.1. Das Debian-Paketsystem
        8.2.2. Zusätzliche Software, die für Debian verfügbar ist
        8.2.3. Programmversions-Verwaltung
        8.2.4. Cron-Job-Management (zeitgesteuerte Aufgaben)

    8.3. Wo Sie weiter lesen sollten - zusätzliche Informationen
    8.4. Das System zur E-Mail-Nutzung einrichten

        8.4.1. Standard-E-Mail-Konfiguration
        8.4.2. E-Mails nach außerhalb verschicken
        8.4.3. Den Mail-Transport-Agent Exim4 konfigurieren

    8.5. Einen neuen Kernel kompilieren
    8.6. Ein beschädigtes System reparieren

A. Installations-HowTo

    A.1. Einleitung
    A.2. Den Installer booten

        A.2.1. Optische Disks (CD/DVD)
        A.2.2. USB-Memory-Stick
        A.2.3. Über das Netzwerk booten
        A.2.4. Von Festplatte starten

    A.3. Installation
    A.4. Schicken Sie uns einen Installationsbericht
    A.5. Zu guter Letzt ...

B. Automatisieren der Installation mittels Voreinstellung

    B.1. Einführung

        B.1.1. Verschiedene Methoden der Voreinstellung
        B.1.2. Einschränkungen

    B.2. Voreinstellung nutzen

        B.2.1. Die Voreinstellungsdatei laden
        B.2.2. Boot-Parameter nutzen, um Fragen automatisiert zu beantworten
        B.2.3. Auto-Modus
        B.2.4. Für Voreinstellung nützliche Aliase
        B.2.5. Beispiele für Voreinstellung via Boot-Prompt-Zeile
        B.2.6. Voreinstellungsdateien mittels eines DHCP-Servers festlegen

    B.3. Eine Voreinstellungsdatei erstellen
    B.4. Inhalt der Voreinstellungsdatei (für Bullseye)

        B.4.1. Lokalisierung
        B.4.2. Netzwerkkonfiguration
        B.4.3. Netzwerk-Konsole
        B.4.4. Einstellungen für den Spiegel-Server
        B.4.5. Einrichtung von Benutzerzugängen
        B.4.6. Einrichtung von Uhr und Zeitzone
        B.4.7. Partitionierung
        B.4.8. Installation des Basissystems
        B.4.9. Konfiguration von Apt
        B.4.10. Paketauswahl
        B.4.11. Installation des Bootloaders
        B.4.12. Die Installation beenden
        B.4.13. Voreinstellung anderer Pakete

    B.5. Erweiterte Optionen

        B.5.1. Während der Installation eigene Kommandos ausführen
        B.5.2. Voreinstellung nutzen, um Standardantworten auf Fragen zu ändern
        B.5.3. Mehrere Voreinstellungsdateien nacheinander laden

C. Partitionieren für eine Debian-Installation

    C.1. Anzahl und Größe der Debian-Partitionen
    C.2. Der Verzeichnisbaum
    C.3. Empfohlene Partitionsschemata
    C.4. Gerätebezeichnungen unter Linux
    C.5. Debian-Partitionierungsprogramme

        C.5.1. Partitionieren auf 64-Bit PC-Systemen

D. Verschiedenes

    D.1. Linux-Geräte

        D.1.1. Einrichten der Maus

    D.2. Festplattenplatz, der für die Programmgruppen benötigt wird
    D.3. Debian GNU/Linux von einem anderen Unix/Linux-System aus installieren

        D.3.1. Es geht los!
        D.3.2. debootstrap installieren
        D.3.3. Starten Sie debootstrap
        D.3.4. Das Basissystem konfigurieren
        D.3.5. Einen Kernel installieren
        D.3.6. Den Bootloader einrichten
        D.3.7. Fernzugriff: Installation von SSH und Einrichten eines Zugangs
        D.3.8. Zum Schluss

    D.4. Debian GNU/Linux über Parallel Line IP (PLIP) installieren

        D.4.1. Anforderungen
        D.4.2. Den source-Rechner einrichten
        D.4.3. Debian auf dem target-Rechner installieren

    D.5. Debian GNU/Linux unter Verwendung von PPP over Ethernet (PPPoE)
        installieren

E. Administratives

    E.1. Über dieses Dokument
    E.2. An diesem Dokument mithelfen
    E.3. Wesentliche Beiträge zu diesem Handbuch
    E.4. Anerkennung der Warenzeichen

F. GNU General Public License (Allgemeine Öffentliche GNU-Lizenz, GNU GPL)

Tabellenverzeichnis

3.1. Zur Installation hilfreiche Hardware-Informationen
3.2. Empfohlene minimale Systemanforderungen

Debian GNU/Linux 11 installieren auf amd64-Systemen

Wir freuen uns, dass Sie sich entschieden haben, Debian auszuprobieren; Sie
werden feststellen, dass Debians GNU/Linux-Distribution einzigartig ist. Debian
GNU/Linux vereint hochqualitative, freie Software aus aller Welt in einem
schlüssigen Gesamtkonzept. Wie wir glauben, werden Sie feststellen, dass das
Ergebnis durchaus mehr ist als die Summe der einzelnen Teile.

Wir können verstehen, dass viele von Ihnen Debian installieren möchten, ohne
dieses Handbuch zu lesen, und der Debian-Installer ist dafür ausgelegt, dies zu
ermöglichen. Falls Sie jetzt nicht die Zeit haben, das ganze Handbuch zu
studieren, empfehlen wir, dass Sie das Installations-HowTo lesen; es wird Sie
durch den grundlegenden Installationsprozess begleiten und enthält Querverweise
ins Handbuch für ausführlichere Themen und für den Fall, dass etwas schief
läuft. Sie finden es im Anhang A, Installations-HowTo.

Nachdem dies gesagt wurde, hoffen wir, dass Sie trotzdem die Zeit finden,
dieses Handbuch (zumindest größtenteils) zu lesen; dies könnte zu einem
sachkundigen und hoffentlich erfolgreichen Installationsverlauf verhelfen.

Kapitel 1. Willkommen bei Debian

Inhaltsverzeichnis

1.1. Was ist Debian?
1.2. Was ist GNU/Linux?
1.3. Was ist Debian GNU/Linux?
1.4. Was ist der Debian-Installer?
1.5. Woher bekomme ich Debian?
1.6. Die neueste Version dieses Dokuments erhalten
1.7. Aufbau dieses Dokuments
1.8. Über Copyrights und Software-Lizenzen

Dieses Kapitel bietet eine Übersicht über das Debian-Projekt und Debian GNU/
Linux. Wenn Sie die Geschichte des Debian-Projekts und der Debian GNU/
Linux-Distribution bereits kennen, können Sie dies ruhig überspringen und beim
nächsten Kapitel weiterlesen.

1.1. Was ist Debian?

Debian ist eine komplett aus Freiwilligen bestehende Organisation, die sich der
Entwicklung freier Software und der Verbreitung der Ideale der Freie
Software-Gemeinschaft verschrieben hat. Das Debian-Projekt startete 1993, als
Ian Murdock in einer offenen Einladung Software-Entwickler dazu aufrief, an
einer kompletten und konsistenten Software-Distribution mitzuwirken, die auf
dem noch relativ jungen Linux-Kernel basieren sollte. Die recht kleine Gruppe
von engagierten Enthusiasten, ursprünglich von der Free Software Foundation
gefördert und von der GNU-Philosophie beeinflusst, ist über die Jahre zu einer
Organisation von rund 1000 Debian-Entwicklern angewachsen.

Debian-Entwickler sind in vielen verschiedenen Bereichen tätig, unter anderem
Web- und FTP-Administration, grafisches Design, rechtliche Analyse von
Software-Lizenzen, Schreiben von Dokumentation und natürlich auch Pflege von
Software-Paketen.

Im Interesse, unsere Philosophie zu erklären und Entwickler zu gewinnen, die an
die Prinzipien glauben, für die Debian steht, hat das Debian-Projekt einige
Dokumente publiziert, die einen Überblick über unsere Werte geben und als
Richtlinien dafür gelten, was es heißt, ein Debian-Entwickler zu sein:

  • Der Debian-Gesellschaftsvertrag (Debian Social Contract) ist eine
    Auflistung von Debians Verpflichtungen gegenüber der
    Freie-Software-Gemeinschaft. Jeder, der einwilligt, den Gesellschaftsvetrag
    einzuhalten, kann ein Debian-Maintainer (Betreuer) werden. Jeder Maintainer
    kann neue Software in Debian einfließen lassen - vorausgesetzt, sie erfüllt
    unsere Kriterien für Freie Software und das Paket entspricht unseren
    Qualitätsstandards.

  • Die Debian-Richtlinien für Freie Software (Debian Free Software Guidelines;
    DFSG) sind eine klare und präzise Auflistung von Debians Kriterien für
    Freie Software. Die DFSG ist ein sehr einflussreiches Dokument in der
    Freie-Software-Bewegung und war die Grundlage der Open-Source-Definition.

  • Das Debian Policy Handbuch ist eine ausführliche Beschreibung der
    Qualitätsstandards des Debian-Projekts.

Debian-Entwickler sind auch in einigen anderen Projekten eingebunden; einige
davon sind spezifisch für Debian, andere betreffen teilweise oder gänzlich die
Linux-Community. Einige Beispiele:

  • Der Filesystem Hierarchy Standard (FHS) ist ein Versuch, den Aufbau des
    Linux-Dateisystems zu standardisieren. Der FHS erlaubt
    Software-Entwicklern, sich auf ihre Aufgabe - dem Design von Programmen -
    zu konzentrieren, ohne sich darum sorgen zu müssen, wie das Paket auf
    verschiedenen GNU/Linux-Distributionen installiert wird.

  • Debian Jr. ist ein internes Projekt, das gewährleisten soll, dass Debian
    selbst unseren jüngsten Benutzern etwas zu bieten hat.

Für allgemeinere Informationen über Debian lesen Sie die Debian FAQ.

1.2. Was ist GNU/Linux?

GNU/Linux ist ein Betriebssystem - eine Reihe von Programmen, die es Ihnen
ermöglichen, mit Ihrem Computer zu interagieren und andere Programme laufen zu
lassen.

Ein Betriebssystem besteht aus verschiedenen fundamentalen Programmen, die von
Ihrem Computer benötigt werden, um mit Benutzern zu kommunizieren und
Anweisungen von ihm zu erhalten, um auf Festplatten, Bandlaufwerke und Drucker
zu schreiben, um die Verwendung des Arbeitsspeichers zu verwalten und um andere
Software auszuführen. Der wichtigste Teil eines Betriebssystems ist der Kernel.
In einem GNU/Linux-System ist Linux die Kernel-Komponente. Der Rest des Systems
besteht aus Programmen, von denen viele von dem oder für das GNU-Projekt
geschrieben wurden. Da der Linux-Kernel alleine kein funktionierendes
Betriebssystem darstellt, bevorzugen wir den Ausdruck "GNU/Linux", um Systeme
zu beschreiben, die von vielen Leuten kurz einfach "Linux" genannt werden.

GNU/Linux hat das Unix-Betriebssystem zum Vorbild. Von Beginn an war GNU/Linux
als Multitasking- und Mehrbenutzer-System vorgesehen. Diese Tatsachen reichen
aus, um GNU/Linux von anderen sehr bekannten Betriebssystemen abzuheben. Der
Unterschied ist aber sogar noch größer, als Sie sich vielleicht vorstellen. Im
Gegensatz zu anderen Betriebssystemen gibt es niemanden, dem GNU/Linux gehört.
Große Teile seiner Entwicklung werden von unbezahlten Freiwilligen geleistet.

Die Entwicklung dessen, was später GNU/Linux wurde, begann 1984, als die Free
Software Foundation die Entwicklung eines freien, Unix-ähnlichen
Betriebssystems namens GNU startete.

Das GNU-Projekt hat eine umfassende Sammlung von freien Software-Werkzeugen zur
Verwendung mit Unix (tm) und Unix-ähnlichen Betriebssystemen wie GNU/Linux
entwickelt. Diese Werkzeuge ermöglichen Benutzern, sowohl profane Aufgaben (wie
das Kopieren oder Löschen von Dateien aus dem System) als auch höhere Aufgaben
(wie das Schreiben und Kompilieren von Programmen oder das anspruchsvolle
Bearbeiten einer Reihe von Dokumentenformaten) zu bewältigen.

Während viele Gruppen und Einzelpersonen etwas zu GNU/Linux beigetragen haben,
ist der größte einzelne Mitwirkende nach wie vor die Free Software Foundation,
die nicht nur die meisten der unter GNU/Linux verwendeten Werkzeuge geschaffen
hat, sondern auch die Philosophie und die Gemeinschaft, die GNU/Linux
ermöglicht haben.

Der Linux-Kernel tauchte zum ersten Mal 1991 auf, als ein finnischer
Informatikstudent namens Linus Torvalds eine frühe Version eines Ersatz-Kernels
für Minix in der Usenet-Newsgroup comp.os.minix ankündigte. Besuchen Sie zu
diesem Thema die Seite LINUX's History von Linux International.

Linus Torvalds koordiniert - unter Mithilfe einer Reihe von
Untersystem-Betreuern - nach wie vor die Arbeit von mehreren hundert
Entwicklern. Es existiert eine offizielle Webseite für den Linux-Kernel.
Informationen über die linux-kernel-Mailingliste finden Sie in der FAQ zur
Mailingliste.

GNU/Linux-Benutzer haben eine enorme Freiheit bei der Auswahl ihrer Software.
Zum Beispiel können sie aus einem Dutzend verschiedener
Kommandozeilen-Interpretern und einigen grafischen Desktop-Oberflächen
auswählen. Diese Auswahl ist oftmals verwirrend für Benutzer anderer
Betriebssysteme, die es nicht gewohnt sind, dass die Kommandozeile oder der
Desktop austauschbar sind.

GNU/Linux ist auch weniger absturzgefährdet, besser dazu geeignet, mehr als ein
Programm gleichzeitig auszuführen, und sicherer als viele andere
Betriebssysteme. Mit diesen Vorteilen ist Linux das am schnellsten wachsende
Betriebssystem am Servermarkt. In letzter Zeit wird Linux auch bei Heim- und
Businessanwendern immer beliebter.

1.3. Was ist Debian GNU/Linux?

Die Philosophie und Methoden von Debian, kombiniert mit den GNU-Werkzeugen, dem
Linux-Kernel und anderer wichtiger Freier Software, bildet eine einzigartige
Software-Distribution, genannt Debian GNU/Linux. Diese Distribution setzt sich
aus einer großen Anzahl von Software-Paketen zusammen. Jedes Paket in der
Distribution enthält ausführbare Dateien, Skripte, Dokumentation,
Konfigurationsinformationen und hat einen Maintainer (Paketbetreuer), der
primär dafür verantwortlich ist, das Paket aktuell zu halten, Fehlerberichte zu
verfolgen und mit den Entwicklern der Software zu kommunizieren. Unsere sehr
breite Nutzerbasis kombiniert mit unserer Fehlerdatenbank (Debian
Bug-Tracking-System) stellt sicher, dass Probleme schnell gefunden und behoben
werden.

Debians Aufmerksamkeit für Details erlaubt uns, eine qualitativ hochwertige,
stabile und skalierbare Distribution zu erstellen. Installationen können auf
einfache Weise konfiguriert werden, um verschiedenste Anforderungen zu
erfüllen, von kleinen Firewalls über wissenschaftliche Desktop-Arbeitsplätze
bis hin zu High-End Netzwerk-Servern.

Debian ist speziell bei fortgeschrittenen Benutzern wegen seiner technischen
Vorzüge und seines starken Engagements für die Anforderungen und Erwartungen
der Linux-Community beliebt. Debian hat auch viele Funktionen in Linux
eingeführt, die mittlerweile Standard sind.

Zum Beispiel war Debian die erste Linux-Distribution, die ein
Paketverwaltungssystem zur einfachen Installation und Deinstallation von
Software beinhaltete. Es war auch die erste Linux-Distribution, die für ein
System-Upgrade (Betriebssystemhochrüstung) keine Neuinstallation erforderte.

Debian belegt weiterhin eine Führungsposition in der Linux-Entwicklung. Sein
Entwicklungsprozess ist ein Beispiel dafür, wie gut das
Open-Source-Entwicklungsmodell funktionieren kann - sogar bei sehr komplexen
Aufgaben wie dem Erstellen und Pflegen eines ganzen Betriebssystems.

Das Merkmal, das Debian am meisten von anderen Linux-Distributionen
unterscheidet, ist sein Paketverwaltungssystem. Die dazugehörigen Werkzeuge
geben dem Administrator eines Debian-Systems die volle Kontrolle über die
Pakete, die im System installiert sind, sowohl wenn z.B. ein einzelnes Paket
installiert werden soll als auch für eine automatische Aktualisierung des
ganzen Betriebssystems. Einzelne Pakete können auch vor einem Update geschützt
werden. Sie können dem Paketmanagement sogar mitteilen, welche Software Sie
eventuell selbst kompiliert haben und welche Abhängigkeiten diese enthält.

Zum Schutz des Systems vor "Trojanischen Pferden" (Schadprogramme, die sich auf
Ihrem Rechner einnisten und dort unbemerkt Daten ausspionieren oder Hintertüren
für weitere Aktivitäten öffnen; auch "Trojaner" genannt) und anderer bösartiger
Software verifizieren die Server von Debian, dass die hochgeladenen Pakete von
ihren registrierten Debian-Paketbetreuern kommen. Diese legen großen Wert
darauf, ihre Pakete möglichst sicher zu konfigurieren. Wenn Sicherheitsprobleme
in ausgelieferten Paketen auftauchen, sind Korrekturen normalerweise sehr
schnell verfügbar. Aufgrund von Debians einfachen Update-Möglichkeiten können
Sicherheitskorrekturen automatisch aus dem Internet heruntergeladen und
installiert werden.

Die primäre und beste Methode, Unterstützung für Ihr Debian GNU/Linux-System zu
erhalten und mit Debian-Entwicklern zu kommunizieren, sind die vom
Debian-Projekt verwalteten Mailinglisten (während dieses Dokument geschrieben
wurde, gab es mehr als 322 davon). Der einfachste Weg, sich bei einer oder
mehreren davon einzutragen, besteht im Besuch von Debians
Mailinglisten-Abonnement-Seite und dem Ausfüllen des dort bereitgestellten
Formulars.

1.4. Was ist der Debian-Installer?

Der Debian-Installer, oft auch einfach "d-i" genannt, ist das Software-System
zur Installation eines Basis-Debian-Systems. Er unterstützt eine große
Bandbreite an Hardware-Plattformen wie Embedded Devices, Laptops, Desktop-PCs
oder Server, und stellt eine riesige Menge freier Software für
unterschiedlichste Zwecke zur Verfügung.

Der Benutzer wird durch eine Anzahl von Fragen durch die Installation geleitet.
Es gibt auch einen Expertenmodus, der es erlaubt, jeglichen Aspekt der
Installation zu steuern sowie eine fortgeschrittene Funktionalität zur
Durchführung einer vollautomatischen Installation. Das installierte System ist
direkt wie es ist verwendbar, oder kann noch weiter angepasst werden. Die
Installation kann von einer Vielzahl von Medien aus durchgeführt werden: USB,
CD/DVD/Blu-Ray oder über das Netzwerk. Die Sprache während der Installation ist
vielfach übersetzt, der Installer unterstützt über 80 Sprachen.

Der heutige Installer ist aus dem boot-floppies-Projekt hervorgegangen und
wurde erstmals im Jahre 2000 von Joey Hess öffentlich erwähnt. Seitdem wird das
Installationssystem von Freiwilligen kontinuierlich weiter verbessert und mit
zusätzlichen Funktionen erweitert.

Weitere Informationen finden Sie auf der Webseite des Installers, im Debian
Wiki sowie auf der debian-boot Mailingliste.

1.5. Woher bekomme ich Debian?

Wie Sie Debian GNU/Linux aus dem Internet herunterladen oder wo Sie offizielle
Debian Installationsmedien kaufen können, lesen Sie auf der Webseite "Debian
besorgen". Anhand der vollständigen Liste von Debian-Spiegel-Servern können Sie
leicht den Server finden, der Ihrem Standort am nächsten ist.

Debian kann nach der Installation sehr einfach auf den aktuellsten Stand
gebracht werden. Der Installer hilft beim Einrichten des Paketsystems, so dass
Aktualisierungen bei Bedarf nach Abschluß der Installation durchgeführt werden
können.

1.6. Die neueste Version dieses Dokuments erhalten

Dieses Dokument wird ständig überarbeitet. Besuchen Sie die Webseite zu Debian
11 bezüglich der neuesten Informationen über die Version 11 des Debian GNU/
Linux-Systems. Aktualisierte Versionen dieses Installationshandbuchs sind auch
auf der offiziellen Seite für das Installationshandbuch verfügbar.

1.7. Aufbau dieses Dokuments

Dieses Dokument ist als Handbuch für neue Debian-Benutzer gedacht. Es versucht,
so wenig Annahmen wie möglich über die Menge Ihrer Erfahrungen zu machen. Es
wird jedoch angenommen, dass Sie eine allgemeine Ahnung davon haben, wie die
Hardware in Ihrem Computer funktioniert.

Erfahrene Benutzer können auch interessante Referenzinformationen in diesem
Dokument finden, darunter die minimalen Installationsanforderungen, Details
über die vom Debian-Installationssystem unterstützte Hardware usw. Wir
ermuntern erfahrene Benutzer, in diesem Dokument Passagen nach Belieben zu
überspringen.

Im Allgemeinen ist dieses Handbuch linear aufgebaut und führt Sie von Anfang
bis Ende durch den Installationsprozess. Hier die Schritte zur Installation von
Debian GNU/Linux und die Abschnitte dieses Dokuments, die den jeweiligen
Schritten entsprechen:

 1. Feststellen, ob Ihre Hardware den Anforderungen zur Verwendung des
    Installationssystems entspricht, in Kapitel 2, Systemanforderungen
    beschrieben.

 2. Sichern Sie Ihr System, führen Sie alle notwendigen Planungen und
    Hardware-Konfigurationen durch, bevor Sie Debian installieren, wie in
    Kapitel 3, Bevor Sie Debian GNU/Linux installieren näher erläutert. Wenn
    Sie ein Multi-Boot-System vorbereiten, müssen Sie möglicherweise freien
    Speicherplatz auf Ihrer Festplatte für Debian bereitstellen, der dann neu
    partitioniert werden kann.

 3. In Kapitel 4, Systeminstallations-Medien beschaffen wird beschrieben, wie
    Sie sich die für Ihre Installationsmethode notwendigen Dateien beschaffen.

 4. Im nächsten Kapitel 5, Das Installationssystem booten ist das Booten des
    Installationssystems beschrieben. Dort werden auch Problemlösungen
    behandelt, falls Sie mit diesem Schritt Probleme haben.

 5. Durchführen der eigentlichen Installation gemäß Kapitel 6, Den
    Debian-Installer verwenden. Das beinhaltet die Auswahl Ihrer Sprache, die
    Konfiguration von Treibermodulen für die Peripherie, die Konfiguration der
    Netzwerkverbindung (so dass noch benötigte Installationsdateien von einem
    Debian-Server heruntergeladen werden können, sofern Sie nicht von CD/
    DVD-Images installieren), die Partitionierung der Festplatten und die
    Installation eines Basissystems. (Einige Hintergrundinformationen über das
    Einrichten der Partitionen für Ihr Debian-System werden in Anhang C, 
    Partitionieren für eine Debian-Installation gegeben.) Danach die Auswahl
    und Installation von Programmgruppen.

 6. Starten Sie Ihr neu installiertes Betriebssystem, wie in Kapitel 7, Das
    neue Debian-System starten beschrieben.

Haben Sie das System installiert, können Sie Kapitel 8, Die nächsten Schritte
und welche Seiten Sie noch besuchen sollten lesen. Dieses Kapitel erklärt, wo
Sie nach mehr Informationen über Unix und Debian suchen und Ihren Kernel durch
eine neuere Version ersetzen können.

Informationen über dieses Dokument und wie Sie daran mitwirken können finden
Sie schließlich im Anhang E, Administratives.

1.8. Über Copyrights und Software-Lizenzen

Sicher haben Sie einige der Lizenzen gelesen, die kommerzieller Software
beiliegen - sie beinhalten normalerweise, dass Sie jeweils eine Kopie der
Software nur auf einem einzigen Computer verwenden dürfen. Die Lizenz dieses
Systems ist vollkommen anders. Wir möchten Sie ermuntern, eine Kopie von Debian
GNU/Linux auf jedem Computer in Ihrer Schule oder an Ihrem Arbeitsplatz zu
installieren. Leihen Sie Ihr Installationsmedium Ihren Freunden und helfen Sie
ihnen, das System auf ihren Computern zu installieren! Sie können sogar
Tausende von Kopien anfertigen und verkaufen - wenngleich unter Beachtung
einiger Einschränkungen. Ihre Freiheit, das System installieren und verwenden
zu dürfen, kommt daher, dass Debian auf freier Software basiert.

Software frei zu nennen heißt nicht, dass die Software nicht urheberrechtlich
geschützt ist, und es heißt auch nicht, dass die Installationsmedien, die diese
Software enthalten, gratis verbreitet werden müssen. Freie Software heißt
einmal, dass für die Verbreitung oder Verwendung dieser Programme der Lizenz
nach nichts bezahlt werden muss. Freie Software bedeutet ebenfalls, dass jeder
die Software erweitern, adaptieren und verändern sowie auch die Ergebnisse
seiner Arbeit verbreiten darf.

Anmerkung

Das Debian-Projekt stellt als pragmatisches Zugeständnis an seine Benutzer auch
einige Pakete zur Verfügung, die nicht unseren Kriterien für freie Software
entsprechen. Diese Pakete sind jedoch nicht Teil der offiziellen Distribution,
und sie sind nur in den contrib- oder non-free-Bereichen der
Debian-Spiegel-Server oder auf Third-Party CD/DVD-ROMs (CDs/DVDs aus "dritter
Hand", keine offiziellen Debian-CDs/DVDs) verfügbar; der Abschnitt "Die Debian
FTP-Archive" der Debian GNU/Linux-FAQ enthält zusätzliche Informationen über
den Aufbau und den Inhalt dieser Archive.

Viele der Programme im System stehen unter der GNU General Public License,
oftmals auch einfach "die GPL" genannt. Die GPL erfordert, den Quellcode der
Programme verfügbar zu machen, wann immer eine binäre Kopie des Programms
verbreitet wird; diese Bestimmung der Lizenz stellt sicher, dass jeder Benutzer
die Möglichkeit hat, die Software zu modifizieren. Auf Grund dieser Bestimmung
ist der Quellcode^[1] für all solche Programme im Debian-System verfügbar.

Es gibt einige andere Formen von Copyright-Bestimmungen und Software-Lizenzen,
die für Programme in Debian verwendet werden. Sie können die Copyrights und
Lizenzen für jedes auf Ihrem System installierte Paket in der Datei /usr/share/
doc/paketname/copyright finden, wenn das Paket installiert ist.

Für weitere Informationen über Lizenzen und die Entscheidungsfindung von
Debian, ob Software frei genug ist, um in die Hauptdistribution aufgenommen zu
werden, lesen Sie die Debian-Richtlinien für Freie Software (DFSG).

Der wichtigste rechtliche Hinweis ist, dass es für diese Software keine
Garantie gibt. Die Programmierer, die diese Programme entwickelt haben, haben
das zum Nutzen der Gemeinschaft (der "Community") getan. Es wird keine Garantie
gegeben, was die Eignung der Software für irgendeinen Zweck betrifft. Da die
Software jedoch frei ist, wird Ihnen gestattet, sie Ihren Bedürfnissen
anzupassen - und die Vorteile der Änderungen auszunutzen, welche andere
durchgeführt haben, die die Software auf dieselbe Art verändert haben.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[1] Für Informationen zum Finden, Entpacken und Bauen von Binärdateien aus
Debian-Quellpaketen lesen Sie den Abschnitt "Grundlagen des
Debian-Paketverwaltungssystems" der Debian GNU/Linux-FAQ.

Kapitel 2. Systemanforderungen

Inhaltsverzeichnis

2.1. Unterstützte Hardware

    2.1.1. Unterstützte Architekturen
    2.1.2. CPU-Unterstützung
    2.1.3. Laptops
    2.1.4. Mehrprozessor-Systeme
    2.1.5. Unterstützung für Grafik-Hardware
    2.1.6. Hardware für Netzwerkverbindungen
    2.1.7. Braillezeilen
    2.1.8. Hardware-Sprachausgabe
    2.1.9. Peripherie und andere Hardware

2.2. Hardware, die Firmware erfordert
2.3. Hardware speziell für GNU/Linux kaufen

    2.3.1. Vermeiden Sie proprietäre oder "Closed" Hardware

2.4. Installationsmedien

    2.4.1. CD-ROM/DVD-ROM/BD-ROM
    2.4.2. USB-Memory-Stick
    2.4.3. Netzwerk
    2.4.4. Festplatten
    2.4.5. Un*x- oder GNU-System
    2.4.6. Unterstützte Speichersysteme

2.5. Anforderungen an Arbeitsspeicher und Festplattenplatz

Dieser Abschnitt informiert über die benötigte Hardware, um Debian zum Laufen
zu bringen. Sie finden ebenso Verweise zu weiteren Informationen über Hardware,
die von GNU und Linux unterstützt wird.

2.1. Unterstützte Hardware

Debian stellt keine zusätzlichen Anforderungen an die Hardware außer denen des
Linux- bzw. kFreeBSD-Kernels und der GNU-Werkzeuge. Daher läuft Debian auf
jeder Architektur oder Plattform, auf die der Linux- bzw. kFreeBSD-Kernel,
libc, gcc usw. portiert wurden und für die eine Debian-Portierung existiert.
Bitte besuchen Sie die Portierungs-Webseite https://www.debian.org/ports/amd64/
für weitere Informationen über Systeme der 64-Bit PC-Architektur, die mit
Debian GNU/Linux getestet wurden.

Dieser Abschnitt versucht nicht, all die verschiedenen Hardware-Konfigurationen
zu erläutern, die auf der 64-Bit PC-Architektur unterstützt werden, sondern
bietet vielmehr allgemeine Informationen und Verweise, wo zusätzliche
Informationen zu finden sind.

2.1.1. Unterstützte Architekturen

Debian GNU/Linux 11 unterstützt 9 Haupt-Architekturen und einige Variationen
dieser Architekturen, auch als "Flavours" bekannt:

┌──────────────────────────┬──────────────────┬──────────────────────┬──────────┐
│       Architektur        │Debian-Bezeichnung│   Unterarchitektur   │ Flavour  │
├──────────────────────────┼──────────────────┼──────────────────────┼──────────┤
│AMD64 & Intel 64          │amd64             │                      │          │
├──────────────────────────┼──────────────────┼──────────────────────┼──────────┤
│                          │                  │Standard-x86-Maschinen│default   │
│Intel x86-basiert         │i386              ├──────────────────────┼──────────┤
│                          │                  │Nur für Xen PV-Domains│xen       │
├──────────────────────────┼──────────────────┼──────────────────────┼──────────┤
│ARM                       │armel             │Marvell Kirkwood und  │marvell   │
│                          │                  │Orion                 │          │
├──────────────────────────┼──────────────────┼──────────────────────┼──────────┤
│ARM mit                   │armhf             │Multiplattform        │armmp     │
│Hardware-Fließkommaeinheit│                  │                      │          │
├──────────────────────────┼──────────────────┼──────────────────────┼──────────┤
│64-Bit ARM                │arm64             │                      │          │
├──────────────────────────┼──────────────────┼──────────────────────┼──────────┤
│                          │                  │MIPS Malta            │5kc-malta │
│64-Bit MIPS               │                  ├──────────────────────┼──────────┤
│(Little-Endian)           │mips64el          │Cavium Octeon         │octeon    │
│                          │                  ├──────────────────────┼──────────┤
│                          │                  │Loongson 3            │loongson-3│
├──────────────────────────┼──────────────────┼──────────────────────┼──────────┤
│                          │                  │MIPS Malta            │4kc-malta │
│32-Bit MIPS               │                  ├──────────────────────┼──────────┤
│(Little-Endian)           │mipsel            │Cavium Octeon         │octeon    │
│                          │                  ├──────────────────────┼──────────┤
│                          │                  │Loongson 3            │loongson-3│
├──────────────────────────┼──────────────────┼──────────────────────┼──────────┤
│Power Systems             │ppc64el           │IBM POWER8 oder neuer │          │
├──────────────────────────┼──────────────────┼──────────────────────┼──────────┤
│64-Bit IBM S/390          │s390x             │IPL von VM-Reader und │generic   │
│                          │                  │DASD                  │          │
└──────────────────────────┴──────────────────┴──────────────────────┴──────────┘

Dieses Dokument umfasst die Installation für die 64-Bit PC-Architektur bei
Verwendung des Linux-Kernels. Wenn Sie Informationen über eine der anderen von
Debian unterstützten Architekturen suchen, besuchen Sie Debians
Portierungs-Webseiten.

2.1.2. CPU-Unterstützung

Sowohl AMD64- als auch Intel 64-Prozessoren werden unterstützt.

2.1.3. Laptops

Von der technischen Seite her betrachtet sind Laptops normale PCs, daher gelten
alle Informationen zu PC-Systemen auch für Laptops. Installationen auf Laptops
laufen heutzutage normalerweise ohne Probleme, inklusive Dingen wie dem
automatischen Suspend (Ruhezustand / Einfrieren des Systemzustands) beim
Schließen des Deckels oder Laptop-spezifischen Knöpfen wie denen zum
Deaktivieren des WLAN-Moduls ("Flugzeugmodus"). Trotzdem verwenden die
Hardware-Hersteller manchmal für einige Laptop-spezifische Funktionen spezielle
oder proprietäre Hardware, die unter Umständen nicht unterstützt wird. Um zu
erfahren, ob ein bestimmter Laptop gut mit GNU/Linux funktioniert, können Sie
zum Beispiel die Linux-on-Laptops-Webseite besuchen.

2.1.4. Mehrprozessor-Systeme

Mehrprozessor-Unterstützung - auch "symmetrisches Multiprocessing (SMP)"
genannt - ist für diese Architektur verfügbar. Das Standard-Kernel-Image in
Debian 11 wurde mit SMP-alternatives-Unterstützung kompiliert. Das bedeutet,
dass der Kernel die Zahl der Prozessoren (oder Prozessor-Kerne) erkennt und bei
Ein-Prozessor-Systemen automatisch die SMP-Unterstützung deaktiviert.

Mehrere Prozessoren in einem Computer zu haben war ursprünglich nur auf
High-End-Servern ein Thema, ist aber in den letzten Jahren mit der Einführung
sogenannter "Multi-Core"-Prozessoren fast überall gängig geworden. Diese
enthalten zwei oder mehr Prozessoreinheiten, sogenannte "Cores" (Kerne), in
einem physikalischen Chip.

2.1.5. Unterstützung für Grafik-Hardware

Die Unterstützung für Grafikkarten in Debian wird bestimmt von der
zugrundeliegenden Unterstützung im X.Org-X11-System und dem Kernel.
Basis-Grafikfunktionalitäten über Framebuffer wird durch den Kernel
bereitgestellt, während Desktop-Umgebungen X11 verwenden. Ob erweiterte
Funktionen der Grafikkarte, wie 3D-Hardware-Beschleunigung oder
hardware-beschleunigte Anzeige, verfügbar sind, hängt von der letztendig im
System verwendeten Grafik-Hardware ab und manchmal ist die Installation von
zusätzlichen "Firmware"-Dateien erforderlich (siehe Abschnitt 2.2, "Hardware,
die Firmware erfordert").

Auf modernen PCs funktioniert die grafische Anzeige normalerweise ohne weiteres
Zutun. Bei einem Großteil der Grafik-Hardware lässt sich auch die
3D-Beschleunigung problemlos nutzen, aber es gibt auch noch Hardware, für die
hierfür Binär-Firmware-Dateien erforderlich sind. Wir haben sogar Berichte
erhalten, dass auf mancher Grafik-Hardware schon für grundlegende
Basisfunktionen die Installation von Firmware erforderlich ist.

Details über unterstützte Grafikkarten und Zeigegeräte finden Sie unter https:/
/wiki.freedesktop.org/xorg/. Debian GNU/Linux 11 enthält X.Org in Version 7.7.

2.1.6. Hardware für Netzwerkverbindungen

Nahezu alle Netzwerkkarten (NIC), die vom Linux-Kernel unterstützt werden,
sollten auch vom Installationssystem unterstützt werden; Treiber werden
normalerweise automatisch geladen. Dies beinhaltet die meisten PCI/
PCI-Express-Karten wie auch PCMCIA-/ExpressCard-Karten für Laptops.

ISDN wird von Debian unterstützt, jedoch nicht während der Installation.

2.1.6.1. Wireless-LAN-Netzwerkkarten

WLAN (Wireless-LAN, drahtloses Netzwerk/Funknetzwerk) wird grundsätzlich
ebenfalls unterstützt und für eine zunehmende Anzahl von WLAN-Karten ist die
Hardware-Unterstützung bereits im offiziellen Linux-Kernel enthalten,
allerdings erfordern viele WLAN-Adapter das Nachladen von Firmware-Code.

Falls Firmware benötigt wird, fordert der Installer Sie auf, diese zu laden.
Siehe Abschnitt 6.4, "Fehlende Firmware nachladen" bezüglich detaillierter
Informationen, wie Sie während der Installation Firmware laden können.

WLAN-Adapter, die nicht vom offiziellen Linux-Kernel unterstützt werden,
könnten zwar grundsätzlich unter Debian GNU/Linux zum Laufen gebracht werden,
aber während der Installation werden sie nicht unterstützt.

Wenn es Probleme mit der WLAN-Verbindung gibt und keine andere
Netzwerkschnittstelle zur Verfügung steht, ist es trotzdem noch möglich, Debian
GNU/Linux von einer Komplett-CD-ROM oder -DVD zu installieren. Wählen Sie die
Möglichkeit, das Netzwerk unkonfiguriert zu belassen und installieren Sie nur
die Pakete, die auf der CD oder DVD verfügbar sind. Nachdem die Installation
abgeschlossen ist (nach dem Neustart), können Sie den Treiber und die benötigte
Firmware installieren und das Netzwerk manuell neu konfigurieren.

In einigen Fällen könnte der Treiber, den Sie benötigen, nicht als Debian-Paket
verfügbar sein. Sie müssen dann prüfen, ob Quellcode für solch einen Treiber im
Internet bereitgestellt wird und Sie den Treiber selbst kompilieren können. Wie
Sie das erledigen, ist allerdings nicht Thema dieses Handbuchs. Falls überhaupt
kein Linux-Treiber für Ihr Gerät zur Verfügung steht, ist die Nutzung des
ndiswrapper-Pakets Ihre letzte Rettung. Dies erlaubt Ihnen, einen
Windows-Treiber zu verwenden.

2.1.7. Braillezeilen

Die Treiberunterstützung für Braillezeilen ist von der zugrundeliegenden
Unterstützung im Programm brltty abhängig. Die meisten Braillezeilen
funktionieren mit brltty, wenn Sie entweder über den seriellen Anschluß, über
USB oder über Bluetooth verbunden werden. Details über unterstützte Geräte
finden Sie auf der brltty-Webseite. Debian GNU/Linux 11 wird mit brltty Version
6.3 ausgeliefert.

2.1.8. Hardware-Sprachausgabe

Die Treiberunterstützung für Hardware-Sprachausgabe-Geräte ist von der
zugrundeliegenden Unterstützung im Programm speakup abhängig. speakup
unterstützt nur integrierte Boards oder externe Geräte, die über die serielle
Schnittstelle angeschlossen sind (USB-, Seriell-auf-USB- oder PCI-Adapter
werden nicht unterstützt). Details über unterstützte Geräte finden Sie auf der
speakup-Webseite. Debian GNU/Linux 11 wird mit speakup Version 3.1.6
ausgeliefert.

2.1.9. Peripherie und andere Hardware

Linux unterstützt eine breite Auswahl an Geräten wie Mäuse, Drucker, Scanner,
PCMCIA-/CardBus-/ExpressCard- und USB-Geräte. Allerdings werden die meisten
dieser Geräte während der Installation des Systems nicht benötigt.

USB-Hardware funktioniert im Allgemeinen ausgezeichnet. Auf einigen sehr alten
PC-Systemen können manche USB-Tastaturen möglicherweise eine zusätzliche
Konfiguration benötigen (siehe Abschnitt 3.6.6, "Hardware-Probleme, auf die Sie
achten sollten"). Auf modernen PCs funktionieren USB-Tastaturen und -Mäuse ohne
jegliche spezielle Konfiguration.

2.2. Hardware, die Firmware erfordert

Neben der Verfügbarkeit eines Gerätetreibers erfordern einige Geräte zusätzlich
sogenannte Firmware (oder Microcode), die in das Gerät geladen werden muss,
damit es funktioniert. Dies ist überwiegend bei Netzwerkkarten (speziell für
Drahtlos-Netzwerke/Wireless-LAN) üblich, aber es gibt zum Beispiel auch
USB-Geräte und sogar einige Festplatten-Controller, die Firmware erfordern.

Bei vielen Grafikkarten ist eingeschränkte Basisfunktionalität auch ohne
zusätzliche Firmware verfügbar, für die Nutzung von erweiterten Funktionen ist
aber oft eine passende Firmware-Datei erforderlich. In einigen Fällen kann es
auch - trotz erfolgreich verlaufener Installation - beim nächsten Neustart
trotzdem zu einem schwarzen Bildschirm oder einer verkrüppelten Anzeige kommen.
Falls dies bei Ihnen der Fall ist, gibt es ein paar Dinge, die Sie ausprobieren
können, um das Problem zu umgehen (Näheres in Abschnitt 6.4.3, "Das
installierte System vervollständigen").

Auf vielen älteren Geräten, die Firmware zum Betrieb erforderten, war die
Firmware durch den Hersteller fest in einem EEPROM-/Flash-Chip auf der Karte
selbst abgelegt. Heutzutage haben neue Geräte die Firmware nicht mehr auf diese
Weise integriert, so dass die Firmware-Datei von dem Betriebssystem des
Rechners bei jedem Systemstart in das Gerät geladen werden muss.

In den meisten Fällen ist Firmware im Sinne der Kriterien des Debian GNU/
Linux-Projekts nicht frei und kann deshalb nicht in der Hauptdistribution oder
im Installationssystem integriert werden. Falls der Gerätetreiber selbst in der
Distribution enthalten ist und falls Debian GNU/Linux die Firmware legal
weiterverteilen darf, ist sie aber oft als separates Paket im Non-Free-Bereich
des Archivs verfügbar.

Dies bedeutet aber nicht, dass solche Hardware nicht während der Installation
verwendet werden kann. Seit Debian GNU/Linux 5.0 unterstützt der
debian-installer die Möglichkeit, Firmware-Dateien oder -Pakete von einem
transportablen Medium (wie einem USB-Stick) nachzuladen. Abschnitt 6.4,
"Fehlende Firmware nachladen" enthält detaillierte Informationen, wie Sie die
Firmware während der Installation laden können.

Wenn der debian-installer eine Firmware-Datei anfordert und Sie diese Datei
nicht haben oder keine nicht-freie Firmware auf Ihrem System installieren
möchten, können Sie versuchen, ohne das Laden der Firmware fortzufahren. Es
gibt mehrere Fälle, wo der Treiber zusätzliche Firmware anfordert, da diese
unter bestimmten Umständen nötig sein könnte, das Gerät aber auf vielen
Systemen auch ohne diese Firmware funktioniert (dies ist z.B. bei bestimmten
Netzwerkkarten der Fall, die den tg3-Treiber verwenden).

2.3. Hardware speziell für GNU/Linux kaufen

Es gibt einige Anbieter, die Systeme mit Debian oder anderen GNU/
Linux-Distributionen vorinstalliert anbieten. Informationen hierzu finden Sie
unter Computerhersteller, die vorinstallierte Debian-Systeme anbieten. Sie
bezahlen möglicherweise mehr für dieses Privileg, aber Sie erkaufen sich auch
ein Stück Seelenfrieden, denn Sie können dadurch sicher gehen, dass Ihre
Hardware von GNU/Linux gut unterstützt wird.

Wenn Sie ein Gerät mit mitgeliefertem Windows kaufen müssen, lesen Sie die
Software-Lizenz aufmerksam durch, die Sie mit Windows erhalten; es ist durchaus
möglich, dass Sie die Lizenz ablehnen und dafür eine Rückvergütung vom Händler
erhalten können. Wenn Sie das Internet nach dem Stichwort "windows refund"
durchsuchen, finden Sie vielleicht hilfreiche Informationen hierzu.

Ob Sie nun ein System mit mitgeliefertem Linux kaufen oder ohne, oder gar
gebrauchte Hardware, es ist immer wichtig, zu kontrollieren, ob Ihre Hardware
vom Linux-Kernel unterstützt wird. Überprüfen Sie, ob Ihre Hardware in den oben
angegebenen Referenzen aufgelistet ist. Lassen Sie Ihren Verkäufer wissen, dass
Sie für ein Linux-System einkaufen. Unterstützen Sie Linux-freundliche
Hardware-Verkäufer!

2.3.1. Vermeiden Sie proprietäre oder "Closed" Hardware

Einige Hardware-Hersteller werden uns einfach nicht mitteilen, wie Treiber für
ihre Hardware zu schreiben sind. Andere gewähren keinen Zugriff auf die
Dokumentation ohne einen Geheimhaltungsvertrag, was uns davon abhalten würde,
den Quellcode des Treibers zu veröffentlichen. Treiber sind eines der zentralen
Elemente freier Software. Wenn uns kein Zugang zu verwertbarer Dokumentation
für diese Geräte gewährt wird, werden diese unter Linux einfach nicht
funktionieren.

In vielen Fällen gibt es Standards (oder zumindest De-Facto-Standards), die
beschreiben, wie ein Betriebssystem und dessen Gerätetreiber mit einer
bestimmten Geräteklasse kommunizieren. Alle Geräte, die sich an solch einen
(De-Facto-)Standard halten, können mit einem einzigen generischen Gerätetreiber
verwendet werden und es sind keine weiteren, gerätespezifischen Treiber nötig.
Bei einigen Gerätenklassen (z.B. USB-"Human Interface Devices" wie Tastaturen,
Mäusen etc. und USB-Massenspeicher-Geräten wie USB-Sticks und
Speicherkartenlesern) funktioniert dies sehr gut und praktisch jedes in diesem
Marktsegment verkaufte Gerät ist standard-konform.

In anderen Bereichen, wie z.B. bei Druckern, ist dies unglücklicherweise nicht
der Fall. Während es viele Drucker gibt, die mit einer kleinen Menge von
(De-Facto-)Standard-Steuersprachen bedient werden können und daher ohne
Probleme in jedem Betriebssystem zum Laufen gebracht werden können, gibt es
auch ziemlich viele Modelle, die nur proprietäre Steuerbefehle verstehen, für
die keine verwertbare Dokumentation existiert. Diese können so auf einem freien
Betriebssystem entweder gar nicht genutzt werden, oder nur mit einem vom
Hersteller beigestellten Treiber, für den der Quellcode nicht zugänglich ist.

Auch wenn zum Zeitpunkt des Kaufs ein Treiber mit nicht zugänglichem Quellcode
vom Hersteller für solche Hardware angeboten wird, ist die praktische
Lebensdauer abhängig von der Verfügbarkeit des Treibers. Heutzutage sind die
Produktzyklen kurz geworden und es ist nicht unüblich, dass kurze Zeit, nachdem
der Hersteller die Produktion eines Gerätes einstellt, auch keine
Aktualisierungen für den Treiber vom Hersteller mehr bereitgestellt werden.
Wenn der Treiber, für den der Quellcode nicht zugänglich ist, nach einem
System-Update nicht mehr funktioniert, wird das ansonsten perfekt
funktionierende Gerät nutzlos, da die Treiberunterstützung fehlt, und es gibt
nichts, was in diesem Fall dagegen getan werden könnte. Sie sollten daher von
vornherein vermeiden, Hardware zu kaufen, die nicht quelloffen ist, unabhängig
davon, auf welchem Betriebssystem Sie sie verwenden möchten.

Sie können helfen, diese Situation zu verbessern, indem Sie die Hersteller
ermuntern, die Dokumentation und andere für die Programmierung von Treibern für
ihre Hardware notwendigen Ressourcen zu veröffentlichen.

2.4. Installationsmedien

Dieses Kapitel wird Ihnen helfen festzustellen, welche unterschiedlichen
Medientypen Sie nutzen können, um Debian zu installieren. Den
Installationsmedien ist ein eigenes Kapitel gewidmet (Kapitel 4, 
Systeminstallations-Medien beschaffen), das die Vor- und Nachteile jedes
Medientyps auflistet. Sie können noch einmal hierher zurückblättern, wenn Sie
das Kapitel gelesen haben.

2.4.1. CD-ROM/DVD-ROM/BD-ROM

Eine Installation von optischen Datenträgern wird für die meisten Architekturen
unterstützt.

Auf PCs werden SATA-, IDE/ATAPI-, USB- und SCSI-Laufwerke unterstützt sowie
FireWire-Geräte, die von den ohci1394- und sbp2-Treibern unterstützt werden.

2.4.2. USB-Memory-Stick

USB-Flashdisks oder USB-Memorysticks sind zu einem weit verbreiteten und
billigen Speichergerät geworden. Die meisten modernen Computersysteme erlauben
auch, den debian-installer von solch einem Stick zu starten. Viele moderne
Computersysteme, speziell Netbooks und sehr kompakte Laptops, haben überhaupt
kein optisches Laufwerk mehr und das Starten von USB-Medien ist deshalb ein
gängiger Weg, ein neues Betriebssystem darauf zu installieren.

2.4.3. Netzwerk

Das Netzwerk kann während der Installation verwendet werden, um für die
Installation benötigte Dateien zu beziehen. Ob das Netzwerk genutzt wird oder
nicht, hängt von der gewählten Installationsmethode ab sowie Ihren Antworten
auf gewisse Fragen, die während der Installation gestellt werden. Das
Installationssystem unterstützt die meisten Arten von Netzwerkverbindungen
(inklusive PPPoE, allerdings nicht ISDN oder PPP), entweder über HTTP oder FTP.
Nachdem die Installation abgeschlossen ist, kann das System auch für ISDN oder
PPP konfiguriert werden.

Sie können das Installationssystem auch über das Netzwerk booten, ohne dass Sie
ein lokales Medium wie CD/DVD oder USB-Stick benötigen. Wenn Sie bereits die
nötige Infrastruktur zum Booten über Netzwerk haben (d.h. in Ihrem Netzwerk
laufen bereits DHCP- und TFTP-Dienste), gestattet Ihnen dies eine einfache und
schnelle Ausstattung einer großen Anzahl von Rechnern. Die Einrichtung der
nötigen Infrastruktur erfordert ein gewisses Maß an technischem Verständnis,
daher wird dies unerfahrenen Nutzern nicht empfohlen.

Die Installation ohne lokale Laufwerke per Netzwerk-Boot von einem LAN-Netzwerk
(Local Area Network) inkl. der Einbindung aller lokalen Dateisysteme per NFS
ist eine weitere Möglichkeit.

2.4.4. Festplatten

Das Starten des Installationssystem von einer Festplatte ist eine weitere
Option für viele Architekturen. Dies erfordert, dass ein anderes Betriebssystem
den Installer auf die Festplatte lädt. Diese Methode wird nur in speziellen
Fällen empfohlen, wenn keine andere Installationsmethode verfügbar ist.

2.4.5. Un*x- oder GNU-System

Wenn Sie ein anderes Unix-ähnliches System laufen haben, könnten Sie dieses zur
Installation von Debian GNU/Linux verwenden, ohne den debian-installer, der
sonst in diesem Handbuch beschrieben wird, zu verwenden. Diese
Installationsmethode ist sinnvoll für Benutzer mit ansonsten nicht
unterstützter Hardware oder auf Servern, die sich keine Abschaltung des Systems
leisten können. Wenn Sie sich für diese Technik interessieren, lesen Sie
Abschnitt D.3, "Debian GNU/Linux von einem anderen Unix/Linux-System aus
installieren". Diese Installationsmethode wird nur erfahrenen Benutzern
empfohlen, wenn keine andere Installationsmethode verfügbar ist.

2.4.6. Unterstützte Speichersysteme

Die Debian-Boot-Medien beinhalten einen Kernel, der kompiliert ist, um die
Anzahl der Systeme, auf denen er läuft, zu maximieren.

Grundsätzlich beinhaltet das Debian-Installationssystem Unterstützung für
IDE-Laufwerke (auch bekannt als PATA), SATA- und SCSI-Controller und
-Laufwerke, USB und FireWire. Zu den unterstützten Dateisystemen gehören u.a.
FAT, Win-32 FAT-Erweiterungen (VFAT) und NTFS.

2.5. Anforderungen an Arbeitsspeicher und Festplattenplatz

Sie benötigen mindestens 780MB Arbeitsspeicher und 920MB freien
Festplattenspeicher, um eine normale Installation durchzuführen. Beachten Sie,
dass dies die absoluten Mindestanforderungen sind. Praxisnähere Werte finden
Sie im Abschnitt 3.4, "Minimale Hardware-Anforderungen".

Der Installer führt normalerweise automatisch einige Funktionen aus, um den
Verbrauch von Arbeitsspeicher zu reduzieren, um auf Systemen mit wenig
Arbeitsspeicher eine Installation zu ermöglichen. Auf Architekturen, die
diesbezüglich nicht vollumfänglich getestet wurden, könnte dies jedoch
fehlschlagen. Sie können den Installer jedoch manuell anweisen, diese
Funktionen zu nutzen. Geben Sie dazu lowmem=1 oder sogar lowmem=2 als
Boot-Parameter an (näheres dazu in Abschnitt 6.3.1.1, "Verfügbaren
Arbeitsspeicher prüfen / Low-Memory-Modus" und Abschnitt 5.3.2,
"Debian-Installer-Parameter").

Installationen auf Systemen mit weniger Arbeitsspeicher^[2] oder verfügbarem
Festplattenplatz sind unter Umständen auch möglich, werden jedoch nur
erfahrenen Benutzern empfohlen.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[2] Installations-Images, die zusätzlich den grafischen Installer
unterstützen, benötigen mehr Arbeitsspeicher als Images, die nur den
textbasierten Installer unterstützen, und sollten nicht auf Systemen angewendet
werden, die weniger als 780MB Arbeitsspeicher installiert haben. Wenn es die
Auswahl zwischen dem textbasierten und dem grafischen Installer gibt, sollten
Sie auf solchen Systemen den ersten wählen.

Kapitel 3. Bevor Sie Debian GNU/Linux installieren

Inhaltsverzeichnis

3.1. Übersicht über den Installationsverlauf
3.2. Sichern Sie Ihre Daten!
3.3. Benötigte Informationen

    3.3.1. Dokumentation
    3.3.2. Quellen für Hardware-Informationen finden
    3.3.3. Hardware-Kompatibilität
    3.3.4. Netzwerkeinstellungen

3.4. Minimale Hardware-Anforderungen
3.5. Im Voraus partitionieren für eine Multiboot-Installation
3.6. Hardware- und Betriebssystem-Setup vor der Installation

    3.6.1. Das BIOS/UEFI-Setup-Menü aufrufen
    3.6.2. Auswahl des Boot-Laufwerks
    3.6.3. Systeme mit UEFI-Firmware
    3.6.4. Secure Boot
    3.6.5. Deaktivieren der "Fast boot"/"Fast startup"-Funktionalität in
        Windows
    3.6.6. Hardware-Probleme, auf die Sie achten sollten

Dieses Kapitel behandelt die Vorbereitung des Systems für die Installation von
Debian (bevor Sie den Installer starten). Dies beinhaltet das Sichern Ihrer
vorhandenen Daten, das Sammeln von Informationen über Ihre Hardware sowie aller
anderen benötigten Infos.

3.1. Übersicht über den Installationsverlauf

Zu allererst ein kurzes Wort über Neuinstallationen. Unter Debian sind
Umstände, die eine komplette Neuinstallation notwendig machen, äußerst selten;
ein mechanisches Versagen der Festplatte wäre vielleicht der häufigste Grund.

Viele gängige Betriebssysteme benötigen eventuell eine komplette
Neuinstallation, wenn kritische Fehler vorkommen oder für Upgrades auf neuere
Versionen des Betriebssystems. Selbst wenn keine komplette Neuinstallation
notwendig ist, müssen oftmals die verwendeten Programme neu installiert werden,
um unter der neuen Version des Betriebssystems korrekt zu funktionieren.

Unter Debian GNU/Linux ist es wahrscheinlicher, dass Sie, wenn etwas schief
läuft, Ihr Betriebssystem reparieren können, als es komplett neu installieren
zu müssen. Für ein Betriebssystem-Upgrade auf eine neuere Debian-Version ist
niemals eine komplette Neuinstallation nötig, Sie können Debian einfach
aktualisieren. Die Programme sind fast immer mit den nachfolgenden
Betriebssystemversionen kompatibel. Benötigt die neue Version eines Programms
neuere zugrundeliegende Software, so stellt das Debian-Paketsystem sicher, dass
die benötigte Software automatisch identifiziert und mit installiert wird. Es
wurde sehr viel Aufwand betrieben, die Notwendigkeit einer Neuinstallation zu
vermeiden; Sie sollten es deshalb als allerletzte Möglichkeit ansehen. Der
Installer ist nicht für die Neuinstallation über eine bestehende Version
ausgelegt.

Hier ist eine Übersicht der Schritte, die Sie während der Installation
durchführen werden:

 1. Sichern von bestehenden Daten oder Dokumenten auf der Festplatte, auf die
    Sie installieren wollen.

 2. Sammeln von Informationen über Ihren Computer und alle benötigte
    Dokumentation vor der Installation.

 3. Die Installations-Software und spezielle Treiber- oder Firmware-Dateien,
    die unter Umständen von Ihrer Hardware benötigt werden, herunterladen.

 4. Boot-Medien wie CDs/DVDs/USB-Sticks erstellen oder eine Boot-Infrastruktur
    über das Netzwerk bereitstellen, von der der Installer gestartet werden
    kann.

 5. Starten des Installationssystems.

 6. Auswählen der Sprache, in der die Installation durchgeführt wird.

 7. Aktivieren der Netzwerkverbindung, falls verfügbar.

 8. Falls erforderlich: Partitionen auf der Ziel-Festplatte verkleinern, um
    Platz für die Installation zu schaffen.

 9. Erstellen und Einbinden der Partitionen, auf denen Debian installiert wird.

10. Beobachten des automatischen Download-/Installations- und
    Einrichtungsvorgangs für das Basissystem.

11. Auswählen und Installieren von zusätzlicher Software.

12. Einen Bootloader installieren, der Debian GNU/Linux und/oder Ihr bereits
    vorhandenes Betriebssystem starten kann.

13. Erster Start des neu installierten Systems.

Auf 64-Bit PC-Systemen haben Sie die Möglichkeit, eine grafische Version des
Installationssystems zu benutzen. Mehr Informationen über den grafischen
Installer finden Sie im Abschnitt 5.1.8, "Der Grafische Installer".

Wenn Sie während der Installation Probleme haben, hilft es, wenn Sie wissen,
welche Pakete an welchen Schritten beteiligt sind. Hier die wichtigsten Akteure
in diesem Installations-Schauspiel:

Die Installer-Software (debian-installer) ist die wichtigste Angelegenheit
dieses Handbuchs. Sie erkennt die Hardware und lädt dafür benötigte Treiber,
benutzt den DHCP-Client, um die Netzwerkverbindung einzurichten, installiert
die Basissystempakete mittels debootstrap und startet tasksel, um Ihnen die
Möglichkeit zu geben, zusätzliche Software zu installieren. Etliche andere
Akteure spielen noch kleinere Rollen in diesem Prozess, aber der
debian-installer hat seine Aufgabe erfüllt, wenn Sie das neue System zum ersten
Mal starten.

Um das System an Ihre Bedürfnisse anzupassen, erlaubt Ihnen tasksel,
verschiedene vordefinierte Software-Zusammenstellungen (Tasks) zu installieren,
wie z.B. "Web-Server" oder "Arbeitsplatz-Umgebung".

Eine wichtige Option während der Installation ist die Frage, ob eine grafische
Benutzeroberfläche installiert werden soll oder nicht, bestehend aus dem
X-Window-System und einer der verfügbaren grafischen Desktop-Umgebungen. Wenn
Sie die Programmgruppe "Arbeitsplatz-Umgebung" nicht zur Installation
auswählen, erhalten Sie nur ein relativ einfaches, kommandozeilen-basiertes
System. Die Installation der Programmgruppe "Arbeitsplatz-Umgebung" ist
optional, da sie relativ zu einem rein textbasierten System einen
vergleichsweise großen Bedarf an Festplattenplatz hat und außerdem sind viele
Debian GNU/Linux-Systeme Server, die keinen echten Bedarf für eine grafische
Benutzeroberfläche haben, um ihre Arbeit zu tun.

Seien Sie sich dessen bewusst, dass das X-Window-System (die grafische
Oberfläche) vom debian-installer komplett getrennt und auch erheblich
komplizierter ist. Die Problembeseitigung der X-Window-Installation wird in
diesem Handbuch nicht behandelt.

3.2. Sichern Sie Ihre Daten!

Bevor Sie beginnen, vergewissern Sie sich, dass Sie von allen Dateien auf Ihrem
System Sicherheitskopien haben. Wenn es das erste Mal ist, dass Sie ein fremdes
Betriebssystem auf Ihrem Rechner installieren, ist es möglicherweise
erforderlich, Ihre Festplatte neu zu partitionieren, um Platz für Debian GNU/
Linux zu schaffen. Immer wenn Sie Ihre Festplatte neu partitionieren, haben Sie
das Risiko, alle Daten auf der Festplatte zu verlieren, unabhängig davon,
welches Programm Sie dafür verwenden. Die während der Installation von Debian
GNU/Linux verwendeten Programme sind sehr zuverlässig und die meisten werden
seit Jahren verwendet; aber sie sind auch sehr mächtig und ein falscher Schritt
kann Sie Ihre Daten kosten. Seien Sie vorsichtig, auch wenn Sie Ihre Daten
gesichert haben. Zwei Minuten Nachdenken kann Ihnen Stunden unnötiger Arbeit
ersparen.

Falls Sie ein Multiboot-System erstellen, vergewissern Sie sich, dass Sie die
Installationsmedien aller anderen installierten Betriebssysteme zur Hand haben.
Auch wenn dies normalerweise nicht nötig ist, könnten Situationen auftreten, in
denen Sie den Bootloader Ihres Betriebssystems oder im schlimmsten Fall sogar
das ganze Betriebssystem neu installieren und anschließend die von Ihnen
gesicherten Daten wieder einspielen müssen.

3.3. Benötigte Informationen

3.3.1. Dokumentation

3.3.1.1. Installationshandbuch

Das Dokument, das Sie gerade lesen, in reinem ASCII-, HTML- oder PDF-Format:

  • install.de.txt

  • install.de.html

  • install.de.pdf

3.3.1.2. Hardware-Dokumentation

Enthält oft nützliche Informationen zum Konfigurieren oder Verwenden Ihrer
Hardware.

  • Die Hardware-Seite im Debian Wiki

3.3.2. Quellen für Hardware-Informationen finden

In vielen Fällen ist der Installer in der Lage, Ihre Hardware automatisch zu
erkennen. Um jedoch vorbereitet zu sein, empfehlen wir, sich vor der
Installation mit der Hardware vertraut zu machen.

Hardware-Informationen können von folgenden Quellen bezogen werden:

  • Die Handbücher, die mit jedem Hardware-Teil mitgeliefert werden.

  • Das BIOS/UEFI-Setup Ihres Computers. Sie gelangen in das Setup, indem Sie
    eine Taste/Tastenkombination drücken, während der Computer startet. Sehen
    Sie in Ihrem Handbuch nach, um die passende Kombination herauszufinden.
    Oftmals ist es die Entf- oder die F2-Taste, aber einige Hersteller
    verwenden ihre eigenen Tasten oder Tastenkombinationen. Für gewöhnlich wird
    beim Start des Computers ein Hinweis angezeigt, welche Tasten gedrückt
    werden müssen, um in das BIOS zu gelangen.

  • Die Verpackung Ihrer Hardware.

  • Das System-Fenster in der Windows-Systemsteuerung.

  • Systembefehle oder Werkzeuge in einem anderen Betriebssystem, inklusive in
    Dateimanagern angezeigte Informationen. Diese Quelle ist im Speziellen
    nützlich, um Informationen über RAM- oder Festplattenspeicher zu erhalten.

  • Ihr Systemadministrator oder Internetprovider. Sie können Ihnen die zur
    Einrichtung notwendigen Einstellungen für Netzwerk und E-Mail verraten.

Tabelle 3.1. Zur Installation hilfreiche Hardware-Informationen

┌───────────────────────┬─────────────────────────────────────────────────────┐
│       Hardware        │      Informationen, die Sie benötigen könnten       │
├───────────────────────┼─────────────────────────────────────────────────────┤
│                       │Wie viele Sie haben.                                 │
│                       ├─────────────────────────────────────────────────────┤
│                       │Deren Reihenfolge im System.                         │
│                       ├─────────────────────────────────────────────────────┤
│                       │Ob IDE (auch bekannt als PATA), SATA oder SCSI.      │
│Festplatten            ├─────────────────────────────────────────────────────┤
│                       │Verfügbarer freier Plattenplatz.                     │
│                       ├─────────────────────────────────────────────────────┤
│                       │Partitionen.                                         │
│                       ├─────────────────────────────────────────────────────┤
│                       │Partitionen, auf denen andere Betriebssysteme        │
│                       │installiert sind.                                    │
├───────────────────────┼─────────────────────────────────────────────────────┤
│Netzwerk-Schnittstellen│Typ/Modell von verfügbaren Netzwerkkarten.           │
├───────────────────────┼─────────────────────────────────────────────────────┤
│Drucker                │Modell und Hersteller.                               │
├───────────────────────┼─────────────────────────────────────────────────────┤
│Grafikkarte            │Typ/Modell und Hersteller.                           │
└───────────────────────┴─────────────────────────────────────────────────────┘


3.3.3. Hardware-Kompatibilität

Viele Produkte funktionieren problemlos unter Linux. Zudem verbessert sich die
Hardware-Unterstützung für Linux täglich. Linux unterstützt jedoch nicht so
viele verschiedene Typen von Hardware wie manches andere Betriebssystem.

In den meisten Fällen sind Treiber unter Linux nicht für ein bestimmtes Produkt
oder eine bestimmte Marke eines bestimmten Herstellers geschrieben, sondern für
einen bestimmten Hardware-Stand/Chipsatz, unabhängig von der Marke, in der er
genutzt wird. Augenscheinlich basieren viele unterschiedliche Produkte/Marken
auf dem gleichen Hardware-Design; es ist nicht unüblich, dass Chip-Hersteller
sogenannte "Referenz-Designs" anbieten für Produkte, die auf ihren Chipsätzen
aufbauen, die dann von mehreren verschiedenen Geräteherstellern genutzt und
unter vielen verschiedenen Produkt- oder Markennamen verkauft werden.

Dies hat Vor- und Nachteile. Ein Vorteil ist, dass ein Treiber für einen
Chipsatz mit vielen verschiedenen Produkten von unterschiedlichen Herstellern
funktioniert, solange diese auf dem gleichen Chipsatz basieren. Der Nachteil
ist, dass es nicht immer einfach ist herauszufinden, welcher Chipsatz
letztendig in einem bestimmten Produkt verwendet ist. Unglücklicherweise ändern
die Gerätehersteller manchmal die Hardware-Basis ihrer Produkte, ohne den
Produktnamen zu ändern oder zumindest die Versionsnummer des Produktes, so dass
zwei Teile mit dem gleichen Marken-/Produktnamen, die zu unterschiedlichen
Zeiten gekauft wurden, auf unterschiedlichen Chipsätzen basieren können und
daher unterschiedliche Treiber verwenden müssen, oder es gibt eventuell gar
keinen Treiber für eins der beiden Geräte.

Bei USB- und PCI-/PCI-Express-/ExpressCard-Geräten ist die Überprüfung der
Geräte-ID ein guter Weg, um herauszufinden, auf welchem Chipsatz sie basieren.
Alle USB-/PCI-/PCI-Express-/ExpressCard-Geräte haben eine ID für "vendor"
(Hersteller) und für "product" (Produktbezeichnung), und die Kombination dieser
beiden ist für gewöhnlich bei allen Produkten, die auf dem gleichen Chipsatz
aufbauen, identisch.

Auf Linux-Systemen können diese IDs mit dem lsusb-Befehl bei USB-Geräten und
mit dem Befehl lspci -nn bei USB-/PCI-/PCI-Express-/ExpressCard-Geräten
ausgelesen werden. Hersteller und Produkt sind gewöhnlich als zwei hexadezimale
Zahlen angegeben, getrennt durch einen Doppelpunkt, wie z.B. "1d6b:0001".

Ein Beispiel für die Ausgabe des Befehls lsusb: "Bus 001 Device 001: ID
1d6b:0002 Linux Foundation 2.0 root hub", wobei 1d6b die Hersteller-ID und 0002
die Produkt-ID ist.

Ein Beispiel für die Ausgabe von lspci -nn für eine Ethernet-Karte: "03:00.0
Ethernet controller [0200]: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI
Express Gigabit Ethernet controller [10ec:8168] (rev 06)". Die IDs werden
innerhalb der eckigen Klammern ganz rechts angezeigt, hier ist z.B. 10ec die
Hersteller-ID und 8168 die Produkt-ID.

Als weiteres Beispiel könnte eine Grafikkarte folgende Ausgabe erzeugen: "
04:00.0 VGA compatible controller [0300]: Advanced Micro Devices [AMD] nee ATI
RV710 [Radeon HD 4350] [1002:954f]".

Auf Windows-Systemen können Sie die IDs für ein Gerät im Windows-Gerätemanager
unter dem Reiter "Details" finden, wobei der Hersteller-ID ein VEN_
vorangestellt ist und der Produkt-ID ein DEV_. Auf Windows 7-Systemen müssen
Sie die Eigenschaften "Hardware IDs" unter dem Reiter "Details" im
Gerätemanager auswählen, um die IDs auszulesen, da diese nicht standardmäßig
angezeigt werden.

Eine Suche im Internet mit Hersteller- und Produkt-ID, "Linux" und "driver"
oder "Treiber" als Suchbegriff liefert oft Informationen über den Stand der
Treiberunterstützung für einen bestimmten Chipsatz. Falls eine Suche mit der
Hersteller- und Produkt-ID keine nützlichen Treffer bringt, könnte stattdessen
eine Suche nach dem Codenamen des Chips helfen, der auch oft von lsusb und
lspci angezeigt wird (z.B. "RTL8111" / "RTL8168B" bei dem obigen Beispiel für
die Netzwerkkarte und "RV710" für die Grafikkarte).

3.3.3.1. Testen der Hardware-Kompatibilität mittels eines Live-Systems

Debian GNU/Linux ist für bestimmte Architekturen auch als sogenanntes "
Live-System" verfügbar. Ein Live-System ist ein vorkonfiguriertes, zur Nutzung
vollständig vorbereitetes System in einem komprimierten Format, das von einem
nur lesbaren Medium wie einer CD oder DVD gestartet und genutzt werden kann.
Die Verwendung führt zu keinerlei dauerhaften Änderungen auf Ihrem Rechner. Sie
können die Benutzereinstellungen ändern und zusätzliche Programme aus dem
Live-System heraus installieren, aber dies findet alles nur im RAM
(Arbeitsspeicher) des Computers statt, d.h. wenn Sie den Computer ausschalten
und das Live-System nochmals neu starten, ist wieder alles auf die
Standardeinstellungen zurückgesetzt. Wenn Sie überprüfen möchten, ob Ihre
Hardware von Debian GNU/Linux unterstützt wird, ist der einfachste Weg, darauf
ein Live-System zu starten und es auszuprobieren.

Es gibt ein paar Einschränkungen bei der Verwendung eines Live-Systems. Die
erste ist, dass alle Änderungen, die Sie an dem Live-System durchführen, im
Arbeitsspeicher des Rechners gehalten werden müssen; dies funktioniert nur auf
Systemen mit genügend RAM, so dass die Installation zusätzlicher großer
Software-Pakete aufgrund von Speichermangel fehlschlagen könnte. Eine andere
Einschränkung in Bezug auf das Testen der Hardware-Kompatibilität ist, dass
offizielle Debian GNU/Linux-Live-Systeme nur freie Komponenten enthalten, sie
beinhalten zum Beispiel keine nicht-freien Firmware-Dateien. Solche
nicht-freien Pakete können natürlich manuell innerhalb des Live-Systems
installiert werden, aber es gibt keine automatische Erkennung benötigter
Firmware-Dateien wie im debian-installer; daher muss die Installation von
nicht-freien Komponenten händisch erfolgen, falls nötig.

Informationen über die verfügbaren Varianten der Debian Live-Images finden Sie
auf der Debian Live-Website.

3.3.4. Netzwerkeinstellungen

Wenn Ihr Computer fest an ein Netzwerk angeschlossen ist, das von jemand
anderem verwalten wird, (z.B. Ethernet oder eine gleichwertige Verbindung -
keine PPP-(Wähl-)Verbindung), sollten Sie beim Systemadministrator des
Netzwerks die folgenden Informationen erfragen:

  • Ihren Hostnamen (den Name Ihres Rechners im Netzwerk; möglicherweise können
    Sie selbst einen auswählen).

  • Ihren Domainnamen.

  • Die IP-Adresse Ihres Computers.

  • Die Netzmaske zur Verwendung in Ihrem Netzwerk.

  • Die IP-Adresse eines Standard-Gateway-Systems, zu dem Sie routen sollen, 
    falls Ihr Netzwerk einen Gateway hat.

  • Den Rechner in Ihrem Netzwerk, den Sie als DNS-(Domain Name Service-)Server
    verwenden sollen.

Wenn in dem Netzwerk, mit dem Sie verbunden sind, DHCP (Dynamic Host
Configuration Protocol) für die Konfiguration der Netzwerkeinstellungen
verwendet wird, benötigen Sie all diese Informationen nicht, da der DHCP-Server
diese während des Installationsprozesses direkt an Ihren Computer weitergibt.

Falls Sie über DSL oder ein Kabelmodem (z.B. über das Netz eines
Fernseh-Kabelanbieters) mit dem Internet verbunden sind und einen Router haben
(häufig von Ihrem Telefon- oder Kabelanbieter vorkonfiguriert angeboten), der
die Netzwerkverbindung bereitstellt, ist DHCP für gewöhnlich standardmäßig
aktiviert.

Eine Faustregel: wenn Sie in Ihrem Netzwerk zuhause einen Windows-Rechner
betrieben haben und keine Netzwerkeinstellungen händisch durchführen mussten,
um Zugang ins Internet zu bekommen, wird die Netzwerkverbindung in Debian GNU/
Linux ebenfalls automatisch eingerichtet werden.

Wenn Sie ein kabelloses Funk-Netzwerk (WLAN, WiFi) verwenden, sollten Sie auch
folgendes erfragen:

  • Die ESSID (den "Netzwerknamen") Ihres kabellosen Netzwerks.

  • Den WEP- oder WPA/WPA2-Schlüssel, um Zugriff auf das Netz zu bekommen
    (falls notwendig).

3.4. Minimale Hardware-Anforderungen

Sobald Sie Informationen über die Hardware Ihres Computers gefunden haben,
überprüfen Sie, ob diese Hardware die Art der Installation zulässt, die Sie
durchführen wollen.

Abhängig von Ihren Bedürfnissen können Sie auch mit weniger als der unten
aufgelisteten Hardware auskommen. Die meisten Benutzer riskieren jedoch, im
Nachhinein frustriert zu sein, wenn Sie diese Empfehlungen ignorieren.

Für Desktop-Systeme wird mindestens ein Pentium 4 mit 1 GHz empfohlen.

Tabelle 3.2. Empfohlene minimale Systemanforderungen

┌──────────────────┬──────────────────────┬────────────────────────┬──────────┐
│     Art der      │   Arbeitsspeicher    │    Arbeitsspeicher     │Festplatte│
│   Installation   │      (minimal)       │      (empfohlen)       │          │
├──────────────────┼──────────────────────┼────────────────────────┼──────────┤
│Ohne Desktop      │256 Megabyte          │512 Megabyte            │2 Gigabyte│
├──────────────────┼──────────────────────┼────────────────────────┼──────────┤
│Mit Desktop       │1 Gigabyte            │2 Gigabyte              │10        │
│                  │                      │                        │Gigabyte  │
└──────────────────┴──────────────────────┴────────────────────────┴──────────┘


Bei den Minimalwerten gehen wir davon aus, dass Swap-Speicher aktiviert wird
und dass Sie kein Live-CD-Image verwenden. Der Wert für "Ohne Desktop" setzt
voraus, dass nicht der grafische, sondern der textbasierte Installer verwendet
wird.

Die absoluten Minimalanforderungen an den Arbeitsspeicher sind um einiges
geringer als in der Tabelle angegeben. Bei aktiviertem Swap
(Auslagerungsspeicher) ist es möglich, Debian auf Systemen mit extrem wenig
Arbeitsspeicher zu installieren, es sind minimum 350MB erforderlich. Dasselbe
gilt für die Anforderungen an den freien Platz auf der Festplatte, speziell
wenn Sie die Anwendungen, die Sie installieren, einzeln auswählen; siehe
Abschnitt D.2, "Festplattenplatz, der für die Programmgruppen benötigt wird"
für zusätzliche Informationen über benötigten Festplattenplatz.

Es ist möglich, eine grafische Desktop-Umgebung auch auf älteren oder
Low-End-Systemen laufen zu lassen, aber in diesem Fall wird empfohlen, einen
Window-Manager zu installieren, der weniger ressourcen-hungrig ist als die
GNOME- oder KDE-Plasma-Desktop-Umgebung; Sie könnten zum Beispiel xfce4, icewm
oder wmaker verwenden, aber es gibt auch noch weitere.

Es ist praktisch unmöglich, für Server-Installationen generelle Speicher- oder
Festplattenplatzanforderungen anzugeben, da dies sehr davon abhängt, wozu der
Server verwendet wird.

Bedenken Sie, dass diese Angaben nicht die anderen Daten enthalten, die
normalerweise auf solchen Systemen vorhanden sind, wie die Dateien der
Benutzer, E-Mails und Daten. Es ist immer ratsam, bei der Erwägung des für Ihre
eigenen Dateien benötigten Platzes großzügig zu sein.

Der zum reibungslosen Betrieb des Debian GNU/Linux-Systems selbst nötige
Festplattenplatz ist bereits in die Empfehlungen mit eingerechnet. Erwähnt
werden muss hier das Verzeichnis/die Partition /var, das viele
Debian-spezifische Statusinformationen wie Protokolldateien enthält, zusätzlich
zu dem regulären Inhalt. Die dpkg-spezifischen Dateien (mit Informationen über
alle installierten Pakete) können z.B leicht 40MB beanspruchen. Auch legt apt/
apt-get heruntergeladene Pakete dort ab, bevor Sie installiert werden. Sie
sollten immer mindestens 200MB für /var bereithalten bzw. sogar erheblich mehr,
wenn Sie eine grafische Desktop-Umgebung installieren.

3.5. Im Voraus partitionieren für eine Multiboot-Installation

Das Partitionieren Ihrer Festplatte ist das Aufteilen Ihrer Platte in einzelne
Bereiche. Jeder Bereich ist von den anderen unabhängig. Es ist so ähnlich wie
das Errichten von Wänden in einem Haus: wenn Sie in einem Raum ein Möbelstück
aufstellen, beeinflusst das die anderen Räume nicht.

Wenn Sie bereits ein Betriebssystem auf Ihrem Rechner haben (z.B. Windows 9x,
Windows NT/2000/XP/2003/Vista/7, OS/2, MacOS, Solaris, FreeBSD, ...), das die
ganze Platte einnimmt und Debian auf die gleiche Festplatte installieren
möchten, müssen Sie sie neu partitionieren. Debian benötigt eigene
Festplatten-Partitionen. Es kann nicht auf Windows- oder MacOS X-Partitionen
installiert werden. Es kann sich möglicherweise Partitionen mit anderen
Unix-Systemen teilen, was hier jedoch nicht behandelt wird. Sie benötigen
mindestens eine eigene Partition für Debians root-Dateisystem.

Sie können Informationen über Ihre bisherigen Partitionen mittels eines
Partitionierungs-Tools Ihres aktuellen Betriebssystems bekommen, wie etwa den
in Windows integrierten Disk Manager oder fdisk unter DOS.
Partitionierungsprogramme bieten immer eine Möglichkeit, existierende
Partitionen anzuzeigen, ohne Änderungen vorzunehmen.

Vom Grundsatz her zerstört eine Änderung an einer Partition, die bereits ein
Dateisystem enthält, alle Daten, die darauf gespeichert sind. Daher sollten Sie
vor einer Neupartitionierung immer alle Ihre Daten sichern. Denken Sie an die
Analogie mit dem Haus, auch dort würden Sie Ihr Mobiliar aus dem Zimmer räumen,
bevor Sie eine Mauer verschieben, da Sie ansonsten riskieren, es zu zerstören.

Verschiedene moderne Betriebssysteme bieten die Möglichkeit, bestimmte
vorhandene Partitionen zu verschieben und in der Größe zu verändern, ohne deren
Inhalt zu beschädigen. Dies erlaubt es, Platz für zusätzliche Partitionen zu
schaffen, ohne vorhandene Daten zu verlieren. Obwohl dies in den meisten Fällen
sehr gut funktioniert, sind Änderungen an der Partitionierung einer Festplatte
von Natur aus eine gefährliche Aktion und sollten nur durchgeführt werden,
nachdem eine vollständige Sicherung aller Daten durchgeführt wurde. Für FAT/
FAT32- und NTFS-Partitionen, wie Sie von DOS- und Windows-Systemen verwendet
werden, bieten sowohl der debian-installer als auch der integrierte Disk
Manager von Windows 7 die Möglichkeit, Partitionen verlustfrei zu verschieben
und in der Größe zu verändern.

Um eine vorhandene FAT- oder NTFS-Partition innerhalb des debian-installers in
seiner Größe zu verändern, gehen Sie zum Schritt Festplatten partitionieren,
wählen Sie die Option für manuelle Partitionierung, wählen Sie die Partition,
die Sie verändern möchten und geben Sie einfach seine neue Größe ein.

Das Erstellen und Löschen von Partitionen kann sowohl innerhalb des
debian-installers als auch mit einem anderen vorhandenen Betriebssystem
erledigt werden. Als Faustregel kann gelten, dass Partitionen nur mit dem
System erstellt werden sollten, mit dem sie auch verwendet werden; Partitionen,
die Sie z.B. beabsichtigen mit Debian GNU/Linux zu nutzen, sollten innerhalb
des debian-installer erstellt werden und Partitionen, die Sie mit anderen
Betriebssystemen nutzen möchten, sollten Sie von dort erstellen.
debian-installer kann Nicht-Linux-Partitionen erzeugen, und Partitionen, die
auf diese Art erstellt werden, funktionieren normalerweise ohne Probleme mit
den anderen Betriebssystemen, aber es gibt einige seltene Sonderfälle, in denen
dies Probleme bereiten kann; wenn Sie also sicher sein wollen, nutzen Sie die
nativen Partitionerungswerkzeuge, um Partitionen für andere Betriebssysteme zu
erstellen.

Wenn Sie mehr als ein Betriebssystem auf dem gleichen Gerät installieren,
sollten Sie alle anderen Betriebssysteme installieren, bevor Sie mit der
Debian-Installation beginnen. Windows- und andere Betriebssystem-Installationen
könnten das Starten von Debian unmöglich machen, oder Ihnen empfehlen,
nicht-eigene Partitionen neu zu formatieren.

Sie können Beschädigungen durch solche Aktionen reparieren oder vermeiden, aber
das vorherige Installieren dieser Systeme erspart Probleme.

3.6. Hardware- und Betriebssystem-Setup vor der Installation

Dieses Kapitel wird Sie durch die Hardware-Einstellungen leiten, die Sie
eventuell vor der Installation von Debian durchführen müssen. Dies beinhaltet
das Überprüfen und eventuell Ändern von BIOS/UEFI/Firmware-Einstellungen für
Ihr System. Das "BIOS/UEFI" oder die "System-Firmware" ist die von der Hardware
genutzte interne Software; sie ist meistens höchst kritisch in den Boot-Prozess
involviert (direkt nach dem Einschalten).

3.6.1. Das BIOS/UEFI-Setup-Menü aufrufen

Das BIOS/UEFI bietet Basisfunktionen, die benötigt werden, um den Rechner zu
starten und dem Betriebssystem Zugriff auf die Hardware zu ermöglichen.
Möglicherweise hat Ihr System ein BIOS/UEFI-Setup-Menü, in dem das BIOS/UEFI
konfiguriert wird. Um das Setup-Menü aufzurufen, müssen Sie eine Taste oder
Tastenkombination drücken, direkt nachdem der Computer eingeschaltet wurde. Oft
ist es die Entf- oder die F2-Taste, aber einige Hersteller verwenden auch
andere Tasten. Üblicherweise wird direkt nach dem Start angezeigt, welche Taste
für den Aufruf des Setup-Menüs zu drücken ist.

3.6.2. Auswahl des Boot-Laufwerks

Im BIOS/UEFI-Setup-Menü können Sie einstellen, welche Laufwerke/Geräte in
welcher Reihenfolge nach einem startfähigen Betriebssystem durchsucht werden
sollen (Boot Device Selection). Zu möglichen Einstellungen gehören die internen
Festplatten, die CD-/DVD-ROM-Laufwerke und USB-Massenspeicher wie USB-Sticks
oder externe USB-Festplatten. Auf modernen Systemen gibt es oft auch die
Möglichkeit, via PXE über das Netzwerk zu booten.

Abhänigig von dem Installationsmedium (CD-/DVD-ROM, USB-Stick, Netzwerk-Boot),
das Sie nutzen möchten, sollten Sie die passenden Boot-Geräte aktivieren, falls
sie noch nicht aktiviert sind.

Die meisten BIOS/UEFI-Versionen erlauben, beim Systemstart ein Boot-Menü
aufzurufen, in dem Sie das zu verwendende Gerät für den nächsten Boot-Vorgang
auswählen können. Falls diese Möglichkeit verfügbar ist, zeigt das BIOS/UEFI
gewöhnlich beim Systemstart eine kurze Nachricht wie "Press F12 for boot menu"
an. Die für dieses Menü zu verwendende Taste variiert letztlich von System zu
System; üblich sind F12, F11 oder F8. Ein Gerät aus dieser Liste auszuwählen
ändert nicht die im BIOS/UEFI fest eingestellte Reihenfolge, d.h. Sie können
einmalig von einem USB-Stick booten, und trotzdem die Reihenfolge so
eingestellt lassen, dass die interne Festplatte das primäre Boot-Laufwerk beim
normalen Start ist.

Wenn Ihr BIOS/UEFI die Möglichkeit eines Boot-Menüs nicht bietet, um
vorübergehend ein anderes Gerät zum Booten zu verwenden, müssen Sie im BIOS/
UEFI die Einstellungen so ändern, dass das Gerät, von dem der debian-installer
starten soll, das primäre Boot-Gerät ist.

Unglücklicherweise enthalten einige Computer fehlerbehaftete BIOS/
UEFI-Versionen. Den debian-installer von einem USB-Stick zu starten könnte
fehlschlagen, selbst wenn im BIOS/UEFI-Setup-Menü eine entsprechende Option
vorhanden ist und der Stick als primäres Boot-Gerät eingestellt ist. Auf
einigen dieser Systeme ist die Verwendung eines USB-Sticks als Boot-Medium
nicht möglich; bei anderen ist es unter Umständen möglich, indem der Gerätetyp
im BIOS/UEFI-Setup von dem Standardwert "USB harddisk" oder "USB stick" in "USB
ZIP" oder "USB CDROM" geändert wird. Speziell wenn Sie ein
isohybrid-Installations-Image auf einem USB-Stick verwenden (siehe
Abschnitt 4.3.1, "Einen USB-Stick vorbereiten mit einem Hybrid-CD/DVD-Image"),
kann das Ändern des Gerätetyps in "USB CDROM" bei einigen BIOS/UEFI-Versionen
helfen, die von einem USB-Stick im "USB harddisk"-Modus nicht booten würden.
Sie müssen eventuell Ihre BIOS-Konfiguration noch anpassen, um "USB legacy
support" zu aktivieren.

Falls Sie das BIOS/UEFI nicht anpassen können, um direkt von einem USB-Stick zu
booten, besteht trotzdem die Möglichkeit, ein ISO-Image zu verwenden, das Sie
auf einen Stick kopiert haben. Starten Sie den debian-installer wie in
Abschnitt 4.4, "Dateien vorbereiten für das Booten von Festplatte" beschrieben;
wenn die Festplatten nach einem Installer-ISO-Image durchsucht wurden, wählen
Sie das USB-Speichergerät und dort dann das Installations-Image aus.

3.6.3. Systeme mit UEFI-Firmware

UEFI ("Unified Extensible Firmware Interface") ist eine neue Art von
System-Firmware, die auf vielen modernen Systemen genutzt wird und - unter
anderem - das klassische PC-BIOS ersetzen soll.

Derzeit haben die meisten PC-Systeme, die UEFI verwenden, ein sogenanntes "
Compatibility Support Module" (CSM, Kompatibilitätsmodul) in der Firmware, das
exakt die gleichen Schnittstellen an ein Betriebssystem zur Verfügung stellt
wie ein klassiches PC-BIOS, so dass Software, die für das klassische BIOS
geschrieben wurde, unverändert weiter genutzt werden kann. Nichtsdestotrotz
soll UEFI eines Tages das alte PC-BIOS ganz ersetzen, ohne dabei vollständig
rückwärtskompatibel zu sein; es gibt sogar bereits jetzt eine Reihe von
Systemen mit UEFI, die kein CSM haben.

Auf Systemen mit UEFI gibt es ein paar Dinge, die in Betracht gezogen werden
sollten, wenn ein Betriebssystem installiert werden soll. Der Weg, wie die
Firmware ein Betriebssystem lädt, ist fundamental unterschiedlich zwischen dem
klassischen BIOS (oder UEFI im CSM-Modus) und nativem UEFI. Ein wesentlicher
Unterschied ist die Art, wie Festplattenpartitionen auf der Platte gespeichert
werden. Während das klassische BIOS und UEFI im CSM-Modus eine
DOS-Partitionstabelle verwenden, nutzt UEFI ein anderes Partitionierungsschema
namens "GUID Partition Table" (GPT). Auf jeweils einer Festplatte kann aus
praktischen Gründen immer nur eine der beiden eingesetzt werden, daher müssen
bei einem Multi-Boot-Setup (System mit mehreren verschiedenen installierten
Betriebssystemen) alle Systeme den gleichen Partitionstabellentyp nutzen. Das
Booten von einer Festplatte mit GPT ist nur im nativen UEFI-Modus möglich, aber
GPT ist mehr und mehr im Kommen, da die Festplatten immer größer werden und die
klassische DOS-Partitionstabelle keine Platten größer als 2 Terabyte
adressieren kann; GPT jedoch erlaubt erheblich größere Festplatten. Der andere
große Unterschied zwischen BIOS (oder UEFI im CSM-Modus) und nativem UEFI ist
der Ort, wo der Boot-Code abgelegt ist und welches Format er haben muss. Das
bedeutet, dass für beide Systeme unterschiedliche Bootloader erforderlich sind.

Letzteres ist wichtig, wenn der debian-installer auf einem UEFI-System mit CSM
gebootet wird, weil der debian-installer überprüft, ob er auf einem BIOS- oder
einem nativen UEFI-System gestartet wurde und danach den entsprechenden
Bootloader installiert. Normalerweise funktioniert dies, aber in
Multi-Boot-Umgebungen kann es ein Problem geben. Bei einigen UEFI-Systemen mit
CSM kann der Standard-Boot-Modus für das Booten von Wechseldatenträgern ein
anderer sein als beim Booten von fest eingebauter Festplatte; wenn also der
Installer von einem USB-Stick in einem anderen Modus gebootet wird, als wenn
ein anderes, bereits installiertes Betriebssystem von Festplatte startet,
könnte der falsche Bootloader installiert werden und das System nach Abschluß
der Installation nicht mehr boot-fähig sein. Bei der Auswahl eines Boot-Gerätes
in einem Menü in der Firmware bieten einige Systeme zwei separate Auswahlen für
jedes Gerät an, so dass der Benutzer auswählen kann, ob im CSM- oder im nativen
UEFI-Modus gebootet werden soll.

3.6.4. Secure Boot

Ein anderes Problem mit Bezug zu UEFI ist der sogenannte "Secure Boot"
-Mechanismus. Secure Boot ist eine Funktion in UEFI-Implementationen, die es
der Firmware nur erlaubt, Code zu laden und auszuführen, wenn dieser
kryptografisch mit bestimmten Schlüsseln signiert ist; so wird jeglicher
(möglicherweise bösartiger) Boot-Code, der nicht oder mit unbekannten
Schlüsseln signiert ist, blockiert. In der Praxis ist der einzige Schlüssel,
der auf den meisten UEFI-Systemen mit Secure Boot standardmäßig akzeptiert
wird, ein Schlüssel von Microsoft, der genutzt wird, um den Windows-Bootloader
zu signieren. Debian enthält einen von Microsoft signierten "shim"-Bootloader,
daher sollte es auf Systemen mit aktiviertem Secure Boot korrekt funktionieren.

3.6.5. Deaktivieren der "Fast boot"/"Fast startup"-Funktionalität in Windows

Windows bietet eine Funktionalität (in Windows 8 "Fast boot" genannt, "Fast
startup" in Windows 10), um die für das Booten des Systems benötigte Zeit zu
verkürzen. Windows fährt dabei das System nicht wirklich vollständig herunter,
wenn Sie ein Herunterfahren anfordern, und aufgrunddessen findet beim nächsten
Start natürlich auch kein echter System-Kaltstart statt. Stattdessen wird etwas
ähnliches wie ein partielles Suspend-to-disk durchgeführt (der Systemzustand
wird eingefroren und in einem speziellen Bereich der Festplatte gespeichert; in
früheren Windows-Versionen bot der "Ruhezustand" eine ähnliche Funktionalität),
um die "Boot"-Zeit zu reduzieren. Solange Windows das einzige Betriebssystem
auf dem Rechner ist, ist dies unproblematisch, aber es kann zu Problemen und
Datenverlust führen, wenn Sie ein Dual-Boot-System haben, bei dem ein anderes
Betriebssystem parallel zu Windows auf die gleichen Dateisysteme zugreift. In
diesem Fall kann sich der echte Status des Dateisystems von dem unterscheiden,
den Windows nach seinem nächsten "Booten" vermutet; dies kann bei den nächsten
Schreibzugriffen zu einer Beschädigung des Dateisystems führen. Um in einem
Dual-Boot-System eine Beschädigung der Dateisysteme zu vermeiden, muss daher
die "Fast boot"/"Fast startup"-Funktionalität in Windows deaktiviert werden.

Desweiteren wurde berichtet, dass diese Funktion manchmal durch Windows-Updates
automatisch wieder aktiviert worden ist, nachdem sie vom Benutzer ausgeschaltet
wurde. Es wird daher empfohlen, diese Einstellung regelmäßig zu kontrollieren.

Es könnte auch nötig sein, "fast boot" zu deaktivieren, um Zugriff auf das
UEFI-Setup erhalten und so ein anderes Betriebssystem oder den debian-installer
zum Starten auswählen zu können. Auf einigen UEFI-Systemen könnte die Firmware
die zum Booten benötigte Zeit reduzieren, indem Tastatur-Controller oder
USB-Hardware nicht initialisiert werden. In diesen Fällen ist es erforderlich,
Windows zu booten und dort die "fast boot"-Funktionalität zu deaktivieren,
damit Sie die Möglichkeit erhalten, die Boot-Reihenfolge zu ändern.

3.6.6. Hardware-Probleme, auf die Sie achten sollten

USB-Bios-Support und Tastaturen. Falls Sie keine PS/2-Tastatur haben, sondern
lediglich ein USB-Modell, müssen Sie bei sehr alten PCs möglicherweise "Legacy
keyboard emulation" im BIOS aktivieren, um die Tastatur im Menü des Bootloaders
nutzen zu können, aber dies ist bei modernen Computersystemen kein Problem
mehr. Falls Ihre Tastatur im Bootloader-Menü keine Funktion hat, konsultieren
Sie das Handbuch Ihres Mainboards und schauen Sie im BIOS nach Optionen für "
Legacy keyboard emulation" oder "USB keyboard support".

Kapitel 4. Systeminstallations-Medien beschaffen

Inhaltsverzeichnis

4.1. Offizielle Debian GNU/Linux-Installations-Images
4.2. Dateien von einem Debian-Spiegel-Server herunterladen

    4.2.1. Wo Sie die Installationsdateien finden

4.3. Dateien vorbereiten für das Booten von einem USB-Memory-Stick

    4.3.1. Einen USB-Stick vorbereiten mit einem Hybrid-CD/DVD-Image
    4.3.2. Dateien manuell auf den USB-Stick kopieren
    4.3.3. Dateien manuell auf den USB-Stick kopieren - der flexible Weg

4.4. Dateien vorbereiten für das Booten von Festplatte

    4.4.1. Booten des Installers von Festplatte unter Linux mittels GRUB
    4.4.2. Booten des Installers von Festplatte unter DOS mittels loadlin

4.5. Dateien vorbereiten für TFTP-Netzwerk-Boot

    4.5.1. Einen DHCP-Server einrichten
    4.5.2. Einen BOOTP-Server einrichten
    4.5.3. Den TFTP-Server aktivieren
    4.5.4. Die TFTP-Images an ihren Platz befördern

4.6. Automatische Installation

    4.6.1. Automatische Installation mit dem Debian-Installer

4.7. Verifizieren der Authentizität von Installationsdateien

4.1. Offizielle Debian GNU/Linux-Installations-Images

Die bei weitem einfachste Methode, Debian GNU/Linux zu installieren, ist von
einem Satz offizieller Debian GNU/Linux-Installations-Images. Sie können die
CDs/DVDsbei einem Händler kaufen (siehe die Verkäufer von Debian-CDs-Webseite).
Oder - wenn Sie eine schnelle Netzwerkverbindung und einen CD/DVD-Brenner haben
- Sie laden sich die Images von einem Debian-Spiegel-Server herunter und
brennen die Disks selber, (lesen Sie die Debian GNU/Linux auf CD-Seite sowie
die Häufig gestellten Fragen (FAQ) über Debian-CDs bezüglich weiterer Details).
Wenn Sie solche Debian-Installationsmedien haben und Ihr Rechner davon booten
kann, was auf allen modernen PCs der Fall ist, können Sie direkt zu Kapitel 5, 
Das Installationssystem booten springen. Es wurde ein großer Aufwand betrieben,
um sicherzustellen, dass die meist-verwendeten Dateien auf den ersten Images
eines Satzes enthalten sind, so dass eine Standard-Desktop-Installation mit nur
dem ersten DVD-Image - oder in einem gewissen Ausmaß sogar nur dem ersten
CD-Image - durchgeführt werden kann.

Da CDs verglichen mit den heutigen Standards eine eher eingeschränkte Kapazität
haben, können nicht alle grafischen Arbeitsplatz-Umgebungen unter
ausschließlicher Verwendung der ersten CD installiert werden; bei einigen
Arbeitsplatz-Umgebungen erfordert eine CD-Installation zum Laden weiterer Daten
entweder eine Netzwerkverbindung oder Sie benötigen zusätzliche CDs.

Bedenken Sie auch: wenn die Installationsmedien, die Sie verwenden, einige
besondere Pakete nicht enthalten, die Sie benötigen, können Sie diese auch nach
Abschluß der Installation aus dem laufenden neuen Debian-System heraus
nachinstallieren. Falls Sie wissen möchten, in welchem Installations-Image sich
ein spezielles Paket befindet, besuchen Sie https://cdimage-search.debian.org/.

Wenn Ihr Rechner nicht von optischen Medien booten kann (nur relevant bei sehr
alten PC-Systemen), Sie aber trotzdem einen Satz Debian-CDs/DVDs haben, können
Sie eine alternative Strategie verfolgen, wie zum Beispiel Festplatte, 
USB-Stick, Netzwerk-Boot, oder Sie laden den Kernel manuell von der Disk, um
den Installer zu starten. Die Dateien, die Sie benötigen, um auf alternative
Art zu booten, sind ebenfalls auf der Disk. Das Debian-Archiv im Netz und die
Verzeichnisstruktur auf den optischen Installationsmedien sind identisch. Wenn
also hier Pfade zu Dateien im Archiv angegeben werden, können Sie diese Dateien
auch im gleichen Verzeichnis/Unterverzeichnis auf der Disk finden.

Sobald der Installer gestartet ist, kann er alle anderen Dateien, die er
benötigt, vom Installationsmedium laden.

Wenn Sie kein Installationsmedium haben, müssen Sie die Installer-Systemdateien
herunterladen und speichern, z.B. auf Festplatte, USB-Stick, einem per Netzwerk
angebundenen Computer, so dass der Installer sie nutzen kann.

4.2. Dateien von einem Debian-Spiegel-Server herunterladen

Um den nächstliegenden (und damit vermutlich auch schnellsten)
Debian-Spiegel-Server zu finden, konsultieren Sie die Liste der Debian-Spiegel.

4.2.1. Wo Sie die Installationsdateien finden

Verschiedene Installationsdateien liegen auf den Debian-Spiegel-Servern im
Verzeichnis debian/dists/bullseye/main/installer-amd64/current/images/ - das
MANIFEST listet alle Images samt ihrem Einsatzzweck auf.

4.3. Dateien vorbereiten für das Booten von einem USB-Memory-Stick

Um den USB-Stick vorzubereiten, wird empfohlen, ein System zu verwenden, auf
dem GNU/Linux bereits läuft und das USB unterstützt. Auf aktuellen GNU/
Linux-Systemen sollte der USB-Stick automatisch erkannt werden, sobald Sie ihn
einstecken. Falls nicht, sollten Sie sicherstellen, dass das Kernelmodul
usb-storage geladen ist. Beim Einstecken wird dem USB-Stick ein Gerät namens /
dev/sdX zugewiesen, wobei "X" ein Buchstabe im Bereich zwischen a und z ist. Es
sollte Ihnen möglich sein zu erkennen, welches Gerät dem Stick zugewiesen
wurde, indem Sie den Befehl lsblk ausführen, bevor und nachdem Sie den
USB-Stick eingesteckt haben. (Die Ausgabe von dmesg (als root) ist eine weitere
Methode hierfür.) Um den Stick zu beschreiben, müssen Sie eventuell noch mit
dem entsprechenden Schalter am Stick den Schreibschutz deaktivieren (falls Ihr
Stick solch einen Schalter hat).

Warnung

Die in diesem Abschnitt beschriebenen Vorgehensweisen werden alle Daten
zerstören, die sich bereits auf dem Gerät befinden! Vergewissern Sie sich, dass
Sie den korrekten Gerätenamen (nämlich den Ihres USB-Sticks) verwenden. Wenn
Sie einen falschen Namen verwenden, könnte dies dazu führen, dass Sie z.B. alle
Daten auf Ihrer Festplatte verlieren!

4.3.1. Einen USB-Stick vorbereiten mit einem Hybrid-CD/DVD-Image

Debian Installations-Images für diese Architektur werden mittels der isohybrid
-Technologie erstellt; das bedeutet, dass Sie direkt auf einen USB-Stick
geschrieben werden können, was ein sehr einfacher Weg ist, um ein
Installationsmedium zu erstellen. Wählen Sie einfach ein Image, das auf Ihren
Stick passt (z.B. das netinst-, CD-, oder DVD-1-Image). In Abschnitt 4.1,
"Offizielle Debian GNU/Linux-Installations-Images" finden Sie Informationen
darüber, wie Sie sich die Images besorgen können.

Alternativ können Sie bei sehr kleinen USB-Sticks, die nur ein paar Megabyte
groß sind, das Image mini.iso aus dem netboot-Verzeichnis herunterladen. (
Abschnitt 4.2.1, "Wo Sie die Installationsdateien finden" gibt nähere
Informationen, wo Sie dies finden.)

Das Installations-Image, das Sie ausgewählt haben, sollte direkt auf den
USB-Stick geschrieben werden, wobei die vorher vorhandenen Daten überschrieben
werden. Auf einem GNU/Linux-System kann das Image wie folgt auf den USB-Stick
geschrieben werden (nachdem Sie sichergestellt haben, dass der Stick nicht im
Dateisystem eingebunden ist):

# cp debian.iso /dev/sdX
# sync

Informationen dazu, wie Sie dies auf anderen Betriebssystemen erledigen, finden
Sie in der Debian CD FAQ.

Wichtig

Das Image muss auf das vollständige Gerät geschrieben werden, nicht auf eine
einzelne Partition, also z.B. auf /dev/sdb, nicht auf /dev/sdb1. Nutzen Sie
keine Werkzeuge wie unetbootin, da diese das Image verändern.

Wichtig

Einfach das Installations-Image wie hier beschrieben auf USB zu schreiben
sollte für die meisten Benutzer funktionieren. Die anderen unten erwähnten
Optionen sind komplexer und hauptsächlich für Leute mit speziellen Bedürfnissen
gedacht.

Das Hybrid-Image auf dem Stick beansprucht nicht den vollständigen
Speicherplatz, daher können Sie in Betracht ziehen, den freien Platz zu
verwenden, um Firmware-Dateien oder Pakete bzw. andere Dateien Ihrer Wahl dort
abzulegen. Dies könnte nützlich sein, wenn Sie nur einen USB-Stick haben oder
einfach alles, was Sie benötigen, auf einem Datenträger zusammenhalten möchten.

Verwenden Sie dazu cfdisk oder irgendein anderes Partitionierungswerkzeug, um
eine zusätzliche Partition auf dem Stick zu erzeugen. Erstellen Sie dann ein
(FAT-)Dateisystem, binden Sie es ein und kopieren oder entpacken Sie die
Firmware in das Dateisytem, z.B. wie folgt:

# mkdosfs -n FIRMWARE /dev/sdX3
# mount /dev/sdX3 /mnt
# cd /mnt
# tar zxvf /path/to/firmware.tar.gz
# cd /
# umount /mnt

Achten Sie darauf, dass Sie hierbei den korrekten Gerätenamen für Ihren
USB-Stick verwenden. Der Befehl mkdosfs ist im Debian-Paket dosfstools
enthalten.

Anmerkung

Falls Sie das mini.iso-Image ausgewählt und auf den USB-Stick kopiert haben,
muss die zweite Partition nicht mehr erstellt werden, da sie praktischerweise
bereits vorhanden ist. Ziehen Sie den Stick heraus und stecken Sie ihn neu ein,
dann sollten zwei Partitionen sichtbar sein.

4.3.2. Dateien manuell auf den USB-Stick kopieren

Bevor die isohybrid-Technologie für Debians Installations-Images eingesetzt
wurde, haben wir die unten dokumentierten Methoden empfohlen, um Medien für das
Booten von USB-Speichern vorzubereiten. Diese sind jetzt durch die Technik aus
Abschnitt 4.3.1, "Einen USB-Stick vorbereiten mit einem Hybrid-CD/DVD-Image"
stellenweise überflüssig geworden, allerdings sind sie hier aus historischen
Gründen noch enthalten bzw. weil sie vielleicht für einige Benutzer noch
weiterhin nützlich sein könnten.

Ein alternativer Weg zur in Abschnitt 4.3.1, "Einen USB-Stick vorbereiten mit
einem Hybrid-CD/DVD-Image" dokumentierten Methode ist das manuelle Kopieren der
Installer-Dateien und eines Installations-Images auf den Stick. Beachten Sie,
dass der USB-Stick mindestens 1 GB groß sein sollte (kleinere Setups sind
möglich, wenn Sie die Dateien aus dem netboot-Unterverzeichnis verwenden, siehe
Abschnitt 4.3.3, "Dateien manuell auf den USB-Stick kopieren - der flexible
Weg").

Es gibt ein Komplett-Image hd-media/boot.img.gz, das alle Dateien des
Installers enthält, inklusive dem Kernel, sowie dem Bootloader syslinux mit der
zugehörigen Konfigurationsdatei.

Anmerkung

Bedenken Sie, dass diese Methode, obwohl sie bequem ist, einen gravierenden
Nachteil hat: die logische Größe des Sticks ist auf 1 GB begrenzt, auch wenn
die Kapazität des USB-Sticks eigentlich größer ist. Falls Sie den Stick jemals
wieder für einen anderen Zweck verwenden und die volle Kapazität zurückbekommen
möchten, müssen Sie ihn neu partitionieren und die Dateisysteme neu erstellen.

Extrahieren Sie das Image einfach direkt auf Ihren USB-Stick:

# zcat boot.img.gz > /dev/sdX

Binden Sie danach den USB-Memory-Stick, der jetzt ein FAT-Dateisystem enthält,
ins Dateisystem ein (mount /dev/sdX /mnt), und kopieren Sie ein Debian
ISO-Image (Netinst oder eine Komplett-CD; siehe Abschnitt 4.1, "Offizielle
Debian GNU/Linux-Installations-Images") dorthin. Lösen Sie die
Laufwerkseinbindung des Sticks (umount /mnt) - das war's.

4.3.3. Dateien manuell auf den USB-Stick kopieren - der flexible Weg

Wenn Sie flexibler sein oder einfach nur wissen möchten, was passiert, sollten
Sie folgende Methode benutzen, um die Dateien auf den Stick zu befördern. Ein
Vorteil dieser Methode ist, dass Sie - falls die Kapazität Ihres USB-Sticks
dafür ausreicht - die Möglichkeit haben, jegliches ISO-Image (sogar ein
DVD-Image) darauf zu kopieren.

4.3.3.1. Partitionieren und Hinzufügen eines Bootloaders

Wir werden hier erläutern, wie Sie den Memory-Stick einrichten, so dass nur die
erste Partition genutzt wird statt des kompletten USB-Speichers.

Um den Kernel starten zu können, nachdem vom USB-Stick gebootet wurde, werden
wir einen Bootloader auf dem Stick ablegen. Obwohl jeder Bootloader
funktionieren sollte, wird empfohlen, syslinux zu verwenden, da er eine
FAT16-Partition benutzt und über eine Textdatei konfiguriert werden kann. Jedes
Betriebssystem, welches das FAT-Dateisystem unterstützt, kann somit verwendet
werden, um die Konfiguration des Bootloaders anzupassen.

Als erstes müssen Sie die Pakete syslinux und mtools auf Ihrem System
installieren.

Anmerkung

Da die meisten USB-Sticks mit nur einer einzigen FAT16-Partition
vorkonfiguriert geliefert werden, müssen Sie den Stick möglicherweise nicht neu
partitionieren oder formatieren. Falls dies trotzdem nötig ist, nutzen Sie 
cfdisk oder ein anderes Partitionierungswerkzeug, um eine FAT16-Partition zu
erzeugen^[3] und erzeugen Sie dann einen Master-Boot-Record (MBR), indem Sie
Folgendes eingeben:

# cat /usr/lib/syslinux/mbr/mbr.bin
>/dev/sdX

Erstellen Sie nun ein Dateisystem mittels:

# mkdosfs /dev/sdX1

Achten Sie darauf, dass Sie den richtigen Gerätenamen für den USB-Stick
verwenden. Der Befehl mkdosfs ist im Debian-Paket dosfstools enthalten.

Da Sie (jetzt) einen korrekt partitionierten USB-Stick vorliegen haben, müssen
Sie nun syslinux auf die FAT16-Partition des USB-Sticks befördern mit:

# syslinux /dev/sdX1

Hier nochmals die Warnung, den richtigen Gerätenamen zu verwenden! Die
Partition darf nicht ins Dateisystem eingebunden sein, wenn syslinux ausgeführt
wird. Durch diese Prozedur wird ein Boot-Sektor auf die Partition geschrieben
und die Datei ldlinux.sys erstellt, die den Bootloader-Code enthält.

4.3.3.2. Hinzufügen der Installer-Dateien

Sie können hier aus zwei verschiedenen Installationsvarianten wählen: bei der
hd-media-Variante wird eine Installations-ISO-Datei auf dem USB-Stick benötigt,
um die Installer-Module und das Basissystem davon zu laden. Der
netboot-Installer hingegen lädt all das von einem Debian-Spiegel herunter.

Abhängig davon, welche Variante Sie wählen, müssen Sie nun einige
Installer-Dateien aus dem hd-media- oder netboot-Unterverzeichnis von einem
Debian-Spiegel unter debian/dists/bullseye/main/installer-amd64/current/images/
herunterladen:

  • vmlinuz oder linux (Kernel-Binärdatei)

  • initrd.gz (Initial-RAM-Disk-Image)

Sie können dabei wählen zwischen dem text-basierten Installer (die Dateien
finden Sie direkt unter hd-media bzw. netboot) und dem grafischen Installer
(suchen Sie hierzu im jeweiligen Unterverzeichnis gtk).

Hängen Sie jetzt die Partition ins Dateisystem ein (mount /dev/sdX1 /mnt) und
kopieren Sie die heruntergeladenen Dateien in das Wurzelverzeichnis des Sticks.

Als nächstes sollten Sie eine Konfigurationsdatei namens syslinux.cfg im
Wurzelverzeichnis des Sticks erstellen, die mindestens die folgende Zeile
enthält:

default vmlinuz initrd=initrd.gz

Ändern Sie den Eintrag für die Kernel-Binärdatei in "linux", wenn Sie die
Dateien aus netboot benutzt haben.

Falls Sie den grafischen Installer (aus gtk) verwenden, sollten Sie der obigen
Zeile den Parameter vga=788 hinzufügen. Auf Wunsch können noch weitere
Parameter angegeben werden.

Um den Boot-Prompt zu aktivieren und so weitere Anpassungen der Parameter
zuzulassen, fügen Sie eine Zeile mit dem Inhalt prompt 1 hinzu.

Haben Sie die Dateien aus hd-media benutzt, sollten Sie jetzt ein
Debian-Installations-Image (ISO-Datei) auf den Stick kopieren. (Für die
netboot-Variante ist dies nicht erforderlich.)

Sie können dafür ein Netinst- oder ein Komplett-CD/DVD-Image verwenden (siehe
Abschnitt 4.1, "Offizielle Debian GNU/Linux-Installations-Images"). Stellen Sie
sicher, dass das Image Ihrer Wahl auf den Stick passt. Beachten Sie, dass das "
netboot mini.iso"-Image für diesen Zweck nicht geeignet ist.

Danach lösen Sie die Einbindung der Partition wieder (umount /mnt).

4.4. Dateien vorbereiten für das Booten von Festplatte

Der Installer kann von Dateien auf einer bestehenden Festplattenpartition
gebootet werden, entweder von einem anderen Betriebssystem aus oder direkt vom
BIOS mittels eines Bootloaders. Auf modernen UEFI-Systemen kann der Kernel auch
direkt von der UEFI-Partition gebootet werden, ohne dass ein Bootloader nötig
ist.

Man kann auf diese Weise eine "reine Netzwerk"-Installation durchführen. Dies
vermeidet das ganze Theater mit den Wechselmedien, wie das Auffinden und
Brennen der CD/DVD-Images.

4.4.1. Booten des Installers von Festplatte unter Linux mittels GRUB

Dieser Abschnitt beschreibt, wie Sie Debian mit grub dem System hinzufügen bzw.
eine bestehende Linux-Installation komplett ersetzen.

GRUB unterstützt es, zum Zeitpunkt des Bootens nicht nur den Kernel zu laden,
sondern auch ein komplettes Disk-Image. Diese RAM-Disk kann vom Kernel als
Root-Dateisystem genutzt werden.

Kopieren Sie die folgenden Dateien von einem Debian-Archiv in ein passendes
Verzeichnis auf Ihrer Festplatte, z.B. in /boot/newinstall/:

  • vmlinuz (Kernel-Binär-Datei)

  • initrd.gz (RAM-Disk-Image)

Wenn Sie vorhaben, die Festplatte lediglich zum Booten zu benutzen und danach
alles per Netzwerk herunterzuladen, sollten Sie sich die Datei netboot/
debian-installer/amd64/initrd.gz und den dazugehörigen Kernel netboot/
debian-installer/amd64/linux auf die Platte laden. Dies gibt Ihnen später die
Möglichkeit, die Festplatte, von der Sie den Installer gestartet haben, neu zu
partitionieren; allerdings sollten Sie dies mit Vorsicht genießen.

Alternativ dazu können Sie, wenn Sie vorhaben, eine existierende Partition der
Festplatte unverändert zu lassen, hd-media/initrd.gz und den dazugehörigen
Kernel hd-media/vmlinuz herunterladen sowie ein Installations-"iso"-Image auf
die Platte kopieren (stellen Sie sicher, dass der Name der Datei auf .iso
endet). Der Installer kann dann von der Festplatte booten und Debian von dem
Installationsmedium installieren, ohne dabei eine Netzwerkverbindung zu
benötigen.

Um jetzt abschließend den Bootloader zu konfigurieren, springen Sie zu
Abschnitt 5.1.5, "Von Linux aus booten mittels GRUB".

4.4.2. Booten des Installers von Festplatte unter DOS mittels loadlin

Dieser Abschnitt beschreibt, wie Sie Ihre Festplatte vorbereiten, um den
Installer von DOS aus mittels loadlin zu starten.

Kopieren Sie die folgenden Verzeichnisse von einem Debian Installations-Image
nach c:\:

  • /install.amd (Kernel-Binärdatei und Ramdisk-Image)

  • /tools (Hilfsprogramm loadlin)

4.5. Dateien vorbereiten für TFTP-Netzwerk-Boot

Wenn Ihr Rechner mit einem Netzwerk (Local Area Network, LAN) verbunden ist,
sind Sie vielleicht in der Lage, über das Netzwerk per TFTP von einem anderen
Rechner aus zu booten. Wenn Sie dies vorhaben, müssen die Boot-Dateien in
speziellen Verzeichnissen auf diesem entfernten Rechner abgelegt werden und der
Rechner muss für das Booten speziell Ihrer Maschine konfiguriert werden.

Sie müssen einen TFTP-Server einrichten und in vielen Fällen auch einen
DHCP-Server oder einen BOOTP-Server.

BOOTP ist ein IP-Protokoll, das einem Computer seine IP-Adresse mitteilt und wo
er im Netzwerk ein Boot-Image findet. Das Dynamic-Host-Configuration-Protocol
(DHCP) ist eine flexiblere, rückwärts-kompatible Erweiterung von BOOTP. Einige
Systeme können nur per DHCP konfiguriert werden.

Das Trivial-File-Transfer-Protocol (TFTP) wird benutzt, um dem Client das
Boot-Image zur Verfügung zu stellen. Theoretisch könnte jeder Server auf jeder
Plattform benutzt werden, der diese Protokolle implementiert. In den Beispielen
in diesem Abschnitt geben wir Kommandos für SunOS 4.x, SunOS 5.x (a.k.a.
Solaris) und GNU/Linux an.

Anmerkung

Für einen Debian GNU/Linux-Server empfehlen wir tftpd-hpa. Es wurde vom
gleichen Autor geschrieben wie der syslinux-Bootloader und daher ist die
Wahrscheinlichkeit, dass er Probleme verursacht, hierbei wohl am geringsten.
Eine gute Alternative ist atftpd.

4.5.1. Einen DHCP-Server einrichten

Ein Free-Software-DHCP-Server ist der ISC-dhcpd. Für Debian GNU/Linux wird das
isc-dhcp-server-Paket empfohlen. Hier eine beispielhafte Konfigurationsdatei
(siehe /etc/dhcp/dhcpd.conf):

option domain-name "example.com";
option domain-name-servers ns1.example.com;
option subnet-mask 255.255.255.0;
default-lease-time 600;
max-lease-time 7200;
server-name "servername";

subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option routers 192.168.1.1;
}

host clientname {
  filename "/tftpboot.img";
  server-name "servername";
  next-server servername;
  hardware ethernet 01:23:45:67:89:AB;
  fixed-address 192.168.1.90;
}

In diesem Beispiel gibt es einen Server servername, der alle Aufgaben von
DHCP-Server, TFTP-Server und Netzwerk-Gateway übernimmt. Sie müssen natürlich
die Domain-Namen-Einträge ändern wie auch den Servernamen und die
Hardware-Adresse der Clients. Der Eintrag filename sollte der Name der Datei
sein, die per TFTP abgerufen wird.

Nachdem Sie die Konfigurationsdatei des dhcpd verändert haben, starten Sie ihn
mit /etc/init.d/isc-dhcp-server restart neu.

4.5.1.1. PXE-Boot aktivieren in der DHCP-Konfiguration

Hier ein weiteres Beispiel der dhcpd.conf, das die
Pre-Boot-Execution-Environment-(PXE)Methode von TFTP nutzt:

option domain-name "example.com";

default-lease-time 600;
max-lease-time 7200;

allow booting;
allow bootp;

# Der nächste Abschnitt muss unter Umständen an Ihre
# Situation angepasst werden.
subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option broadcast-address 192.168.1.255;
# die Gateway-Adresse, die bei Ihnen unterschiedlich sein kann
# (z.B. für den Zugriff auf das Internet)
  option routers 192.168.1.1;
# Geben Sie die DNS an, die Sie nutzen möchten
  option domain-name-servers 192.168.1.3;
}

group {
  next-server 192.168.1.3;
  host tftpclient {
# Hardware-Adresse des tftp-Clients
  hardware ethernet  00:10:DC:27:6C:15;
  filename "pxelinux.0";
 }
}

Beachten Sie, dass im Fall von PXE die Client-Datei pxelinux.0 ein Bootloader
ist, kein Kernel-Image (siehe Abschnitt 4.5.4, "Die TFTP-Images an ihren Platz
befördern" weiter unten).

Wenn Ihr Rechner per UEFI bootet, müssen Sie einen für UEFI passenden
Bootloader angeben, z.B. mit

group {
  next-server 192.168.1.3;
  host tftpclient {
# tftp client hardware address
  hardware ethernet  00:10:DC:27:6C:15;
  filename "debian-installer/amd64/bootnetx64.efi";
 }
}

4.5.2. Einen BOOTP-Server einrichten

Es gibt für GNU/Linux zwei BOOTP-Server: erstens den bootpd (CMU) und der
zweite ist eigentlich ein DHCP-Server, der dhcpd (ISC). Sie sind in den Debian
GNU/Linux-Paketen bootp bzw. isc-dhcp-server enthalten.

Um den bootpd (CMU) zu nutzen, müssen Sie als erstes für die entsprechende
Zeile in /etc/inetd.conf das Kommentarzeichen entfernen (bzw. die Zeile
hinzufügen, falls noch nicht vorhanden). Unter Debian GNU/Linux erledigen Sie
das mit update-inetd --enable bootps und anschließendem /etc/init.d/inetd
reload. Für den Fall, dass Ihr Bootp-Server nicht unter Debian läuft, sollte
die fragliche Zeile so aussehen:

bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120

Jetzt müssen Sie die Datei /etc/bootptab erstellen. Sie hat das gewohnte
kryptische Format wie die guten alten BSD-Dateien printcap, termcap und
disktab. Mehr Informationen bekommen Sie in der Handbuchseite von bootptab.
Beim CMU-bootpd müssen Sie die Hardware-(MAC-)Adresse des Clients kennen. Hier
ein Beispiel für /etc/bootptab:

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

Sie müssen zumindest den Eintrag "ha" anpassen, der die Hardware-Adresse des
Clients angibt. Der Eintrag "bf" legt fest, welche Datei der Client per TFTP
bezieht; Abschnitt 4.5.4, "Die TFTP-Images an ihren Platz befördern" enthält
mehr Details.

Im Unterschied dazu ist es wirklich einfach, den ISC-dhcpd einzurichten, da
dieser BOOTP-Clients gewissermaßen als Spezialfall von DHCP-Clients behandelt.
Einige Architekturen erfordern eine komplexe Konfiguration, um Clients per
BOOTP zu starten. Wenn Sie solch einen Fall haben, lesen Sie Abschnitt 4.5.1,
"Einen DHCP-Server einrichten". Andernfalls könnte es vielleicht ausreichen, in
der Datei /etc/dhcp/dhcpd.conf den Eintrag allow bootp zu dem Abschnitt
hinzuzufügen, der das Subnetz konfiguriert, zu dem Ihr Client gehört. Danach
muss der dhcpd mit /etc/init.d/isc-dhcp-server restart neu gestartet werden.

4.5.3. Den TFTP-Server aktivieren

Um den TFTP-Server einzurichten, sollten Sie als Erstes sicherstellen, dass 
tftpd aktiv ist.

Im Falle von tftpd-hpa gibt es zwei Wege, wie der Dienst zum Laufen gebracht
werden kann. Er kann bei Bedarf vom inetd-Daemon des Systems gestartet werden
oder er kann eingerichtet werden, als eigenständiger Daemon zu laufen. Welche
der beiden Methoden verwendet wird, wird bei der Installation des Pakets
ausgewählt und kann auch später geändert werden, indem das Paket rekonfiguriert
wird.

Anmerkung

Früher haben TFTP-Server das Verzeichnis /tftpboot genutzt, um Images
bereitzustellen. Allerdings verwenden Server aus Debian GNU/Linux-Paketen unter
Umständen andere Verzeichnisse, um den Filesystem Hierarchy Standard
(Festlegungen, an welcher Stelle im Dateisystem bestimmte Daten abgespeichert
werden sollten) zu erfüllen. Zum Beispiel nutzt tftpd-hpa standardmäßig /srv/
tftp. Sie müssen also eventuell die Konfigurationsbeispiele aus diesem Kapitel
entsprechend an Ihre Situation anpassen.

Alle in Debian verfügbaren in.tftpd-Alternativen sollten standardmäßig
Protokolleinträge aller TFTP-Anfragen in das System-Log schreiben. Einige
unterstützen das Argument -v, um die Ausführlichkeit der Einträge zu erhöhen.
Es wird empfohlen, im Falle von Boot-Problemen diese Logeinträge zu
kontrollieren; sie sind ein guter Anfang, um der Fehlerursache auf die Spur zu
kommen.

4.5.4. Die TFTP-Images an ihren Platz befördern

Als nächstes legen Sie die TFTP-Boot-Images, die Sie benötigen und die Sie wie
in Abschnitt 4.2.1, "Wo Sie die Installationsdateien finden" beschrieben
bekommen können, im tftpd-Bootimage-Verzeichnis ab. Sie müssen unter Umständen
einen Link von diesem Image auf die Datei anlegen, die tftpd benutzt, um einen
speziellen Client zu booten. Bedauerlicherweise hängt der Name dieser Datei von
dem TFTP-Client ab und es gibt dabei keine festen Standards.

Alles was Sie benötigen, um per PXE zu booten, ist bereits in dem netboot/
netboot.tar.gz-Tarball eingerichtet. Entpacken Sie den Tarball einfach in das 
tftpd-Bootimage-Verzeichnis. Stellen Sie sicher, dass der DHCP-Server
konfiguriert ist, pxelinux.0 als zu bootende Datei zum tftpd weiterzuleiten.
Für UEFI-Rechner müssen Sie den Namen eines passenden UEFI-Boot-Images (wie /
debian-installer/amd64/bootnetx64.efi) angeben.

4.6. Automatische Installation

Um Debian auf einer größeren Anzahl von Rechnern zu installieren, kann man
vollautomatische Installationen durchführen. Neben dem Debian-Installer selbst
ist dafür auch das Paket fai-quickstart vorgesehen (FAI kann einen
Installationsserver nutzen). Schauen Sie auf die FAI-Homepage bezüglich
detaillierter Informationen.

4.6.1. Automatische Installation mit dem Debian-Installer

Der Debian-Installer bietet automatische Installationen über
Voreinstellungs-Dateien an. Eine solche Voreinstellungs-Datei kann über das
Netzwerk oder von einem Wechselmedium geladen werden und wird benutzt, um
Fragen zu beantworten, die während des Installationsprozesses auftreten.

Eine vollständige Dokumentation über das Voreinstellen inklusive einer
funktionsfähigen Beispieldatei, die Sie sich anpassen können, finden Sie im
Anhang B, Automatisieren der Installation mittels Voreinstellung.

4.7. Verifizieren der Authentizität von Installationsdateien

Sie können die heruntergeladenen Dateien auf Korrektheit und Unversehrtheit
prüfen, indem Sie deren Prüfsummen gegenüber denen in der Datei SHA256SUMS oder
SHA512SUMS verifizieren. Sie finden diese SHA256SUMS- und SHA512SUMS Dateien
auf jedem Debian-Spiegel, z.B. unter diesen Adressen:

  • Prüfsummen-Dateien für CD-Images,

  • Prüfsummen-Dateien für DVD-Images,

  • Prüfsummen-Dateien für BD-Images,

  • Prüfsummen-Dateien für weitere Installationsdateien.

Um die Prüfsumme einer heruntergeladenen Installationsdatei zu berechnen,
verwenden Sie

sha256sum filename.iso

bzw.

sha512sum filename.iso

und vergleichen Sie die angezeigte Prüfsumme mit der entsprechenden in
SHA256SUMS bzw. SHA512SUMS.

Die Debian-auf-CD FAQ enthält weitere nützliche Informationen zu diesem Thema
(wie z.B. das Skript check_debian_iso, um obiges Prozedere teilweise zu
automatisieren), sowie Instruktionen, wie Sie die Integrität der erwähnten
Prüfsummen-Dateien verifizieren können.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[3] Vergessen Sie nicht, die "bootable"-Markierung (Boot-Flag) zu setzen.

Kapitel 5. Das Installationssystem booten

Inhaltsverzeichnis

5.1. Starten des Installers auf 64-Bit PC-Systemen

    5.1.1. Von einem USB-Stick booten
    5.1.2. Booten von einem optischen Datenträger (CD/DVD)
    5.1.3. Von Windows aus booten
    5.1.4. Von DOS aus booten mittels loadlin
    5.1.5. Von Linux aus booten mittels GRUB
    5.1.6. Booten per TFTP
    5.1.7. Der Start-Bildschirm (Boot-Screen)
    5.1.8. Der Grafische Installer

5.2. Barrierefreiheit

    5.2.1. Installer-Oberfläche (Frontend)
    5.2.2. USB-Braillezeilen
    5.2.3. Serielle Braillezeilen
    5.2.4. Software-Sprachausgabe (Software-Sprachsynthesizer)
    5.2.5. Hardware-Sprachausgabe (Hardware-Sprachsynthesizer)
    5.2.6. Interne Boards/Karten
    5.2.7. Theme mit hohem Kontrast
    5.2.8. Zoom
    5.2.9. Experten-Installation, Rettungsmodus, automatisierte Installation
    5.2.10. Barrierefreiheit auf dem neu installierten System

5.3. Boot-Parameter

    5.3.1. Boot-Konsole
    5.3.2. Debian-Installer-Parameter
    5.3.3. Boot-Parameter benutzen, um Fragen automatisiert zu beantworten
    5.3.4. Parameter für Kernelmodule angeben
    5.3.5. Kernel-Module als gesperrt markieren

5.4. Beseitigen von Problemen während der Installation

    5.4.1. Unzuverlässigkeit von optischen Datenträgern
    5.4.2. Boot-Konfiguration
    5.4.3. Software-Sprachausgabe (Software-Sprachsynthesizer)
    5.4.4. Häufige Installationsprobleme unter 64-Bit PC
    5.4.5. Die Startmeldungen des Kernels deuten
    5.4.6. Installationsprobleme berichten
    5.4.7. Installationsberichte einschicken

5.1. Starten des Installers auf 64-Bit PC-Systemen

Warnung

Falls Sie andere Betriebssysteme auf Ihrem Rechner haben und diese auch
behalten möchten (Dual-Boot-System), sollten Sie sicherstellen, dass diese
korrekt heruntergefahren wurden, bevor Sie den Installer starten. Ein
Betriebssystem zu installieren, während ein anderes auf dem gleichen Rechner
sich in eingefrorenem Zustand befindet (bei Windows Ruhezustand genannt; Inhalt
des Arbeitsspeichers auf die Festplatte gesichert), könnte zum Verlust oder zu
einer Beschädigung des gesicherten Zustandes führen, was Probleme beim Start
(Fortsetzen) dieses Betriebssystems zur Folge haben kann.

Anmerkung

Informationen darüber, wie Sie den grafischen Installer booten, finden Sie im
Abschnitt 5.1.8, "Der Grafische Installer".

5.1.1. Von einem USB-Stick booten

Wenn Ihr Computer von USB booten kann, ist dies vielleicht der einfachste Weg
zur Installation. Wir nehmen an, Sie haben alles wie unter Abschnitt 3.6.2,
"Auswahl des Boot-Laufwerks" und Abschnitt 4.3, "Dateien vorbereiten für das
Booten von einem USB-Memory-Stick" beschrieben vorbereitet. Stecken Sie jetzt
den USB-Stick in einen freien Steckplatz und starten Sie den Rechner neu. Das
System sollte booten und (auf Systemen, die dies unterstützen) ein grafisches
Boot-Menü anzeigen. Sie können hier verschiedene Installer-Optionen auswählen
oder einfach Enter drücken.

5.1.2. Booten von einem optischen Datenträger (CD/DVD)

Wenn Sie eine oder mehrere optische Disks haben und Ihr Rechner kann direkt
davon booten - super! Konfigurieren Sie das System, so dass es von dem
optischen Datenträger startet (wie im Abschnitt 3.6.2, "Auswahl des
Boot-Laufwerks" beschrieben). Legen Sie die Disk ein, starten Sie den Rechner
neu und machen Sie mit dem nächsten Kapitel weiter.

Beachten Sie, dass bestimmte optische Laufwerke unter Umständen spezielle
Treiber benötigen und deshalb im frühen Stadium der Installation vielleicht
nicht nutzbar sind. Wenn sich herausstellt, dass der normale Weg, von einem
optischen Datenträger zu booten bei Ihrer Hardware nicht funktioniert, besuchen
Sie dieses Kapitel wieder, nachdem Sie sich über alternative Kernel und
Installationsmethoden informiert haben, die bei Ihnen sinnvoll sind.

Auch wenn Ihr Rechner nicht von einem optischen Datenträger booten kann, können
Sie vielleicht trotzdem die Komponenten des Debian-Systems und alle Pakete von
der Disk installieren. Benutzen Sie einfach ein anderes Medium zum Booten und
wenn Sie an den Punkt kommen, das Betriebssystem, das Basis-System und
zusätzliche Pakete installieren zu müssen, weisen Sie das Installationssystem
an, die optische Disk zu nutzen.

Wenn Sie Probleme haben, das Installationssystem zu booten, lesen Sie
Abschnitt 5.4, "Beseitigen von Problemen während der Installation".

5.1.3. Von Windows aus booten

Um den Installer von Windows aus zu starten, können Sie entweder

  • ein Installationsmedium erstellen wie in Abschnitt 4.1, "Offizielle Debian
    GNU/Linux-Installations-Images" bzw. Abschnitt 4.3, "Dateien vorbereiten
    für das Booten von einem USB-Memory-Stick" beschrieben, or

  • ein eigenständiges Windows-Binärprogramm herunterladen, das unter tools/
    win32-loader/stable/win32-loader.exe auf den Debian-Spiegelservern
    verfügbar ist.

Wenn Sie als Installationsmedium eine CD-ROM oder DVD-ROM verwenden, sollte
automatisch ein Programm zur Vorbereitung der Installation gestartet werden,
wenn Sie die Disk einlegen. Falls Windows dieses Programm nicht automatisch
startet oder falls Sie einen USB-Memory-Stick verwenden, können Sie das
Programm manuell starten, indem Sie auf dem entsprechenden Laufwerk setup.exe
ausführen.

Nachdem das Programm gestartet wurde, werden ein paar einleitende Fragen
gestellt und das System wird vorbereitet, beim dann folgenden Neustart den
Debian GNU/Linux-Installer zu starten.

5.1.4. Von DOS aus booten mittels loadlin

Booten Sie DOS (nicht Windows). Um dies zu bewerkstelligen, können Sie zum
Beispiel von einer Rettungs- oder Diagnose-Disk booten.

Wenn Sie auf die Installations-CD zugreifen können, wechseln Sie mit dem
DOS-Prompt auf das CD-ROM-Laufwerk, z.B. mit

d:

(falls Ihr CD-ROM-Laufwerk den Laufwerksbuchstaben "d" hat). Ansonsten stellen
Sie sicher, dass Sie Ihre Festplatte wie in Abschnitt 4.4.2, "Booten des
Installers von Festplatte unter DOS mittels loadlin" beschrieben vorbereitet
haben und wechseln Sie mit dem DOS-Prompt auf diese Festplatte, falls nicht
bereits geschehen.

Wechseln Sie in das Unterverzeichnis des passenden Flavours, z.B. mit

cd \install.amd

Falls Sie den grafischen Installer bevorzugen, wechseln Sie in das
Unterverzeichnis gtk:

cd gtk

Führen Sie als nächstes install.bat aus. Der Kernel wird geladen und das
Installationssystem gestartet.

5.1.5. Von Linux aus booten mittels GRUB

Um den Installer von der Festplatte aus booten zu können, müssen Sie zunächst
die dafür benötigten Dateien herunterladen und speichern, wie im Abschnitt 4.4,
"Dateien vorbereiten für das Booten von Festplatte" beschrieben.

Für GRUB2 müssen Sie im wesentlichen zwei Dinge in /boot/grub/grub.cfg
konfigurieren:

  • den initrd.gz-Installer beim Booten laden;

  • der vmlinuz-Kernel muss eine RAM-Disk als Root-Partition benutzen.

Ein Eintrag für den Installer könnte z.B. so aussehen:

menuentry 'New Install' {
insmod part_msdos
insmod ext2
set root='(hd0,msdos1)'
linux /boot/newinstall/vmlinuz
initrd /boot/newinstall/initrd.gz
}

5.1.6. Booten per TFTP

Um per Netzwerk booten zu können, benötigen sie eine Netzwerkverbindung sowie
einen TFTP-Netzwerk-Boot-Server (und unter Umständen auch einen DHCP-, RARP-
oder BOOTP-Server zur automatischen Netzwerkkonfiguration).

Die server-seitige Einrichtung zur Unterstützung vom Booten über Netzwerk ist
im Abschnitt 4.5, "Dateien vorbereiten für TFTP-Netzwerk-Boot" beschrieben.

Es gibt mehrere Wege, um ein i386-System per TFTP-Boot zu starten.

5.1.6.1. Netzwerkkarten oder Motherboards, die PXE unterstützen

Es ist möglich, dass Ihre Netzwerkkarte oder Ihr Motherboard die
PXE-Boot-Funktion anbietet. Dies ist eine Intel (tm)-Re-Implementierung des
TFTP-Boots. Wenn dies so ist, sind Sie möglicherweise in der Lage, Ihr BIOS/
UEFI so zu konfigurieren, dass es per Netzwerk bootet.

5.1.6.2. Netzwerkkarten mit Netzwerk-BootROM

Es könnte sein, dass Ihre Netzwerkkarte die TFTP-Boot-Funktionalität anbietet.

5.1.6.3. Etherboot

Das Etherboot-Projekt bietet Boot-Disketten und sogar BootROMs an, die einen
TFTP-Boot durchführen.

5.1.7. Der Start-Bildschirm (Boot-Screen)

Wenn der Installer startet, sollte Ihnen ein hübscher grafischer Bildschirm
angezeigt werden mit dem Debian-Logo und einem Menü:

Debian GNU/Linux installer boot menu

Graphical install
Install
Advanced options                            >
Accessible dark contrast installer menu     >
Help
Install with speech synthesis

Anmerkung

Dieser grafische Bildschirm kann sehr unterschiedlich aussehen, abhängig davon,
wie Sie Ihren Computer gestartet haben (über BIOS oder UEFI), aber es
existieren die gleichen Optionen.

Abhängig von der Installationsmethode, die Sie nutzen, ist der Menüeintrag "
Graphical install" möglicherweise nicht vorhanden. Multi-Architektur-Images
haben zusätzlich eine 64-Bit-Variante für jede Installationsoption (direkt
darunter), was nahezu zu einer Verdoppelung der Optionen führt.

Für eine normale Installation wählen Sie entweder "Graphical install" oder "
Install" - Sie können die Pfeiltasten Ihrer Tastatur dazu verwenden oder den
jeweils ersten (hervorgehobenen) Buchstaben - und drücken Sie Enter, um den
Installer zu starten. Der "Graphical install"-Eintrag ist standardmäßig
vorausgewählt.

Der Menüeintrag "Advanced options" öffnet ein zweites Menü, über das Sie den
Installer im Expertenmodus, im Rettungsmodus und im Modus für automatisierte
Installationen starten können.

Wenn Sie irgendwelche Boot-Parameter hinzufügen möchten oder müssen (entweder
für den Installer oder den Kernel), drücken Sie auf BIOS-Systemen Tab bzw. auf
UEFI-Systemen E, dann dreimal Pfeil abwärts und zuletzt Ende. So bekommen Sie
das Boot-Kommando für den gewählten Menüeintrag und können zusätzliche Optionen
hinzufügen. Beachten Sie, dass zu diesem Zeitpunkt noch QWERTY als
Tastatur-Layout eingestellt ist. Der Hilfebildschirm (siehe unten) listet ein
paar bekannte, mögliche Optionen auf. Drücken Sie Enter, um den Installer mit
den von Ihnen eingegebenen Optionen zu booten; mit Esc (BIOS-Boot) bzw. F10
(UEFI-Boot) kommen Sie zurück zum Boot-Menü und alle von Ihnen vorgenommenen
Änderungen werden verworfen.

Der Menüeintrag "Help" bringt Sie zum ersten Hilfebildschirm, der eine
Übersicht über die verfügbaren Hilfeseiten enthält. Um nach Anzeige der
Hilfeseiten zum Boot-Menü zurückzukehren, tippen Sie "menu" am Boot-Prompt ein
und drücken Enter. Alle Hilfeseiten haben einen Boot-Prompt, in dem das
Boot-Kommando eingetippt werden kann:

Press F1 for the help index, or ENTER to boot:

Sie können hier einfach Enter drücken, um den Installer mit den
Standardoptionen zu booten, oder Sie geben ein spezielles Boot-Kommando mit
optionalen Parametern ein. Einige Boot-Parameter, die vielleicht nützlich sein
könnten, finden Sie auf den verschiedenen Hilfeseiten. Falls Sie solche
Parameter auf der Boot-Kommandozeile eingeben, stellen Sie sicher, dass Sie
davor einen Befehl für die Boot-Methode eingeben (der Standard ist install)
gefolgt von einem Leerzeichen, und erst danach den oder die Parameter (z.B.
install fb=false).

Anmerkung

Es wird zu diesem Zeitpunkt davon ausgegangen, dass Sie eine Tastatur mit
Amerikanisch-englischem Layout verwenden. Falls Sie eine andere
(länder-spezifische) Tastaturbelegung haben, könnte es sein, dass die Zeichen,
die auf dem Bildschirm erscheinen, andere sind, als Sie aufgrund der
Beschriftung der Tasten erwarten. Wikipedia enthält eine Darstellung der
US-Tastaturbelegung, die als Referenz verwendet werden kann, um die jeweils
passenden Tasten zu finden.

Anmerkung

Falls Sie ein System verwenden, dessen BIOS konfiguriert ist, eine serielle
Konsole zu verwenden, können Sie möglicherweise den ersten grafischen
Startbildschirm nicht sehen; vielleicht sehen Sie nicht einmal das Boot-Menü.
Das Gleiche kann vorkommen, falls Sie über ein Remote-Management-Gerät
installieren, das ein Text-Interface auf der VGA-Konsole bereitstellt.
Beispiele für solche Geräte sind die Textkonsolen von Compaqs "integrated
Lights Out" (iLO) und von HPs "Integrated Remote Assistant" (IRA).

Um den grafischen Startbildschirm zu umgehen, können Sie entweder blind Esc
drücken, um zu einem Text-Boot-Prompt zu gelangen, oder Sie drücken (ebenfalls
blind) "h" gefolgt von Enter, um den oben beschriebenen Hilfebildschirm
anzuzeigen. Danach sollten die Tasten, die Sie drücken, am Boot-Prompt
angezeigt werden. Um für den Rest der Installation zu verhindern, dass der
Installer den Framebuffer benutzt, sollten Sie (zusätzlich zu Ihren Optionen)
vga=normal fb=false verwenden, wie im Hilfetext beschrieben.

5.1.8. Der Grafische Installer

Die grafische Version des Installers ist nur für eine begrenzte Anzahl von
Architekturen verfügbar, unter anderem für 64-Bit PC. Die Funktionalität des
grafischen Installers ist grundsätzlich die gleiche wie die des textbasierten
Installers, da er die gleichen Programme verwendet, nur mit einer anderen
Bedienoberfläche (Frontend).

Obwohl die Funktionalität identisch ist, hat der grafische Installer trotzdem
einige bedeutende Vorteile. Der hauptsächliche Vorteil ist, dass mehr Sprachen
unterstützt werden, nämlich solche, die einen Zeichensatz verwenden, der in dem
textbasierten "newt"-Frontend nicht dargestellt werden kann. Außerdem gibt es
einige weitere Vorteile bezüglich der Bedienung, zum Beispiel die Nutzung einer
Maus sowie die Möglichkeit, in einigen Fällen mehrere Fragen in einem Bild
darstellen zu können.

Der grafische Installer ist auf allen CD/DVD-Images sowie bei der
hd-media-Installationsmethode verfügbar. Um den grafischen Installer zu booten,
wählen Sie einfach eine entsprechende Option ("Graphical install") aus dem
Boot-Menü. Den Experten- und Rettungsmodus des grafischen Installers können Sie
im Menü unter "Advanced options" (erweiterte Optionen) starten. Die früher
benötigten Boot-Kommandos (installgui, expertgui und rescuegui) können immer
noch verwendet werden, wenn der Boot-Prompt angezeigt wird; dies ist der Fall,
wenn Sie im Boot-Menü die Option "Help" (Hilfe) auswählen.

Es gibt auch ein Image für den grafischen Installer, das per Netboot gestartet
werden kann. Außerdem existiert noch ein spezielles "mini"-ISO-Image^[4], das
hauptsächlich für Testzwecke verwendet wird.

Wie auch bei dem textbasierten Installer ist es möglich, Boot-Parameter
hinzuzufügen, wenn der grafische Installer gestartet wird.

Anmerkung

Der grafische Installer benötigt erheblich mehr Arbeitsspeicher als der
textbasierte, und zwar mindestens 810MB. Falls nicht genügend Speicher
verfügbar ist, wird automatisch das textbasierte "newt"-Frontend gebootet.

Wenn der installierte Arbeitsspeicher in Ihrem System kleiner als 780MB ist,
könnte der Start des grafischen Installers fehlschlagen, wobei jedoch der
textbasierte Installer korrekt booten würde. Es wird empfohlen, auf Systemen
mit wenig Arbeitsspeicher den textbasierten Installer zu verwenden.

5.2. Barrierefreiheit

Einige Nutzer könnten eventuell spezielle Unterstützung benötigen, zum Beispiel
aufgrund einer Sehbehinderung. USB-Braillezeilen werden automatisch erkannt
(serielle Geräte, die über einen Seriell-auf-USB-Adapter angeschlossen sind,
allerdings nicht), aber die meisten anderen Funktionalitäten für
Barrierefreiheit müssen manuell aktiviert werden. Auf Rechnern, die dies
unterstützen, gibt das Boot-Menü Pieptöne aus, wenn es bereit ist,
Tastatureingaben zu verarbeiten. Es piept auf BIOS-Systemen einmal und auf
UEFI-Systemen zweimal. Es können dann einige Boot-Parameter angegeben werden,
um diese Funktionalitäten zu aktivieren (lesen Sie dazu auch Abschnitt 5.1.7,
"Der Start-Bildschirm (Boot-Screen)"). Beachten Sie, dass auf den meisten
Architekturen die Tastatur vom Bootloader so interpretiert wird, als wäre es
eine Tastatur mit QWERTY-Layout.

5.2.1. Installer-Oberfläche (Frontend)

Der Debian Installer unterstützt verschiedene Oberflächen für die Interaktion
mit dem Benutzer, und diese sind bezüglich Barrierefreiheit unterschiedlich gut
geeignet. Erwähnenswert ist hier das text-Frontend, welches ausschließlich
reinen Text verwendet, sowie die newt-Oberfläche, die textbasierte Dialogboxen
nutzt. Sie können die Auswahl am Boot-Prompt festlegen; lesen Sie dazu die
Dokumentation zum Boot-Parameter DEBIAN_FRONTEND in Abschnitt 5.3.2,
"Debian-Installer-Parameter".

Bei Nutzung der newt-Oberfläche (überwiegend relevant für eine Braille-Zeile),
wird normalerweise eine Antwort über die Pfeiltasten ausgewählt und über Enter
bestätigt. Das Drücken von Tab oder Shift - Tab erlaubt das Umschalten zwischen
verschiedenen Elementen des Dialogs (erwähnenswert ist hier vor allem der
Zurück-Button, der Sie zurück bringt zu vorherigen Fragen). Einige Dialoge
enthalten Auswahl-Checkboxen, die über die Leertaste ein- oder ausgeschaltet
werden können.

Bei der text-Oberfläche (überwiegend verwendet für den Sprachausgabe-Modus des
Installers), wird meistens eine Antwort über deren Nummer ausgewählt und mit 
Enter bestätigt. Sie können hier auch nichts eingeben und einfach Enter
drücken, um den Standardwert zu übernehmen. Die Eingabe von < und Enter bringt
Sie zurück zu vorherigen Fragen. In Fällen, wo die Auswahl mehrerer Optionen
möglich ist (z.B. bei der Wahl der Programmgruppen), können Sie auch !
eingeben, um nichts auszuwählen.

5.2.2. USB-Braillezeilen

USB-Braillezeilen sollten automatisch erkannt werden. Es wird dann automatisch
eine Textversion des Installers ausgewählt und Hardware-Unterstützung für die
Braillezeile wird automatisch in das Zielsystem installiert. Sie müssen im
Boot-Menü also einfach nur Enter drücken. Sobald brltty gestartet ist, können
Sie im Einstellungsmenü ein Braillezeilengerät auswählen. Dokumentation über
Tastenkürzel für Braillezeilengeräte ist auf der brltty-Webseite verfügbar.

5.2.3. Serielle Braillezeilen

Serielle Braillezeilen können nicht sicher automatisch erkannt werden (dies
könnte einige davon sogar beschädigen). Daher müssen Sie den Boot-Parameter
brltty=driver,port angeben, um brltty mitzuteilen, welcher Treiber und Port
benutzt werden soll. Sie sollten driver durch den zweistelligen Buchstabencode
des Treibers ersetzen, den Sie für Ihre Braillezeile benötigen (siehe dazu das
brltty Referenz-Handbuch). port sollten Sie durch den Namen des seriellen
Anschlusses ersetzen, an den die Braillezeile angeschlossen ist; ttyS0 ist der
Standardwert, ttyUSB0 kann üblicherweise verwendet werden, wenn ein
Seriell-auf-USB-Adapter eingesetzt wird. Optional kann ein dritter Parameter
angegeben werden, um die zu verwendende Braille-Tabelle festzulegen (siehe das
brltty-Referenz-Handbuch); die englische Tabelle ist der Standard. Beachten
Sie, dass Sie die verwendete Tabelle später im Einstellungsmenü noch ändern
können. Über einen vierten Parameter können zusätzliche Optionen an den
Braille-Treiber übergeben werden, wie z.B. protocol=foo, das für einige seltene
Modelle benötigt wird. Dokumentation über Tastenkürzel für Braillezeilengeräte
finden Sie auf der brltty-Webseite.

5.2.4. Software-Sprachausgabe (Software-Sprachsynthesizer)

Treiberunterstützung für Software-Sprachausgabe ist in allen Installer-Images
enthalten, die auch den grafischen Installer enthalten, d.h. in allen Netinst-,
CD- und DVD-Images sowie in der gtk-Variante des netboot-Images. Sie kann
aktiviert werden, indem im Boot-Menü s + Enter gedrückt wird. Es wird dann die
textbasierte Variante des Installers gestartet, und die Unterstützung für
Software-Sprachausgabe wird automatisch auch im Zielsystem installiert.

Wenn mehrere Soundkarten erkannt wurden, werden Sie aufgefordert, Enter zu
drücken, sobald Töne von der gewünschten Soundkarte zu hören sind.

Die erste Frage (Sprache) wird in Englisch gesprochen, der Rest der
Installation in der ausgewählten Sprache (falls diese in espeak verfügbar ist).

Die Standardgeschwindigkeit für die Sprachausgabe ist ziemlich langsam. Um sie
zu erhöhen, drücken Sie Feststelltaste+6. Um die Geschwindigkeit zu vermindern,
verwenden Sie Feststelltaste+5. Die Standardlautstärke sollte einen mittleren
Wert haben. Wenn die Ausgabe lauter sein soll, drücken Sie Feststelltaste+2. Um
die Lautstärke zu reduzieren, verwenden Sie Feststelltaste+1. Weitere Details
zu den Tastaturkürzeln finden Sie im Speakup-Handbuch. Um die Standardauswahl
für eine Frage zu akzeptieren, drücken Sie am Prompt einfach Enter. Wenn die
Antwort auf eine Frage Nichts sein soll (also ein leeres Feld), tippen Sie !
ein. Möchten Sie zur vorherigen Frage zurückspringen, tippen Sie < ein.

5.2.5. Hardware-Sprachausgabe (Hardware-Sprachsynthesizer)

Treiberunterstützung für Hardware-Sprachausgabe-Geräte ist in allen
Installer-Images enthalten, die auch den grafischen Installer enthalten, d.h.
in allen Netinst-, CD- und DVD-Images sowie in der gtk-Variante des
netboot-Images. Sie müssen daher im Boot-Menü einen "Graphical install"-Eintrag
auswählen.

Hardware-Sprachausgabe-Geräte können nicht automatisch erkannt werden. Sie
müssen daher den Boot-Parameter speakup.synth=driver angeben, um speakup
mitzuteilen, welcher Treiber verwendet werden soll. Ersetzen Sie dabei driver
durch den Code des Treibers, den Sie für Ihr Gerät benötigen (eine Auflistung
der Treiber-Codes finden Sie im Speakup-Handbuch). Es wird dann automatisch die
Textversion des Installers ausgewählt und die Hardware-Unterstützung für
Sprachausgabe-Geräte wird automatisch in das Zielsystem installiert.

5.2.6. Interne Boards/Karten

Einige Geräte für Barrierefreiheit sind letztendig Steckkarten, die innerhalb
des Rechners eingesteckt werden und die den Text direkt aus dem Videospeicher
auslesen. Damit sie funktionieren, muss die Framebuffer-Unterstützung
deaktiviert werden (verwenden Sie dazu den Boot-Parameter vga=normal fb=false).
Dies reduziert allerdings die Anzahl der zur Verfügung stehenden Sprachen.

Falls gewünscht kann vor der Eingabe des Boot-Parameters eine Textversion des
Bootloaders aktiviert werden, indem die Taste h gefolgt von Enter gedrückt
wird.

5.2.7. Theme mit hohem Kontrast

Für Nutzer mit verminderter Sehkraft kann der Installer ein spezielles farbiges
Theme mit extra hohem Kontrast verwenden. Um es zu aktivieren, verwenden Sie
den Menüeintrag "Accessible high contrast" aus dem Boot-Menü (Tastaturkürzel d)
oder geben Sie händisch den Boot-Parameter theme=dark an.

5.2.8. Zoom

Für Nutzer mit verminderter Sehkraft enthält der grafische Installer auch eine
einfache Unterstützung zur Vergrößerung der Anzeige (Zoom): über die
Tastenkombinationen Strg++ und Strg+- lässt sich die Schrifthöhe vergrößern
bzw. verkleinern.

5.2.9. Experten-Installation, Rettungsmodus, automatisierte Installation

Die Auswahlmöglichkeiten Expert, Rescue und Automated Install sind auch
barrierefrei (mit Sprachausgabe) verfügbar. Um sie zu nutzen, müssen Sie
zunächst das Untermenü "Advanced options" öffnen, indem Sie a drücken. Wenn Sie
ein BIOS-System verwenden (d.h. beim Start des Boot-Menüs hat der Computer nur
einmal gepiept), müssen Sie jetzt noch Enter drücken. Auf UEFI-Systemen
hingegen (d.h. beim Starten hat der Computer zweimal gepiept) ist dies nicht
erforderlich. Um die Sprachausgabe zu aktivieren, können Sie jetzt s drücken
(gefolgt von Enter auf BIOS-Systemen). Nun stehen verschiedene Tastaturkürzel
zur Verfügung: x für eine Experten-Installation, r für das Starten des
Rescue-Modes und a für eine automatisierte Installation. Auch hier müssen Sie
auf BIOS-Systemen nochmals Enter drücken.

Durch eine automatisierte Installation kann Debian über die Verwendung der
Voreinstellung vollständig automatisiert installiert werden. Die Quelle dieser
Voreinstellungen (die Voreinstellungsdatei) kann angegeben werden, nachdem die
Funktionen zur Barrierefreiheit gestartet wurden. Voreinstellung selbst ist in
Anhang B, Automatisieren der Installation mittels Voreinstellung dokumentiert.

5.2.10. Barrierefreiheit auf dem neu installierten System

Dokumentation zum Thema Barrierefreiheit auf dem neu installierten System
finden Sie auf der Debian Accessibility Wiki-Seite.

5.3. Boot-Parameter

Boot-Parameter sind Parameter für den Linux-Kernel, die generell genutzt
werden, damit Peripheriegeräte korrekt behandelt werden können. In den meisten
Fällen kann der Kernel Informationen über die Geräte automatisch abfragen. In
einigen Fällen jedoch müssen Sie ihm ein bisschen helfen.

Wenn Sie das Debian-System zum ersten Mal booten, versuchen Sie es mit den
Standardparametern (was bedeutet: geben Sie einfach keine Parameter an) und
schauen Sie, ob es korrekt funktioniert. Vielleicht tut es das. Falls nicht,
können Sie später erneut starten und spezielle Parameter ausprobieren, die den
Kernel über Ihre Hardware informieren.

Informationen über viele Boot-Parameter finden Sie im Linux BootPrompt-HowTo,
inklusive Tipps für problematische Hardware. Dieses Kapitel enthält nur einen
Abriss der wichtigsten Parameter. Einige häufig vorkommende Problemfälle sind
in Abschnitt 5.4, "Beseitigen von Problemen während der Installation"
beschrieben.

5.3.1. Boot-Konsole

Wenn Sie mit einer seriellen Konsole booten, wird der Kernel dies normalerweise
automatisch erkennen. Falls der Rechner, den Sie per serieller Konsole
installieren wollen, auch eine Grafikkarte (für Framebuffer) und eine Tastatur
hat, müssen Sie dem Kernel das Boot-Argument console=device angeben, wobei
device der seriellen Schnittstelle auf dem Zielrechner entspricht, also
normalerweise etwas wie ttyS0.

Sie müssen unter Umständen Parameter für den seriellen Port wie Geschwindigkeit
und Parität angeben, z.B. console=ttyS0,9600n8; andere typische Werte für die
Geschwindigkeit sind 57600 oder 115200. Achten Sie darauf, dass Sie diese
Option nach dem "---" angeben, so dass diese Option auch in die
Bootloader-Konfiguration des installierten Systems kopiert wird (falls vom
Bootloader-Installer unterstützt).

Um sicherzustellen, dass der vom Installer verwendete Terminal-Typ zu Ihrem
Terminal-Emulator passt, kann der Boot-Parameter TERM=type angegeben werden.
Beachten Sie dabei, dass der Installer nur die folgenden Typen unterstützt:
linux, bterm, ansi, vt102 und dumb. Die Standardeinstellung für die serielle
Konsole im debian-installer ist vt102. Wenn Sie eine IPMI-Konsole verwenden
oder ein Virtualisations-Werkzeug, das von sich aus keine Umwandlung für solche
Terminal-Typen anbietet, wie z.B. QEMU/KVM, können Sie die Konsole innerhalb
einer screen-Sitzung starten. Dadurch wird die Umwandlung zum von screen
verwendeten Terminal-Typ durchgeführt, welcher vt102 sehr ähnlich ist.

5.3.2. Debian-Installer-Parameter

Das Installationssystem kennt ein paar zusätzliche Boot-Parameter^[5], die
vielleicht nützlich sein könnten.

Einige Parameter haben eine "Kurzform", die dabei hilft, die Einschränkungen
für die Kernel-Kommandozeilenoptionen zu umgehen und außerdem wird die Eingabe
des Parameters vereinfacht. Wenn eine Kurzform für einen Parameter existiert,
wird sie in Klammern hinter der normalen (langen) Form angegeben. Beispiele in
diesem Kapitel benutzen normalerweise auch die Kurzform.

debconf/priority (priority)

    Dieser Parameter legt die niedrigste Prioritätsstufe von Meldungen fest,
    die angezeigt werden (alle Meldungen mit niedrigerer Priorität als hier
    angegeben werden unterdrückt).

    Die Standardinstallation nutzt priority=high. Dies bedeutet, dass Meldungen
    mit hoher und kritischer Priorität angezeigt werden, Meldungen mit
    Priorität medium oder niedrig werden unterdrückt. Treten Probleme auf,
    verändert der Installer die Priorität nach Bedarf.

    Wenn Sie priority=medium als Boot-Parameter angeben, wird das
    Installationsmenü angezeigt und gibt Ihnen mehr Kontrolle über die
    Installation. Wird priority=low benutzt, werden alle Meldungen angezeigt
    (dies entspricht dem Experten-Modus). Bei priority=critical zeigt das
    Installationssystem nur kritische Meldungen an und versucht, ohne viel
    Klamauk das Richtige zu tun.

DEBIAN_FRONTEND

    Dieser Boot-Parameter kontrolliert die Art der Bedienoberfläche, die für
    den Installer benutzt wird. Mögliche Einstellungen sind:

      □ DEBIAN_FRONTEND=noninteractive

      □ DEBIAN_FRONTEND=text

      □ DEBIAN_FRONTEND=newt

      □ DEBIAN_FRONTEND=gtk

    DEBIAN_FRONTEND=newt ist die Standardoberfläche. DEBIAN_FRONTEND=text
    könnte man bevorzugt für Installationen per serieller Konsole nutzen.
    Einige spezialisierte Arten von Installationsmedien bieten möglicherweise
    nur eine eingeschränkte Auswahl von Oberflächen an, aber die newt- und text
    -Frontends sind auf den gängigsten Installationsmedien verfügbar. Auf
    Architekturen, auf denen der grafische Installer unterstützt wird, benutzt
    er die gtk-Oberfläche.

BOOT_DEBUG

    Ist dieser Parameter auf 2 gesetzt, wird der Boot-Prozess des Installers
    ausführlich protokolliert. Auf 3 gesetzt bewirkt er, dass an strategischen
    Punkten des Boot-Prozesses eine Shell zur Fehlersuche gestartet wird
    (schließen Sie die Shell, um den Boot-Prozess fortzusetzen).

    BOOT_DEBUG=0

        Dies ist die Standardeinstellung.

    BOOT_DEBUG=1

        Wortreicher als der Standard.

    BOOT_DEBUG=2

        Viele Informationen (z.B. zur Fehlersuche).

    BOOT_DEBUG=3

        An verschiedenen Stellen des Boot-Prozesses wird eine Shell gestartet,
        um detaillierte Fehlersuche zu ermöglichen. Schließen Sie die Shell, um
        den Boot-Vorgang fortzusetzen.

log_host, log_port

    Veranlasst den Installer, Logmeldungen an ein fernes Syslog auf dem
    angegebenen Rechner und Port zu senden, zusätzlich zur Speicherung in einer
    lokalen Datei. Falls kein Wert für den Port angegeben ist, wird der
    Standard-Syslog-Port 514 verwendet.

lowmem

    Kann verwendet werden, um den Installer zu zwingen, eine höhere
    lowmem-Stufe zu verwenden als die, die standardmäßig basierend auf dem
    verfügbaren physikalischen Speicher gewählt wird. Mögliche Werte sind "1"
    und "2". Siehe auch Abschnitt 6.3.1.1, "Verfügbaren Arbeitsspeicher prüfen
    / Low-Memory-Modus".

noshell

    Vermeidet, dass der Installer interaktive Shell-Eingabeaufforderungen auf
    tty2 und tty3 zur Verfügung stellt. Nützlich für unbeaufsichtigte
    Installationen, bei denen die physikalische Sicherheit eingeschränkt ist.

debian-installer/framebuffer (fb)

    Auf einigen Architekturen wird der Kernel-Framebuffer benutzt, um die
    Installation in vielen verschiedenen Sprachen anbieten zu können. Falls der
    Framebuffer auf Ihrem System Probleme macht, können Sie ihn mit dem
    Parameter vga=normal fb=false deaktivieren. Symptome für diese Probleme
    können Fehlermeldungen betreffend "bterm" oder "bogl" sein sowie ein
    schwarzer Bildschirm oder ein Einfrieren des Systems ein paar Minuten nach
    dem Installationsstart.

debian-installer/theme (theme)

    Ein Theme legt fest, wie die Bedienoberfläche des Installers aussieht
    (Farben, Icons etc.). Welche Themes verfügbar sind, kann je nach Oberfläche
    unterschiedlich sein. Derzeit haben sowohl die Newt- als auch die
    Gtk-Oberfläche neben der Standardeinstellung nur ein zusätzliches, "dark"
    genanntes Theme, das für visuell beeinträchtigte Benutzer erstellt wurde.
    Sie können dieses Theme verwenden, indem Sie mit dem Parameter theme=dark
    booten (oder nutzen Sie das Tastaturkürzel d im Boot-Menü).

netcfg/disable_autoconfig

    Standardmäßig versucht der debian-installer, die Netzwerkkonfiguration per
    automatischer IPv6-Konfiguration und DHCP zu beziehen. Wenn dies
    erfolgreich ist, haben Sie keine Chance mehr, sich anders zu entscheiden
    und die Einstellungen manuell zu ändern. Das manuelle Netzwerk-Setup kann
    man nur erreichen, wenn die automatische Konfiguration fehlschlägt.

    Wenn Sie einen IPv6-Router oder einen DHCP-Server in Ihrem lokalen Netzwerk
    haben, diese aber umgehen wollen, z.B. weil sie falsche Antworten geben,
    können Sie den Parameter netcfg/disable_autoconfig=true benutzen, um
    jegliche automatische Netzwerkkonfiguration (IPv6 und IPv4) zu unterdrücken
    und die Daten manuell einzugeben.

hw-detect/start_pcmcia

    Setzen Sie diesen Parameter auf false, um den Start von PCMCIA-Diensten zu
    verhindern, falls dies sonst Probleme verursacht. Einige Laptops sind
    bekannt für solche Phänomene.

disk-detect/dmraid/enable (dmraid)

    Setzen Sie dies auf true, um Unterstützung für Serial-ATA-RAID-Platten
    (auch ATA-RAID, BIOS-RAID oder Fake-RAID genannt) im Installer zu
    aktivieren. Beachten Sie, dass diese Unterstützung derzeit noch
    experimentell ist! Weitere Informationen finden Sie im Debian
    Installer-Wiki.

preseed/url (url)

    Geben Sie die URL einer Voreinstellungs-Datei an, die heruntergeladen und
    benutzt wird, um die Installation zu automatisieren. Siehe auch
    Abschnitt 4.6, "Automatische Installation".

preseed/file (file)

    Geben Sie den Pfad zu einer Voreinstellungs-Datei an, die geladen werden
    kann, um die Installation zu automatisieren. Siehe auch Abschnitt 4.6,
    "Automatische Installation".

preseed/interactive

    Setzen Sie diesen Parameter auf true, um Fragen auch anzuzeigen, obwohl Sie
    voreingestellt sind. Dies kann zum Testen oder zur Fehlersuche an der
    Voreinstellungsdatei nützlich sein. Beachten Sie, dass dies bei solchen
    Parametern, die als Boot-Parameter angegeben werden, keinen Effekt haben
    wird; für solche kann aber eine spezielle Syntax genutzt werden. Siehe
    Abschnitt B.5.2, "Voreinstellung nutzen, um Standardantworten auf Fragen zu
    ändern".

auto-install/enable (auto)

    Fragen, die eigentlich gestellt werden, bevor Voreinstellung greift, können
    aufgeschoben werden, bis das Netzwerk konfiguriert ist. Siehe
    Abschnitt B.2.3, "Auto-Modus", wie Sie dies für automatisierte
    Installationen nutzen können.

finish-install/keep-consoles

    Bei Installationen über die serielle oder die Management-Konsole werden die
    regulären virtuellen Konsolen (VT1 bis VT6) normalerweise in /etc/inittab
    deaktiviert. Um dies zu vermeiden, setzen Sie diesen Parameter auf true.

cdrom-detect/eject

    Standardmäßig wirft der debian-installer automatisch das optische
    Installationsmedium aus, bevor er den Rechner neu startet. Dies kann jedoch
    unnötig sein, falls das System eh nicht automatisch von solchen Medien
    bootet. In einigen Fällen könnte es sogar unerwünscht sein, wenn z.B. das
    optische Laufwerk das Medium nicht selbst wieder einziehen kann und der
    Benutzer nicht vor Ort ist, um dies manuell zu erledigen. Viele Slot-In-,
    Slim-Line- und Cartridge-Laufwerke können Medien nicht automatisch neu
    einlegen/einziehen.

    Setzen Sie diesen Parameter auf false, um das automatische Auswerfen des
    Mediums zu deaktivieren und stellen Sie sicher, dass das System nach der
    Basisinstallation nicht mehr vom optischen Laufwerk bootet.

base-installer/install-recommends (recommends)

    Durch das Setzen dieser Option auf false wird das Paketmanagementsystem so
    konfiguriert, dass empfohlene Pakete (Recommends) nicht automatisch mit
    installiert werden. Dies gilt sowohl für die Installation als auch später
    für das installierte System. Siehe auch Abschnitt 6.3.5, "Installation des
    Basissystems".

    Beachten Sie, dass diese Option es Ihnen erlaubt, ein schlankeres System zu
    erstellen, sie könnte aber auch dazu führen, dass Sie Funktionen vermissen,
    von denen Sie normalerweise erwartet hätten, dass sie verfügbar sind. Sie
    müssen eventuell einige der empfohlenen Pakete manuell nachinstallieren, um
    die volle, von Ihnen gewünschte Funktionalität zu erhalten. Diese Option
    sollte daher nur von sehr erfahrenen Benutzern verwendet werden.

debian-installer/allow_unauthenticated

    Standardmäßig verlangt der Installer, dass Paketquellen (Repositories)
    mittels bekannter GPG-Schlüssel authentifiziert werden. Setzen Sie dies auf
    true, um die Authentifizierung zu deaktivieren. Warnung: unsicher, nicht
    empfohlen.

rescue/enable

    Setzen Sie dies auf true, um statt einer normalen Installation den
    Rettungsmodus zu starten. Siehe Abschnitt 8.6, "Ein beschädigtes System
    reparieren".

5.3.3. Boot-Parameter benutzen, um Fragen automatisiert zu beantworten

Mit einigen Ausnahmen kann für jede während der Installation gestellte Frage am
Boot-Prompt eine Antwort vorgegeben werden, obwohl dies nur in speziellen
Fällen sinnvoll ist. Generelle Anweisungen, wie Sie dies erledigen, finden Sie
im Abschnitt B.2.2, "Boot-Parameter nutzen, um Fragen automatisiert zu
beantworten". Einige spezielle Beispiele sind weiter unten aufgelistet.

debian-installer/language (Sprache), debian-installer/country (Land), 
    debian-installer/locale (Gebietsschema)

    Es gibt zwei Wege festzulegen, welche(s) Sprache, Land und Gebietsschema
    (Locale) für die Installation und das installierte System verwendet wird.

    Die erste und einfachste Möglichkeit ist, nur den Parameter locale
    anzugeben. Sprache und Land werden dann aus diesem Wert abgeleitet. Sie
    können zum Beispiel locale=de_CH benutzen, um Deutsch als Sprache und die
    Schweiz als Land auswählen (de_CH.UTF-8 wird dann als
    Standard-Gebietsschema für das installierte System festgelegt). Die
    Einschränkung bei diesem Weg ist, dass so nicht alle möglichen
    Kombinationen von Sprache, Land und Gebietsschema erreicht werden können.

    Die zweite und weitaus flexiblere Möglichkeit ist, language (Sprache) und
    country (Land) separat anzugeben. In diesem Fall kann locale noch optional
    zusätzlich angegeben werden, um ein bestimmtes Standard-Gebietsschema für
    das installierte System zu setzen. Beispiel: language=en country=DE locale=
    en_GB.UTF-8 (Sprache: Englisch; Land: Deutschland; Gebietsschema:
    en_GB.UTF-8).

anna/choose_modules (modules)

    Kann benutzt werden, um Installer-Komponenten zu laden, die standardmäßig
    nicht geladen werden. Ein Beispiel für eine solche, vielleicht nützliche
    zusätzliche Komponente ist openssh-client-udeb (um scp während der
    Installation verwenden zu können) oder ppp-udeb (siehe Abschnitt D.5,
    "Debian GNU/Linux unter Verwendung von PPP over Ethernet (PPPoE)
    installieren").

netcfg/disable_autoconfig

    Setzen Sie dies auf true, wenn Sie automatische IPv6-Konfiguration und DHCP
    deaktivieren und stattdessen statische Netzwerkkonfiguration erzwingen
    möchten.

mirror/protocol (protocol)

    Standardmäßig nutzt der Installer das http-Protokoll, um Dateien von
    Debian-Spiegel-Servern herunterzuladen und es ist während einer
    Installation in normaler Priorität nicht möglich, dies auf ftp zu ändern.
    Indem dieser Parameter auf ftp gesetzt wird, kann der Installer gezwungen
    werden, dieses Protokoll zu verwenden. Beachten Sie, dass Sie derzeit
    keinen ftp-Spiegel-Server aus der Liste auswählen können; Sie müssen den
    Hostnamen des Servers manuell eingeben.

tasksel:tasksel/first (tasks)

    Dies kann genutzt werden, um Programmgruppen zu installieren, die in der
    interaktiven Liste von tasksel nicht verfügbar sind, wie z.B. kde-desktop.
    Siehe Abschnitt 6.3.6.2, "Software auswählen und installieren" für
    zusätzliche Informationen.

5.3.4. Parameter für Kernelmodule angeben

Wenn Treiber in den Kernel einkompiliert sind, können Sie Parameter für sie
angeben wie in der Kerneldokumentation beschrieben. Wenn allerdings die Treiber
als Module kompiliert sind und weil Kernelmodule während einer Installation ein
wenig anders geladen werden als beim Booten eines installierten Systems, ist es
nicht möglich, Parameter für die Module auf die gleiche Art anzugeben wie
gewöhnlich. Stattdessen müssen Sie eine spezielle Syntax einhalten, die vom
Installer erkannt wird und sicherstellt, dass die Parameter in den passenden
Konfigurationsdateien gespeichert werden und beim eigentlichen Laden der Module
genutzt werden. Außerdem werden die Parameter automatisch zur Konfiguration des
installierten System hinzugefügt.

Beachten Sie, dass es mittlerweile sehr selten ist, Parameter für Module
angeben zu müssen. In den meisten Fällen kann der Kernel die im System
vorhandene Hardware erkennen und auf dem Wege gute Voreinstellungen setzen. In
einigen Situationen könnte es allerdings trotzdem nötig sein, Parameter manuell
zu setzen.

Die zu verwendende Syntax, um Parameter für Module zu setzen:

Modulname.Parametername=Wert

Müssen Sie mehrere Parameter für das gleiche oder andere Module angeben,
wiederholen Sie es einfach. Um zum Beispiel eine alte 3Com-Netzwerkkarte so
einzustellen, dass der BNC-(Koax-)Anschluss und der Interrupt IRQ 10 verwendet
wird, nutzen Sie dies:

3c509.xcvr=3 3c509.irq=10

5.3.5. Kernel-Module als gesperrt markieren

Manchmal könnte es nötig sein, ein Modul als gesperrt zu markieren (auf die
Blacklist zu setzen), um zu verhindern, dass es automatisch vom Kernel und von
udev geladen wird. Ein Grund dafür könnte sein, dass ein spezielles Modul
Probleme mit Ihrer Hardware verursacht. Außerdem listet der Kernel manchmal
zwei verschiedene Treiber für das gleiche Gerät auf. Dies könnte zu inkorrekter
Funktion des Gerätes führen, falls der Treiber zu einem Konflikt führt oder der
falsche Treiber zuerst geladen wird.

Sie können mit der folgenden Syntax ein Modul als gesperrt markieren: Modulname
.blacklist=yes. Das führt dazu, dass das Modul in /etc/modprobe.d/
blacklist.local eingetragen wird; es wird sowohl für die Installation als auch
später für das installierte System gesperrt.

Beachten Sie, dass das Modul trotzdem noch vom Installationssystem selbst
geladen werden könnte. Sie können dies verhindern, indem Sie die Installation
im Experten-Modus durchführen und das Modul in den Listen der zu ladenden
Module (während der Hardware-Erkennung) deaktivieren.

5.4. Beseitigen von Problemen während der Installation

5.4.1. Unzuverlässigkeit von optischen Datenträgern

Manchmal schlägt der Start des Installers von einem optischen Datenträer fehl,
speziell bei älteren Laufwerken. Auch könnte es möglich sein - sogar wenn
erfolgreich von der Disk gebootet wurde - dass der Installer die Disk später
nicht mehr erkennt oder Fehler ausgibt, wenn er während der Installation davon
liest.

Es gibt viele verschiedene Gründe, die dies verursachen könnten. Wir können
hier nur einige allgemeine Probleme auflisten und generelle Empfehlungen geben,
wie Sie damit umgehen sollten. Der Rest liegt bei Ihnen.

Es gibt zwei einfache Dinge, die Sie zunächst ausprobieren sollten.

  • Wenn die Disk nicht bootet, überprüfen Sie, ob Sie korrekt eingelegt wurde
    und nicht verschmutzt ist.

  • Erkennt der Installer die Disk nicht mehr, versuchen Sie, ein zweites Mal
    den Eintrag Installationsmedium erkennen und einbinden aus dem Menü. Es ist
    uns bekannt, dass einige Probleme bezüglich DMA bei sehr alten
    CD-ROM-Laufwerken auf diese Weise behoben werden können.

Falls dies nicht funktioniert, probieren Sie die Empfehlungen weiter unten aus.
Die meisten dieser Empfehlungen gelten sowohl für CD-ROM- als auch für
DVD-Laufwerke.

Sollten Sie die Installation überhaupt nicht mit einem optischen Datenträger
zum Laufen bekommen, versuchen Sie eine der anderen verfügbaren
Installationsmethoden.

5.4.1.1. Allgemeine Probleme

  • Einige ältere CD-ROM-Laufwerke unterstützen nicht das Lesen von Disks, die
    mit modernen CD-Brennern in hoher Geschwindigkeit gebrannt wurden.

  • Einige sehr alte CD-ROM-Laufwerke arbeiten nicht korrekt, wenn "Direct
    Memory Access" (DMA) für diese aktiviert ist.

5.4.1.2. Wie Sie Probleme untersuchen und vielleicht auch lösen

Falls die Disk nicht bootet, versuchen Sie dies:

  • Stellen Sie sicher, dass das BIOS/UEFI Ihres Rechners das Booten von
    optischen Datenträgern unterstützt (dies ist nur bei sehr alten Systemen
    ein Problem) und dass dies im BIOS/UEFI aktiviert ist.

  • Falls Sie ein iso-Image heruntergeladen haben, überprüfen Sie, ob die
    md5sum-Prüfsumme des Images mit der übereinstimmt, die in der Datei MD5SUMS
    für dieses Image aufgelistet ist. Sie sollten diese Datei dort finden, wo
    Sie auch das Image heruntergeladen haben.

    $ md5sum debian-testing-i386-netinst.iso
    a20391b12f7ff22ef705cee4059c6b92  debian-testing-i386-netinst.iso

    Überprüfen Sie auch, ob die md5sum-Prüfsumme der gebrannten Disk korrekt
    ist. Dies sollten Sie mit dem folgenden Kommando erledigen können. Es nutzt
    die Größe des Images, um die korrekte Zahl an Bytes von der Disk zu lesen.

    $ dd if=/dev/cdrom | \
    > head -c `stat --format=%s debian-testing-i386-netinst.iso` | \
    > md5sum
    a20391b12f7ff22ef705cee4059c6b92  -
    262668+0 records in
    262668+0 records out
    134486016 bytes (134 MB) copied, 97.474 seconds, 1.4 MB/s

Wenn die Disk nicht mehr erkannt wird, nachdem der Installer erfolgreich davon
gestartet hat, kann es funktionieren, es einfach noch einmal zu probieren.
Haben Sie mehr als ein optisches Laufwerk, versuchen Sie, die Disk in das
andere Laufwerk einzulegen. Funktioniert dies auch nicht oder die Disk wird
zwar erkannt, aber es gibt trotzdem Fehler beim Lesen, versuchen Sie die
folgenden Empfehlungen. Dazu sind einige grundlegende Linux-Kenntnisse nötig.
Um die aufgelisteten Kommandos auszuführen, sollten Sie zunächst auf die zweite
virtuelle Konsole (VT2) wechseln und dort die Shell aktivieren.

  • Wechseln Sie auf VT4 oder lesen Sie den Inhalt der Datei /var/log/syslog
    (nutzen Sie nano als Editor), um zu überprüfen, ob eventuell spezielle
    Fehlermeldungen vorhanden sind. Überprüfen Sie danach auch die Ausgabe von 
    dmesg.

  • Kontrollieren Sie in der Ausgabe von dmesg, ob Ihr optisches Laufwerk
    erkannt wurde. Es sollte etwas ähnliches angezeigt werden wie dies (die
    Zeilen müssen allerdings nicht zwingend direkt aufeinander folgend
    angezeigt werden):

    ata1.00: ATAPI: MATSHITADVD-RAM UJ-822S, 1.61, max UDMA/33
    ata1.00: configured for UDMA/33
    scsi 0:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ-822S  1.61 PQ: 0 ANSI: 5
    sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw xa/form2 cdda tray
    cdrom: Uniform CD-ROM driver Revision: 3.20

    Sollten Sie solche Zeilen nicht finden, besteht die Möglichkeit, dass der
    Controller, an den Ihr Laufwerk angeschlossen ist, nicht erkannt wurde oder
    von Linux nicht unterstützt wird. Falls Sie wissen, welcher Treiber dafür
    benötigt wird, können Sie versuchen, ihn mit modprobe zu laden.

  • Überprüfen Sie, ob eine Gerätedatei (device node) für Ihr optisches
    Laufwerk in /dev/ existiert. In dem obigen Beispiel wäre dies /dev/sr0.
    Auch /dev/cdrom sollte vorhanden sein.

  • Kontrollieren Sie mittels mount, ob die Disk bereits ins Dateisystem
    eingebunden ist; falls nicht, erledigen Sie dies manuell:

    $ mount /dev/hdc /cdrom

    Achten Sie darauf, ob nach diesem Befehl irgendwelche Fehlermeldungen
    angezeigt werden.

  • Überprüfen Sie, ob DMA im Moment aktiviert ist:

    $ cd /proc/ide/hdc
    $ grep using_dma settings
    using_dma      1       0       1       rw

    Eine "1" an der ersten Stelle hinter "using_dma" bedeutet, dass DMA
    aktiviert ist. Sollte dies so sein, versuchen Sie, es zu deaktivieren:

    $ echo -n "using_dma:0" >settings

    Stellen Sie sicher, dass Sie sich in dem Verzeichnis befinden, das zu Ihrem
    optischen Laufwerk gehört.

  • Falls während der Installation irgendwelche Probleme auftreten, überprüfen
    Sie die Integrität des Installationsmediums mittels der entsprechenden
    Option im Hauptmenü des Installers (ziemlich weit unten). Sie können dies
    auch nutzen, um zu testen, ob die Disk zuverlässig gelesen werden kann.

5.4.2. Boot-Konfiguration

Wenn Sie Probleme haben und der Kernel bleibt während des Boot-Prozesses hängen
oder Ihre Peripherie bzw. Laufwerke werden nicht korrekt erkannt, sollten Sie
als erstes die Boot-Parameter überprüfen, die in Abschnitt 5.3,
"Boot-Parameter" erläutert werden.

In einigen Fällen können Fehler durch fehlende Geräte-Firmware verursacht
werden (siehe Abschnitt 2.2, "Hardware, die Firmware erfordert" und
Abschnitt 6.4, "Fehlende Firmware nachladen").

5.4.3. Software-Sprachausgabe (Software-Sprachsynthesizer)

Falls die Software-Sprachausgabe nicht funktioniert, gibt es
höchstwahrscheinlich ein Problem mit Ihrer Soundkarte, üblicherweise weil
entweder der dafür benötigte Treiber nicht im Installer enthalten ist, oder
weil die Karte Mixerregler mit ungewöhnlichen Namen hat, die standardmäßig
stumm geschaltet sind. Sie sollten daher einen Fehlerbericht einreichen, der
die Ausgabe der folgenden Befehle enthält (ausgeführt auf dem gleichen Rechner
und von einem Linux-System, auf dem der Sound bekanntermaßen funktioniert, z.B.
einer Live-CD):

  • dmesg

  • lspci

  • lsmod

  • amixer

5.4.4. Häufige Installationsprobleme unter 64-Bit PC

Es gibt einige bekannte Installationsprobleme, die gelöst oder vermieden werden
können, indem man dem Installer entsprechende Boot-Parameter angibt.

Wenn Ihr Bildschirm ein eigenartiges Bild zeigt, während der Kernel bootet,
z.B. komplett weiß, komplett schwarz oder farbiger Pixelmüll, enthält Ihr
Rechner möglicherweise eine problematische Grafikkarte, die nicht ordnungsgemäß
in den Framebuffer-Modus schaltet. Sie können dann den Boot-Parameter fb=false
benutzen, um den Framebuffer auf der Konsole zu deaktivieren. In diesem Fall
steht aufgrund von eingeschränkter Konsolenfunktionalität nur eine reduzierte
Anzahl an Sprachen zur Verfügung. Abschnitt 5.3, "Boot-Parameter" enthält
Details zu diesem Thema.

5.4.4.1. Während der PCMCIA-Konfiguration friert das System ein

Einige sehr alte Laptop-Modelle von Dell sind bekannt dafür, dass Sie sich
aufhängen, wenn die PCMCIA-Geräteerkennung versucht, bestimmte
Hardware-Adressen abzufragen. Andere Modelle können ähnliche Symptome zeigen.
Wenn Ihnen solche Probleme unterkommen und Sie kein PCMCIA-Gerät während der
Installation benötigen, können Sie PCMCIA komplett deaktivieren, indem Sie den
Boot-Parameter hw-detect/start_pcmcia=false benutzen. Nachdem die Installation
abgeschlossen ist, können Sie PCMCIA so konfigurieren, dass der problematische
Adressbereich ausgeschlossen wird.

Alternativ können Sie den Installer im Experten-Modus booten. Sie werden dann
aufgefordert, die Ressourcenbereiche einzugeben, die Ihre Hardware benötigt.
Ein Beispiel: wenn Sie einen der oben erwähnten Dell-Laptops besitzen, sollten
Sie hier exclude port 0x800-0x8ff eingeben. Im Kapitel "System resource
settings" des PCMCIA-HowTos gibt es eine Liste mit einigen allgemeinen Angaben
über Ressourcenbereiche. Beachten Sie, dass Sie alle eventuell vorhandenen
Kommata weglassen müssen, wenn Sie Angaben von dieser Quelle in den Installer
eingeben.

5.4.5. Die Startmeldungen des Kernels deuten

Während des Boot-Prozesses können Sie viele Meldungen der Form can't find
something (kann irgendetwas nicht finden) oder something not present (
irgendetwas nicht vorhanden), can't initialize something, (kann irgendetwas
nicht initialisieren) oder sogar this driver release depends on something
(diese Treiberversion ist abhängig von irgendetwas) sehen. Die meisten dieser
Meldungen sind harmlos. Sie erscheinen, weil der Kernel des
Installationssystems gebaut wurde, um auf vielen Maschinen mit viel
verschiedener Hardware zu funktionieren. Wahrscheinlich wird kein Rechner alle
möglichen Peripheriegeräte beinhalten, deswegen wird das Betriebssystem wohl
immer etwas zu beklagen haben, wenn es Peripherie sucht, die Sie nicht
besitzen. Sie werden vielleicht auch feststellen, dass das System für eine
Weile pausiert. Dies kommt vor, wenn es auf die Antwort eines Gerätes wartet,
das in Ihrem System nicht vorhanden ist. Wenn Sie meinen, dass die Zeit zum
Booten des Systems unakzeptabel lang ist, können Sie später einen eigenen,
maßgeschneiderten Kernel erstellen (siehe auch Abschnitt 8.5, "Einen neuen
Kernel kompilieren").

5.4.6. Installationsprobleme berichten

Wenn Sie zwar die anfängliche Boot-Phase hinter sich bringen, aber die
Installation nicht abschließen können, kann die Auswahl des Menüpunkts "
Installationsprotokolle speichern" hilfreich sein. Dabei können
System-Fehlermeldungen und Konfigurationsdaten des Installers auf ein
Speichermedium geschrieben oder mittels eines Webbrowsers heruntergeladen
werden. Diese Informationen können Hinweise darauf geben, was schief gelaufen
ist und wie man dies beheben kann. Wenn Sie einen Fehlerbericht einschicken,
sollten Sie diese Informationen dem Bericht beilegen.

Andere sachdienliche Installationsmeldungen findet man während der Installation
in /var/log/ und nachdem das neu installierte System gebootet wurde in /var/log
/installer/.

5.4.7. Installationsberichte einschicken

Wenn Sie immer noch Probleme haben, senden Sie uns einen Installationsbericht
(auf Englisch bitte). Wir bitten ebenfalls darum, uns Berichte schicken, wenn
die Installation erfolgreich war, so dass wir so viele Informationen wie
möglich über die riesige Zahl von Hardware-Konfigurationen bekommen.

Bedenken Sie, dass Ihr Installationsbericht in der Debian-Fehlerdatenbank
(Debian Bug Tracking System, BTS) veröffentlicht und an eine öffentliche
Mailingliste weitergeleitet wird. Verwenden Sie also eine E-Mail-Adresse, bei
der Sie nichts dagegen haben, dass sie öffentlich gemacht wird.

Falls Sie bereits ein funktionierendes Debian-System haben, ist dies der
einfachste Weg, um uns einen Installationsbericht zu schicken: installieren Sie
die Pakete installation-report und reportbug (mit apt install
installation-report reportbug), konfigurieren Sie reportbug wie in
Abschnitt 8.4.2, "E-Mails nach außerhalb verschicken" beschrieben und führen
Sie dann den Befehl reportbug installation-reports aus.

Sie können alternativ diese Vorlage benutzen, um Installationsberichte zu
verfassen, und schicken Sie ihn dann als Fehlerbericht gegen das Pseudo-Paket
installation-reports an <submit@bugs.debian.org>.

Package: installation-reports

Boot method: <How did you boot the installer? CD/DVD? USB stick? Network?>
Image version: <Full URL to image you downloaded is best>
Date: <Date and time of the install>

Machine: <Description of machine (eg, IBM Thinkpad R32)>
Processor:
Memory:
Partitions: <df -Tl will do; the raw partition table is preferred>

Output of lspci -knn (or lspci -nn):

Base System Installation Checklist:
[O] = OK, [E] = Error (please elaborate below), [ ] = didn't try it

Initial boot:           [ ]
Detect network card:    [ ]
Configure network:      [ ]
Detect media:           [ ]
Load installer modules: [ ]
Detect hard drives:     [ ]
Partition hard drives:  [ ]
Install base system:    [ ]
Clock/timezone setup:   [ ]
User/password setup:    [ ]
Install tasks:          [ ]
Install boot loader:    [ ]
Overall install:        [ ]

Comments/Problems:

<Description of the install, in prose, and any thoughts, comments
      and ideas you had during the initial install.>

Beschreiben Sie in dem Bericht, was das Problem ist (inklusive der letzten
sichtbaren Kernel-Meldungen, falls der Kernel sich aufgehängt hat). Beschreiben
Sie die Schritte, die Sie durchgeführt haben und die das System in den
problematischen Zustand gebracht haben.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[4] Das mini-ISO-Image kann von einem Debian-Spiegel-Server heruntergeladen
werden (wie in Abschnitt 4.2, "Dateien von einem Debian-Spiegel-Server
herunterladen" beschrieben). Suchen Sie nach netboot/gtk/mini.iso.

^[5] Mit aktuellen Kernel (2.6.9 und neuer) können Sie 32
Kommandozeilenoptionen und 32 Umgebungsoptionen benutzen. Werden diese Grenzen
überschritten, meldet der Kernel eine Panic (stürzt ab). Außerdem gibt es eine
Begrenzung auf 255 Zeichen für die Länge der gesamten Kernel-Befehlszeile,
alles was länger ist, könnte einfach abgeschnitten werden.

Kapitel 6. Den Debian-Installer verwenden

Inhaltsverzeichnis

6.1. Wie der Installer funktioniert

    6.1.1. Den grafischen Installer verwenden

6.2. Einführung in die Komponenten
6.3. Die einzelnen Komponenten

    6.3.1. Den Debian-Installer einrichten und Konfiguration der Hardware
    6.3.2. Benutzerzugänge und Passwörter einrichten
    6.3.3. Konfiguration der Uhr und Zeitzone
    6.3.4. Partitionierung und Auswahl der Einbindungspunkte im Dateisystem
    6.3.5. Installation des Basissystems
    6.3.6. Installation zusätzlicher Software
    6.3.7. Ihr System boot-fähig machen
    6.3.8. Die Installation beenden
    6.3.9. Fehlersuche/-behebung
    6.3.10. Installation über die Netzwerk-Konsole

6.4. Fehlende Firmware nachladen

    6.4.1. Einen Datenträger vorbereiten
    6.4.2. Firmware und das zu installierende System
    6.4.3. Das installierte System vervollständigen

6.5. Anpassungen

    6.5.1. Installation eines alternativen Init-Systems

6.1. Wie der Installer funktioniert

Für diese Architektur unterstützt der debian-installer zwei verschiedene
Benutzeroberflächen: eine grafische und eine textbasierte. Standardmäßig wird
die grafische Oberfläche verwendet, außer Sie wählen einen "Install"-Eintrag
aus dem Boot-Menü. Mehr Informationen über das Booten des grafischen Installers
finden Sie im Abschnitt 5.1.8, "Der Grafische Installer".

Der Debian-Installer besteht aus einer Reihe von Komponenten für spezielle
Zwecke, die die einzelnen Installationsaufgaben übernehmen. Jede Komponente
führt seine Aufgabe aus und fragt vom Benutzer die dazu nötigen Informationen
ab. Den Fragen selbst sind Prioritäten zugeteilt und die Prioritätsstufe der
Fragen, die gestellt werden, kann beim Start des Installers festgelegt werden.

Wenn eine Standardinstallation durchgeführt wird, werden nur wichtige Fragen
(mit hoher Priorität) gestellt. Dies führt zu einem stark automatisierten
Installationsprozess, der wenig Eingriffe seitens des Benutzers erfordert. Die
Komponenten werden automatisch der Reihe nach abgearbeitet; welche Komponenten
gestartet werden, hängt hauptsächlich von der Installationsmethode, die Sie
gewählt haben, und von Ihrer Hardware ab. Der Installer wird für Fragen, die
nicht gestellt werden, Standardwerte eintragen.

Tritt ein Problem auf, wird ein Fehler-Bildschirm angezeigt und unter Umständen
auch das Installer-Menü, über das eine alternative Aktion gestartet werden
kann. Treten keine Probleme auf, wird der Benutzer das Installer-Menü nicht zu
sehen bekommen, sondern einfach die Fragen für die einzelnen Komponenten der
Reihe nach beantworten. Gravierende Fehleranzeigen haben die Priorität "
kritisch", so dass der Benutzer hierüber immer informiert wird.

Einige der Standardwerte, welche der Installer für Fragen benutzt, die
unterdrückt werden, können beeinflusst werden, indem dem debian-installer beim
Start Boot-Parameter übergeben werden. Wenn Sie zum Beispiel eine statische
Netzwerkkonfiguration erzwingen möchten (standardmäßig und falls verfügbar
werden automatische IPv6-Konfiguration und/oder DHCP verwendet), können Sie den
Boot-Parameter netcfg/disable_autoconfig=true benutzen; Abschnitt 5.3.2,
"Debian-Installer-Parameter" informiert über die verfügbaren Optionen.

Fortgeschrittene Benutzer werden vielleicht mit einer menü-basierten Oberfläche
besser zurecht kommen, wo sie jeden Schritt besser kontrollieren können, statt
dass der Installer diese Schritte der Reihe nach automatisch ausführt. Um den
Installer auf manuelle, menü-basierte Art zu verwenden, fügen Sie den
Boot-Parameter priority=medium hinzu.

Falls Ihre Hardware es erforderlich macht, Optionen für Kernel-Module
anzugeben, die bei deren Installation angewendet werden, müssen Sie den
Installer im "Experten-Modus" starten. Dies ist entweder möglich, indem Sie den
Installer durch den Befehl expert starten, oder indem Sie den Boot-Parameter
priority=low angeben. Der Experten-Modus erlaubt die volle Kontrolle über den
debian-installer.

In der textbasierten Umgebung wird die Verwendung einer Maus nicht unterstützt.
Die folgenden Tasten können zum Navigieren durch die verschiedenen Dialoge
benutzt werden: Der Pfeil nach rechts oder die Tab-Taste springen "vorwärts"
und der Pfeil nach links oder Shift+Tab springen "rückwärts" zwischen den
angezeigten Schaltflächen und Auswahlfeldern. Die Pfeile nach oben und unten
wählen verschiedene Elemente in Listen aus und scrollen auch die Liste selbst.
Zusätzlich können Sie einen Buchstaben eintippen, um direkt zu den Elementen zu
springen, die mit diesem Buchstaben beginnen oder Sie nutzen Bild hoch und Bild
runter zum seitenweisen Scrollen der Liste. Die Leertaste aktiviert Elemente
wie z.B. Checkboxen. Verwenden Sie Enter, um eine Auswahl z.B. in einer
Drop-Down-Liste zu aktivieren.

Einige Dialoge bieten zusätzliche Hilfeinformationen an. Falls solch eine Hilfe
verfügbar ist, erkennen Sie dies daran, dass in der Fußzeile unten am
Bildschirmrand zusätzlich "F1 Hilfe" angezeigt wird.

Fehlermeldungen und Logdaten werden auf die vierte Konsole umgeleitet. Sie
können durch Drücken von Alt+F4 auf diese Konsole wechseln (halten Sie die
linke Alt-Taste gedrückt und drücken Sie die Funktionstaste F4); zurück zum
Installer-Hauptprogramm gelangen Sie mit Alt+F1.

Diese Meldungen finden Sie auch unter /var/log/syslog. Nach der Installation
wird diese Datei nach /var/log/installer/syslog auf dem neuen System kopiert.
Weitere Installationsmeldungen finden Sie während der Installation unter /var/
log/ und nach dem Start des neuen Systems unter /var/log/installer/.

6.1.1. Den grafischen Installer verwenden

Der grafische Installer funktioniert genauso wie der textbasierte und deshalb
kann der Rest dieses Handbuchs Sie auch dabei durch den weiteren
Installationsprozess leiten.

Wenn Sie es vorziehen, statt der Maus die Tastatur zu verwenden, gibt es zwei
Dinge, die Sie wissen sollten. Um eine ausklappbare Liste (wie z.B. die zur
Auswahl der Länder sortiert nach Kontinenten) ein- oder auszuklappen, können
Sie die Tasten + und - benutzen. Bei Fragen, bei denen mehr als eine Option
ausgewählt werden kann (z.B. bei der Auswahl der Programmgruppen), müssen Sie -
wenn Sie Ihre Auswahl getroffen haben - zunächst mit der Tab-Taste der Tastatur
den Fokus zur Weiter-Schaltfläche wechseln, bevor Sie Enter drücken; einfach
nur Enter zu drücken würde die gerade aktive Markierung umschalten, statt 
Weiter zu aktivieren.

Falls ein Dialog zusätzliche Hilfeinformationen anbietet, wird ein Hilfe-Button
angezeigt. Sie können die Hilfe entweder über Betätigung des Buttons oder durch
Drücken der F1-Taste erreichen.

Um auf eine andere Konsole umzuschalten, müssen Sie zusätzlich zur
Tastenkombination im textbasierten Installer die Strg-Taste mit benutzen, wie
beim X-Window-System. Um zum Beispiel auf VT2 (die erste Shell
(Eingabeaufforderung), die Sie zur Fehlersuche benutzen können) umzuschalten,
benutzen Sie: Strg+Alt+F2. Der grafische Installer selbst läuft auf VT5, Sie
können also Alt+F5 verwenden, um wieder dorthin zurück zu gelangen.

6.2. Einführung in die Komponenten

Hier ist eine Liste der Installer-Komponenten mit einer kurzen Beschreibung
ihrer Aufgabe. Details über die Verwendung einer speziellen Komponente finden
Sie im Abschnitt 6.3, "Die einzelnen Komponenten".

main-menu

    Zeigt die Liste der Komponenten während des Installationsvorgangs an und
    startet eine ausgewählte Komponente, wenn diese aktiviert wird. Die Fragen
    des Hauptmenüs sind auf die Prioritätsstufe "medium" gesetzt, so dass Sie
    dieses Menü nicht sehen, wenn die Prioritätsstufe auf "high" oder "critical
    " gesetzt ist ("high" ist der Standard). Wenn andererseits ein Fehler
    auftritt, der einen Eingriff von Ihnen verlangt, kann die Prioritätsstufe
    vorübergehend herabgesetzt werden, um Ihnen zu ermöglichen, das Problem zu
    lösen; in diesem Fall kann das Menü erscheinen.

    Sie können zum Hauptmenü gelangen, indem Sie wiederholt Zurück drücken, um
    die derzeit laufende Komponente abzubrechen.

localechooser

    Erlaubt dem Benutzer, Lokalisierungsoptionen für die Installation und das
    zu installierende System auszuwählen: Sprache, Land und Gebietsschema. Der
    Installer wird Meldungen in der gewählten Sprache anzeigen (außer die
    Übersetzung für diese Sprache ist nicht vollständig; in diesem Fall könnten
    einige Meldungen in Englisch angezeigt werden).

console-setup

    Zeigt eine Liste von Tastaturen (oder -modellen) an, aus der der Benutzer
    das passende auswählt.

hw-detect

    Erkennt automatisch den überwiegenden Teil der System-Hardware inklusive
    Netzwerkkarten, Laufwerken und PCMCIA-Karten.

cdrom-detect

    Sucht ein Debian Installationsmedium und bindet es ein.

netcfg

    Konfiguriert die Netzwerkverbindungen des Computers, damit er über das
    Netzwerk kommunizieren kann.

iso-scan

    Sucht auf Festplatten nach ISO-Dateisystem-Abbildern (.iso-Dateien).

choose-mirror

    Zeigt eine Liste von Debian-Archivspiegel-Servern an. Der Benutzer kann
    hier die Quelle für seine Installationspakete auswählen.

cdrom-checker

    Überprüft die Integrität (Unversehrtheit) eines Installationsmediums.
    Hiermit kann man sich davon überzeugen, dass das Medium nicht defekt ist
    oder korrumpiert wurde.

lowmem

    Lowmem versucht, Systeme mit zu wenig Arbeitsspeicher zu erkennen und
    vollführt einige Kunststücke, um unnötige Teile des debian-installers aus
    dem Speicher zu entfernen (allerdings auf Kosten einiger Funktionen).

anna

    Anna's Not Nearly APT ("Anna ist nicht annähernd APT", ein APT-Ersatz für
    den Installer). Installiert Pakete, die von dem ausgewählten Spiegel-Server
    oder vom Installationsmedium geholt wurden.

user-setup

    Legt das root-Passwort fest und fügt dem System einen normalen Benutzer
    hinzu.

clock-setup

    Aktualisiert die Systemuhr und legt fest, ob die Uhr auf UTC (Universal
    Coordinated Time, koordinierte Weltzeit) eingestellt ist oder nicht.

tzsetup

    Wählt die Zeitzone, basierend auf dem vorher angegebenen Standort.

partman

    Ermöglicht dem Benutzer, die am System angeschlossenen Festplatten zu
    partitionieren, Dateisysteme darauf zu erstellen und sie an den
    Einbindungspunkten einzuklinken. Es sind interessante Features enthalten,
    wie ein komplett automatischer Modus oder LVM-Unterstützung. Dies ist das
    bevorzugte Partitionierungsprogramm in Debian.

partitioner

    Ermöglicht dem Benutzer, die an das System angeschlossenen Platten zu
    partitionieren. Ein von der Architektur Ihres Computers abhängiges
    Partitionierungsprogramm wird verwendet.

partconf

    Zeigt eine Liste von Partitionen an und erzeugt entsprechend den
    Benutzereingaben Dateisysteme auf den ausgewählten Partitionen.

partman-lvm

    Unterstützt den Benutzer bei der Konfiguration des LVM (Logical Volume
    Manager).

partman-md

    Erlaubt dem Benutzer, ein Software-RAID (Redundant Array of Inexpensive
    Disks) einzurichten. Dieses Software-RAID ist den billigen IDE-
    (Pseudo-Hardware) RAID-Controllern, die man auf neueren Motherboards
    findet, für gewöhnlich überlegen.

base-installer

    Installiert die grundlegendsten Pakete, die dem Computer nach dem Neustart
    den Betrieb unter Debian GNU/Linux ermöglichen.

apt-setup

    Konfiguriert apt überwiegend automatisch, basierend darauf, von welchem
    Medium der Installer gestartet wurde.

pkgsel

    Benutzt tasksel, um Auswahl und Installation zusätzlicher Software zu
    ermöglichen.

os-prober

    Erkennt bereits installierte Betriebssysteme auf dem Rechner und leitet
    diese Informationen an den bootloader-installer weiter, der Ihnen die
    Möglichkeit gibt, erkannte Betriebssysteme zum Startmenü des Bootloaders
    hinzuzufügen. Auf diese Weise kann der Benutzer auf einfachste Weise beim
    Booten auswählen, welches Betriebssystem gestartet werden soll.

[bootloader]-installer

    Die verschiedenen Bootloader-Installer (diese unterscheiden sich
    architekturabhängig geringfügig) installieren alle ein Bootloader-Programm
    auf der Festplatte, welches notwendig ist, um den Computer unter Linux ohne
    Verwendung eines USB-Sticks oder einer CD-ROM starten zu können. Viele
    Bootloader erlauben dem Benutzer bei jedem Start des Computers, das zu
    startende Betriebssystem auszuwählen.

shell

    Erlaubt dem Benutzer das Ausführen einer Shell aus dem Menü oder auf der
    zweiten Konsole.

save-logs

    Bietet dem Benutzer die Möglichkeit, bei Problemen Informationen auf einem
    USB-Stick, über Netzwerk auf einem entfernten Laufwerk, auf Festplatte oder
    auf einem anderen Medium abzuspeichern, um den Debian-Entwicklern später
    präzise von Problemen mit der Installer-Software berichten zu können.

6.3. Die einzelnen Komponenten

In diesem Kapitel beschreiben wir detailliert jede Komponente des Installers.
Die Komponenten sind in (für Benutzer sinnvolle) Gruppen gegliedert. Sie werden
in der Reihenfolge vorgestellt, in der sie auch während der Installation
vorkommen. Bedenken Sie, dass nicht alle Module bei jeder Installation benutzt
werden; welche Komponenten jeweils benutzt werden, hängt von der
Installationsmethode und Ihrer Hardware ab.

6.3.1. Den Debian-Installer einrichten und Konfiguration der Hardware

Nehmen wir an, dass der debian-installer gebootet ist und Sie sein erstes Bild
sehen. In diesem Moment sind die Fähigkeiten des Debian-Installers noch sehr
begrenzt. Er weiß noch nicht viel über Ihre Hardware, Ihre bevorzugte Sprache
oder die Aufgabe, die er erledigen soll. Machen Sie sich darüber keine Sorgen.
Da der debian-installer sehr clever ist, kann er automatisch Ihre Hardware
erkennen, seine restlichen noch nicht geladenen Komponenten finden und sich
selbst zu einem leistungsfähigen Installationssystem machen. Allerdings
benötigt er immer noch Ihre Hilfe, um einige Informationen zu bekommen, die er
nicht automatisch erkennen kann (wie die bevorzugte Sprache, die
Tastaturbelegung oder den gewünschten Internet-Spiegel-Server).

Sie werden feststellen, dass der debian-installer mehrmals während dieses
Schrittes eine Hardware-Erkennung durchführt. Das erste Mal geht es
hauptsächlich um die Hardware, die benötigt wird, um die Installer-Komponenten
zu laden (z.B. Ihr CD-ROM-Laufwerk oder Ihre Netzwerkkarte). Weil allerdings im
ersten Durchlauf möglicherweise noch nicht alle Treiber zur Verfügung stehen,
muss die Hardware-Erkennung später eventuell noch einmal wiederholt werden.

Während der Hardware-Erkennung prüft der debian-installer, ob einer der für
Ihre Hardware benötigten Treiber das Nachladen von Firmware in das Gerät
erfordert. Falls dies der Fall ist, jedoch keine Firmware verfügbar ist, wird
ein Dialog angezeigt, der das Laden der fehlenden Firmware von einem
transportablen Medium ermöglicht. Details finden Sie in Abschnitt 6.4,
"Fehlende Firmware nachladen".

6.3.1.1. Verfügbaren Arbeitsspeicher prüfen / Low-Memory-Modus

Einer der ersten Tests, die der debian-installer durchführt, ist zu überprüfen,
wieviel Arbeitsspeicher zur Verfügung steht. Ist der verfügbare Speicher knapp,
führt dieses Modul einige Änderungen am Installationsprozess durch, die Ihnen
hoffentlich ermöglichen, Debian GNU/Linux trotzdem auf Ihrem System zu
installieren.

Die erste Maßnahme, die getroffen wird, um den Speicherbedarf des Installers zu
reduzieren, ist die Deaktivierung aller Übersetzungen, was bedeutet, dass die
Installation nur in Englisch durchgeführt werden kann. Das installierte System
kann natürlich trotzdem an Ihre Sprache angepasst werden, nachdem die
Installation abgeschlossen ist.

Falls dies noch nicht ausreichend ist, kann der Speicherbedarf weiter reduziert
werden, indem nur diejenigen Komponenten geladen werden, die unbedingt
erforderlich sind, um eine Basisinstallation abzuschließen. Dies schränkt die
Fähigkeiten des Installers ein. Sie haben die Gelegenheit, zusätzliche
Komponenten manuell zu laden, aber Sie sollten bedenken, dass jede solche
Komponente auch zusätzlichen Speicher benötigt und so dazu führen könnte, dass
die Installation fehlschlägt.

Wenn der Installer im Low-Memory-Modus läuft, ist es empfehlenswert, eine
relativ große Swap-Partition (64-128MB) zu erstellen. Diese wird als virtueller
Speicher genutzt und vergrößert so den Arbeitsspeicher, der dem System zur
Verfügung steht. Der Installer wird die Swap-Partition so früh wie möglich
während des Installationsprozesses aktivieren. Bedenken Sie, dass die starke
Nutzung von Swap-Speicher die Performance des Systems reduziert und zu hoher
Festplattenaktivität führen kann.

Trotz all dieser Maßnahmen ist es immer noch möglich, dass Ihr System einfriert
oder sich aufhängt, dass unerwartete Fehler auftreten oder dass Prozesse vom
Kernel beendet werden, weil kein freier Speicher mehr verfügbar ist (erkennbar
an Meldungen mit "Out of memory" auf VT4 und im Syslog).

Es wurde zum Beispiel berichtet, dass die Erzeugung eines großen
ext3-Dateisystems im Low-Memory-Modus fehlgeschlagen ist, wenn die
Swap-Partition zu klein gewählt war. Wenn die Vergrößerung des Swap-Speichers
nicht hilft, sollten Sie das Dateisystem stattdessen als ext2 erzeugen (dies
ist eine Standardkomponente des Installers, während ext3 eine der Komponenten
ist, die im Low-Memory-Modus nicht standardmäßig geladen wird). Nach Abschluss
der Installation ist es möglich, die ext2-Partition in ext3 umzuwandeln.

Es ist möglich, eine höhere lowmem-Stufe zu verwenden als die, die auf dem
verfügbaren physikalischen Speicher beruht. Nutzen Sie dazu den Boot-Parameter 
"lowmem" wie in Abschnitt 5.3.2, "Debian-Installer-Parameter" beschrieben.

6.3.1.2. Lokalisierungsoptionen auswählen

In den meisten Fällen betreffen die ersten Fragen, die Ihnen gestellt werden,
die Auswahl von Lokalisierungsoptionen, die sowohl für die Installation als
auch für das installierte System genutzt werden. Diese Lokalisierungsoptionen
bestehen aus der Sprache, dem Standort und dem Gebietsschema (Locale).

Die Sprache, die Sie wählen, wird für den Rest des Installationsprozesses
genutzt, vorausgesetzt, eine Übersetzung der verschiedenen Dialoge in diese
Sprache ist vorhanden. Falls keine passende Übersetzung für die gewählte
Sprache verfügbar ist, nutzt der Installer die Standardeinstellung Englisch.

Der ausgewählte geographische Standort (in den meisten Fällen ein Land) wird
später im Installationsprozess verwendet, um die korrekte Zeitzone und einen
für Ihr Land passenden Debian-Spiegel-Server auszuwählen. Sprache und Land
zusammen werden dabei hilfreich sein, das Standardgebietsschema für Ihr System
festzulegen und die korrekte Tastaturbelegung auszuwählen.

Als erstes werden Sie aufgefordert, die gewünschte Sprache auszuwählen. Die
Sprachen sind sowohl in Englisch (links) als auch in der jeweiligen Sprache
selbst (rechts) angegeben; die Namen auf der rechten Seite werden direkt in
einer passenden Schriftart für die Sprache dargestellt. Die Liste ist sortiert
nach den englischen Namen. Am Anfang der Liste gibt es eine zusätzliche Option,
mit der Sie die "C"-Locale wählen können statt einer Sprache. Die Auswahl der "
C"-Locale führt zu einem Installationsprozess in englischer Sprache; das
installierte System hat keine Unterstützung für unterschiedliche
Lokalisierungen, da das Paket locales nicht installiert wird.

Die nächste Frage betrifft Ihren geographischen Standort. Falls sie eine
Sprache gewählt haben, die offizielle Sprache in mehr als einem Land ist ^[6],
wird Ihnen eine Liste mit diesen Ländern angezeigt. Falls Sie ein Land wählen
möchten, das in dieser Liste nicht enthalten ist, wählen Sie "weitere" (der
letzte Eintrag). Es wird dann eine Liste der Kontinente angezeigt; bei Auswahl
eines Kontinents erscheint eine Liste mit diesem Kontinent zugehörigen Ländern.

Falls es für die von Ihnen gewählte Sprache nur ein zugehöriges Land gibt, wird
eine Liste mit Ländern für den Kontinent oder das Gebiet angezeigt, zu dem
dieses Land gehört; dabei ist dieses Land in der Liste bereits standardmäßig
vorgewählt. Verwenden Sie den Zurück-Button, um ein Land auf einem anderen
Kontinent auszuwählen.

Anmerkung

Es ist wichtig, das Land auszuwählen, in dem Sie leben oder in dem Sie sich
befinden, da daraus die Zeitzone ermittelt wird, die auf dem installierten
System eingestellt wird.

Wenn Sie eine Kombination aus Sprache und Land auswählen, für die kein
Gebietsschema definiert ist oder wenn mehrere Gebietsschemata für die Sprache
existieren, gibt der Installer Ihnen die Möglichkeit festzulegen, welches der
Gebietsschemata Sie als Standardgebietsschema auf dem installierten System
bevorzugen ^[7]. In allen anderen Fällen wird ein Standardgebietsschema
basierend auf der Auswahl für Sprache und Land festgelegt.

Jedes Standardgebietsschema, das wie im vorherigen Abschnitt beschrieben
festgelegt wird, nutzt UTF-8 als Zeichenkodierung.

Wenn Sie mit niedriger Priorität installieren, haben Sie die Möglichkeit,
zusätzliche Gebietsschemata für das installierte System generieren zu lassen,
inklusive der sogenannten "Legacy"-Gebietsschemata ^[8]; falls Sie davon
Gebrauch machen, werden Sie gefragt, welches der ausgewählten Gebietsschemata
das Standardgebietsschema für das installierte System sein soll.

6.3.1.3. Auswahl der Tastaturbelegung

Tastaturen sind oft auf die Zeichen zugeschnitten, die in einer bestimmten
Sprache benutzt werden. Wählen Sie eine Belegung, die der Tastatur, die Sie
verwenden entspricht, oder wählen Sie eine ähnliche aus, falls die gewünschte
Belegung nicht vorhanden ist. Wenn die Systeminstallation abgeschlossen ist,
können Sie aus einer größeren Auswahl an Tastaturen wählen (führen Sie dazu den
Befehl dpkg-reconfigure keyboard-configuration als root aus, wenn die
Installation abgeschlossen ist).

Setzen Sie die Markierung auf die gewünschte Auswahl und drücken Sie Enter.
Benutzen Sie die Pfeiltasten, um die Markierung zu bewegen - sie befinden sich
bei allen Tastatur-Layouts an der gleichen Stelle, daher sind sie von der
Tastaturkonfiguration unabhängig.

6.3.1.4. Das ISO-Image des Debian-Installers suchen

Wenn Sie mittels der hd-media-Methode installieren, werden Sie an einen Punkt
kommen, wo Sie das ISO-Image des Debian-Installers suchen und ins Dateisystem
einbinden müssen, um die restlichen Installationsdateien zu bekommen. Die
Komponente iso-scan erledigt genau dies für Sie.

Als erstes bindet iso-scan automatisch alle blockorientierten Geräte (wie
Festplattenpartitionen und logische LVM-Volumes) ein, die ein bekanntes,
unterstütztes Dateisystem haben, und sucht systematisch nach Dateien, deren
Name auf .iso endet (oder .ISO). Bedenken Sie, dass im ersten Versuch nur das
Wurzelverzeichnis / und alle Verzeichnisse eine Ebene tiefer durchsucht werden
(beispielsweise werden /whatever.iso und /data/whatever.iso gefunden, aber
nicht /data/tmp/whatever.iso). Nachdem ein ISO-Image gefunden wurde, überprüft 
iso-scan, ob es sich dabei um ein gültiges Debian-ISO-Image handelt. Falls ja,
sind wir hier fertig, ansonsten sucht iso-scan nach einem anderen Image.

Falls der erste Anlauf, ein Installer-Image zu finden, fehlschlägt, fragt 
iso-scan, ob Sie eine vollständige Durchsuchung durchführen möchten. Hierbei
werden nicht nur die oberen Verzeichnisebenen durchsucht, sondern das ganze
Dateisystem.

Wenn iso-scan Ihr ISO-Image nicht finden kann, starten Sie wieder Ihr
Original-Betriebssystem und überprüfen, ob das Image richtig bezeichnet ist (ob
es auf .iso endet), ob es auf einem Dateisystem liegt, das vom debian-installer
erkannt wird und ob es nicht beschädigt ist (überprüfen Sie die Prüfsumme).
Erfahrene Unix-Nutzer können dies auch auf der zweiten Konsole erledigen, ohne
den Rechner neu zu booten.

Beachten Sie, dass die Partition (oder die Platte), die das ISO-Image
beherbergt, während der Installation nicht ohne weiteres genutzt werden kann,
da sie bereits durch den Installer verwendet wird. Um dies zu umgehen, kann der
Installer - vorausgesetzt, Sie haben genügend Arbeitsspeicher - das ISO-Image
in den Arbeitsspeicher kopieren, bevor er es einbindet. Dies kann über die
iso-scan/copy_iso_to_ram-debconf-Frage (nur in einer Experten-Installation
unter niedriger Priorität verfügbar und auch nur, wenn die Anforderungen an die
Größe des Arbeitsspeichers erfüllt sind) eingestellt werden.

6.3.1.5. Netzwerkkonfiguration

Wenn Sie in diesen Schritt einsteigen und das System erkennt, dass Sie mehr als
eine Netzwerkkarte haben, werden Sie gefragt, welche Ihre primäre
Netzwerkschnittstelle ist; diese wird zum Beispiel auch für die Installation
verwendet. Weitere Netzwerkkarten werden zu diesem Zeitpunkt nicht
konfiguriert. Sie können zusätzliche Schnittstellen konfigurieren, nachdem die
Installation beendet ist; lesen Sie dazu die interfaces(5)-Handbuchseite.

6.3.1.5.1. Automatische Konfiguration

Standardmäßig versucht der debian-installer, das Netzwerk Ihres Computers
soweit wie möglich automatisch zu konfigurieren. Wenn die automatische
Konfiguration fehlschlägt, kann dies durch verschiedene Faktoren von einem
nicht korrekt eingesteckten Netzwerkkabel bis hin zu fehlender Infrastruktur
für solch eine automatische Konfiguration ausgelöst werden. Zur weiteren
Diagnose kontrollieren Sie, ob Fehlermeldungen auf der vierten Konsole
aufgelaufen sind. Sie werden auf jeden Fall gefragt, ob Sie es erneut versuchen
möchten, oder ob Sie die Einstellungen manuell vornehmen möchten. Manchmal
haben die Netzwerkdienste für die automatische Konfiguration lange
Antwortzeiten; wenn Sie also sicher sind, dass alles korrekt ist, starten Sie
die automatische Konfiguration einfach nochmal. Falls die automatische
Konfiguration wiederholt fehlschlägt, können Sie stattdessen die manuelle
Einrichtung wählen.

6.3.1.5.2. Manuelle Konfiguration

Beim manuellen Netzwerk-Setup werden einige Angaben über Ihr Netzwerk erfragt,
hauptsächlich IP-Adresse, Subnetzmaske, Gateway (Adresse für die Verbindung ins
Internet), Nameserver-Adressen (DNS) und Hostname (Rechnername). Wenn Sie ein
drahtloses Netzwerk haben, werden Sie außerdem noch nach der Wireless ESSID
(dem "Namen" des drahtlosen Netzwerks) und dem WEP-Schlüssel bzw. der WPA/
WPA2-Passphrase gefragt. Geben Sie hier die Angaben aus Abschnitt 3.3,
"Benötigte Informationen" an.

Anmerkung

Einige technische Details, die Sie vielleicht praktisch finden werden (oder
auch nicht): das Programm nimmt an, dass die Netzwerk-IP-Adresse die bit-weise
UND-Verknüpfung der IP-Adresse Ihres Systems und der Subnetzmaske ist. Die
Broadcast-Adresse wird über eine bit-weise ODER-Verknüpfung der IP-Adresse
Ihres Systems mit der bit-weise umgekehrten Subnetzmaske errechnet. Ebenso
versucht es, Ihre Gateway-Adresse zu erraten. Wenn Ihnen also diese Angaben
nicht zur Verfügung stehen, verwenden Sie die vom Installer vorgeschlagenen
Werte - falls notwendig, können Sie sie durch Bearbeiten der Datei /etc/network
/interfaces ändern, sobald das System installiert ist.

6.3.1.5.3. IPv4 und IPv6

Ab Debian GNU/Linux 7.0 ("Wheezy") unterstützt der debian-installer zusätzlich
zum "klassischen" IPv4 auch IPv6. Alle Kombinationen von IPv4 und IPv6 (nur
IPv4, nur IPv6 oder eine Dual-Stack-Konfiguration, in der beide Protokolle
parallel laufen) werden unterstützt.

Die automatische Konfiguration für IPv4 wird über DHCP (Dynamic Host
Configuration Protocol) durchgeführt. Für IPv6 wird zustandslose (stateless)
Autokonfiguration mittels NDP (Neighbor Discovery Protocol, inklusive
rekursiver DNS-Server-Zuweisung (RDNSS)) unterstützt, außerdem
zustandsbehaftete (stateful) Autokonfiguration über DHCPv6, und schließlich
noch die gemischte Variante von zustandsloser und zustandsbehafteter
Autokonfiguration (Adresskonfiguration über NDP, zusätzliche Parameter über
DHCPv6).

6.3.2. Benutzerzugänge und Passwörter einrichten

Bevor die Uhr eingerichtet wird, gibt der Installer Ihnen die Möglichkeit, den 
"root"-Zugang (Super-User) und/oder einen Zugang für den ersten Benutzer
einzurichten. Weitere Benutzerzugänge können nach Abschluß der Installation
hinzugefügt werden.

6.3.2.1. Das root-Passwort setzen

Der root-Zugang wird auch Super-User genannt; es ist ein Benutzerzugang, der
alle Sicherheitsvorkehrungen auf Ihrem System umgeht. Der root-Zugang sollte
nur zur Systemadministration genutzt werden und dabei nicht länger als
unbedingt nötig.

Jedes Passwort, das Sie festlegen, sollte mindestens 6 Zeichen lang sein und
sowohl Groß- und Kleinbuchstaben als auch Sonderzeichen enthalten. Seien Sie
besonders sorgsam, wenn Sie das root-Passwort festlegen, da dies ein sehr
mächtiger Zugang ist. Vermeiden Sie Wörter, die in Lexika vorkommen und
verwenden Sie keine persönlichen Informationen, die man erraten könnte.

Falls irgend jemand Ihnen sagt, er bräuchte Ihr root-Passwort, seien Sie
besonders auf der Hut. Sie sollten normalerweise niemals Ihr root-Passwort
herausgeben, es sei denn, Sie verwalten einen Rechner mit mehreren
Systemadministratoren.

Wenn Sie hier kein Passwort für den "root"-Benutzer festlegen, führt das zur
Deaktivierung dieses Kontos, aber später wird das sudo-Paket installiert, damit
administrative Aufgaben auf dem neuen System durchgeführt werden können.
Standardmäßig wird in diesem Fall der erste auf dem System eingerichtete
Benutzer die Berechtigung erhalten, den sudo-Befehl zu verwenden, um root zu
werden.

6.3.2.2. Einen normalen Benutzer anlegen

Das System fragt Sie an diesem Punkt, ob Sie einen normalen Benutzerzugang
anlegen möchten. Dies sollte Ihr hauptsächlicher persönlicher Login sein. Sie
sollten nicht den root-Zugang für die tägliche Arbeit oder als persönlichen
Login benutzen.

Warum nicht? Nun, ein Grund, keine root-Privilegien zu nutzen, ist der, dass
man als Superuser leicht irreparable Schäden anrichten kann! Ein anderer ist,
dass Sie Gefahr laufen könnten, ein Trojanisches Pferd zu starten - das ist ein
Programm, das sich die Superuser-Rechte zunutze macht, um die Sicherheit Ihres
System hinter Ihrem Rücken zu kompromittieren. Jedes gute Buch über die
Administration eines Unix-Systems wird dieses Thema detaillierter behandeln -
Sie sollten eines lesen, wenn dies Neuland für Sie ist.

Sie werden nach dem vollen Namen des Benutzers gefragt. Danach wird ein Name
für den Benutzerzugang verlangt. Grundsätzlich ist Ihr Vorname oder etwas
ähnliches hier gut geeignet; deshalb ist dieser auch die Standardvorgabe. Dann
müssen sie noch ein Passwort für diesen Zugang angeben.

Wenn Sie zu irgendeinem Zeitpunkt nach der Installation einen weiteren Benutzer
anlegen möchten, benutzen Sie das adduser-Kommando.

6.3.3. Konfiguration der Uhr und Zeitzone

Der Installer wird zunächst versuchen, einen Zeit-Server im Internet zu
kontaktieren (mittels dem NTP-Protokoll), um die Systemzeit korrekt
einzustellen. Falls dies nicht gelingt, geht der Installer davon aus, dass
Datum und Zeit so, wie sie beim Start des Installationssystems von der CMOS-Uhr
empfangen wurden, korrekt sind. Es ist während des Installationsprozesses nicht
möglich, die Systemzeit manuell einzustellen.

Abhängig vom Standort, der vorher während des Installationsprozesses ausgewählt
wurde, könnte Ihnen eine Liste mit für diesen Ort relevanten Zeitzonen
präsentiert werden. Wenn Ihr Land nur eine Zeitzone hat und Sie eine
Standardinstallation durchführen, werden Sie nicht gefragt, das System wählt
einfach diese Zeitzone aus.

Im Experten-Modus oder bei Installation mit Priorität medium haben Sie die
zusätzliche Option, "Coordinated Universal Time" (UTC, Koordinierte Weltzeit)
als Zeitzone auszuwählen.

Falls Sie aus irgendeinem Grund eine Zeitzone für das zu installierende System
einstellen möchten, die nicht zu dem ausgewählten Standort gehört, gibt es zwei
Möglichkeiten:

 1. Das Einfachste ist, eine andere Zeitzone zu wählen, nachdem die
    Installation abgeschlossen ist und Sie das neue System gebootet haben. Der
    Befehl dazu ist:

    # dpkg-reconfigure tzdata

 2. Alternativ kann die Zeitzone direkt beim Start der Installation gesetzt
    werden, indem Sie den Parameter time/zone=Wert anhängen, wenn Sie den
    Installer booten. Der Wert sollte natürlich eine gültige Zeitzone sein,
    z.B. Europe/Berlin oder UTC.

Bei automatisierten Installationen kann die Zeitzone mittels Voreinstellung auf
jeden gewünschten Wert gesetzt werden.

6.3.4. Partitionierung und Auswahl der Einbindungspunkte im Dateisystem

Jetzt, nachdem die Hardware-Erkennung ein letztes Mal durchgeführt wurde,
sollte der debian-installer seine volle Funktionalität erreicht haben, optimal
abgestimmt auf die Bedürfnisse des Benutzers und bereit, mit der richtigen
Arbeit zu beginnen. Wie der Titel dieses Abschnitts erkennen lässt, liegt die
Hauptaufgabe der jetzt folgenden Komponenten im Partitionieren Ihrer Laufwerke,
Erstellen von Dateisystemen, Festlegen der Einbindungspunkte sowie damit eng
verwandten Optionen wie der Einrichtung von RAID, LVM oder verschlüsselten
Laufwerken.

Wenn Sie sich mit Partitionierung nicht auskennen oder einfach mehr Details
benötigen lesen Sie Anhang C, Partitionieren für eine Debian-Installation.

Zuerst wird Ihnen die Auswahl geboten, automatisch entweder eine gesamte Platte
zu partitionieren oder nur den freien Speicherplatz auf einer Platte, falls
solcher vorhanden ist. Dies wird auch als "Geführte Partitionierung"
bezeichnet. Wenn Sie keine automatische Partitionierung wollen, wählen Sie 
Manuell.

6.3.4.1. Unterstützte Partitionierungsoptionen

Der im debian-installer verwendete Partitionierer ist ziemlich vielseitig. Er
erlaubt die Erstellung vieler verschiedener Partitionierungsschemata sowie die
Verwendung von verschiedenen Partitionstabellen, Dateisystemen und erweiterten
blockorientierten Geräten.

Welche Optionen genau verfügbar sind, hängt hauptsächlich von der
Systemarchitektur ab, aber auch von einigen weiteren Faktoren. Auf Systemen mit
begrenztem Arbeitsspeicher könnten zum Beispiel einige Optionen nicht verfügbar
sein. Auch die Standardwerte können variieren. So kann zum Beispiel der Typ der
verwendeten Partitionstabelle bei einer Festplatte mit sehr großer Kapazität
ein anderer sein als bei kleinen Festplatten. Einige Optionen können nur
verändert werden, wenn mit mittlerer oder niedriger Priorität installiert wird;
bei höheren Prioritäten werden sichere Standardwerte verwendet.

Der Installer unterstützt verschiedene Formen der fortgeschrittenen
Partitionierung sowie der Verwendung von Speichergeräten, die in vielen Fällen
auch kombiniert genutzt werden können.

  • Logical Volume Management (LVM)

  • Software-RAID

    Unterstützt werden Level 0, 1, 4, 5, 6 und 10.

  • Verschlüsselung

  • Serial ATA-RAID (unter Verwendung von dmraid)

    auch "fake RAID" oder "BIOS RAID" genannt. Unterstützung für Serial
    ATA-RAID ist derzeit nur verfügbar, wenn es bereits beim Booten des
    Installers aktiviert wird. Weitere Informationen dazu finden Sie in unserem
    Wiki.

  • Multipath (experimentell)

    Lesen Sie unser Wiki bezüglich weiterer Informationen. Unterstützung für
    Multipath ist derzeit nur verfügbar, wenn es bereits beim Booten des
    Installers aktiviert wird.

Die folgenden Dateisysteme werden unterstützt:

  • ext2, ext3, ext4

    Das Standard-Dateisystem ist in den meisten Fällen ext4; für /
    boot-Partitionen wird bei geführter Partitionierung standardmäßig ext2
    verwendet.

  • jfs (nicht auf allen Architekturen verfügbar)

  • xfs (nicht auf allen Architekturen verfügbar)

  • reiserfs (optional; nicht auf allen Architekturen verfügbar)

    Unterstützung für das Reiser-Dateisystem ist nicht mehr standardmäßig
    verfügbar. Wenn der Installer mit mittlerer oder niedriger Priorität
    gestartet wird, kann es durch Auswahl der Komponente partman-reiserfs zur
    Verfügung gestellt werden. Es wird nur Version 3 des Dateisystems
    unterstützt.

  • qnx4

    Vorhandene Paritionen werden erkannt und es können diesen auch
    Einbindungspunkte zugeordnet werden. Es ist nicht möglich, neue
    qnx4-Partitionen zu erstellen.

  • FAT16, FAT32

  • NTFS (nur Lesen)

    Vorhandene Partitionen können in der Größe verändert und es können diesen
    auch Einbindungspunkte zugeordnet werden. Es ist nicht möglich, neue
    NTFS-Partitionen zu erstellen.

6.3.4.2. Geführte Partitionierung

Wenn Sie Geführte Partitionierung wählen, haben Sie drei Möglichkeiten:
Partitionen direkt auf der Festplatte erzeugen (die klassische Methode), LVM
(Logical Volume Management) benutzen oder verschlüsseltes LVM benutzen^[9].

Anmerkung

Die Option zur Nutzung von LVM (Standard oder verschlüsselt) ist möglicherweise
nicht auf allen Architekturen verfügbar.

Bei der Verwendung von LVM oder verschlüsseltem LVM erzeugt der Installer die
meisten Partitionen innerhalb einer großen Partition; der Vorteil dabei ist,
dass die Partitionen innerhalb der großen Partition sehr einfach nachträglich
in der Größe verändert werden können. Im Fall von verschlüsseltem LVM ist die
große Partition ohne Kenntnis einer speziellen Passphrase nicht lesbar und
bietet deshalb zusätzliche Sicherheit Ihrer (persönlichen) Daten.

Wenn Sie verschlüsseltes LVM verwenden, wird der Installer auch automatisch die
Festplatte löschen, indem Zufallsdaten darauf geschrieben werden. Dies
verbessert zusätzlich die Sicherheit (da es so unmöglich ist zu erkennen,
welche Teile der Platte genutzt werden und außerdem alle Spuren von früheren
Installationen gelöscht werden), könnte aber einiges an Zeit benötigen,
abhängig von der Größe der Festplatte.

Anmerkung

Wenn Sie Geführte Partitionierung (mittels LVM oder verschlüsseltem LVM)
wählen, müssen einige Änderungen in der Partitionstabelle auf die ausgewählten
Festplatten geschrieben werden, während LVM eingerichtet wird. Diese Änderungen
löschen effektiv alle Daten, die zu dieser Zeit auf den entsprechenden
Festplatten gespeichert sind und sind nicht rückgängig zu machen! Der Installer
fordert Sie aber auf, diese Änderungen zu bestätigen, bevor sie auf die Platten
geschrieben werden.

Nachdem Sie Geführte Partitionierung (entweder klassisch oder mittels
(verschlüsseltem) LVM) für eine ganze Festplatte ausgewählt haben, müssen Sie
die Platte angeben, die Sie nutzen möchten. Überprüfen Sie, ob alle Ihre
Festplatten aufgelistet sind und, falls Sie mehrere haben, achten Sie darauf,
dass Sie die richtige wählen. Die Reihenfolge, in der sie aufgelistet sind,
könnte anders sein, als sie es gewohnt sind. Die Größe der Festplatten kann
Ihnen helfen, sie zu identifizieren.

Alle Daten auf den ausgewählten Festplatten könnten verloren gehen, aber Sie
werden immer aufgefordert, jegliche Änderungen zu bestätigen, bevor sie auf die
Festplatten geschrieben werden. Wenn Sie die klassische Partitionierungsmethode
gewählt haben, können Sie bis zuletzt alle Änderungen rückgängig machen; bei
der Verwendung von LVM (Standard oder verschlüsselt) ist dies nicht möglich.

Als nächstes können Sie aus der Liste ein Partitionsschema auswählen. Alle
Schemata haben ihre Vor- und Nachteile, von denen einige im Anhang C, 
Partitionieren für eine Debian-Installation erörtert sind. Wenn Sie sich nicht
sicher sind, wählen Sie die erste Möglichkeit. Beachten Sie, dass die
automatische Partitionierung ein gewisses Minimum an freiem Speicher benötigt.
Wenn Sie nicht mindestens 1GB Platz (abhängig vom gewählten Schema) zur
Verfügung stellen, wird die automatische Partitionierung fehlschlagen.

┌─────────────────────────────┬────────────────────────────┬──────────────────┐
│   Partitionierungsschema    │ Mindestens erforderlicher  │    Erstellte     │
│                             │      Festplattenplatz      │   Partitionen    │
├─────────────────────────────┼────────────────────────────┼──────────────────┤
│Alle Dateien in eine         │600MB                       │/, Swap           │
│Partition                    │                            │                  │
├─────────────────────────────┼────────────────────────────┼──────────────────┤
│Separate /home-Partition     │500MB                       │/, /home, Swap    │
├─────────────────────────────┼────────────────────────────┼──────────────────┤
│Separate /home-, /var- und / │1GB                         │/, /home, /var, / │
│tmp-Partitionen              │                            │tmp, Swap         │
└─────────────────────────────┴────────────────────────────┴──────────────────┘

Wenn Sie Geführte Partitionierung mit LVM (Standard oder verschlüsselt) wählen,
wird der Installer zusätzlich eine separate /boot-Partition erzeugen. Alle
anderen Partitionen (inklusive Swap) werden innerhalb der LVM-Partition
erstellt.

Wenn Sie im EFI-Modus gebootet haben, wird bei der Geführten Partitionierung
eine zusätzliche Partition, formatiert als boot-fähiges FAT32-Dateisystem, für
den EFI-Bootloader erstellt. Diese Partition ist als EFI System Partition (ESP)
bekannt. Es gibt ebenfalls einen zusätzlichen Menüpunkt im Format-Menü, um eine
Partition manuell als ESP einzurichten.

Nachdem Sie ein Schema ausgewählt haben, erscheint im nächsten Bild Ihre neue
Partitionstabelle mit Informationen darüber, ob und wie die Partitionen
formatiert werden und wo sie ins Dateisystem eingebunden werden.

Die Liste der Partitionen sieht in ihrer Struktur ähnlich aus wie diese:

  SCSI1 (0,0,0) (sda) - 6.4 GB WDC AC36400L
        #1 primär    16.4 MB  B f ext2       /boot
        #2 primär   551.0 MB      swap       swap
        #3 primär     5.8 GB      ntfs
           pri/log    8.2 MB      FREIER SPEICHER

  SCSI2 (1,0,0) (sdb) - 80.0 GB ST380021A
        #1 primär    15.9 MB      ext3
        #2 primär   996.0 MB      fat16
        #3 primär     3.9 GB      xfs        /home
        #5 logisch    6.0 GB    f ext4       /
        #6 logisch    1.0 GB    f ext3       /var
        #7 logisch  498.8 MB      ext3

Dieses Beispiel zeigt, wie zwei Festplatten in mehrere Partitionen aufgeteilt
wurden; die erste Platte enthält noch etwas freien Platz. Jede dieser Zeilen
mit jeweils einer Partition besteht aus der Partitionsnummer, dem Typ (primär,
erweitert, logisch), der Größe, optionalen Markierungen, dem Dateisystemtyp und
dem Einbindungspunkt im Dateisystem (falls vorhanden). Hinweis: dieses
spezielle Setup kann nicht mittels Geführter Partitionierung erstellt werden,
aber es zeigt mögliche Variationen, die mit manueller Partitionierung erreicht
werden können.

Hiermit ist die Vorauswahl der automatischen Partitionierung beendet. Wenn Sie
mit der erstellten Partitionstabelle zufrieden sind, wählen Sie Partitionierung
beenden und Änderungen übernehmen, um die neue Partitionstabelle zu aktivieren
(wie am Ende dieses Kapitels beschrieben). Sind Sie nicht zufrieden, können Sie
Änderungen an den Partitionen rückgängig machen wählen, um die automatische
Partitionierung erneut zu starten, oder Sie nehmen die Vorschläge als Basis und
führen daran noch manuelle Änderungen durch, wie unten für das manuelle
Partitionieren erläutert.

6.3.4.3. Manuelle Partitionierung

Ein ähnliches Bild wie oben wird Ihnen angezeigt, wenn Sie "Manuell" wählen,
mit dem Unterschied, dass Ihre derzeit existierende Partitionstabelle angezeigt
wird, aber die Einbindungspunkte fehlen. Wie Sie die Partitionstabelle manuell
einrichten (sowie einiges über die Nutzung der Partitionen durch Ihr neues
Debian-System) wird im Rest dieses Kapitels beschrieben.

Wenn Sie eine neue, unberührte Platte auswählen, die weder Partitionen noch
freien Speicher enthält, werden Sie gefragt, ob eine neue Partitionstabelle
erstellt werden soll (dies ist nötig, um neue Partitionen anlegen zu können).
Danach sollte eine neue Zeile "FREIER SPEICHER" in der Tabelle unter den
ausgewählten Festplatten erscheinen.

Wenn Sie eine Zeile mit freiem Speicher auswählen, haben Sie die Gelegenheit,
eine neue Partition zu erstellen. Sie müssen einige Fragen über ihre Größe, den
Typ (primär oder logisch) und die Lage auf der Platte (am Anfang oder am Ende
des freien Speicherbereichs) beantworten. Danach wird eine detaillierte
Übersicht der neuen Partition angezeigt. Die wichtigste Option hier ist 
Benutzen als:, welche festlegt, ob die Partition ein Dateisystem enthalten soll
oder als Swap, Software-RAID, LVM, verschlüsseltem LVM oder überhaupt nicht
verwendet werden soll. Andere Einträge enthalten den Einbindungspunkt im
zukünftigen Dateisystem, Optionen zum Einbinden und die "Boot-Flag"-Markierung
(ob die Partition bootfähig ist oder nicht). Welche Einträge angezeigt werden,
hängt von der Art der Nutzung der Partition ab. Falls Ihnen die gewählten
Standardwerte nicht zusagen, scheuen Sie sich nicht, sie Ihren Bedürfnissen
entsprechend zu ändern. Z.B. können Sie mittels der Benutzen als:-Option ein
anderes Dateisystem für die Partition auswählen sowie haben die Möglichkeit,
die Partition als Swap (um Arbeitsspeicher auf die Platte auszulagern),
Software-RAID, LVM oder überhaupt nicht zu nutzen. Wenn Sie mit der neu
erstellten Partition zufrieden sind, wählen Sie Anlegen der Partition beenden,
um zurück zum partman-Hauptbildschirm zu gelangen.

Wenn Sie meinen, noch etwas an Ihren Partitionen ändern zu müssen, wählen Sie
einfach eine aus und Sie kommen zum Partitions-Konfigurationsmenü. Dies ist das
gleiche Bild wie beim Erstellen von Partitionen; deshalb stehen auch die
gleichen Optionen zur Auswahl. Eine Sache, die vielleicht auf den ersten Blick
nicht ganz einleuchtend sein könnte, ist die Möglichkeit, eine Partition in der
Größe zu verändern, indem Sie das Element auswählen, das die Größe anzeigt.
Dateisysteme, bei denen das bekanntermaßen funktioniert, sind FAT16, FAT32,
EXT2, EXT3 und Swap. In diesem Menü ist es ebenfalls möglich, eine Partition zu
löschen.

Sie müssen mindestens zwei Partitionen erzeugen: eine für das root-Dateisystem
(das als / eingebunden werden muss) und eine für Swap. Falls Sie vergessen, die
Root-Partition einzubinden, gestattet partman Ihnen nicht, fortzufahren, bis
diese Angelegenheit behoben ist.

Falls Sie im EFI-Modus gebootet, aber vergessen haben, eine EFI System
Partition auszuwählen und zu formatieren, wird partman dies erkennen und lässt
Sie nicht weiter fortfahren, bis Sie eine zugewiesen haben.

Die Fähigkeiten von partman können mittels zusätzlicher Installer-Module noch
ausgebaut werden, dies ist allerdings abhängig von Ihrer Systemarchitektur.
Falls also nicht alle angekündigten Optionen sichtbar sind, stellen Sie sicher,
dass die erforderlichen Module geladen sind (wie z.B. partman-ext3, partman-xfs
oder partman-lvm).

Wenn Sie mit der Partitionierung zufrieden sind, wählen Sie Partitionierung
beenden und Änderungen übernehmen aus dem Partitionierungsmenü. Es wird eine
Zusammenfassung aller Änderungen, die vorgenommen wurden, angezeigt und Sie
werden aufgefordert, die Erstellung der Dateisysteme zu bestätigen.

6.3.4.4. "Multidisk Devices" (Software-RAID) konfigurieren

Wenn Sie mehr als eine Festplatte in Ihrem Rechner haben ^[10], können Sie 
partman-md für die Einrichtung Ihrer Festplatten benutzen, um die Performance
zu erhöhen und/oder eine höhere Datensicherheit zu erreichen. Das Ergebnis
nennt sich Multidisk Device (oder nach der bekanntesten Variante auch
Software-RAID).

MD ist im Prinzip ein Verbund von Partitionen auf unterschiedlichen
Festplatten, die zu einer Art logischem Laufwerk zusammengefasst sind. Dieses
Laufwerk kann wie eine gewöhnliche Partition genutzt werden (z.B. kann man es
mit partman formatieren, einen Einbindungspunkt festlegen usw.).

Welchen Vorteil Ihnen das bringt, hängt vom Typ des MD-Laufwerks ab. Im Moment
werden unterstützt:

RAID0

    Dieser Typ zielt hauptsächlich auf die Performance ab. RAID0 splittet alle
    ankommenden Daten in Stripes (Streifen) und verteilt sie gleichmäßig auf
    alle Festplatten im Verbund. Dies kann die Geschwindigkeit von Schreib-/
    Leseoperationen erhöhen, wenn jedoch eins der Laufwerke ausfällt, verlieren
    Sie alle Daten (ein Teil der Informationen ist immer noch auf einem/
    mehreren funktionierenden Laufwerk(en), der andere Teil war auf der
    defekten Platte).

    Ein typischer Anwendungsfall für RAID0 ist eine Partition zum Editieren von
    Videos.

RAID1

    Dieser Typ eignet sich für Setups, wo die Datensicherheit das oberste Gebot
    ist. RAID1 besteht aus mehreren (gewöhnlich zwei) gleich großen
    Partitionen, wobei beide Partitionen exakt die gleichen Daten enthalten.
    Dies bedeutet dreierlei. Erstens: wenn eine Disk ausfällt, haben Sie immer
    noch die gespiegelten Daten auf den anderen Laufwerken. Zweitens: Sie
    können nur einen Teil der tatsächlichen Kapazität nutzen (genauer gesagt
    die Größe der kleinsten Partition im Verbund). Drittens: Bei
    Dateileseoperationen wird die Last auf die Festplatten aufgeteilt; dies
    kann die Performance auf einem Server verbessern, z.B. auf einem
    Dateiserver, der mehr Lese- als Schreibvorgänge tätigt.

    Zusätzlich können Sie eine Reserve-Disk im Verbund haben, die im Fehlerfall
    den Platz des defekten Laufwerks einnimmt.

RAID5

    Dies ist ein guter Kompromiss zwischen Geschwindigkeit, Datensicherheit und
    Redundanz. RAID5 splittet alle ankommenden Daten in kleine Teile (Stripes)
    und verteilt Sie gleichmäßig auf alle Laufwerke außer einem (vergleichbar
    zu RAID0). Im Unterschied zu RAID0 erzeugt der RAID5-Typ zusätzlich
    Paritäts-Informationen, die auf die verbleibende Disk geschrieben werden.
    Die Paritäts-Disk ist nicht statisch festgelegt (dies wäre RAID4), sondern
    wechselt periodisch, so dass die Paritäts-Informationen gleichmäßig auf
    allen Platten vorhanden sind. Wenn eine Festplatte ausfällt, können die
    fehlenden Informationen aus den verbleibenden Daten und Ihrer Parität
    wiederhergestellt werden. Ein RAID5-Verbund muss aus mindestens drei
    aktiven Partitionen bestehen. Zusätzlich können Sie eine Reserve-Disk im
    Verbund haben, die im Fehlerfall den Platz der defekten Platte einnimmt.

    Wie Sie sehen, erreicht RAID5 einen ähnlichen Grad an Betriebssicherheit
    wie RAID1, aber weniger Redundanz. Auf der anderen Seite könnte es bei
    Schreibvorgängen etwas langsamer sein, da zusätzlich die
    Paritätsinformationen errechnet werden müssen.

RAID6

    Vergleichbar mit RAID5, allerdings verwendet RAID6 zwei Paritäts-Disks
    statt einer.

    Ein RAID6-Array kann den Ausfall von bis zu zwei Festplatten überstehen.

RAID10

    RAID10 vereint das Aufteilen der Daten in kleine Teile (Stripes, wie in
    RAID0) mit dem Spiegeln von Festplatten (wie in RAID1). Es erzeugt n Kopien
    der ankommenden Daten und verteilt Sie so über die Partitionen, dass
    mehrere Kopien der gleichen Daten nie auf ein und derselben Festplatte
    liegen. Der Standardwert für n ist 2, aber er kann im Experten-Modus auch
    auf einen anderen Wert gesetzt werden. Die Zahl der verwendeten Partitionen
    muss mindestens n sein. RAID10 enthält verschiedene Layouts für das
    Verteilen der Daten-Kopien: Der Standard ist "near copies". Bei near copies
    liegen die Kopien an nahezu der gleichen Stelle auf allen Platten (ungefähr
    identischer Offset). Bei "far copies" ist der Offset auf den Festplatten
    unterschiedlich. "Offset copies" kopiert die Stripes (die aufgesplitteten
    Teile der Daten), nicht die individuellen Daten direkt.

    RAID10 kann genutzt werden, um Betriebssicherheit und Redundanz zu
    erreichen ohne den Nachteil, Parityinformationen berechnen zu müssen.

Um es nochmal zusammenzufassen:

┌──────┬─────────────┬────────────────┬───────────────┬───────────────────────┐
│      │Mindestanzahl│                │Übersteht einen│      Verfügbarer      │
│ Typ  │ benötigter  │Reserve-Laufwerk│Laufwerkscrash?│     Speicherplatz     │
│      │  Laufwerke  │                │               │                       │
├──────┼─────────────┼────────────────┼───────────────┼───────────────────────┤
│      │             │                │               │Größe der kleinsten    │
│RAID0 │2            │nein            │nein           │Partition multipliziert│
│      │             │                │               │mit der Anzahl der     │
│      │             │                │               │Laufwerke              │
├──────┼─────────────┼────────────────┼───────────────┼───────────────────────┤
│RAID1 │2            │optional        │ja             │Größe der kleinsten    │
│      │             │                │               │Partition im Verbund   │
├──────┼─────────────┼────────────────┼───────────────┼───────────────────────┤
│      │             │                │               │Größe der kleinsten    │
│RAID5 │3            │optional        │ja             │Partition multipliziert│
│      │             │                │               │mit (Anzahl der        │
│      │             │                │               │Laufwerke minus 1)     │
├──────┼─────────────┼────────────────┼───────────────┼───────────────────────┤
│      │             │                │               │Größe der kleinsten    │
│RAID6 │4            │optional        │ja             │Partition multipliziert│
│      │             │                │               │mit (Anzahl der        │
│      │             │                │               │Laufwerke minus 2)     │
├──────┼─────────────┼────────────────┼───────────────┼───────────────────────┤
│      │             │                │               │Summe aller Partitionen│
│RAID10│2            │optional        │ja             │dividiert durch die    │
│      │             │                │               │Anzahl der Daten-Kopien│
│      │             │                │               │(Standard ist 2)       │
└──────┴─────────────┴────────────────┴───────────────┴───────────────────────┘

Wenn Sie mehr über Software-RAID erfahren wollen, werfen Sie einen Blick in das
Software-RAID-HowTo.

Wenn Sie ein MD-Laufwerk erstellen möchten, müssen die beteiligten Partitionen
für die Nutzung im RAID gekennzeichnet werden. (Dies erledigen Sie in partman
in den Partitionseinstellungen, wo Sie unter Benutzen als: → Physikalisches
Volume für RAID auswählen.)

Anmerkung

Stellen Sie sicher, dass das System tatsächlich von dem Partitionsschema, das
Sie planen, booten kann. Grundsätzlich wird es notwendig sein, ein separates
Dateisystem für /boot zu erstellen, wenn RAID für das root-Dateisystem (/)
benutzt wird. Die meisten Bootloader (inklusive grub) unterstützen gespiegelte
RAID1-Systeme, jedoch keine gesplitteten! Es wäre also z.B. möglich, RAID5 für
/ und RAID1 für /boot zu verwenden.

Als nächstes wählen Sie Software-RAID konfigurieren aus dem partman-Hauptmenü.
(Das Menü erscheint nur, wenn Sie mindestens eine Partition für die Nutzung als
Physikalisches Volume für RAID markiert haben.) Im ersten Bild von partman-md
wählen Sie einfach MD-Gerät erstellen. Eine Liste unterstützter Typen von
MD-Laufwerken wird angezeigt, von denen Sie einen auswählen (z.B. RAID1). Die
folgenden Schritte unterscheiden sich abhängig davon, welchen Typ Sie gewählt
haben:

  • RAID0 ist einfach - Sie bekommen eine Liste der verfügbaren
    RAID-Partitionen und Sie müssen lediglich auswählen, aus welchen
    Partitionen das MD bestehen soll.

  • RAID1 ist ein wenig komplizierter. Als erstes müssen Sie die Anzahl der
    aktiven Laufwerke und der Reserve-Laufwerke angeben, aus denen das MD
    bestehen soll. Als nächstes wählen Sie aus der Liste der verfügbaren
    RAID-Partitionen diejenigen aus, die aktiv sein und diejenigen, die Reserve
    bleiben sollen. Die Gesamtanzahl der ausgewählten Partitionen muss mit der
    zuvor angezeigten Anzahl übereinstimmen. Aber keine Sorge, wenn Sie einen
    Fehler machen und eine falsche Anzahl Partitionen auswählen, wird der
    debian-installer dies nicht zulassen und Sie können erst fortfahren, wenn
    Sie dies korrigiert haben.

  • Die Einrichtungsprozedur von RAID5 ist ähnlich der von RAID1 mit der
    Ausnahme, dass Sie mindestens drei aktive Partitionen benutzen müssen.

  • Die Einrichtungsprozedur von RAID6 ist ebenfalls ähnlich zu der von RAID1,
    allerdings werden mindestens vier aktive Partitionen benötigt.

  • Auch RAID10 hat eine Einrichtungsprozedur, die der von RAID1 ähnlich ist,
    lediglich im Experten-Modus gibt es Unterschiede. Im Experten-Modus fragt
    der debian-installer nach dem gewünschten Layout. Das Layout besteht aus
    zwei Teilen. Der erste Teil ist der Layout-Typ. Dies kann n (für near
    copies), f (für far copies) oder o (für offset copies) sein. Der zweite
    Teil ist die Anzahl der Kopien, die von den Daten erstellt werden sollen.
    Es müssen mindestens so viele aktive Festplatten vorhanden sein, dass alle
    Kopien der Daten auf verschiedene Platten verteilt werden können.

Es ist uneingeschränkt möglich, verschiedene Typen von MDs gleichzeitig zu
benutzen. Wenn Sie zum Beispiel drei 200GB-Festplatten haben, die für MD
genutzt werden sollen, und jede enthält zwei 100GB-Partitionen, können Sie die
jeweils erste Partition auf allen drei Platten zu einem RAID0 kombinieren (eine
schnelle 300GB-Videobearbeitungs-Partition) und die anderen drei Partitionen
(zwei aktive und eine als Reserve) für ein RAID1 benutzen (eine hochverfügbare
100GB-Partition z.B. für /home).

Wenn Sie die MD-Laufwerke nach Ihren Wünschen eingerichtet haben, kehren Sie
mit Beenden zu partman zurück, um dort Dateisysteme auf Ihren neuen
MD-Laufwerken zu erstellen und die Attribute wie z.B. Einbindungspunkte
festzulegen.

6.3.4.5. Den "Logical Volume Manager" (LVM) konfigurieren

Wenn Sie als Systemadministrator oder "erfahrener" Benutzer mit Computern zu
tun haben, werden Sie bestimmt schon einmal die Situation erlebt haben, dass
auf einigen Festplattenpartitionen (meistens auf den wichtigsten) der freie
Platz knapp wurde, während einige andere Partitionen ziemlich ungenutzt waren,
und Sie mussten diese Situation lösen, indem Sie einige Sachen umlagerten,
symbolische Links verwendeten oder ähnliches.

Um die beschriebene Situation zu vermeiden, können Sie den "Logical Volume
Manager" (LVM) verwenden. Einfach ausgedrückt: mit LVM können Sie ihre
Partitionen (in der LVM-Sprache Physikalische Volumes genannt) zusammenfassen,
um eine virtuelle Festplatte (eine so genannte Volume-Gruppe) zu erstellen, die
dann wieder in virtuelle Partitionen (Logische Volumes) aufgeteilt wird. Der
Trick dabei ist, dass sich die Logischen Volumes (und damit natürlich auch die
darunter liegenden Volume-Gruppen) über mehrere physikalische Laufwerke
verteilen können.

Wenn Sie sich jetzt vorstellen, dass Sie mehr Platz auf Ihrer alten 160GB-/
home-Partition benötigen, können Sie einfach eine neue 300GB Festplatte in
Ihren Rechner einbauen, zu Ihrer vorhandenen Volume-Gruppe hinzufügen und dann
das Logische Volume, welches Ihr /home beherbergt, vergrößern und voilà - schon
haben Ihre Nutzer wieder Platz auf Ihrer erneuerten 460GB-Partition. Dieses
Beispiel ist natürlich etwas sehr stark vereinfacht. Falls noch nicht
geschehen, sollten Sie auf jeden Fall das LVM-HowTo lesen.

LVM im debian-installer einzurichten ist sehr einfach und wird vollständig von 
partman unterstützt. Als erstes müssen Sie die Partitionen festlegen, die als
Physikalische Volumes für LVM genutzt werden sollen (dies erledigen Sie im Menü
Partitionseinstellungen, wo Sie unter Benutzen als: → physikalisches Volume für
LVM auswählen).

Warnung

Bitte unbedingt beachten: durch eine neue LVM-Einrichtung werden alle Daten auf
all denjenigen Partitionen gelöscht, die mit einem LVM-Typ-Code markiert sind.
Wenn Sie also bereits ein LVM auf einigen Ihrer Festplatten haben, und Debian
zusätzlich auf diesem Rechner installieren möchten, wird das alte (bereits
vorhandene) LVM gelöscht! Das gleiche gilt für Partitionen, die (aus welchem
Grund auch immer) fälschlicherweise mit einem LVM-Typ-Code markiert sind, aber
irgendwelche anderen Daten enthalten (wie z.B. ein verschlüsseltes Volume). Sie
müssen daher solche Festplatten aus dem System entfernen, bevor Sie eine neue
LVM-Einrichtung starten!

Sobald Sie zum Hauptbildschirm von partman zurückkehren, finden Sie eine neue
Option Logical Volume Manager konfigurieren. Wenn Sie sie auswählen, müssen Sie
als Erstes anstehende Änderungen an der Partitionstabelle (falls es welche
gibt) bestätigen; danach wird das LVM-Konfigurationsmenü angezeigt. Über dem
Menü sehen Sie eine Zusammenfassung der LVM-Konfiguration. Das Menü selbst ist
kontext-abhängig: es werden nur gültige Aktionen angezeigt. Die möglichen
Aktionen sind:

  • Konfigurationsdetails anzeigen: zeigt die Struktur der LVM-Geräte, die
    Namen und Größen der Logischen Volumes usw.

  • Volume-Gruppe erstellen

  • Logisches Volume erstellen

  • Volume-Gruppe löschen

  • Logisches Volume löschen

  • Volume-Gruppe erweitern

  • Volume-Gruppe reduzieren

  • Fertigstellen: zurück zum partman-Hauptbildschirm

Verwenden Sie diese Optionen, um zunächst eine Volume-Gruppe zu erzeugen und
dann innerhalb dieser Ihre logischen Volumes anzulegen.

Wenn Sie zum partman-Hauptbildschirm zurückkehren, erscheinen dort die
erstellten Logischen Volumes wie gewöhnliche Partitionen (und sie sollten auch
als solche behandelt werden).

6.3.4.6. Verschlüsselte Dateisysteme konfigurieren

debian-installer erlaubt es, verschlüsselte Dateisysteme einzurichten. Jede
Datei, die auf eine solche Partition geschrieben wird, wird direkt in
verschlüsselter Form auf dem Gerät gespeichert. Zugriff auf die verschlüsselten
Daten wird nur nach Eingabe der korrekten Passphrase gewährt, die bei der
Erstellung der verschlüsselten Partition benutzt wurde. Diese Funktion ist z.B.
sinnvoll, um sensible Daten zu schützen für den Fall, dass Ihr Laptop oder Ihre
Festplatte gestohlen wird. Der Dieb kann zwar physikalischen Zugriff auf die
Platte haben, aber ohne Kenntnis der richtigen Passphrase werden die Daten wie
zufällig erzeugte Zeichen erscheinen.

Die beiden wichtigsten Partitionen, die Sie verschlüsseln sollten, sind: Ihre
Home-Partition, auf der Ihre privaten Daten liegen und die Swap-Partition, auf
der sensible Daten möglicherweise vorübergehend während des Betriebes
gespeichert werden könnten. Natürlich kann Sie nichts davon abhalten, auch
irgendeine andere Partition zu verschlüsseln, die vielleicht von Interesse ist.
Zum Beispiel /var, wo Datenbankserver, Mailserver oder Printserver ihre Daten
ablegen, oder /tmp, das von verschiedensten Programmen genutzt wird, um
potentiell interessante temporäre Dateien zu speichern. Einige Leute möchten
vielleicht sogar ihr ganzes System verschlüsseln. Grundsätzlich ist ist die /
boot-Partition hier die einzige Ausnahme: sie muss unverschlüsselt bleiben.
Dies rührt daher, dass es historisch keinen Weg gab, einen Kernel von einer
verschlüsselten Partition zu laden. (GRUB ist seit neuestem hierzu in der Lage,
aber der debian-installer unterstützt dies derzeit noch nicht. Das Setup
hierfür ist daher in einer separaten Anleitung abgelegt.)

Anmerkung

Bedenken Sie bitte, dass die Performance von verschlüsselten Partitionen
geringer ist als die von unverschlüsselten, da die Daten für jeden Lese- und
Schreibvorgang ent- oder verschlüsselt werden müssen. Der
Performance-Unterschied ist abhängig von der Geschwindigkeit Ihrer CPU, der
gewählten Verschlüsselung und der Schlüssellänge.

Um Verschlüsselung zu benutzen, müssen Sie eventuell eine neue Partition
erstellen, indem Sie im Haupt-Partitionierungsmenu freien Speicher auswählen.
Eine andere Möglichkeit ist, eine vorhandene Partition (wie z.B. eine reguläre
Partition, ein logisches LVM-Volume oder ein RAID-Volume) zu verwenden. Im Menü
Partitionseinstellungen müssen Sie unter Benutzen als: den Punkt physikalisches
Volume für Verschlüsselung wählen. Es wird dann in ein anderes Menü gewechselt,
das verschiedene Verschlüsselungsoptionen für die Partition enthält.

Der debian-installer unterstützt die Verschlüsselungsmethode dm-crypt (in
neueren Linux-Kernel enthalten; hat die Fähigkeit, physikalische Volumes für
LVM beherbergen zu können).

Wir wollen jetzt die Optionen betrachten, die verfügbar sind, wenn Sie
Verschlüsselung via Device-mapper (dm-crypt) wählen. Generell gilt: wenn Sie
nicht sicher sind, verwenden Sie die Standardwerte, da sie unter
Berücksichtigung von Sicherheitsaspekten sorgfältig ausgewählt wurden.

Verschlüsselung: aes

    Mit dieser Option können Sie den Verschlüsselungsalgorithmus (cipher)
    wählen, der genutzt wird, um die Daten auf der Partition zu verschlüsseln.
    debian-installer unterstützt derzeit die folgenden Blockverschlüsselungen:
    aes, blowfish, serpent und twofish. Es ist nicht Ziel dieses Dokuments, die
    Qualitäten dieser verschiedenen Algorithmen zu diskutieren, aber vielleicht
    hilft es Ihnen bei der Entscheidung, wenn Sie wissen, dass AES im Jahre
    2000 vom American National Institute of Standards and Technology zum
    Standard-Verschlüsselungsalgorithmus für den Schutz sensibler Informationen
    im 21. Jahrhundert gewählt wurde.

Schlüssellänge: 256

    Hier können Sie die Länge des Schlüssels festlegen. Mit einem größeren
    Schlüssel wird generell die Stärke der Verschlüsselung erhöht. Auf der
    anderen Seite hat es für gewöhnlich einen negativen Einfluss auf die
    Performance, wenn die Länge des Schlüssels vergrößert wird. Die möglichen
    Schlüssellängen variieren abhängig vom gewählten Algorithmus.

IV-Algorithmus: xts-plain64

    Der Initialisierungsvektor oder auch IV-Algorithmus wird in der
    Kryptographie verwendet, um sicherzustellen, dass die mehrfache Anwendung
    einer Verschlüsselung auf den gleichen Klartext immer unterschiedliche,
    einzigartige geheime Zeichenfolgen ergibt. Dem liegt der Gedanke zugrunde,
    zu vermeiden, dass der Angreifer aufgrund von sich wiederholenden Mustern
    in den verschlüsselten Daten auf die zu schützenden Informationen schließen
    kann.

    Der Standardwert xts-plain64 ist unter den auszuwählenden Möglichkeiten
    derzeit der gegen bekannte Angriffe am wenigsten verwundbare. Sie sollten
    die anderen Alternativen nur verwenden, wenn Sie Kompatibilität zu früher
    installierten Systemen gewährleisten müssen, die die neueren Algorithmen
    nicht nutzen können.

Schlüssel: Passphrase

    Hier können Sie den Typ des Schlüssels für diese Partition wählen.

    Passphrase

        Der Schlüssel wird errechnet^[11] auf Basis einer Passphrase, die Sie
        später im Prozess eingeben müssen.

    Zufälliger Schlüssel

        Jedes Mal, wenn Sie versuchen, die verschlüsselte Partition zu
        aktivieren, wird ein neuer Schlüssel aus zufälligen Daten erzeugt. Mit
        anderen Worten: nach jedem Herunterfahren des Systems ist der Inhalt
        der Partition verloren, da der Schlüssel aus dem Speicher gelöscht
        wird. (Sie könnten natürlich versuchen, mittels einer
        Brute-Force-Attacke den Schlüssel zu erraten, aber dies wird innerhalb
        eines Menschenlebens wohl nicht machbar sein, es sei denn, es gibt eine
        unbekannte Schwäche im Verschlüsselungsalgorithmus.)

        Zufällige Schlüssel sind nützlich für Swap-Partitionen, da man sich
        nicht damit beschäftigen muss, sich an die Passphrase zu erinnern oder
        sensible Informationen vor dem Herunterfahren des Systems von der
        Swap-Partition zu löschen. Allerdings bedeutet dies, dass Sie nicht die
        "Suspend-to-Disk"-Funktion nutzen können, die neuere Linux-Kernel
        bieten, da es unmöglich sein wird, die Daten, die auf die
        Swap-Partition geschrieben wurden, nach dem nächsten Start
        wiederherzustellen.

Daten löschen: ja

    Legt fest, ob der Inhalt dieser Partition mit Zufallsdaten überschrieben
    werden soll, bevor die Verschlüsselung eingerichtet wird. Dies wird
    empfohlen, da es andernfalls für einen Angreifer möglich wäre, zu erkennen,
    welche Teile der Partition genutzt sind und welche nicht. Und zusätzlich
    wird hierdurch erschwert, übrig gebliebene Daten von früheren
    Installationen wiederherzustellen^[12].

Nachdem Sie die gewünschten Parameter für Ihre verschlüsselten Partitionen
festgelegt haben, kehren Sie in das Haupt-Partitionierungsmenü zurück. Dort
sollte es nun einen neuen Eintrag geben namens Verschlüsselte Datenträger
konfigurieren. Wenn Sie ihn auswählen, werden Sie aufgefordert, das Löschen von
zum Entfernen markierten Partitionen zu bestätigen sowie eventuell weiterer
Aktionen wie dem Schreiben einer neuen Partitionstabelle. Bei großen
Partitionen kann dies eine Weile dauern.

Als nächstes müssen Sie für Partitionen, bei denen die Nutzung einer Passphrase
festgelegt wurde, eine eben solche eingeben. Gute Passphrasen sollten länger
als 8 Zeichen sein, aus einer Mischung von Buchstaben, Zahlen und anderen
Zeichen bestehen und keine Wörter aus allgemeinen Wörterbüchern enthalten oder
Informationen, die leicht mit Ihnen in Verbindung gebracht werden könnten (wie
Geburtsdaten, Hobbies, Namen oder Kosenamen von Haustieren, Familienmitgliedern
oder Angehörigen etc.).

Warnung

Bevor Sie irgendeine Passphrase eingeben, sollten Sie sicherstellen, dass Ihre
Tastatur korrekt konfiguriert ist und die erwarteten Zeichen erzeugt. Wenn Sie
nicht sicher sind, können Sie auf die zweite virtuelle Konsole wechseln und
dort auf der Eingabeaufforderung einen Text eingeben. Dies stellt sicher, dass
Sie später keine Überraschung erleben, wenn Sie z.B. versuchen, eine Passphrase
auf einer qwerty-Tastatur einzugeben, während Sie bei der Installation ein
azerty-Layout verwendet haben. Diese Situation kann durch mehrere Gründe
hervorgerufen werden: vielleicht haben Sie während der Installation auf ein
anderes Tastaturlayout gewechselt oder das gewählte Layout ist eventuell noch
nicht eingerichtet gewesen, als Sie die Passphrase für das Root-Dateisystem
eingegeben haben.

Wenn Sie andere Verschlüsselungsmethoden statt Passphrase gewählt haben, um die
Schlüssel zu erzeugen, werden diese jetzt erzeugt. Da der Kernel in diesem
frühen Stadium der Installation eventuell noch nicht genügend
Zufallsinformationen (Entropy) gesammelt hat, kann dieser Prozess recht lange
dauern. Sie können die Erzeugung von Zufallsdaten beschleunigen, indem Sie z.B.
zufällig irgendwelche Tasten drücken oder indem Sie auf die Shell der zweiten
virtuellen Konsole wechseln und ein bisschen Netzwerk- und Festplattenverkehr
erzeugen (z.B. durch das Herunterladen von Dateien, indem Sie einige große
Dateien nach /dev/null schicken etc.) Dies wird für jede zu verschlüsselnde
Partition wiederholt.

Nachdem Sie zum Partitionierungsmenü zurückgekehrt sind, werden Ihnen alle
verschlüsselten Dateisysteme als zusätzliche Partitionen angezeigt, die auf die
gleiche Art konfiguriert werden können wie gewöhnliche Partitionen. Im
folgenden Beispiel sehen Sie ein mit dm-crypt verschlüsseltes Dateisystem.

Verschlüsseltes Volume (sda2_crypt) - 115.1 GB Linux device-mapper
     #1 115.1 GB  F ext3

Jetzt ist es Zeit, den Dateisystemen Einbindungspunkte zuzuweisen und
zusätzlich vielleicht die Dateisystemtypen zu ändern, falls die Standardwerte
Ihnen nicht zusagen.

Achten Sie auf die Identifikationskennungen, die in Klammern stehen (in diesem
Fall sda2_crypt) sowie auf die Einbindungspunkte, die Sie ihnen zugeordnet
haben. Sie benötigen diese Informationen später, wenn Sie das neue System
starten. Die Unterschiede zwischen einem normalen Boot-Prozess und einem
Boot-Prozess mit beteiligten verschlüsselten Dateisystemen wird später im
Abschnitt 7.2, "Verschlüsselte Dateisysteme einbinden" behandelt.

Wenn Sie mit dem Partitionierungsschema zufrieden sind, können Sie mit der
Installation fortfahren.

6.3.5. Installation des Basissystems

Obwohl dieser Schritt der am wenigsten problematische ist, benötigt er einen
erheblichen Teil der Zeit, da hier das komplette Basissystem heruntergeladen,
überprüft und entpackt wird. Wenn Sie einen langsamen Rechner oder eine
langsame Netzwerkverbindung haben, kann das schon einige Zeit dauern.

Während der Installation des Basissystems werden Meldungen über das Entpacken
von Paketen und das Setup auf tty4 umgeleitet. Sie können durch Drücken von Alt
+F4 auf dieses Terminal umschalten; um wieder zum Haupt-Installationsprozess
zurückzukehren, drücken Sie Alt+F1.

Die während dieser Phase erzeugten Meldungen über das Entpacken und das Setup
werden auch in /var/log/syslog gespeichert. Sie können Sie auch dort
beobachten, wenn die Installation über eine serielle Konsole erfolgt.

Als Teil der Installation wird ein Linux-Kernel installiert. In der
Standardprioritätseinstellung wählt der Installer einen für Sie aus, der am
besten zu Ihrer Hardware passt. Bei niedrigeren Prioritätseinstellungen können
Sie selbst aus einer Liste verfügbarer Kernel auswählen.

Wenn Pakete mittels dem Paketmanagementsystem installiert werden, wird dieses
standardmäßig auch solche Pakete mit installieren, die von den ursprünglich zu
installierenden vorgeschlagen werden ("Recommends"). Solche vorgeschlagenen
Pakete werden für die Kernfunktionalitäten der ausgewählten Software nicht
unbedingt benötigt, aber sie werten die Software auf und sollten - aus der
Sicht des Paketbetreuers - normalerweise mit installiert werden.

Anmerkung

Aus technischen Gründen werden für Pakete des Basissystems die vorgeschlagenen
Pakete ("Recommends") nicht mit installiert. Die oben beschriebene Regel greift
erst nach diesem Schritt des Installationsprozesses (nach der Installation des
Basissystems).

6.3.6. Installation zusätzlicher Software

Sie haben nun ein nutzbares, aber noch sehr eingeschränktes System. Die meisten
Benutzer werden zusätzliche Software auf dem System installieren wollen, um es
an ihre Anforderungen anzupassen, und der Installer ermöglicht dies auch.
Dieser Schritt kann sogar länger als die Installation des Basissystems dauern,
wenn Sie einen langsamen Rechner oder eine langsame Netzwerkverbindung haben.

6.3.6.1. apt konfigurieren

Eines der Programme, die zur Paketinstallation auf einem Debian GNU/
Linux-System verwendet werden können, ist apt aus dem Paket apt ^[13]. Es gibt
auch andere Bedienoberflächen (Frontends) für die Paketverwaltung, die anders
aussehen können, aber im Hintergrund die gleichen Prozesse nutzen; dies sind
z.B. aptitude oder synaptic. Diese Frontends werden für neue Debian-Benutzer
empfohlen, da sie einige zusätzliche Funktionen (wie Paketsuche und
Statusüberprüfungen) in einer hübschen Oberfläche integriert haben.

apt muss konfiguriert werden, so dass es weiß, woher es benötigte Pakete
bekommen kann. Das Ergebnis dieser Konfiguration wird in die Datei /etc/apt/
sources.list geschrieben. Sie können sie anschauen und an Ihre Bedürfnisse
anpassen, nachdem die Installation beendet ist.

Wenn Sie mit Standardpriorität installieren, kümmert sich der Installer
größtenteils automatisch um die Konfiguration, basierend auf der
Installationsmethode, die Sie nutzen, und unter Umständen auch durch Verwendung
von vorher im Installationsverlauf bereits von Ihnen getroffenen
Entscheidungen. In den meisten Fällen wird der Installer automatisch einen
Spiegel-Server für Sicherheitsaktualisierungen hinzufügen sowie, falls Sie die
Stable-Distribution installieren, einen Spiegel-Server für den "stable-updates"
-Service.

Wenn Sie mit einer niedrigeren Priorität installieren (z.B. im Experten-Modus),
haben Sie die Möglichkeit, mehr Entscheidungen selbst zu treffen. Sie können
wählen, ob Sie Sicherheitsaktualisierungen und "stable-updates" nutzen möchten
oder nicht und ob Sie Pakete aus den "contrib"- und "non-free"-Bereichen des
Archivs verwenden möchten.

6.3.6.1.1. Von mehr als einem CD/DVD-Image installieren

Wenn Sie von einem CD- oder DVD-Image installieren, das Teil eines Sets
mehrerer Images ist, wird der Installer Sie fragen, ob Sie weitere
Installationsmedien einlesen möchten. Wenn Sie solche Medien vorliegen haben,
sollten Sie dies tun, so dass der Installer die dort enthaltenen Pakete
verwenden kann.

Falls Sie jedoch keine weiteren Medien haben, ist dies kein Problem: es ist
nicht zwingend nötig, solche zu verwenden. Falls Sie auch keinen
Internet-Spiegel-Server verwenden (wie im nächsten Abschnitt beschrieben), kann
dies bedeuten, dass nicht alle Pakete installiert werden können, die Sie im
nächsten Schritt der Installation über die Programmgruppen auswählen.

Anmerkung

Pakete sind auf den Installationsmedien in der Reihenfolge Ihrer Popularität
enthalten. Dies bedeutet, dass für die meisten Anwendungsfälle nur die ersten
Images eines Sets benötigt werden; nur sehr wenige Leute benötigen wirklich
Pakete von den letzten Images eines Sets.

Das heißt ebenfalls, dass es einfach Geldverschwendung ist, einen kompletten
CD-Satz zu kaufen oder herunterzuladen und zu brennen, da Sie die meisten davon
nie nutzen werden. In den meisten Fällen werden Sie besser fahren, wenn Sie
sich lediglich die ersten 3 bis 8 CDs besorgen und alle weiteren, zusätzlichen
Pakete, die Sie benötigen könnten, über das Internet von einem Spiegel-Server
installieren. Das Gleiche gilt für DVD-Sets: die erste, oder vielleicht die
ersten zwei DVDs werden für die meisten Bedürfnisse ausreichen.

Falls Sie mehrere Installationsmedien einlesen, wird der Installer Sie
auffordern, das Medium auszutauschen, wenn Pakete von einem anderen Medium
benötigt werden, als gerade eingelegt/eingesteckt ist. Beachten Sie, dass nur
Medien eingelesen werden sollten, die zu dem gleichen Set gehören. Die
Reihenfolge, in der sie eingelesen werden, ist nicht wirklich von Bedeutung,
aber es reduziert die Wahrscheinlichkeit von Fehlern, wenn sie in aufsteigender
Reihenfolge eingelesen werden.

6.3.6.1.2. Einen Internet-Spiegel-Server verwenden

Eine Frage, die Ihnen in den meisten Fällen gestellt wird ist, ob Sie einen
Internet-Spiegel-Server als Paketquelle verwenden möchten oder nicht. Meistens
können Sie die Standardantwort übernehmen, aber es gibt einige Ausnahmen.

Falls Sie nicht von einem Komplett-CD/DVD-Image installieren, sollten Sie auf
jeden Fall einen Internet-Spiegel-Server verwenden, da Sie ansonsten nur ein
sehr minimalistisches System erhalten werden. Wenn Sie aber nur über eine
relativ langsame Internet-Verbindung verfügen, empfiehlt es sich wiederum, im
nächsten Schritt nicht die Arbeitsplatz-Programmgruppe zur Installation
auszuwählen.

Wenn Sie von einem Komplett-CD-Image installieren, ist es nicht zwingend
erforderlich, einen Internet-Spiegel-Server zu verwenden, aber es wird trotzdem
dringend empfohlen, da ein einzelnes CD-Image nur eine limitierte Anzahl von
Paketen enthält. Sollten Sie nur über eine relativ langsame Internet-Verbindung
verfügen, wird hier trotzdem empfohlen, keinen Internet-Spiegel-Server
auszuwählen, sondern die Installation unter der Verwendung der auf dem Medium
verfügbaren Pakete zu beenden und zusätzliche Pakete nach der Installation
hinzuzufügen (also nach dem Neustart, wenn Sie Ihr neues System gebootet
haben).

Wenn Sie von einem DVD-Image installieren, sollten alle Pakete, die während der
Installation benötigt werden, im ersten DVD-Image enthalten sein. Die Nutzung
eines Internet-Spiegel-Servers ist in diesen Fällen optional.

Ein Vorteil davon, einen Internet-Spiegel-Servers zu verwenden ist, dass
Aktualisierungen, die seit der Erstellung der CD/DVD-Images veröffentlicht
wurden und die Teil einer Zwischen-Veröffentlichung ("point release") waren,
sofort während der Installation verfügbar sind, so dass die Lebensdauer der
Installationsmedien verlängert wird, ohne die Sicherheit oder Stabilität des
installierten Systems zu beeinträchtigen.

Alles in allem: einen Internet-Spiegel-Server auszuwählen ist grundsätzlich
eine gute Idee, außer Sie haben eine langsame Internet-Verbindung. Wenn die
derzeit aktuellste Version eines Pakets auf dem Installationsmedium enthalten
ist, wird der Installer sie auf jeden Fall verwenden. Die Summe der
herunterzuladenen Daten (falls Sie einen Internet-Spiegel-Server auswählen)
hängt also von folgenden Faktoren ab:

 1. welche Programmgruppen Sie im nächsten Installationsschritt auswählen,

 2. welche Pakete für diese Programmgruppen benötigt werden,

 3. welche dieser Pakete auf den Installationsmedien, die Sie eingelesen haben,
    enthalten sind, und

 4. ob eventuell aktualisierte Versionen von Paketen, die auf den Medien
    enthalten sind, auf einem Internet-Spiegel-Server bereitstehen (entweder
    auf einem regulären Paket-Spiegel-Server oder auf einem Spiegel-Server für
    Sicherheitsaktualisierungen bzw. für "stable-updates").

Beachten Sie, dass eine Zwischen-Veröffentlichung ("point release") dazu führen
kann, dass einige Pakete über das Internet heruntergeladen werden könnten,
obwohl Sie keinen Internet-Spiegel-Server ausgewählt haben, nämlich wenn eine
Sicherheitsaktualisierung oder eine Aktualisierung aus "stable-updates" für
diese Pakete verfügbar ist und wenn die entsprechenden Dienste konfiguriert
wurden.

6.3.6.1.3. Auswahl eines Netzwerk-Spiegel-Servers

Basierend auf dem vorher in der Installation ausgewählten Land wird Ihnen eine
Liste von geografisch nahe gelegenen (und aufgrunddessen hoffentlich schnellen)
Netzwerk-Spiegel-Servern angezeigt (außer, Sie haben die Auswahl getroffen,
dass Sie keinen Netzwerk-Spiegel verwenden möchten). Der als Standard markierte
Server ist für gewöhnlich eine gute Wahl.

Der eingestellte Standard-Server ist deb.debian.org, was nicht direkt ein
Spiegel-Server ist, sondern ein Dienst, der Sie zu einem aktuellen und
schnellen Spiegel-Server weiterleitet. Diese Server unterstützen TLS (das
https-Protokoll) und IPv6. Dieser Dienst wird vom
Debian-System-Administration-Team (DSA) betreut.

Ein Spiegel-Server kann über "Daten von Hand eingeben" auch händisch festgelegt
werden. Sie können dann für den Spiegel einen Rechnernamen (host name) und
optional eine Portnummer angeben.Dies muss URL-basiert geschehen, d.h. wenn
eine IPv6-Adresse angegeben wird, muss diese in eckigen Klammern eingeschlossen
werden, z.B. "[2001:db8::1]".

Falls Ihr Computer sich in einem ausschließlichen IPv6-Netzwerk befindet (was
wahrscheinlich bei der großen Mehrheit der Nutzer nicht der Fall sein wird),
könnte der Standard-Spiegel-Server für Ihr Land unter Umständen nicht
funktionieren. Alle Spiegel in der Liste können via IPv4 erreicht werden, aber
nur einige via IPv6. Da der Anschluß von einzelnen Spiegel-Servern sich über
die Dauer der Zeit verändern kann, ist diese Information im Installer nicht
verfügbar. Wenn die Verbindung über IPv6 bei dem Standard-Spiegel-Server Ihres
Landes nicht funktioniert, können Sie entweder einen der anderen angebotenen
Spiegel ausprobieren oder Sie wählen "Daten von Hand eingeben". Sie können dann
"ftp.ipv6.debian.org" als Spiegel-Server eingeben, was ein Alias für einen über
IPv6 erreichbaren Server ist (obwohl dies für Sie nicht unbedingt der
schnellste sein muss).

6.3.6.2. Software auswählen und installieren

Während des Installationsprozesses wird Ihnen die Möglichkeit geboten,
zusätzliche Software zur Installation auszuwählen. Statt aber einzelne
Programme aus den 87573 derzeit verfügbaren Paketen herauszusuchen, zielt
dieser Punkt der Installation mehr darauf ab, aus vorbereiteten
Software-Zusammenstellungen die auszuwählen, die den künftigen Aufgaben des
Rechners am nächsten kommen.

Diese Programmgruppen (Tasks) repräsentieren eine lockere Zusammenstellung von
verschiedenen Aufgaben oder Dingen, die Sie mit Ihrem Computer erledigen
können, wie "Desktop-Umgebung" (Arbeitsplatzrechner), "Web-Server" (Inhalte für
das Internet bereitstellen) oder "SSH-Server" ^[14]. Abschnitt D.2,
"Festplattenplatz, der für die Programmgruppen benötigt wird" gibt eine
Übersicht über den erforderlichen Speicherplatz für die verschiedenen
Programmgruppen.

Einige der Programmgruppen sind unter Umständen vorgewählt, abhängig von der
Charakteristik des Rechners, den Sie installieren. Falls Sie mit der Vorauswahl
nicht zufrieden sind, können Sie sie ändern. Sie können sich sogar entscheiden,
an dieser Stelle gar keine Programmgruppen zu installieren.

Tipp

In der Standard-Benutzeroberfläche des Installers können Sie die Leertaste
benutzen, um den Auswahlzustand der Programmgruppen zu ändern.

Anmerkung

Durch die Installation der Programmgruppe "Arbeitsplatzrechner" wird eine
grafische Arbeitsplatz-Umgebung (Desktop-Umgebung) installiert.

Standardmäßig installiert der debian-installer die Gnome-Arbeitsplatz-Umgebung.
Es ist aber möglich, während der Installation interaktiv eine andere
Arbeitsplatz-Umgebung auszuwählen. Auch können mehrere Desktop-Umgebungen
gleichzeitig installiert werden, wobei es dabei allerdings Kombinationen geben
könnte, die so nicht installierbar sind.

Beachten Sie aber, dass dies nur funktionieren wird, wenn die Pakete, die für
die gewünsche Arbeitsplatz-Umgebung benötigt werden, auch verfügbar sind. Wenn
Sie von einem einzelnen Komplett-CD-Image installieren, müssen einige Pakete
möglicherweise von einem Spiegel-Server heruntergeladen werden, da diese Pakete
aufgrund des begrenzten Speicherplatzes in dem Image nicht enthalten sind. Eine
der verfügbaren Arbeitsplatz-Umgebungen auf diesem Weg zu installieren, sollte
gut funktionieren, wenn Sie von einem DVD-Image oder mit einer anderen
Installationsmethode installieren.

Die verschiedenen Server-Programmgruppen installieren grob gesagt folgende
Software: Web-Server: apache2; SSH-Server: openssh.

Die Programmgruppe "Standard-System" wird jedes Paket mit der Priorität "
standard" installieren. Dazu gehören viele grundsätzliche Werkzeuge, die
normalerweise auf einem Linux- oder Unix-System vorhanden sind. Sie sollten
diese Gruppe ausgewählt lassen, außer Sie wissen, was Sie tun und möchten ein
absolut minimalistisches System.

Wenn Sie bei der Sprachauswahl als Standard-Gebietsschema nicht "C" ausgewählt
haben, wird tasksel überprüfen, ob für diese Locale irgendwelche
Lokalisierungs-Programmgruppen definiert sind. Falls dies der Fall ist, wird
automatisch versucht, die entsprechenden Lokalisierungspakete zu installieren.
Dazu gehören zum Beispiel Pakete, die Wortlisten oder spezielle Schriftarten
für Ihre Sprache enthalten. Falls eine Arbeitsplatz-Umgebung zur Installation
ausgewählt wurde, werden auch die passenden Lokalisierungspakete dazu
installiert (falls solche verfügbar sind).

Wenn Sie die gewünschten Programmgruppen ausgewählt haben, drücken Sie Weiter. 
apt wird jetzt alle Pakete, die zu den gewählten Programmgruppen gehören,
installieren. Wenn ein Programm zusätzliche Informationen vom Benutzer
benötigt, werden Sie während dieses Installationsschrittes danach gefragt.

Sie sollten beachten, dass besonders die Programmgruppe Arbeitsplatzrechner
sehr groß ist. Speziell wenn Sie von einer normalen CD-ROM installieren und
zusätzliche Pakete, die dort nicht enthalten sind, von einem Spiegel-Server
beziehen, muss der Installer unter Umständen sehr viele Pakete über das
Netzwerk herunterladen. Falls Sie eine relativ langsame Internetverbindung
haben, kann dies recht lange dauern. Es gibt keine Möglichkeit, die
Installation der Pakete abzubrechen, wenn sie einmal gestartet wurde.

Sogar wenn Pakete auf der CD-ROM enthalten sind, könnte der Installer sie
trotzdem über das Internet herunterladen, wenn die auf dem Spiegel-Server
verfügbare Version neuer ist als die auf der CD-ROM. Falls Sie die
Stable-Distribution installieren, kann dies vorkommen, wenn eine
Zwischen-Aktualisierung von Stable stattgefunden hat (ein sogenanntes
Point-Release; hierbei werden Pakete aktualisiert, um Sicherheitslücken oder
gravierende Fehler zu beheben). Falls Sie Testing installieren, kann dies
passieren, wenn Sie ein älteres CD-Image verwenden.

6.3.7. Ihr System boot-fähig machen

Wenn Sie gerade ein Arbeitsplatzsystem ohne Festplatte installieren, ist das
Booten von Festplatte natürlich keine sinnvolle Sache; deswegen wird der
Schritt in diesem Fall übersprungen.

6.3.7.1. Andere Betriebssysteme erkennen

Bevor ein Bootloader installiert wird, versucht der Installer, andere
Betriebssysteme, die eventuell auf dem Rechner installiert sind, zu erkennen.
Wird ein unterstütztes Betriebssystem gefunden, werden Sie darüber während der
Installation des Bootloaders informiert und der Computer wird so konfiguriert,
dass dieses andere System zusätzlich zu Debian gestartet werden kann.

Bedenken Sie, dass es immer noch so etwas wie schwarze Magie ist, mehrere
Betriebssysteme auf einem Rechner zu booten. Die automatische Unterstützung,
andere Betriebssysteme zu erkennen und den Bootloader passend einzurichten,
variiert abhängig von der Architektur oder sogar der Unterarchitektur. Falls es
nicht funktioniert, konsultieren Sie die Dokumentation Ihres Bootloaders
bezüglich detaillierter Informationen.

6.3.7.2. Den grub-Bootloader auf einem Laufwerk installieren

Der Bootloader für amd64 ist grub. Grub ist ein flexibler und robuster
Bootloader und eine gute Wahl sowohl für Linux-Neulinge als auch für erfahrene
Nutzer.

Standardmäßig wird grub in die UEFI-Partition/den Boot Record installiert, wo
er die volle Kontrolle über den Boot-Prozess übernimmt. Wenn Sie es vorziehen,
können Sie ihn auch woanders installieren. Das grub-Handbuch enthält
vollständige Informationen.

Wenn Sie grub nicht installieren möchten, verwenden Sie den Zurück-Button, um
zum Hauptmenü zu gelangen und dort den Bootloader auszuwählen, den Sie nutzen
möchten.

6.3.7.3. Ohne Bootloader fortfahren

Diese Option kann benutzt werden, um die Installation zu beenden, obwohl kein
Bootloader installiert wird, sei es, weil die Architektur/Unterarchitektur
keinen unterstützt oder weil keiner gewünscht wird (z.B. weil ein vorhandener
Bootloader benutzt werden soll).

Wenn Sie vorhaben, Ihren Bootloader manuell zu konfigurieren, sollten Sie den
Namen des installierten Kernels in /target/boot überprüfen. Sie sollten in
diesem Verzeichnis ebenfalls kontrollieren, ob eine initrd (Initial RAM-Disk)
vorhanden ist; falls eine existiert, müssen Sie Ihren Bootloader unter
Umständen anweisen, sie zu benutzen. Weitere Informationen, die Sie benötigen,
sind die Festplatte und die Partition, die Sie für Ihr /-Dateisystem gewählt
haben sowie für /boot (falls Sie /boot auf einer separaten Partition angelegt
haben).

6.3.8. Die Installation beenden

Dies ist der letzte Schritt im Debian-Installationsprozess, es werden noch
einige letzte Aufgaben erledigt. Hauptsächlich geht es darum, nach der
Installation ein wenig aufzuräumen.

6.3.8.1. Die Systemuhr stellen

Der Installer fragt Sie vielleicht, ob die Uhr des Computers auf UTC (Universal
Coordinated Time, koordinierte Weltzeit) eingestellt ist. Die Frage wird nach
Möglichkeit unterdrückt und der Installer versucht selbst herauszufinden, ob
die Uhr auf UTC eingestellt ist, basierend auf verschiedenen Dingen wie z.B.
welche anderen Betriebssysteme installiert sind.

Im Experten-Modus haben Sie immer die Möglichkeit anzugeben, ob die Uhr auf UTC
eingestellt ist oder nicht. Auf Systemen, auf denen (auch) DOS oder Windows
läuft, ist die Uhr normalerweise auf lokale Zeit eingestellt. Wenn Sie diese
Betriebssysteme auch auf dem Rechner laufen haben möchten, wählen Sie lokale
Zeit statt UTC.

An diesem Punkt wird der debian-installer auch versuchen, die aktuelle Zeit in
die Hardware-Uhr des Systems zu schreiben. Dies geschieht entweder als UTC oder
als lokale Zeit, abhängig von der Auswahl, die vorher getroffen wurde.

6.3.8.2. Den Rechner neu starten

Sie werden aufgefordert, das Boot-Medium (CD, USB-Stick, etc.), welches Sie zur
Installation verwendet haben, aus dem Rechner zu entfernen. Danach wird der
Rechner neu gebootet und das neue Debian-System startet.

6.3.9. Fehlersuche/-behebung

Die Komponenten, die wir hier auflisten, sind normalerweise nicht am
Installationsprozess beteiligt, warten aber im Hintergrund, um den Benutzer zu
unterstützen, falls etwas schief läuft.

6.3.9.1. Die Protokolldateien der Installation sichern

Wenn die Installation erfolgreich verläuft, werden die Logdateien, die das
System während des Installationsprozesses erzeugt, automatisch in das
Verzeichnis /var/log/installer/ Ihres neuen Debian-Systems kopiert.

Falls Sie Installationsprotokolle speichern aus dem Menü auswählen, haben Sie
die Gelegenheit, die Logdateien auf einen USB-Stick, über Netzwerk auf ein
fernes Laufwerk, auf Festplatte oder ein anderes Medium zu sichern. Dies könnte
nützlich sein, wenn Sie während der Installation gravierende Probleme
feststellen und die Dateien auf einem anderen System genauer analysieren oder
zu einem Installationsbericht hinzufügen möchten.

6.3.9.2. Verwenden der Shell und Auswerten der Protokolldateien

Es gibt mehrere Möglichkeiten, wie Sie während der Installation eine Shell
(Eingabeaufforderung) bekommen können. Auf den meisten Systemen und wenn Sie
nicht über serielle Konsole installieren ist es am einfachsten, mit Alt+F2^[15]
auf die zweite virtuelle Konsole zu wechseln (auf einer Mac-Tastatur Option+F2
). Wieder zurück zum Installer kommen Sie mit Alt+F1.

Details zum grafischen Installer finden Sie unter Abschnitt 6.1.1, "Den
grafischen Installer verwenden".

Falls es nicht möglich ist, auf andere Konsolen umzuschalten, gibt es auch die
Möglichkeit, über den Eintrag Eine Shell ausführen im Hauptmenü eine Shell zu
starten. Sie können von den meisten Dialogen aus zurück zum Hauptmenü gelangen,
indem Sie einmal oder mehrmals den Zurück-Button betätigen. Um die Shell zu
schließen und zurück zum Installer zu kommen, geben Sie exit ein.

Zu diesem Zeitpunkt ist das System von der RAM-Disk gestartet und eine
eingeschränkte Auswahl an Unix-Werkzeugen ist verfügbar. Sie können sich
ansehen, welche Programme verfügbar sind, indem Sie das Kommando ls /bin /sbin
/usr/bin /usr/sbin ausführen oder help eintippen. Die Shell ist ein
Bourne-Shell-Klon namens ash und hat tolle Funktionen wie automatische
Vervollständigung und Speicherung der letzten Befehle.

Um Dateien zu bearbeiten und zu betrachten, nutzen Sie den Texteditor nano.
Protokolldateien für das Installationssystem finden Sie im Verzeichnis /var/
log.

Anmerkung

Obwohl Sie prinzipiell alles in einer Shell tun können, was die verfügbaren
Kommandos Ihnen erlauben, ist die Option zur Nutzung einer Shell nur für den
Fall gedacht, dass etwas schief läuft und zur Fehlersuche.

Irgendwelche Dinge manuell auf der Shell zu erledigen könnte den
Installationsprozess stören und zu Fehlern oder einer unvollständigen
Installation führen. Vor allem sollten Sie stets den Installer nutzen, um Ihre
Swap-Partition zu aktivieren, statt dies manuell auf der Shell zu erledigen.

6.3.10. Installation über die Netzwerk-Konsole

Eine der interessanteren Komponenten ist network-console (Netzwerk-Konsole).
Sie erlaubt es, einen großen Teil der Installation über das Netzwerk via SSH zu
erledigen. Die Nutzung des Netzwerks bedeutet, dass Sie die ersten Schritte der
Installation auf der Konsole durchführen müssen, zumindest bis zu dem Punkt, wo
das Netzwerk eingerichtet wird (obwohl Sie auch diesen Teil automatisieren
können; lesen Sie dazu Abschnitt 4.6, "Automatische Installation").

Die Komponente network-console wird nicht standardmäßig in das
Installer-Hauptmenü geladen, Sie müssen sie also explizit aufrufen. Wenn Sie
von einem optischen Datenträger installieren, booten Sie mit Priorität medium
oder rufen Sie das Installer-Hauptmenü auf und wählen Installer-Komponenten vom
Installationsmedium laden; aus der angezeigten Liste zusätzlicher Komponenten
wählen Sie network-console: Continue installation remotely using SSH aus. Wenn
Sie einen neuen Menüeintrag namens Installation über Fernzugriff (SSH)
fortsetzen im Hauptmenü sehen, wurde die Komponente erfolgreich geladen.

Nachdem Sie diesen neuen Eintrag gewählt haben, werden Sie nach einem neuen
Passwort gefragt, das für die Verbindung zum Installationssystem verwendet
wird. Anschließend müssen Sie das Passwort noch einmal bestätigen. Das war's.
Sie sollten jetzt einen Bildschirm sehen, der Sie anweist, sich per Fernzugriff
als Nutzer installer anzumelden (mit dem Passwort, das Sie gerade festgelegt
haben). Ein weiteres wichtiges Detail, das Sie hier beachten sollten, ist der "
Fingerabdruck" des Systems. Sie müssen den Fingerabdruck auf sicherem Wege zu
der Person übertragen, die die Installation per Fernzugriff fortsetzt.

Sollten Sie sich entscheiden, die Installation lokal fortzuführen, können Sie 
Enter drücken; dies bringt Sie zurück zum Hauptmenü, wo Sie einen anderen
Installationsschritt auswählen können.

Lassen Sie uns jetzt auf die andere Seite der Leitung wechseln. Als
Grundvoraussetzung müssen Sie Ihr Terminal auf UTF8-Zeichenkodierung
konfigurieren, weil das Installationssystem diese nutzt. Falls Sie dies nicht
tun, ist eine Installation per Fernzugriff zwar trotzdem möglich, Sie werden
aber möglicherweise befremdende Artefakte in der Anzeige feststellen, wie nicht
vorhandene Ränder an Dialogfenstern oder unlesbare nicht-ASCII-Zeichen. Eine
Verbindung zum Installationssystem aufzubauen ist einfach. Geben Sie ein:

$ ssh -l installer install_host

Dabei ist install_host entweder der Name oder die IP-Adresse des Rechners, auf
dem Debian GNU/Linux installiert werden soll. Vor der eigentlichen Anmeldung
wird der Fingerabdruck des fernen Systems angezeigt und Sie müssen ihn
vergleichen und bestätigen, dass er korrekt ist.

Anmerkung

Der ssh-Server im Installer nutzt eine Standardkonfiguration, bei der keine "
keep-alive"-Pakete gesendet werden. Prinzipiell sollte die Verbindung zu dem zu
installierenden System unbegrenzt offen gehalten werden. Allerdings könnte es -
abhängig von Ihrer Netzwerkkonfiguration vor Ort - passieren, dass nach einiger
Zeit der Inaktivität die Verbindung verloren geht. Ein üblicher Fall, in dem
dies vorkommen könnte, ist, wenn eine Form von NAT (Network Address
Translation) irgendwo zwischen dem Client und dem zu installierenden System
existiert. Abhängig davon, an welchem Punkt der Installation die Verbindung
abgebrochen ist, ist es möglich oder auch nicht möglich, die Installation
fortsetzen, nachdem die Verbindung wieder aufgebaut wurde.

Sie können vielleicht vermeiden, dass die Verbindung abbricht, indem Sie die
Option -o ServerAliveInterval=Wert hinzufügen, wenn Sie die ssh-Verbindung
aufbauen, oder indem Sie diese Option zu Ihrer ssh-Konfigurationsdatei
hinzufügen. Beachten Sie aber, dass gerade das Hinzufügen dieser Option einen
Verbindungsabbruch verursachen kann (z.B. wenn "keep-alive"-Pakete während
eines kurzen Netzwerkausfalls gesendet werden, von dem ssh sonst nichts
mitbekommen hätte), deshalb sollte sie nur wenn nötig genutzt werden.

Anmerkung

Wenn Sie mehrere Computer hintereinander installieren und diese haben die
gleiche IP-Adresse oder den gleichen Hostnamen, wird ssh sich weigern, sich mit
einem solchen Host zu verbinden. Der Grund hierfür ist, dass diese Rechner
unterschiedliche Fingerabdrücke haben, was üblicherweise ein Zeichen für eine
Spoofing-Attacke ist. Wenn Sie sicher sind, dass dies nicht der Fall ist,
müssen Sie die entsprechende Zeile aus ~/.ssh/known_hosts entfernen^[16] und
können es dann noch einmal probieren.

Nach der Anmeldung wird Ihnen ein Startbildschirm präsentiert und Sie haben
zwei Möglichkeiten: Menü öffnen und Shell starten. Die erste bringt Sie zum
Installer-Hauptmenü und Sie können die Installation wie gewohnt fortsetzen. Die
zweite Möglichkeit startet eine Shell, über die Sie das ferne System
untersuchen und möglicherweise reparieren können, falls es Probleme gibt. Für
das Installer-Menü sollten Sie nur eine einzige SSH-Sitzung öffnen, Sie können
jedoch mehrere weitere Sitzungen mit Shell-Eingabeaufforderungen starten.

Warnung

Sobald Sie die Installation per Fernzugriff über SSH gestartet haben, sollten
Sie nicht zur Installation auf der lokalen Konsole zurück wechseln. Dies könnte
die Datenbank beschädigen, die die Konfiguration des neuen Systems verwaltet.
Und das wiederum kann zu einer fehlgeschlagenen Installation oder zu Problemen
mit dem installierten System führen.

6.4. Fehlende Firmware nachladen

Wie in Abschnitt 2.2, "Hardware, die Firmware erfordert" erwähnt, existiert
teilweise Hardware, die es erfordert, dass Firmware in das Gerät geladen wird.
In den meisten Fällen wird das Gerät nicht funktionieren, wenn diese Firmware
nicht vorhanden ist; manchmal sind Basisfunktionen hiervon nicht betroffen, so
dass das Laden der Firmware nur zum Aktivieren erweiterter Funktionen
erforderlich ist.

Wenn ein Gerätetreiber Firmware anfordert, die nicht verfügbar ist, wird der
debian-installer einen Dialog anzeigen, der anbietet, die fehlende Firmware
nachzuladen. Wenn Sie dies auswählen, durchsucht der debian-installer
verfügbare Geräte entweder nach einzelnen Firmware-Dateien oder nach Paketen,
die Firmware enthalten. Gefundene Firmware wird in das dafür passende
Verzeichnis (/lib/firmware) kopiert und das Treibermodul wird erneut geladen.

Anmerkung

Welche Geräte durchsucht und welche Dateisysteme dabei unterstützt werden, ist
abhängig von der Systemarchitektur, der Installationsmethode und dem
Fortschritt der Installation. Speziell während der frühen Schritte der
Installation wird das Nachladen der Firmware höchstwahrscheinlich mit einem
FAT-formatierten USB-Stick erfolgreich sein. Auf i386- und amd64-Systemen kann
Firmware auch von einer MMC- oder SD-Karte geladen werden.

Beachten Sie, dass es auch möglich ist, das Laden der Firmware zu überspringen,
wenn Sie wissen, dass das Gerät auch ohne funktioniert oder dass es während der
Installation nicht benötigt wird.

Der debian-installer fragt nur nach Firmware, die von Kernel-Modulen benötigt
wird, welche während der Installation geladen werden. Nicht alle Treiber sind
im debian-installer enthalten (insbesondere ist radeon nicht enthalten), was
dazu führt, dass die Fähigkeiten einiger Geräte am Ende der Installation noch
die gleichen sind wie zu Beginn. Als Konsequenz daraus werden einige Ihrer
Hardware-Geräte unter Umständen nicht mit ihrem ganzen Potential genutzt. Wenn
Sie vermuten, dass dies der Fall ist, oder wenn Sie einfach nur neugierig sind,
können Sie in der Ausgabe des dmesg-Befehls auf dem neu installierten System
nach der Zeichenfolge "firmware" suchen.

6.4.1. Einen Datenträger vorbereiten

Offizielle Installations-Images enthalten keine nicht-freie Firmware. Die
gängigste Methode, um solche Firmware zu laden, ist von einem
Wechseldatenträger, wie einem USB-Stick. Alternativ können Sie unter https://
cdimage.debian.org/cdimage/unofficial/non-free/cd-including-firmware/
inoffizielle Images finden, die nicht-freie Firmware enthalten. Um einen
USB-Stick (oder ein anderes Medium wie eine Festplattenpartition)
vorzubereiten, müssen Sie die Firmware-Dateien oder -Pakete entweder im
Wurzelverzeichnis des Datenträgers oder in einem Verzeichnis namens /firmware
ablegen. Das empfohlene Dateisystem ist FAT, da ziemlich sicher ist, dass dies
während der frühen Installationsschritte bereits unterstützt wird.

Tar-Archive (tarballs) und Zip-Dateien, die aktuelle Pakete für die gängigste
Firmware enthalten, sind verfügbar unter:

  • https://cdimage.debian.org/cdimage/unofficial/non-free/firmware/

Laden Sie einfach das Tar- oder Zip-Archiv für das passende Release herunter
und entpacken Sie es in das Dateisystem auf Ihrem Datenträger.

Wenn die Firmware, die Sie benötigen, nicht in dem Tar-Archiv enthalten ist,
können Sie auch separate einzelne Firmware-Pakete aus dem Non-Free-Bereich des
Debian-Archivs herunterladen. Der folgende Überblick sollte die meisten
verfügbaren Firmware-Pakete auflisten, es ist aber nicht garantiert, dass er
vollständig ist; außerdem könnten auch Pakete enthalten sein, die gar keine
Firmware-Pakete sind:

  • https://packages.debian.org/search?keywords=firmware

Es ist auch möglich, einzelne Firmware-Dateien auf den Datenträger zu kopieren.
Solche Dateien könnten Sie zum Beispiel von einem bereits installierten System
bekommen oder von dem Hersteller Ihrer Hardware.

6.4.2. Firmware und das zu installierende System

Jede Firmware, die während der Installation geladen wird, wird auch automatisch
auf das zu installierende System kopiert. In den meisten Fällen wird so
sichergestellt, dass das Gerät, das die Firmware benötigt, auch nach dem
Neustart in das neu installierte System korrekt funktioniert. Allerdings
besteht die entfernte Möglichkeit, dass aufgrund von Versionsinkompatibilitäten
die Firmware nicht geladen werden kann, wenn in dem installierten System ein
anderer Kernel läuft als im Installer.

Wurde die Firmware aus einem Firmware-Paket geladen, wird der debian-installer
dieses Paket ebenfalls auf das zu installierende System kopieren und auch
automatisch den Non-Free-Bereich des Paketarchivs zu APTs Konfigurationsdatei
sources.list hinzufügen. Das hat den Vorteil, dass die Firmware auf dem neu
installierten System automatisch aktualisiert wird, wenn später einmal eine
neue Version verfügbar ist.

Falls das Laden der Firmware während der Installation abgebrochen wurde, wird
das entsprechende Gerät wahrscheinlich auch in dem neu installierten System
nicht funktionieren, so lange Sie die Firmware (oder das Firmware-Paket) nicht
von Hand nachinstalliert haben.

Anmerkung

Wenn die Firmware aus einer einzelnen Firmware-Datei nachgeladen wurde, wird
sie im installierten System nicht automatisch auf aktuellem Stand gehalten,
außer Sie installieren das passende Firmware-Paket (falls es ein solches gibt)
von Hand nach, nachdem die Debian-Installation abgeschlossen ist.

6.4.3. Das installierte System vervollständigen

Abhängig davon, wie die Installation durchgeführt wurde, ist die Notwendigkeit
zur Installation von Firmware eventuell nicht erkannt worden, die entsprechende
Firmware-Datei war vielleicht nicht verfügbar, oder Sie haben sich entschieden,
die Firmware in dem Moment nicht zu installieren. In einigen Fällen kann es
auch - trotz erfolgreich verlaufener Installation - beim nächsten Neustart
trotzdem zu einem schwarzen Bildschirm oder einer verkrüppelten Anzeige kommen.
Wenn das passiert, können Sie folgendes versuchen:

  • Geben Sie die Option nomodeset auf der Kernel-Befehlszeile im Bootloader
    an. Dies könnte helfen, das System in einem reduzierten "
    Fallback-Grafikmodus" zu booten.

  • Verwenden Sie die Tastenkombination Strg+Alt+F2, um auf die virtuelle
    Konsole VT2 umzuschalten; Sie könnten so einen funktionsfähigen
    Login-Prompt bekommen.

Sobald Sie am installierten System eingeloggt sind, ist es möglich, die
Erkennung und Installation von fehlender Firmware automatisch durchzuführen;
verwenden Sie dazu folgendes Prozedere:

 1. Installieren Sie das Paket isenkram-cli.

 2. Führen Sie den Befehl isenkram-autoinstall-firmware als Benutzer "root"
    aus.

Für gewöhnlich ist es das einfachste, das System vollständig neu zu starten, um
sicherzustellen, dass alle Kernel-Module korrekt initialisiert werden; dies ist
insbesondere wichtig, wenn Sie das System vorübergehend mit der Option
nomodeset gebootet haben.

Anmerkung

Die Installation von Firmware-Paketen erfordert höchstwahrscheinlich die
Aktivierung des non-free-Abschnitts des Debian-Archivs. In Debian GNU/Linux
11.0 erledigt der Befehl isenkram-autoinstall-firmware dies automatisch für
Sie, indem eine entsprechende Datei (/etc/apt/sources.list.d/
isenkram-autoinstall-firmware.list) im System angelegt wird, die auf einen
generischen Spiegelserver zeigt.

6.5. Anpassungen

Über Verwendung der Shell (siehe Abschnitt 6.3.9.2, "Verwenden der Shell und
Auswerten der Protokolldateien") kann der Installationsprozess in Grenzen
angepasst werden, um besonderen Anforderungen gerecht zu werden:

6.5.1. Installation eines alternativen Init-Systems

Debian verwendet standardmäßig systemd als Init-System. Jedoch werden auch
andere Init-Systeme (wie z.B. sysvinit und OpenRC) unterstützt, und der beste
Zeitpunkt, um ein alternatives Init-System zu wählen, ist während der
Installation. Detaillierte Anweisungen hierzu finden Sie auf der Init-Seite im
Debian Wiki.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[6] Technisch gesehen: wenn verschiedene Gebietsschemata für diese Sprache mit
unterschiedlichen Landeskennungen existieren.

^[7] Bei mittlerer und niedriger Priorität haben Sie immer die Möglichkeit, das
von Ihnen bevorzugte Gebietsschema aus den für Ihr Land zur Verfügung stehenden
auszuwählen (falls es mehr als eines gibt).

^[8] Legacy-Gebietsschemata nutzen kein UTF-8, sondern einen der älteren
Standards zur Zeichenkodierung wie zum Beispiel ISO 8859-1 (verwendet für
westeuropäische Sprachen) oder EUC-JP (für Japanisch).

^[9] Der Installer verschlüsselt die LVM-Volumegruppe mittels eines 256
Bit-AES-Schlüssels und nutzt dazu die "dm-crypt"-Unterstützung des Kernels.

^[10] Wir wollen ehrlich sein: Sie können auch ein MD-Gerät aus Partitionen
einer einzigen Festplatte erstellen, dies bringt Ihnen aber keinen sinnvollen
Vorteil.

^[11] Das Verwenden einer Passphrase als Schlüssel bedeutet derzeit, dass die
Partition unter Benutzung von LUKS eingerichtet wird.

^[12] Man glaubt allerdings, dass die Jungs vom Geheimdienst Daten sogar noch
nach mehrfachem Überschreiben des magneto-optischen Mediums wiederherstellen
können.

^[13] Beachten Sie, dass das Programm, das letztendlich die Pakete installiert,
dpkg heißt. Allerdings ist dies mehr ein Low-Level-Programm (was unter anderem
bedeutet, dass es nicht direkt vom Benutzer aufgerufen wird). apt spielt eine
Stufe höher und wird dpkg nach Bedarf aufrufen. Es weiß, wie es die Pakete vom
Installationsmedium, über Netzwerk oder sonst woher bekommen kann. Außerdem
kann es automatisch andere Pakete mit installieren, die benötigt werden, damit
die Pakete, die Sie installieren möchten, korrekt funktionieren.

^[14] Sie sollten wissen, dass der Installer lediglich das Programm tasksel
aufruft, in dem dann diese Liste angezeigt wird. tasksel kann auch nach der
Installation jederzeit aufgerufen werden, um weitere Pakete zu installieren
(oder sie zu entfernen), oder Sie benutzen ein feinkörnigeres Werkzeug wie 
aptitude. Wenn Sie nach Abschluß der Installation ein bestimmtes einzelnes
Paket suchen, führen Sie einfach aptitude install package aus, wobei package
der Name des Pakets ist, das Sie benötigen.

^[15] Dies bedeutet: drücken Sie die Alt-Taste links neben der Leertaste und
gleichzeitig die Funktionstaste F2.

^[16] Der folgende Befehl entfernt einen vorhandenen Eintrag für einen Rechner:
ssh-keygen -R <Rechnername|IP-Adresse>.

Kapitel 7. Das neue Debian-System starten

Inhaltsverzeichnis

7.1. Der Moment der Wahrheit
7.2. Verschlüsselte Dateisysteme einbinden

    7.2.1. Fehlersuche und -behebung

7.3. Anmelden

7.1. Der Moment der Wahrheit

Der erste Systemstart aus eigener Kraft ist das, was Elektroingenieure den "
smoke test" nennen (testen ob's qualmt).

Nach einer Standardinstallation sollten Sie als erstes das Menü des Bootloaders
grub sehen, wenn Sie booten. Der erste Auswahlpunkt in dem Menü ist Ihr neues
Debian-System. Falls Sie weitere Betriebssysteme auf dem Rechner installiert
haben (wie z.B. Windows), die vom Installationssystem erkannt wurden, sind
diese weiter unten im Menü aufgelistet.

Falls das System nicht korrekt startet - keine Panik. Wenn die Installation
erfolgreich verlaufen ist, stehen die Chancen gut, dass nur ein relativ kleiner
Fehler vorhanden ist, der das System daran hindert, Debian zu booten. In den
meisten Fällen können solche Probleme behoben werden, ohne die Installation
komplett wiederholen zu müssen. Eine mögliche Option, das Problem zu lösen, ist
die Nutzung des eingebauten Rettungs-Modus des Installers (siehe Abschnitt 8.6,
"Ein beschädigtes System reparieren").

Wenn Sie noch neu sind bei Debian und Linux, benötigen Sie vielleicht Hilfe von
erfahreneren Benutzern. Direkte Online-Hilfe bekommen Sie vielleicht auf den
IRC-Channels #debian oder #debian-boot im OFTC-Netzwerk. Alternativ können Sie
eine debian-user-* Mailingliste kontaktieren. Sie können auch einen
Installationsbericht einschicken, wie im Abschnitt 5.4.7,
"Installationsberichte einschicken" beschrieben. Bitte achten Sie darauf, Ihr
Problem klar und verständlich zu beschreiben und etwaige (Fehler-)Meldungen mit
anzugeben, die anderen helfen könnten, das Problem zu diagnostizieren.

Falls Sie ein weiteres Betriebssystem auf Ihrem Computer installiert haben,
dieses aber nicht oder nicht korrekt erkannt wurde, senden Sie uns bitte
ebenfalls einen Installationsbericht.

7.2. Verschlüsselte Dateisysteme einbinden

Wenn Sie während der Installation verschlüsselte Dateisysteme erstellt haben
und diesen Einbindungspunkte zugewiesen haben, werden Sie während des
Startvorgangs aufgefordert, für jedes der Dateisysteme die korrekte Passphrase
einzugeben.

Für Partitionen, die mittels dm-crypt verschlüsselt sind, wird während des
Bootens der folgende Prompt angezeigt:

Starting early crypto disks... part_crypt(starting)
Enter LUKS passphrase:

Dabei entspricht hier das part in der ersten Zeile dem Namen der darunter
liegenden Partition, z.B. sda2 oder md0. Jetzt fragen Sie sich vielleicht, für
welches Dateisystem Sie eigentlich die Passphrase eingeben sollen. Geht es hier
jetzt um /home? Oder vielleicht um /var? Wenn Sie nur ein verschlüsseltes
Dateisystem haben, ist dies natürlich simpel und Sie können einfach die
Passphrase eingeben, die Sie bei der Erstellung des Dateisystems benutzt haben.
Haben Sie aber mehrere erstellt, sind die Notizen praktisch, die Sie sich im
letzten Schritt von Abschnitt 6.3.4.6, "Verschlüsselte Dateisysteme
konfigurieren" aufgeschrieben haben. Wenn Sie sich nicht notiert haben, wie die
verschlüsselten Partitionen (part_crypt) auf die Einbindungspunkte abgebildet
sind, finden Sie diese Infos auch in /etc/crypttab und /etc/fstab Ihres neuen
Systems.

Der Prompt während des Bootens könnte ein wenig anders aussehen, während ein
verschlüsseltes Root-Dateisystem eingebunden wird. Dies hängt davon ab, welcher
initramfs-Generator verwendet wurde, um die zum Starten des Systems nötige
initrd (Initial-Ram-Disk) zu erzeugen. Das folgende Beispiel gilt für eine
initrd, die mittels initramfs-tools generiert wurde:

Begin: Mounting root file system... ...
Begin: Running /scripts/local-top ...
Enter LUKS passphrase:

Es werden keinerlei Zeichen (nicht einmal Sternchen) angezeigt, während Sie die
Passphrase eingeben. Wenn Sie eine falsche Passphrase eingeben, haben Sie noch
zwei weitere Versuche, es erneut zu versuchen. Nach dem dritten Fehlversuch
überspringt der Boot-Prozess den Schritt und fährt mit dem Einbinden des
nächsten Dateisystems fort. Weitere Informationen hierzu finden Sie im
Abschnitt 7.2.1, "Fehlersuche und -behebung".

Nachdem Sie alle Passphrasen eingegeben haben, sollte der Boot-Prozess wie
üblich fortgesetzt werden.

7.2.1. Fehlersuche und -behebung

Falls eines der Dateisysteme nicht eingebunden werden konnte, weil eine falsche
Passphrase eingegeben wurde, müssen Sie es nach dem Systemstart manuell
einbinden. Es gibt unterschiedliche Situationen:

  • Die erste betrifft die Root-Partition. Wenn diese nicht korrekt eingebunden
    werden konnte, stoppt der Boot-Prozess und Sie müssen für einen neuen
    Versuch den Rechner neu starten.

  • Der einfachste Fall ist der, wenn verschlüsselte Dateisysteme /home oder /
    srv beherbergen. Diese können Sie nach dem Systemstart manuell einbinden.

    Bei dm-crypt ist dies allerdings ein bisschen verzwickt. Sie müssen
    zunächst die Dateisysteme mit dem device mapper registrieren, indem Sie
    Folgendes ausführen:

    # /etc/init.d/cryptdisks start

    Dadurch werden alle Dateisysteme überprüft, die in /etc/crypttab aufgeführt
    sind, und es werden entsprechende Gerätedateien im /dev-Verzeichnis
    erzeugt, nachdem die korrekte Passphrase eingegeben wurde. (Bereits
    eingebundene Dateisysteme werden übersprungen, so dass Sie diesen Befehl
    ohne Sorge mehrfach hintereinander ausführen können.) Nach erfolgreicher
    Registrierung können Sie die Dateisysteme ganz normal einbinden:

    # mount /einbindungspunkt

  • Falls Dateisysteme, welche unkritische Systemdateien beinhalten, beim Start
    nicht eingebunden werden konnten (wie /usr oder /var), sollte das System
    trotzdem booten und Sie müssten die Dateisysteme wie oben beschrieben
    manuell einbinden können. Allerdings werden Sie wohl alle Dienste (neu)
    starten müssen, die normalerweise beim Wechsel in den Standard-Runlevel bei
    Ihnen aktiviert werden, da sie wahrscheinlich nicht erfolgreich gestartet
    werden konnten. Der einfachste Weg dies zu bewerkstelligen ist, den Rechner
    neu zu starten.

7.3. Anmelden

Sobald Ihr System gebootet ist, wird der Anmeldebildschirm angezeigt. Melden
Sie sich mit Ihrem persönlichen Benutzernamen und Passwort an, das Sie während
der Installation festgelegt haben. Das System ist jetzt bereit zur Benutzung.

Wenn Sie neu bei Debian sind, sollten Sie vielleicht die Dokumentation lesen,
die bereits auf dem System installiert ist, um erste Tipps zur Benutzung zu
bekommen. Es gibt derzeit mehrere Dokumentationssysteme; es wird daran
gearbeitet, diese zu vereinheitlichen. Hier ein paar Ausgangspunkte:

Dokumentation, die zu Anwendungsprogrammen gehört, finden Sie unter /usr/share/
doc/ in einem Unterverzeichnis mit dem Namen des Programms (oder genauer gesagt
mit dem Namen des Debian-Pakets, das das Programm enthält). Oft ist allerdings
weitergehende Dokumentation auch in separaten Dokumentationspaketen enthalten,
die meist standardmäßig nicht installiert werden. Zum Beispiel finden Sie
Dokumentation zu dem Paketmanagement-Werkzeug apt in den Paketen apt-doc oder
apt-howto.

Zusätzlich gibt es einige spezielle Verzeichnisse unterhalb von /usr/share/doc
/: in /usr/share/doc/HOWTO/en-txt/ sind Linux-HowTos im komprimierten .gz
-Format installiert. Und nachdem das Paket dhelp installiert wurde, finden Sie
in /usr/share/doc/HTML/index.html eine Übersicht über Dokumentationen, die Sie
mit einem Webbrowser lesen können.

Ein einfacher Weg, diese Dokumente mit einem textbasierten Browser zu
betrachten ist, folgende Befehle einzugeben:

$ cd /usr/share/doc/
$ w3m .

Der Punkt hinter w3m weist das Programm an, den Inhalt des aktuellen
Verzeichnisses anzuzeigen.

Wenn Sie eine grafische Desktop-Umgebung wie GNOME oder KDE installiert haben,
können Sie auch deren Webbrowser verwenden. Starten Sie den Browser aus dem
Menü und geben Sie /usr/share/doc/ in die Adresszeile ein.

Sie können auch info Kommando oder man Kommando eingeben, um Dokumentation zu
den meisten Befehlen zu bekommen, die auf der Kommandozeile verfügbar sind.
Indem Sie help eingeben, bekommen Sie eine Hilfe zu Shell-Befehlen, und wenn
Sie ein Kommando gefolgt von --help eintippen, wird für gewöhnlich eine kurze
Zusammenfassung angezeigt, wie das Kommando zu nutzen ist. Wenn die Ausgabe
eines Befehls länger als die Seite ist, tippen Sie hinter dem Befehl | more
ein; dadurch wird die Ausgabe seitenweise angezeigt. Um eine Liste aller
verfügbaren Befehle zu bekommen, die mit einem bestimmten Buchstaben oder einer
bestimmten Buchstabenkombination beginnen, tippen Sie den/die Anfangsbuchstaben
ein und drücken zweimal TAB.

Kapitel 8. Die nächsten Schritte und welche Seiten Sie noch besuchen sollten

Inhaltsverzeichnis

8.1. Das System herunterfahren
8.2. Sich in Debian orientieren

    8.2.1. Das Debian-Paketsystem
    8.2.2. Zusätzliche Software, die für Debian verfügbar ist
    8.2.3. Programmversions-Verwaltung
    8.2.4. Cron-Job-Management (zeitgesteuerte Aufgaben)

8.3. Wo Sie weiter lesen sollten - zusätzliche Informationen
8.4. Das System zur E-Mail-Nutzung einrichten

    8.4.1. Standard-E-Mail-Konfiguration
    8.4.2. E-Mails nach außerhalb verschicken
    8.4.3. Den Mail-Transport-Agent Exim4 konfigurieren

8.5. Einen neuen Kernel kompilieren
8.6. Ein beschädigtes System reparieren

8.1. Das System herunterfahren

Um ein laufendes Debian GNU/Linux-System herunterzufahren, sollten Sie den
Rechner nicht über die Reset-Taste auf der Vorder- oder Rückseite des Rechners
neu starten oder einfach abschalten. Debian GNU/Linux sollte auf kontrollierte
Art und Weise heruntergefahren werden, andernfalls können Dateien verloren
gehen und/oder die Festplatten beschädigt werden. Wenn Sie eine grafische
Arbeitsplatz-Umgebung nutzen, gibt es dort für gewöhnlich eine Menüoption "
Abmelden", die es Ihnen erlaubt, das System herunterzufahren (oder neu zu
starten).

Alternativ dazu können Sie die Tastenkombination Strg+Alt+Entf benutzen. Falls
diese Tastenkombinationen nicht funktionieren, ist die letzte Möglichkeit, sich
als root anzumelden und die entsprechenden Befehle einzugeben. Verwenden Sie 
reboot, um das System neu zu starten. Verwenden Sie halt, um das System
anzuhalten (zu stoppen), jedoch ohne die Spannung abzuschalten^[17]. Um die
Maschine abzuschalten, verwenden Sie poweroff oder shutdown -h now. Das
systemd-Init-System stellt Befehle bereit, die die gleichen Funktionen bieten,
z.B. systemctl reboot oder systemctl poweroff.

8.2. Sich in Debian orientieren

Debian unterscheidet sich etwas von anderen Distributionen. Auch wenn Sie sich
mit Linux in anderen Distributionen auskennen, gibt es einige Dinge, die Sie
über Debian wissen sollten, um Ihr System in einem guten, sauberen Zustand zu
halten. Dieses Kapitel enthält Material, das Ihnen helfen soll, sich zu
orientieren; es soll keine Anleitung sein, wie man Debian benutzt, sondern nur
einen kurzen Einblick geben für alle, die es eilig haben.

8.2.1. Das Debian-Paketsystem

Das wichtigste Konzept, das Sie verstehen sollten, ist das des
Debian-Paketsystems. Im Wesentlichen sollten große Teile des Systems unter der
Kontrolle des Paketsystems stehen, inklusive:

  • /usr (ausgenommen /usr/local)

  • /var (Sie können /var/local erstellen, wo Sie auch unbehelligt vom
    Paketsystem sind)

  • /bin

  • /sbin

  • /lib

Wenn Sie zum Beispiel die Datei /usr/bin/perl durch eine andere Version
ersetzen, wird dies funktionieren, aber wenn das perl-Paket irgendwann einmal
aktualisiert wird, wird Ihre Version überschrieben. Experten können dies aber
vermeiden, indem Sie z.B. das Paket in aptitude auf "hold" setzen.

APT ist eine der besten Installationsmethoden. Sie können die
Kommandozeilenversion apt benutzen, die Vollbild-Textversion aptitude oder auch
grafische Programme wie synaptic (was letztlich alles nur andere
Bedienoberflächen für apt sind). Beachten Sie, dass apt es Ihnen gestattet, "
main", "contrib" und "non-free" zu mischen, so dass Sie sowohl eingeschränkte
Pakete (die streng gesehen nicht Teil von Debian sind) als auch Standardpakete
gleichzeitig nutzen können.

8.2.2. Zusätzliche Software, die für Debian verfügbar ist

Es gibt offizielle und inoffizielle Software-Depots, die in einer
standardmäßigen Debian-Installation nicht aktiviert werden. Diese enthalten
Software, die viele Leute für wichtig halten und erwarten, dass sie ihnen zur
Verfügung steht. Informationen über diese zusätzlichen Depots finden Sie auf
der Debian-Wiki-Seite mit dem Titel The Software Available for Debian's Stable
Release.

8.2.3. Programmversions-Verwaltung

Alternative Versionen von Programmen werden von update-alternatives verwaltet.
Wenn Sie mehrere verschiedene Versionen ein und derselben Anwendung installiert
haben, lesen Sie die Handbuchseite von update-alternatives.

8.2.4. Cron-Job-Management (zeitgesteuerte Aufgaben)

Alle Cron-Jobs aus dem Bereich des Systemadministrators sollten unter /etc
liegen, da dies Konfigurationsdateien sind. Wenn Sie einen root-Cron-Job haben,
der täglich, wöchentlich oder monatlich laufen soll, legen Sie Ihn unter /etc/
cron.{daily,weekly,monthly} ab. Diese werden von /etc/crontab gestartet und in
alphabetischer Reihenfolge abgearbeitet, also alle nacheinander.

Wenn Sie andererseits einen Cron-Job benötigen, der (a) unter einem bestimmten
Benutzernamen laufen muss oder (b) zu einer bestimmten Zeit oder in einem
bestimmten Takt, können Sie entweder /etc/crontab verwenden oder besser /etc/
cron.d/whatever. Diese besonderen Dateien haben ein zusätzliches Eingabefeld,
das es erlaubt, den Benutzerzugang festzulegen, unter dem der Job ausgeführt
wird.

Sie müssen nur die Dateien editieren und cron wird sie automatisch erkennen. Es
muss kein besonderer Befehl o.ä. ausgeführt werden. Mehr Informationen finden
Sie in cron(8), crontab(5) und /usr/share/doc/cron/README.Debian.

8.3. Wo Sie weiter lesen sollten - zusätzliche Informationen

Die Debian-Website enthält sehr viel Dokumentation über Debian. Speziell
sollten Sie sich die Debian GNU/Linux-FAQ und die Debian-Referenz ansehen. Ein
Index über weitere Debian-Dokumentation ist beim Debian-Dokumentations-Projekt
verfügbar. Die Mitglieder der Debian-Gemeinschaft unterstützen sich selbst
untereinander; um sich bei einer oder mehreren Debian-Mailinglisten anzumelden,
gehen Sie auf die Mailinglisten-Abonnement-Webseite. Zu guter Letzt seien auch
die Archive der Debian-Mailinglisten erwähnt, die eine Fülle an Informationen
über Debian beinhalten.

Wenn Sie Informationen über ein bestimmtes Programm benötigen, sollten Sie als
erstes man Programm oder info Programm ausprobieren.

Es gibt auch sehr viel nützliche Dokumentation in /usr/share/doc. Insbesondere
/usr/share/doc/HOWTO und /usr/share/doc/FAQ enthalten viele interessante
Informationen. Um Fehler in Debian zu melden, schauen Sie in /usr/share/doc/
debian/bug*. Debian-spezifische Themen für spezielle Programme werden in den /
usr/share/doc/(paketname)/README.Debian-Dateien behandelt.

Eine Quelle für allgemeine Dokumentation über GNU/Linux ist die Seite vom Linux
Documentation Project. Dort finden Sie HowTos und Verweise auf weitere sehr
nützliche Informationen über Teile des GNU/Linux-Systems.

Linux ist eine Implementation von Unix. Das Linux Documentation Project (LDP)
vereint viele HowTos und Online-Bücher über Linux.

Wenn Sie neu sind bei Unix, sollten Sie sich vielleicht ein paar Bücher kaufen
und lesen. Diese Liste von Unix-FAQs enthält eine Vielzahl von
UseNet-Dokumenten und stellt somit eine hübsche historische Referenz dar.

8.4. Das System zur E-Mail-Nutzung einrichten

Heutzutage ist E-Mail für viele Leute ein sehr wichtiger Teil des Lebens. Da es
viele Optionen bei der Einrichtung gibt und es für viele Debian-Werkzeuge
wichtig ist, dass das E-Mail-System korrekt konfiguriert ist, werden wir
versuchen, in diesem Kapitel die Grundlagen zu behandeln.

Das E-Mail-System besteht aus drei Hauptfunktionen. Als erstes gibt es den Mail
User Agent (MUA), das Programm, das man als Benutzer verwendet, um Mails zu
verfassen und zu lesen. Dann gibt es den Mail Transfer Agent (MTA), der sich um
den Versand der Nachrichten von einem Rechner auf einen anderen kümmert. Und zu
guter Letzt gibt es den Mail Delivery Agent (MDA), der ankommende Mails in die
Postfächer der Benutzer einsortiert.

Diese drei Funktionen können von separaten Programmen erledigt werden, aber sie
können auch in ein oder zwei Programmen kombiniert sein. Es ist ebenfalls
möglich, dass diese Funktionen bei verschiedenen Mail-Typen von
unterschiedlichen Programmen ausgeführt werden.

Auf Linux- und Unix-Systemen war mutt immer ein sehr populärer MUA. Wie die
meisten traditionellen Linux-Programme ist er textbasiert. Er wird oft in
Kombination mit den MTAs exim oder sendmail und mit procmail als MDA verwendet.

Mit zunehmender Popularität der grafischen Benutzeroberflächen werden auch die
grafischen E-Mail-Programme wie GNOMEs evolution, KDEs kmail oder Mozillas 
thunderbird immer beliebter. Diese Programme kombinieren alle Funktionen von
MUA, MTA und MDA, können aber auch in Kombination mit den traditionellen Debian
GNU/Linux-Werkzeugen verwendet werden - und dies ist auch durchaus üblich.

8.4.1. Standard-E-Mail-Konfiguration

Auch wenn Sie vorhaben, ein grafisches Mail-Programm zu verwenden, wäre es
nützlich, dass auch ein traditioneller MTA/MDA installiert und korrekt auf
Ihrem Debian GNU/Linux-System eingerichtet ist. Der Grund hierfür ist, dass
verschiedene Systemwerkzeuge^[18], die auf dem System laufen, Ihnen wichtige
Informationen per E-Mail schicken könnten, um Ihnen von (potentiellen)
Problemen oder Veränderungen zu berichten.

Sie können dazu die Pakete exim4 und mutt mittels apt install exim4 mutt
installieren. exim4 ist eine Kombination aus MTA und MDA; er ist relativ klein
und sehr flexibel. Standardmäßig wird er so konfiguriert, dass nur E-Mails
lokal auf dem System selbst verarbeitet werden und Mails an den
Systemadministrator (root) werden an den regulären Benutzer weitergeleitet, der
während der Installation erstellt wurde^[19].

Mails, die innerhalb des Systems verschickt werden, werden zu einer Datei in /
var/mail/Name hinzugefügt. Sie können mit mutt gelesen werden.

8.4.2. E-Mails nach außerhalb verschicken

Wie vorher erwähnt, ist das Debian-System so konfiguriert, dass E-Mails nur
lokal auf dem System verarbeitet werden, nicht zum Verschicken nach außerhalb
oder zum Empfangen von außerhalb.

Falls Sie möchten, dass exim4 externe E-Mails verarbeitet, finden Sie im
nächsten Abschnitt Infos über die grundlegenden verfügbaren Optionen. Testen
Sie, ob Mails korrekt versendet oder empfangen werden können.

Wenn Sie vorhaben, ein grafisches Mail-Programm zu benutzen und einen
Mailserver Ihres Internet-Providers (ISP) oder Ihrer Firma verwenden, ist es
nicht unbedingt nötig, exim4 für die Handhabung von externen E-Mails zu
konfigurieren. Sie müssen dann lediglich das grafische Mail-Programm Ihrer Wahl
so einrichten, dass die richtigen Server für das Senden und Empfangen von Mails
genutzt werden (wie das geht, ist nicht Thema dieses Handbuchs).

Allerdings müssen Sie dann unter Umständen viele verschiedene Programme passend
konfigurieren. Eines dieser Programme ist reportbug, ein Werkzeug, dass Ihnen
hilft, Fehlerberichte gegen Debian-Pakete einzureichen. Standardmäßig erwartet 
reportbug, dass es exim4 zum Verschicken von Fehlerberichten verwenden kann.

Um reportbug für die Verwendung mit einem externen Mail-Server einzurichten,
führen Sie bitte reportbug --configure aus und antworten Sie mit "No" auf die
Frage, ob ein MTA verfügbar ist. Sie werden dann nach dem zu verwendenden
SMTP-Server gefragt.

8.4.3. Den Mail-Transport-Agent Exim4 konfigurieren

Wenn Sie möchten, dass Ihr System auch externe E-Mails verarbeitet, müssen Sie
das Paket exim4 neu konfigurieren^[20]:

# dpkg-reconfigure exim4-config

Nach der Eingabe des Kommandos (als root) werden Sie gefragt, ob Sie die
Konfiguration in mehrere kleine Dateien aufsplitten möchten. Wenn Sie nicht
sicher sind, wählen Sie die Standardeinstellung.

Als nächstes werden mehrere allgemeine Mail-Szenarien angezeigt. Wählen Sie
eines, das Ihren Bedürfnissen am ehesten entspricht.

Internet-Seite

    Ihr System ist mit einem Netzwerk verbunden und Ihre Mails werden direkt
    per SMTP verschickt und empfangen. Auf den folgenden Seiten werden Sie nach
    ein paar Basisinformationen gefragt, wie dem Mail-Namen Ihres Rechners oder
    einer Liste von Domains, für die Sie Mails akzeptieren oder weiterleiten
    möchten.

Mail-Versand über einen Smarthost

    In diesem Szenario wird Ihre ausgehende Mail an einen anderen Rechner, "
    Smarthost" genannt, weitergeleitet, der sich darum kümmert, die Mails an
    ihr Ziel zu versenden. Der Smarthost speichert für gewöhnlich auch
    ankommende Mails, die für Ihren Rechner bestimmt sind, so dass Sie nicht
    ständig online sein müssen. Das bedeutet auch, dass Sie Ihre Mails mit
    Programmen wie fetchmail vom Smarthost abholen müssen.

    In vielen Fällen wird der Smarthost der Mail-Server Ihres
    Internet-Providers (ISP) sein. Deswegen ist diese Option genau passend für
    Nutzer, die sich per Modem-Einwahl o.ä. mit dem Internet verbinden). Der
    Smarthost kann auch der Mail-Server Ihrer Firma sein oder ein anderer
    Rechner in Ihrem eigenen Netzwerk.

Mail-Versand über einen Smarthost; keine lokale Mail-Zustellung

    Diese Option ist grundsätzlich identisch mit der vorherigen mit der
    Ausnahme, dass hier das System nicht eingerichtet wird, Mails für eine
    lokale E-Mail-Domain zu verarbeiten. Mails innerhalb des lokalen Systems
    selbst (z.B. für den Systemadministrator) werden trotzdem verarbeitet.

Nur lokale Mail-Zustellung

    Dies ist die Standard-Mail-Konfiguration für Ihr System.

Keine Konfiguration zu diesem Zeitpunkt

    Wählen Sie dies nur, wenn Sie sich absolut sicher sind, was Sie tun. Sie
    haben anschließend ein unkonfiguriertes Mail-System - bis Sie es
    konfigurieren, sind Sie nicht in der Lage, Mails zu senden oder zu
    empfangen und könnten so wichtige Meldungen von den Systemprogrammen Ihres
    Rechners verpassen.

Wenn keines dieser Szenarien für Sie passend ist oder wenn Sie eine feinere
Einstellung benötigen, müssen Sie die Konfigurationsdateien im Verzeichnis /etc
/exim4 manuell anpassen, nachdem die Installation beendet ist. Mehr
Informationen über exim4 finden Sie unter /usr/share/doc/exim4; die Datei
README.Debian.gz enthält zusätzliche Details über die Konfiguration von exim4
und beschreibt, wo Sie weitere Dokumentation finden.

Bedenken Sie, dass Ihre Mails aufgrund von Anti-Spam-Maßnahmen auf empfangenden
Servern verworfen (gelöscht) werden könnten, wenn Sie sie direkt über das
Internet versenden und keinen offiziellen Domain-Namen haben. In diesem Fall
wird empfohlen, den Mail-Server Ihres Internet-Providers (ISP) zu benutzen.
Möchten Sie trotzdem Mails direkt versenden, sollten Sie vielleicht eine andere
E-Mail-Adresse verwenden als die, die als Standard generiert wird. Für exim4
als MTA ist dies möglich, indem Sie einen Eintrag in /etc/email-addresses
hinzufügen.

8.5. Einen neuen Kernel kompilieren

Warum sollte jemand einen neuen Kernel kompilieren wollen? Dies ist
höchstwahrscheinlich nicht mehr nötig, da der Standard-Kernel in Debian nahezu
alle Konfigurationen unterstützt.

Falls Sie jedoch trotzdem einen eigenen Kernel erzeugen möchten: dies ist
natürlich problemlos möglich. Wir empfehlen dazu die Verwendung des "make
deb-pkg"-Targets. Nähere Informationen hierzu finden Sie im Debian Linux Kernel
Handbook.

8.6. Ein beschädigtes System reparieren

Manchmal gehen Dinge schief und das System, dass Sie so sorgfältig installiert
haben, ist nicht mehr bootfähig. Vielleicht ist die Konfiguration des
Bootloaders misslungen, als Sie eine Änderung ausprobiert haben, oder ein neuer
Kernel, den Sie installiert haben, startet nicht oder kosmische Strahlen haben
Ihre Festplatte getroffen und ein bisschen in /sbin/init gewütet. Unabhängig
von der Ursache müssen Sie irgendwie das System zum Laufen bekommen, um das
Problem zu lösen, und der Rettungsmodus könnte dazu nützlich sein.

Um in den Rettungsmodus zu gelangen, wählen Sie rescue aus dem Menü, geben
rescue am boot:-Prompt ein oder starten mit dem Boot-Parameter rescue/enable=
true. Sie sehen die ersten Bildschirmseiten des Installers mit einem Hinweis in
der Ecke, dass dies der Rettungsmodus ist und keine komplette Neuinstallation.
Keine Sorge, Ihr System wird nicht überschrieben werden! Der Rettungsmodus
nutzt lediglich die Fähigkeiten des Installers zur Hardware-Erkennung, um
sicherzustellen, dass Ihnen Ihre Festplatten, Netzwerkschnittstellen und so
weiter zu Verfügung stehen, so dass Sie das System reparieren können.

Statt des Partitionierungswerkzeuges sollte Ihnen jetzt eine Liste der
Partitionen auf Ihrem System präsentiert werden und Sie werden aufgefordert,
eine davon auszuwählen. Normalerweise sollten Sie die Partition wählen, die das
root-Dateisystem enthält, welches Sie reparieren müssen. Sie können Partitionen
auf RAID- und LVM-Geräten sowie solche, die direkt auf den Platten angelegt
wurden, auswählen.

Falls möglich präsentiert der Installer Ihnen jetzt eine
Shell-Eingabeaufforderung in dem Dateisystem, das Sie ausgewählt haben, die Sie
für nötige Reparaturen verwenden können. Wenn Sie z.B. den GRUB-Bootloader neu
in den Master-Boot-Record Ihrer ersten Festplatte installieren müssen, können
Sie dort grub-install '(hd0)' eingeben, um dies zu erledigen.

Falls der Installer keine nutzbare Shell im von Ihnen gewählten
root-Dateisystem starten kann, weil vielleicht das Dateisystem beschädigt ist,
wird eine Warnung angezeigt und Ihnen wird angeboten, eine Shell in der
Umgebung des Installers zu öffnen. Sie werden hier vielleicht nicht so viele
Werkzeuge zur Verfügung haben, aber oft wird es trotzdem reichen, das System zu
reparieren. Das root-Dateisystem, das Sie ausgewählt haben, wird in das /
target-Verzeichnis eingebunden.

In jedem Fall wird der Rechner neu starten, sobald Sie die Shell schließen.

Zum Schluss noch ein Hinweis: ein defektes System zu reparieren kann schwierig
sein und dieses Handbuch versucht auch nicht, alles was schief laufen kann zu
behandeln, oder zu beschreiben, wie Sie die Fehler beheben. Wenn Sie Probleme
haben, ziehen Sie einen Experten zu Rate.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[17] Unter dem SysV-Init-System rief halt die gleiche Reaktion hervor wie 
poweroff, wenn jedoch systemd als Init-System eingesetzt wird (dies ist die
Standardeinstellung seit Debian Jessie), haben sie unterschiedliche Funktionen.

^[18] Beispiele sind cron, quota, logcheck, aide, ...

^[19] Die Weiterleitung der Mails für root an den regulären Benutzer wird in /
etc/aliases konfiguriert. Falls kein regulärer Benutzerzugang erstellt wurde,
werden die Mails natürlich direkt an root geschickt.

^[20] Sie können natürlich exim4 auch löschen und durch einen anderen MTA/MDA
ersetzen.

Anhang A. Installations-HowTo

Inhaltsverzeichnis

A.1. Einleitung
A.2. Den Installer booten

    A.2.1. Optische Disks (CD/DVD)
    A.2.2. USB-Memory-Stick
    A.2.3. Über das Netzwerk booten
    A.2.4. Von Festplatte starten

A.3. Installation
A.4. Schicken Sie uns einen Installationsbericht
A.5. Zu guter Letzt ...

Dieses Dokument beschreibt, wie man Debian GNU/Linux Bullseye für 64-Bit PC ("
amd64") mit dem neuen debian-installer installiert. Es ist ein
Schnelldurchmarsch durch den Installationsprozess, der für die meisten
Installationen alle notwendigen Informationen enthalten sollte. Dort, wo mehr
Infos nützlich sein könnten, werden wir auf detaillierte Anleitungen in anderen
Teilen dieses Dokuments verweisen.

A.1. Einleitung

Falls Sie während der Installation auf Fehler stoßen, erhalten Sie im
Abschnitt 5.4.7, "Installationsberichte einschicken" Instruktionen, wie Sie
diese an uns melden. Falls Sie Fragen haben, die in diesem Dokument nicht
beantwortet werden, richten Sie sie bitte an die Debian-Boot-Mailingliste
(debian-boot@lists.debian.org) oder fragen Sie im IRC (#debian-boot im
OFTC-Netzwerk) nach.

A.2. Den Installer booten

Das Debian-CD-Team stellt Ausgaben der Images, die den debian-installer nutzen,
auf der Debian auf CD/DVD-Webseite zur Verfügung. Weitere Informationen, wo Sie
Installations-Image bekommen können, gibt es hier: Abschnitt 4.1, "Offizielle
Debian GNU/Linux-Installations-Images".

Einige Installationsmethoden erfordern andere Images als die für optische
Medien. Abschnitt 4.2.1, "Wo Sie die Installationsdateien finden" gibt Infos,
wo man Images auf den Debian-Spiegel-Servern findet.

Die folgenden Abschnitte enthalten Details, welche Images Sie für die
verschiedenen Installationsmethoden benötigen.

A.2.1. Optische Disks (CD/DVD)

Das Netinst-CD-Image ist ein beliebtes Image, mit dem Bullseye mittels dem
debian-installer installiert werden kann. Bei dieser Methode wird vom
Installationsmedium gebootet und zusätzliche Pakete werden über das Netzwerk
installiert, daher auch der Name "netinst" (Netzwerkinstallation). Es enthält
die Komponenten, die zum Betrieb des Installers nötig sind, sowie die
Basispakete, um ein minimales Bullseye-System bereitzustellen. Wenn Sie
möchten, können Sie auch ein Komplett-CD/DVD-Image bekommen, das für die
Installation überhaupt kein Netzwerk benötigt. Sie benötigen nur das erste
Image aus solch einem Satz.

Laden Sie das Image herunter, das Sie bevorzugen, und brennen Sie es auf einen
optischen Datenträger. Um davon zu booten, müssen Sie unter Umständen die BIOS/
UEFI-Einstellungen ändern, wie in Abschnitt 3.6.1, "Das BIOS/UEFI-Setup-Menü
aufrufen" beschrieben.

A.2.2. USB-Memory-Stick

Es ist ebenfalls möglich, von USB-Speichermedien zu installieren. Zum Beispiel
kann ein USB-Schlüsselanhänger ein handliches Debian-Installationsmedium sein,
das man leicht überall mit hinnehmen kann.

Der einfachste Weg, um den USB-Memory-Stick für die Installation vorzubereiten,
ist, irgendein Debian-CD- oder -DVD-Image herunterzuladen, dass auf den Stick
passt, und es direkt auf den Memory-Stick zu schreiben. Hierdurch wird
natürlich alles andere auf dem Stick gelöscht! Dies funktioniert deshalb, weil
die Debian-Images »isohybrid«-Images sind, die sowohl von optischen
Datenträgern als auch von USB-Laufwerken booten können.

Es gibt andere, flexiblere Wege, um einen Memory-Stick für die Nutzung des
Debian-Installers einzurichten und es ist auch möglich, es mit kleineren
Speicher-Sticks hinzubekommen. Details hierzu finden Sie im Abschnitt 4.3,
"Dateien vorbereiten für das Booten von einem USB-Memory-Stick".

Während das Booten von USB-Speichersticks auf modernen UEFI-Systemen ziemlich
gängig ist, sieht es in der älteren BIOS-Welt anders aus. Bei einigen Systemen
kann das BIOS direkt vom USB-Speichermedium booten, bei anderen nicht.
Eventuell müssen Sie im BIOS/UEFI noch "USB legacy support" oder "Legacy
support" aktivieren. Im Menü für die Geräte, von denen gebootet werden kann
(engl. boot device selection) sollte "removable drive" oder "USB-HDD"
erscheinen, um von USB booten zu können. Hilfreiche Hinweise und Details finden
Sie in Abschnitt 5.1.1, "Von einem USB-Stick booten".

A.2.3. Über das Netzwerk booten

Es ist ebenfalls möglich, den debian-installer komplett über das Netzwerk zu
starten. Die verschiedenen Varianten des Bootens per Netzwerk sind abhängig von
der Architektur und den Netzwerk-Boot-Einstellungen. Sie können die Dateien
unter netboot/ nutzen, um den debian-installer per Netzwerk zu starten.

Am einfachsten einzurichten ist wahrscheinlich PXE-Netzwerk-Boot. Entpacken Sie
mittels untar die Datei netboot/pxeboot.tar.gz nach /srv/tftp oder wo auch
immer Ihr TFTP-Server sie benötigt. Richten Sie Ihren DHCP-Server so ein, dass
er die Datei pxelinux.0 an die Clients weiterleitet, und mit ein bisschen Glück
funktioniert es dann. Detaillierte Informationen finden Sie im Abschnitt 4.5,
"Dateien vorbereiten für TFTP-Netzwerk-Boot".

A.2.4. Von Festplatte starten

Es ist ebenfalls möglich, den Installer zu starten, indem Sie kein
Wechselmedium nutzen, sondern einfach eine vorhandene Festplatte, die sogar ein
anderes Betriebssystem enthalten kann. Laden Sie hd-media/initrd.gz, hd-media/
vmlinuz und ein Debian-CD/DVD-Image in das Wurzelverzeichnis der Festplatte.
Stellen Sie sicher, dass der Dateiname des Images auf .iso endet. Jetzt ist es
lediglich erforderlich, Linux mit der initrd zu starten. Abschnitt 5.1.5, "Von
Linux aus booten mittels GRUB" beschreibt einen Weg, wie dies funktioniert.

A.3. Installation

Sobald der Installer startet, werden Sie mit einem Startbildschirm begrüßt.
Drücken Sie Enter, um zu starten oder lesen Sie die Instruktionen über andere
Boot-Methoden und Parameter (siehe Abschnitt 5.3, "Boot-Parameter").

Nach einer Weile werden Sie aufgefordert, Ihre Sprache auszuwählen. Nutzen Sie
die Pfeiltasten, um eine Sprache auszuwählen, und drücken Sie Enter, um
fortzufahren. Als nächstes müssen Sie Ihr Land auswählen, wobei die Auswahl die
Länder enthält, in denen Ihre Sprache gesprochen wird. Wenn Ihr Land in dieser
kurzen Liste nicht auftaucht, gibt es auch eine Liste mit allen Ländern der
Erde.

Unter Umständen werden Sie aufgefordert, Ihr Tastaturlayout zu bestätigen. Wenn
Sie es nicht besser wissen, wählen Sie die Voreinstellung.

Lehnen Sie sich nun zurück, während der Installer die Hardware-Erkennung
durchführt und den Rest des Installations-Images in den Speicher lädt.

Als nächstes versucht der Installer, Ihre Netzwerkkarte zu erkennen und die
Netzwerkeinstellungen per DHCP einzurichten. Falls Ihr Rechner sich nicht in
einem Netzwerk befindet oder Sie kein DHCP haben, haben Sie die Möglichkeit,
das Netzwerk manuell zu konfigurieren.

Nach der Netzwerkkonfiguration folgt die Einrichtung der Benutzerzugänge.
Standardmäßig müssen Sie ein Passwort für den "root"-Zugang (Administrator)
angeben sowie Informationen zur Erstellung eines regulären Benutzers. Wenn Sie
kein Passwort für den "root"-Benutzer festlegen, führt das zur Deaktivierung
dieses Kontos, aber später wird das sudo-Paket installiert, damit
administrative Aufgaben auf dem neuen System durchgeführt werden können.
Standardmäßig wird in diesem Fall der erste auf dem System eingerichtete
Benutzer die Berechtigung erhalten, den sudo-Befehl zu verwenden, um root zu
werden.

In den nächsten Schritten werden Ihre Zeitzone und die Uhr eingestellt. Der
Installer wird versuchen, einen Zeit-Server im Internet zu kontaktieren, um
sicherzustellen, dass die Uhr korrekt gestellt ist. Die Einstellung für die
Zeitzone basiert auf dem vorher ausgewählten Land; der Installer wird Sie
lediglich dann auffordern, eine Zone auszuwählen, wenn ein Land mehrere
Zeitzonen hat.

Jetzt ist die Zeit gekommen, Ihre Festplatten zu partitionieren. Als erstes
haben Sie die Gelegenheit, automatisch entweder eine ganze Festplatte oder
verfügbaren freien Speicher auf einer Platte zu partitionieren (siehe
Abschnitt 6.3.4.2, "Geführte Partitionierung"). Dies wird empfohlen für neue
Benutzer oder alle, die es eilig haben. Wenn Sie keine geführte Partitionierung
wünschen, wählen Sie im Menü Manuell.

Wenn Sie eine vorhandene DOS- oder Windows-Partition auf dem Rechner haben und
diese auch behalten möchten, seien Sie mit der geführten Partitionierung
vorsichtig. Sie können stattdessen die manuelle Partitionierung des Installers
benutzen, um FAT- oder NTFS-Partitionen zu verkleinern und so Platz für die
Debian-Installation zu schaffen; wählen Sie einfach die entsprechende Partition
aus und geben Sie die neue Größe an.

Im nächsten Bild sehen Sie Ihre Partitionstabelle, wie die Partitionen
formatiert werden und wo Sie im Dateisystem eingebunden werden. Um eine
Partition zu verändern oder zu löschen, markieren Sie sie. Wenn Sie vorher
Geführte Partitionierung gewählt haben, können Sie lediglich Partitionierung
beenden und Änderungen übernehmen im Menü wählen, um die Einstellungen so zu
nutzen, wie sie erstellt wurden. Denken Sie daran, zumindest eine Partition als
Swap (um Arbeitsspeicher auszulagern) und eine als / einzurichten und
einzubinden. Weitergehende Informationen, wie Sie das Partitionierungsprogramm
benutzen, finden Sie in Abschnitt 6.3.4, "Partitionierung und Auswahl der
Einbindungspunkte im Dateisystem"; Anhang C, Partitionieren für eine
Debian-Installation enthält grundsätzliche Infos über das Thema
Partitionierung.

Jetzt formatiert der debian-installer Ihre Partitionen und beginnt dann mit der
Installation des Basissystems, was eine Weile dauern kann. Danach wird der
Kernel installiert.

Das Basissystem, das gerade installiert wurde, ist ein funktionsfähiges, wenn
auch sehr minimalistisches System. Um es funktioneller zu machen, erlaubt Ihnen
der nächste Schritt, zusätzliche Pakete zu installieren, indem Sie verschiedene
Programmgruppen auswählen. Bevor Pakete installiert werden können, muss apt
installiert werden; dabei wird festgelegt, woher die Pakete empfangen werden.
Die Programmgruppe "Standard-System" ist standardmäßig bereits ausgewählt und
sollte normalerweise immer installiert werden. Wählen Sie "Arbeitsplatzrechner"
, wenn Sie nach der Installation eine grafische Desktopumgebung haben möchten.
Abschnitt 6.3.6.2, "Software auswählen und installieren" enthält weitere
Informationen über diesen Schritt.

Der letzte Schritt ist die Installation des Bootloaders. Wenn der Installer ein
anderes Betriebssystem auf Ihrem Rechner erkennt, wird es zum Boot-Menü
hinzugefügt und Sie werden darüber informiert. Standardmäßig wird der
Bootloader GRUB in die UEFI-Partition/den Boot-Record des primären Laufwerks
installiert, was meistens eine gute Wahl ist. Sie haben aber die Möglichkeit,
diese Auswahl zu überschreiben und ihn anderswo zu installieren.

Jetzt wird der debian-installer Ihnen mitteilen, dass die Installation
abgeschlossen ist. Entfernen Sie die CD-ROM oder das jeweilige Boot-Medium und
drücken Sie Enter, um den Rechner neu zu booten. Das neu installierte System
sollte jetzt starten und Sie können sich einloggen. Dies ist in Kapitel 7, Das
neue Debian-System starten beschrieben.

Benötigen Sie weitere Informationen über den Installationsprozess, lesen Sie
Kapitel 6, Den Debian-Installer verwenden.

A.4. Schicken Sie uns einen Installationsbericht

Wenn Ihre Installation mit dem debian-installer erfogreich war, nehmen Sie sich
bitte die Zeit, uns einen Bericht zu schicken. Am Einfachsten ist es, das Paket
reportbug zu installieren (mit apt install reportbug), es wie in
Abschnitt 8.4.2, "E-Mails nach außerhalb verschicken" beschrieben zu
konfigurieren und dann reportbug installation-reports auszuführen.

Falls Sie die Installation nicht abschließen konnten, haben Sie möglicherweise
einen Fehler im Debian-Installer gefunden. Um den Installer zu verbessern,
müssen wir davon erfahren; also nehmen Sie sich bitte die Zeit, uns Fehler
mitzuteilen. Sie können die Vorlage des Installationsberichts dafür benutzen;
wenn die Installation komplett fehlschlug, lesen Sie Abschnitt 5.4.6,
"Installationsprobleme berichten".

A.5. Zu guter Letzt ...

Wir hoffen, dass Ihre Debian-Installation angenehm verlief und dass Sie Debian
nützlich finden. Vielleicht möchten Sie noch Kapitel 8, Die nächsten Schritte
und welche Seiten Sie noch besuchen sollten lesen.

Anhang B. Automatisieren der Installation mittels Voreinstellung

Inhaltsverzeichnis

B.1. Einführung

    B.1.1. Verschiedene Methoden der Voreinstellung
    B.1.2. Einschränkungen

B.2. Voreinstellung nutzen

    B.2.1. Die Voreinstellungsdatei laden
    B.2.2. Boot-Parameter nutzen, um Fragen automatisiert zu beantworten
    B.2.3. Auto-Modus
    B.2.4. Für Voreinstellung nützliche Aliase
    B.2.5. Beispiele für Voreinstellung via Boot-Prompt-Zeile
    B.2.6. Voreinstellungsdateien mittels eines DHCP-Servers festlegen

B.3. Eine Voreinstellungsdatei erstellen
B.4. Inhalt der Voreinstellungsdatei (für Bullseye)

    B.4.1. Lokalisierung
    B.4.2. Netzwerkkonfiguration
    B.4.3. Netzwerk-Konsole
    B.4.4. Einstellungen für den Spiegel-Server
    B.4.5. Einrichtung von Benutzerzugängen
    B.4.6. Einrichtung von Uhr und Zeitzone
    B.4.7. Partitionierung
    B.4.8. Installation des Basissystems
    B.4.9. Konfiguration von Apt
    B.4.10. Paketauswahl
    B.4.11. Installation des Bootloaders
    B.4.12. Die Installation beenden
    B.4.13. Voreinstellung anderer Pakete

B.5. Erweiterte Optionen

    B.5.1. Während der Installation eigene Kommandos ausführen
    B.5.2. Voreinstellung nutzen, um Standardantworten auf Fragen zu ändern
    B.5.3. Mehrere Voreinstellungsdateien nacheinander laden

Dieser Anhang beschreibt, wie Sie Antworten auf Fragen des debian-installers
voreinstellen, um die Installation zu automatisieren.

Die Konfigurationsfragmente aus diesem Abschnitt sind auch als Beispiel in Form
einer Voreinstellungsdatei unter ../example-preseed.txt verfügbar.

B.1. Einführung

Das Voreinstellen bietet einen Weg, Fragen zu beantworten, die während der
Installation gestellt werden, ohne dass man die Antworten manuell eingeben
muss, während die Installation läuft. Dies ermöglicht es, die meisten
Installationsarten voll zu automatisieren und bietet sogar einige Funktionen,
die während einer normalen Installation nicht verfügbar sind.

Das Verfahren der Voreinstellung ist nicht zwingend erforderlich. Wenn Sie eine
leere Voreinstellungsdatei verwenden, wird sich der Installer wie bei einer
ganz normalen manuellen Installation verhalten. Jede Frage, die Sie
voreinstellen, wird (wenn Sie es richtig gemacht haben!) die Installation ab
diesem Punkt auf irgendeine Art verändern.

B.1.1. Verschiedene Methoden der Voreinstellung

Es gibt drei Methoden, die zur Voreinstellung genutzt werden können: initrd,
file (Datei) und network (Netzwerk). Voreinstellung per initrd funktioniert mit
jeder Art von Installation und unterstützt vergleichsweise viele Dinge,
benötigt jedoch mehr Vorbereitung. Das Voreinstellen mittels file und network
kann jeweils mit verschiedenen Installationsmethoden genutzt werden.

Die folgende Tabelle zeigt, welche Voreinstellungsmethode Sie bei verschiedenen
Installationsarten nutzen können.

┌────────────────────────────────────────────────┬─────────┬──────┬───────────┐
│                Installationsart                │ initrd  │ file │  network  │
├────────────────────────────────────────────────┼─────────┼──────┼───────────┤
│CD/DVD/USB                                      │ja       │ja    │ja^[a]     │
├────────────────────────────────────────────────┼─────────┼──────┼───────────┤
│netboot (Netzwerk)                              │ja       │nein  │ja         │
├────────────────────────────────────────────────┼─────────┼──────┼───────────┤
│hd-media (inklusive USB-Stick)                  │ja       │ja    │ja^[a]     │
├────────────────────────────────────────────────┴─────────┴──────┴───────────┤
│^[a] jedoch nur, falls Sie Netzwerkzugriff haben und preseed/url passend     │
│gesetzt haben                                                                │
└─────────────────────────────────────────────────────────────────────────────┘

Ein wichtiger Unterschied zwischen den Voreinstellungsmethoden ist der
Zeitpunkt, zu dem die Voreinstellungsdatei geladen und bearbeitet wird. Beim
Voreinstellen per initrd ist dies direkt bei Start der Installation, noch bevor
die erste Frage gestellt wird. Bei Voreinstellung über die Kernel-Befehlszeile
findet es direkt danach statt. Es ist daher möglich, die in der initrd
festgesetzte Konfiguration über die Kernel-Befehlszeile wieder zu überschreiben
(entweder über die Konfiguration des Bootloaders oder händisch beim Booten,
falls der Bootloader dies erlaubt). Beim Voreinstellen über eine
Voreinstellungsdatei (file) wird sie geladen, nachdem das Installations-Image
geladen wurde. Beim Voreinstellen per Netzwerk kann die Datei erst geladen
werden, nachdem das Netzwerk konfiguriert wurde.

Wichtig

Natürlich können Voreinstellungswerte für Fragen, die verarbeitet werden, bevor
die Voreinstellungsdatei geladen wird, nicht greifen (dies beinhaltet Fragen,
die nur bei mittlerer oder niedriger Priorität gestellt werden, wie der erste
Hardware-Erkennungslauf). Ein etwas unkomfortabler Weg, trotzdem zu vermeiden,
dass diese Fragen gestellt werden ist, die Werte mittels Boot-Parametern
anzugeben, wie in Abschnitt B.2.2, "Boot-Parameter nutzen, um Fragen
automatisiert zu beantworten" beschrieben.

Um auf einfache Art Fragen zu vermeiden, die normalerweise erscheinen, bevor
die Voreinstellung greift, können Sie den Installer im "auto"-Modus starten.
Dadurch werden Fragen, die eigentlich für Voreinstellung zu früh gestellt
werden (wie Land, Sprache und Tastaturbelegung), aufgeschoben bis das Netzwerk
aktiv ist und dann voreingestellt werden können. Außerdem wird die Installation
mit Priorität kritisch durchgeführt, um unwichtige Fragen zu unterdrücken.
Siehe Abschnitt B.2.3, "Auto-Modus" für Details.

B.1.2. Einschränkungen

Obwohl für die meisten Fragen des debian-installer Werte voreingestellt werden
können, gibt es einige erwähnenswerte Ausnahmen. Sie müssen eine ganze
Festplatte oder freien verfügbaren Platz auf einer Platte (neu) partitionieren;
es ist nicht möglich, bereits vorhandene Partitionen zu verwenden.

B.2. Voreinstellung nutzen

Zunächst müssen Sie natürlich eine Voreinstellungsdatei erstellen und dort
ablegen, wo Sie sie benutzen wollen. Die Erstellung der Datei wird später in
diesem Kapitel behandelt. Sie am richtigen Ort zu platzieren, ist recht
unkompliziert, wenn Sie die Voreinstellung per Netzwerk oder USB-Stick nutzen
möchten. Falls Sie aber die Datei in einem Installations-Image integrieren
möchten, müssen Sie das ISO-Image remastern (neu erstellen). Und schließlich:
wie Sie die Voreinstellungsdatei in die initrd integrieren können, ist nicht
Thema dieses Dokuments; konsultieren Sie die Entwicklerdokumentation des
debian-installer.

Eine Beispiel-Voreinstellungsdatei, die Sie als Basis für Ihre Datei verwenden
können, ist unter ../example-preseed.txt verfügbar. Sie basiert auf den
Konfigurationsfragmenten, die in diesem Kapitel enthalten sind.

B.2.1. Die Voreinstellungsdatei laden

Falls Sie Voreinstellung per initrd benutzen, müssen Sie lediglich
sicherstellen, dass die Datei als preseed.cfg im Root-Verzeichnis der initrd
existiert. Der Installer wird automatisch überprüfen, ob solch eine Datei
existiert und sie laden.

Für alle anderen Voreinstellungsmethoden müssen Sie dem Installer beim Start
mitteilen, welche Datei er nutzen soll. Dies wird normalerweise mit einem
Boot-Parameter gemacht, den Sie dem Kernel beim Start angeben, entweder manuell
zum Boot-Zeitpunkt oder indem Sie die Konfigurationsdatei des Bootloaders
editieren (fügen Sie z.B. in syslinux.cfg den Parameter an das Ende der "append
"-Zeile für den Kernel an).

Wenn Sie die Voreinstellungsdatei in der Bootloader-Konfiguration festlegen,
möchten Sie vielleicht diese Konfiguration so verändern, dass Sie nicht mehr
die Enter-Taste drücken müssen, um den Installer zu booten. In syslinux.cfg
müssen Sie dazu den Timeout auf 1 setzen.

Um sicherzustellen, dass der Installer die richtige Voreinstellungsdatei
bekommt, können Sie optional eine Prüfsumme für die Datei angeben. Dies muss
derzeit eine md5sum-Prüfsumme sein, und wenn sie angegeben ist, muss sie auch
passen, ansonsten wird der Installer sich weigern, die Datei zu benutzen.

Boot-Parameter, die Sie angeben müssen
- wenn Sie per Netzwerk booten (netboot):
  preseed/url=http://host/path/to/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d
- oder
  preseed/url=tftp://host/path/to/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d

- wenn Sie von einem angepassten (remastered) Installations-Image
  booten:
  preseed/file=/cdrom/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

- wenn Sie von einem USB-Medium installieren (legen Sie die
  Voreinstellungsdatei im Toplevel-(Haupt)-Verzeichnis des USB-Sticks ab):
  preseed/file=/hd-media/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

Beachten Sie, dass preseed/url auch einfach mit url abgekürzt werden kann,
preseed/file mit file und preseed/file/checksum mit preseed-md5, wenn diese
Argumente als Boot-Parameter an den Kernel übergeben werden.

B.2.2. Boot-Parameter nutzen, um Fragen automatisiert zu beantworten

Falls eine Voreinstellungsdatei für einige Schritte nicht verwendet werden
kann, kann die Installation trotzdem voll automatisiert werden, da Sie auch
Voreinstellungswerte per Kommandozeile an den Kernel übergeben können.

Boot-Parameter können auch verwendet werden, wenn zwar Voreinstellung generell
nicht verwendet, aber eine Antwort für eine spezielle Frage vorgegeben werden
soll. Einige Beispiele, wofür das sinnvoll sein kann, sind an anderer Stelle in
diesem Handbuch dokumentiert.

Um einen Wert festzulegen, der innerhalb des debian-installers verwendet werden
soll, geben Sie einfach Pfad/zur/Variable=Wert für jede
Voreinstellungsvariable, die in den Beispielen dieses Kapitels aufgelistet ist,
am Boot-Prompt an. Falls ein Wert verwendet werden soll, um Pakete für das
Zielsystem zu konfigurieren, müssen Sie den Eigentümer (owner^[21]) der
Variable voranstellen wie hier: Eigentümer:Pfad/zur/Variable=Wert. Geben Sie
den Eigentümer nicht an, wird der Wert der Variable nicht in die
debconf-Datenbank des Zielsystems kopiert und bleibt deshalb bei der
Konfiguration des entsprechenden Pakets ungenutzt.

Eine Frage auf diese Art voreinzustellen führt normalerweise dazu, dass die
Frage überhaupt nicht gestellt wird. Um lediglich eine andere Vorauswahl
(Standardantwort) einzustellen, aber die Frage trotzdem stellen zu lassen,
verwenden Sie als Operator "?=" statt "=". Siehe auch Abschnitt B.5.2,
"Voreinstellung nutzen, um Standardantworten auf Fragen zu ändern".

Hinweis: einige Variablen, die oft am Boot-Prompt verwendet werden, haben einen
kurzen Alias (Abkürzung). Wenn ein Alias vorhanden ist, wird er in den
Beispielen in diesem Kapitel auch verwendet (statt der langen Fassung). Die
preseed/url-Variable zum Beispiel hat den Alias url. Ein anderes Beispiel ist
der Alias tasks, der in tasksel:tasksel/first übersetzt wird.

Ein "---" in den Boot-Optionen hat eine spezielle Bedeutung. Alle
Kernelparameter, die hinter dem letzten "---" stehen, werden in die
Bootloader-Konfiguration des installierten Systems kopiert (wenn der Installer
des Bootloaders dies unterstützt). Der Installer wird automatisch alle Optionen
(z.B. Voreinstellungsoptionen) ausfiltern, die er erkennt.

Anmerkung

Aktuelle Linux-Kernel (2.6.9 oder später) akzeptieren ein Maximum von 32
Kommandozeilenoptionen und 32 Umgebungsoptionen, inklusive einiger Optionen,
die standardmäßig für den Installer hinzugefügt werden. Wird diese Zahl
überschritten, wird der Kernel eine Panic melden (abstürzen). (Bei älteren
Kernels lagen diese Zahlen niedriger.)

Einige der Standardoptionen, wie vga=normal, können bei den meisten
Installationen getrost entfernt werden, was es erlaubt, mehr Optionen für
Voreinstellungen zu verwenden.

Anmerkung

Es könnte teilweise unmöglich sein, Boot-Parameter mit Werten zu verwenden, die
Leerzeichen enthalten, sogar wenn Sie sie mit Anführungszeichen einfassen.

B.2.3. Auto-Modus

Es gibt etliche Features des Debian Installers, die es erlauben, mit ziemlich
einfachen Kommandozeilen am Boot-Prompt zu komplexen angepassten
automatisierten Installationen zu kommen.

Dies wird über die Auswahl Automated install im Boot-Menü aktiviert, für einige
Architekturen oder Boot-Methoden auch auto genannt. In diesem Kapitel ist auto
daher kein Parameter, sondern bedeutet die Auswahl des genannten
Boot-Menü-Eintrags und das Hinzufügen der folgenden Boot-Parameter am
Boot-Prompt. In Abschnitt 5.1.7, "Der Start-Bildschirm (Boot-Screen)" finden
Sie Informationen darüber, wie Sie einen Boot-Parameter hinzufügen.

Um dies zu demonstrieren, hier einige Beispiele, die Sie am Boot-Prompt
verwenden können:

auto url=autoserver

Bedingung hierfür ist, dass ein DHCP-Server existiert, der den Rechner an den
Punkt bringt, wo autoserver per DNS aufgelöst werden kann, eventuell indem die
lokale Domäne hinzugefügt wird, falls sie per DHCP mitgeliefert wird. Wenn das
auf einer Site passiert, auf der die Domäne example.com lautet und es existiert
ein gesundes DHCP-Setup, führt das dazu, dass die Voreinstellungsdatei von
http://autoserver.example.com/d-i/bullseye/./preseed.cfg empfangen wird.

Der letzte Teil der URL (d-i/bullseye/./preseed.cfg) stammt von auto-install/
defaultroot. Standardmässig ist dabei das Verzeichnis bullseye enthalten, damit
zukünftige Versionen einen eigenen Codenamen festlegen können, um den Leuten
eine kontrollierte Migration zu ermöglichen. Der Teil /./ des Pfades wird
genutzt, um das Root-Verzeichnis relativ zu den späteren Pfaden, die verankert
werden können, zu bezeichnen. Hierdurch können Dateien durch eine komplette URL
angegeben werden (mit Pfaden, die mit / beginnen und entsprechend verankert
sind oder sogar mit Pfaden relativ zu dem Verzeichnis, in dem die letzte
Voreinstellungsdatei gefunden wurde). Dies kann genutzt werden, um Skripte zu
entwerfen, die in höherem Maße portierbar sind, so dass eine komplette
Hierachie von Skripten an einen neuen Ort verschoben werden kann, ohne sie
total zu zerstören (z.B. Skripte auf einen USB-Stick verschieben, während sie
auf einem Webserver entwickelt wurden). Ein Beispiel: die Voreinstellungsdatei
setzt preseed/run auf /scripts/late_command.sh, dann wird die Datei von http://
autoserver.example.com/d-i/bullseye/./scripts/late_command.sh heruntergeladen.

Falls keine lokale DHCP- oder DNS-Infrastruktur existiert oder falls Sie nicht
den Standardpfad zu der Datei preseed.cfg nutzen möchten, können Sie trotzdem
eine explizite URL angeben, und wenn Sie dabei nicht das Element /./ im Pfad
benutzen, wird sie passend am Anfang des Pfades verankert (z.B. das dritte / in
der URL). Hier ein Beispiel, das nur minimale Unterstützung von der lokalen
Netzwerkinfrastruktur erfordert:

auto url=http://192.168.1.2/path/to/mypreseed.file

Das funktioniert so:

  • falls in der URL das Protokoll fehlt, wird http angenommen,

  • falls der Teil des Rechnernamens keinen Punkt enthält, wird die Domäne, die
    vom DHCP abgeleitet wird, angehängt und

  • falls nach dem Rechnernamen kein / folgt, wird der Standardpfad
    hinzugefügt.

Zusätzlich zur Angabe der URL können Sie auch Einstellungen angeben, die nicht
direkt das Verhalten des debian-installer selbst beeinflussen, sondern an
Skripte weitergeleitet werden, die mit preseed/run in der geladenen
Voreinstellungsdatei festgelegt sind. Derzeit ist das einzige solche Beispiel
auto-install/classes, was den Alias classes hat. Dies kann entsprechend so
genutzt werden:

auto url=example.com classes=class_A;class_B

Die Klassen können zum Beispiel den Systemtyp, der installiert werden soll,
festlegen oder die Lokalisierung, die Sie nutzen möchten.

Natürlich ist es möglich, dieses Konzept zu erweitern und dabei ist es sinnig,
den auto-install-Namensraum dafür zu nutzen. Sie könnten z.B. etwas wie
auto-install/style verwenden, was dann in Ihren Skripten genutzt wird. Falls
Sie meinen, dass so etwas benötigt wird, erwähnen Sie es doch auf der
Mailingliste <debian-boot@lists.debian.org>, so dass wir Namenskonflikte
vermeiden und vielleicht einen Alias dafür hinzufügen können.

Die Auswahl auto im Boot-Menü ist noch nicht auf allen Architekturen definiert.
Der gleiche Effekt kann jedoch auch erreicht werden, indem die beiden Parameter
auto=true priority=critical zur Kernel-Kommandozeile hinzugefügt werden. Der
Kernel-Parameter auto ist ein Alias für auto-install/enable und wenn er auf
true gesetzt ist, werden die Fragen über Gebietsschema und Tastatur so weit
zurückgestellt, bis eine Chance besteht, sie per Voreinstellung zu setzen.
priority ist ein Alias für debconf/priority, und wenn er auf critical gesetzt
wird, unterdrückt das alle Fragen mit einer niedrigeren Priorität.

Zusätzliche Optionen, die eventuell interessant sein könnten für eine
automatisierte Installation mittels DHCP: interface=auto netcfg/dhcp_timeout=
60. Das sorgt dafür, dass die erste funktionsfähige Netzwerkkarte genutzt wird
und dass etwas mehr Zeit für die Antwort auf eine DHCP-Anfrage gegeben wird.

Tipp

Ein ausführliches Beispiel, wie Sie dieses Framework nutzen können, inklusive
Beispielskripte und -klassen finden Sie auf der Webseite des Entwicklers. Die
dort verfügbaren Beispiele zeigen auch viele andere tolle Effekte, die durch
kreative Nutzung von Voreinstellung erreicht werden können.

B.2.4. Für Voreinstellung nützliche Aliase

Die folgenden Aliase könnten nützlich sein, wenn Sie Voreinstellung (im
Auto-Modus) benutzen. Beachten Sie, dass dies einfach nur kurze Alias für
Fragen-Namen sind und dass Sie immer auch einen Wert angeben müssen, zum
Beispiel auto=true oder interface=eth0.

priority    debconf/priority
fb          debian-installer/framebuffer
language    debian-installer/language
country     debian-installer/country
locale      debian-installer/locale
theme       debian-installer/theme
auto        auto-install/enable
classes     auto-install/classes
file        preseed/file
url         preseed/url
domain      netcfg/get_domain
hostname    netcfg/get_hostname
interface   netcfg/choose_interface
protocol    mirror/protocol
suite       mirror/suite
modules     anna/choose_modules
recommends  base-installer/install-recommends
tasks       tasksel:tasksel/first
desktop     tasksel:tasksel/desktop
dmraid      disk-detect/dmraid/enable
keymap      keyboard-configuration/xkb-keymap
preseed-md5 preseed/file/checksum

B.2.5. Beispiele für Voreinstellung via Boot-Prompt-Zeile

Hier einige Beispiele, wie Zeilen am Boot-Prompt aussehen könnten (Sie müssen
sie natürlich an Ihre Bedürfnisse anpassen; schauen Sie sich auch
Abschnitt 5.1.7, "Der Start-Bildschirm (Boot-Screen)" an).

# Um Französisch als Sprache zu setzen und Frankreich als Land:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz language=fr country=FR --- quiet
# Um Englisch als Sprache zu setzen und Deutschland als Land, sowie ein
# deutsches Tastaturlayout zu verwenden:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz language=en country=DE locale=en_US.UTF-8 keymap=de --- quiet
# Um die MATE-Desktop-Umgebung zu installieren:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz desktop=mate-desktop --- quiet
# Um die Programmgruppe web-server zu installieren:
/install.amd/vmlinuz initrd=/install.amd/initrd.gz tasksel:tasksel/first=web-server ---

B.2.6. Voreinstellungsdateien mittels eines DHCP-Servers festlegen

Es ist auch möglich, DHCP zu benutzen, um eine Voreinstellungsdatei anzugeben,
die vom Netzwerk heruntergeladen werden soll. DHCP erlaubt es, einen Dateinamen
anzugeben. Normalerweise ist dies eine Datei für das Booten per Netzwerk; wenn
sie jedoch als URL angegeben wird, wird das Installationsmedium (dies muss
Voreinstellung per Netzwerk unterstützen) die Datei von der URL herunterladen
und als Voreinstellungsdatei benutzen. Hier ein Beispiel, wie Sie die
dhcpd.conf für den ISC-DHCP-Server Version 3 (aus dem Debian-Paket
isc-dhcp-server) einstellen müssen:

if substring (option vendor-class-identifier, 0, 3) = "d-i" {
    filename "http://host/preseed.cfg";
}

Beachten Sie, dass das obige Beispiel die Angabe des Dateinamens auf
DHCP-Clients beschränkt, die sich selbst als "d-i" identifizieren; es wird also
keine regulären DHCP-Clients beeinflussen, sondern nur Rechner, auf denen der
Installer läuft. Sie können den Text auch in einen Absatz der Datei einfügen,
der nur für einen bestimmten Rechner gilt, um zu vermeiden, dass ALLE
Installationen im Netzwerk voreingestellt werden.

Eine gute Sache für die Voreinstellung per DHCP ist es, nur Werte vorzugeben,
die netzwerkspezifisch sind, wie der zu nutzende Debian-Spiegel-Server. Auf
diese Weise wird bei allen Installationen im Netzwerk automatisch ein passender
Spiegel-Server gewählt, aber der Rest der Installation kann interaktiv
vonstatten gehen. Eine voll automatisierte Debian-Installation per
DHCP-Voreinstellung sollte nur mit Vorsicht durchgeführt werden.

B.3. Eine Voreinstellungsdatei erstellen

Die Voreinstellungsdatei hat das gleiche Format, wie es auch vom Befehl 
debconf-set-selections verwendet wird. Das grundsätzliche Format einer Zeile in
einer Voreinstellungsdatei ist Folgendes:

<owner> <question name> <question type> <value>
( <Eigentümer> <Name der Frage> <Typ der Frage> <Wert> )

Die Datei sollte mit #_preseed_V1 beginnen.

Es gibt ein paar Regeln, die man im Hinterkopf behalten sollte, wenn man eine
Voreinstellungsdatei schreibt:

  • Fügen Sie zwischen Typ und Wert nur ein einzelnes Leerzeichen oder einen
    Tab ein; jedes zusätzliche Leerzeichen wird interpretiert, als ob es zum
    Wert gehört.

  • Eine Zeile kann in mehrere aufgeteilt werden, indem ein Backslash ("\") als
    Zeilenfortsetzungszeichen angefügt wird. Eine gute Stelle, um die Zeile
    aufzuteilen, ist hinter dem Namen der Frage; eine schlechte ist zwischen
    Typ und Wert. Solche geteilten Zeilen werden in eine einzige
    zusammengeführt, wobei alle führenden (vor dem Backslash) und folgenden
    Leerzeichen (hinter dem Backslash) in ein einziges Leerzeichen konvertiert
    werden.

  • Für debconf-Variablen (Templates), die nur im Installer selbst benutzt
    werden, muss der Eigentümer (owner) auf "d-i" gesetzt werden; um Variablen
    im neu installierten System voreinzustellen, muss der Name des Pakets, das
    die entsprechenden debconf-Templates enthält, verwendet werden. Nur
    Variablen, deren Eigentümer auf einen anderen Wert als "d-i" gesetzt ist,
    werden der debconf-Datenbank des installierten Systems zugewiesen.

  • Für die meisten Fragen müssen bei der Voreinstellung die gültigen Werte in
    englischer Sprache benutzt werden und nicht die übersetzten Werte.
    Allerdings gibt es auch einige (zum Beispiel in partman), wo die
    übersetzten Werte verwendet werden müssen.

  • Einige Fragen verwenden einen Code als Wert statt des englischen Textes,
    der während der Installation angezeigt wird.

  • #_preseed_V1 an den Anfang der Datei schreiben.

  • Eine Zeile, die mit einem Raute-Zeichen ("#") beginnt, wird komplett als
    Kommentar angesehen und somit funktional nicht ausgewertet.

Der einfachste Weg, eine Voreinstellungsdatei zu erzeugen ist, die
Beispieldatei aus Abschnitt B.4, "Inhalt der Voreinstellungsdatei (für
Bullseye)" als Basis zu nehmen und sich von dort aus vorzuarbeiten.

Eine andere Methode ist, eine manuelle Installation durchzuführen und dann nach
dem Neustart den Befehl debconf-get-selections aus dem Paket debconf-utils zu
verwenden, um sowohl die debconf-Datenbank als auch die cdebconf-Datenbank des
Installers in eine Datei einzulesen:

$ echo "#_preseed_V1" > datei
$ debconf-get-selections --installer >> datei
$ debconf-get-selections >> datei

Allerdings wird eine Datei, die auf diese Art erzeugt wurde, einige Einträge
enthalten, die besser nicht voreingestellt werden sollten; deshalb wird die
Beispieldatei für die meisten Benutzer ein besserer Ausgangspunkt sein.

Anmerkung

Diese Methode basiert auf der Tatsache, dass die cdebconf-Datenbank des
Installers zum Ende der Installation nach /var/log/installer/cdebconf gesichert
wird. Allerdings könnte die Datenbank sensible Informationen enthalten und ist
deswegen nur für root lesbar.

Das Verzeichnis /var/log/installer und alle Dateien darin werden von Ihrem
System gelöscht, wenn Sie das Paket installation-report löschen und dabei die
Option "purge" (vollständiges Entfernen inkl. Konfigurationsdateien)
aktivieren.

Um mögliche Werte für Voreinstellungseinträge herauszufinden, können Sie den
Editor nano benutzen, um die Dateien in /var/lib/cdebconf/ zu betrachten,
während die Installation im Gange ist. templates.dat enthält die rohen Einträge
(Templates) und in questions.dat finden Sie die aktuellen Werte zu den
Templates sowie die Werte, die den Variablen zugewiesen sind.

Um vor dem Start einer Installation zu überprüfen, ob das Format Ihrer
Voreinstellungsdatei gültig ist, können Sie den Befehl debconf-set-selections
-c preseed.cfg verwenden.

B.4. Inhalt der Voreinstellungsdatei (für Bullseye)

Die Konfigurationsfragmente aus diesem Abschnitt sind auch als Beispiel in Form
einer Voreinstellungsdatei unter ../example-preseed.txt verfügbar.

Beachten Sie, dass dieses Beispiel auf einer Installation für die Intel
x86-Architektur basiert. Wenn Sie auf einer anderen Architektur installieren,
könnten einige der Beispiele (wie die Tastaturauswahl und die
Bootloader-Installation) nicht relevant sein und müssen durch für Ihre
Architektur passende debconf-Einstellungen ersetzt werden.

Details darüber, wie die verschiedenen Debian-Installer-Komponenten
funktionieren, finden Sie in Abschnitt 6.3, "Die einzelnen Komponenten".

B.4.1. Lokalisierung

Bei einer normalen Installation sind die Fragen, die als allererstes gestellt
werden, die über die Lokalisierung, daher können diese Werte nur über initrd
oder Kernel-Befehlszeile voreingestellt werden. Die Installation im Auto-Modus
(Abschnitt B.2.3, "Auto-Modus") enthält die Einstellung auto-install/enable=
true (normalerweise über den Alias auto). Diese verzögert die Fragen zur
Lokalisierung, so dass diese dann über jegliche Methode voreingestellt werden
können.

Das Gebietsschema (Locale) kann verwendet werden, um sowohl Sprache als auch
Land anzugeben. Es kann jede Kombination aus einer vom debian-installer
unterstützten Sprache und einem anerkannten Land (jeweils als Kürzel)
enthalten. Falls die angegebene Kombination kein gültiges Gebietsschema bildet,
wählt der Installer automatisch ein Gebietsschema, das für die gewählte Sprache
passend ist. Um das Gebietsschema als Boot-Parameter festzulegen, nutzen Sie
locale=de_DE (Beispiel de_DE: deutsch - Deutschland).

Obwohl diese Methode sehr einfach zu nutzen ist, erlaubt sie nicht das
Voreinstellen aller möglichen Kombinationen aus Sprache, Land und Gebietsschema
^[22]. Daher können diese Werte auch individuell voreingestellt werden. Sprache
und Land können auch als Boot-Parameter angegeben werden.

# Das Voreinstellen des Gebietsschemas (Locale) setzt gleichzeitig Sprache,
# Land und Standard-Gebietsschema:
d-i debian-installer/locale string de_DE

# Die Werte können auch individuell voreingestellt werden, um flexibler
# zu sein:
#d-i debian-installer/language string en
#d-i debian-installer/country string NL
#d-i debian-installer/locale string en_GB.UTF-8
# Geben Sie optional zusätzliche Gebietsschemata an, die generiert werden
# sollen:
#d-i localechooser/supported-locales multiselect en_US.UTF-8, nl_NL.UTF-8

Die Tastaturkonfiguration besteht aus der Auswahl der Tastaturbelegung und (bei
nicht-lateinischen Tastaturbelegungen) einer Umschalttaste, um zwischen der
nicht-lateinischen und der US-Tastaturbelegung hin- und herschalten zu können.
Während der Installation sind nur grundlegende Tastaturbelegungsvarianten
verfügbar. Erweiterte Varianten sind später im installierten System nutzbar,
verwenden Sie dpkg-reconfigure keyboard-configuration.

# Auswahl der Tastatur:
d-i keyboard-configuration/xkb-keymap select de
# Keine Umschalttaste:
# d-i keyboard-configuration/toggle select No toggling

Um die Konfiguration der Tastatur zu überspringen, stellen Sie für keymap den
Wert skip-config ein. Dies bewirkt, dass die Tastaturbelegung des Kernels
weiter verwendet wird.

B.4.2. Netzwerkkonfiguration

Die Voreinstellung der Netzwerkkonfiguration funktioniert natürlich nicht, wenn
Sie Ihre Voreinstellungsdatei vom Netzwerk laden, aber es ist toll, wenn Sie
von einem optischen Datenträger oder USB-Stick booten. Sie können jedoch auch
Netzwerkkonfigurations-Parameter automatisieren, wenn Sie die
Voreinstellungsdatei per Netzwerk laden, und zwar per Kernel-Parameter.

Falls Sie beim Booten per Netzwerk eine bestimmte Netzwerkschnittstelle
auswählen müssen, bevor eine Voreinstellungsdatei vom Netzwerk geladen wurde,
benutzen Sie einen Boot-Parameter wie interface=eth1.

Obwohl das Voreinstellen der Netzwerkkonfiguration normalerweise nicht möglich
ist, wenn Sie Voreinstellung über Netzwerk benutzen (mittels "preseed/url"),
können Sie den folgenden Hack verwenden, um diese Einschränkung zu umgehen,
wenn Sie zum Beispiel eine statische Adresse für die Netzwerk-Schnittstelle
setzen möchten. Der Hack erzwingt, dass die Netzwerkkonfiguration erneut
abläuft, nachdem die Voreinstellungsdatei geladen wurde. Dazu wird ein "preseed
/run"-Script erzeugt mit den folgenden Befehlen:

kill-all-dhcp; netcfg

Die folgenden debconf-Variablen sind für die Netzwerkkonfiguration relevant:

# Die Netzwerkkonfiguration vollständig überspringen. Dies ist für CD-ROM-
# Installationen auf Rechnern ohne Netzwerk-Hardware nützlich, wo die Fragen
# über das Netzwerk, die Warnungen und das lange Warten auf die Zeitüber-
# schreitungen sehr lästig wären:
#d-i netcfg/enable boolean false

# netcfg versucht nach Möglichkeit, eine Netzwerkschnittstelle zu wählen,
# die bereits Verbindung hat (Netzwerkkabel gesteckt, aktive Gegenstelle).
# Diese Zeile vermeidet, dass eine Liste angezeigt wird, wenn mehr als
# eine Schnittstelle verfügbar ist:
d-i netcfg/choose_interface select auto

# Um stattdessen eine bestimmte Schnittstelle vorzugeben:
#d-i netcfg/choose_interface select eth1

# Um eine andere Timeout-Zeit für die Verbindungserkennung festzulegen
# (Standard ist 3 Sekunden); Werte werden als Sekunden interpretiert:
#d-i netcfg/link_wait_timeout string 10

# Wenn Sie einen langsamen DHCP-Server haben und der Installer läuft in eine
# Zeitüberschreitung, während er auf ihn wartet, könnte dies nützlich sein:
#d-i netcfg/dhcp_timeout string 60
#d-i netcfg/dhcpv6_timeout string 60

# Automatische Netzwerkkonfiguration ist die Standardvorgehensweise.
# Wenn Sie es vorziehen, das Netzwerk manuell zu konfigurieren, entfernen
# Sie hier das Kommentarzeichen und ebenso bei den Zeilen für die statische
# Netzwerkkonfiguration unten:
#d-i netcfg/disable_autoconfig boolean true

# Falls Sie möchten, dass die Voreinstellungsdatei sowohl auf Systemen mit
# DHCP-Server als auch ohne einen solchen funktioniert, entfernen Sie hier
# die Kommentarzeichen sowie auch unten bei der statischen
# Netzwerkkonfiguration:
#d-i netcfg/dhcp_failed note
#d-i netcfg/dhcp_options select Configure network manually

# Statische Netzwerkkonfiguration.
#
# IPv4-Beispiel:
#d-i netcfg/get_ipaddress string 192.168.1.42
#d-i netcfg/get_netmask string 255.255.255.0
#d-i netcfg/get_gateway string 192.168.1.1
#d-i netcfg/get_nameservers string 192.168.1.1
#d-i netcfg/confirm_static boolean true
#
# IPv6-Beispiel:
#d-i netcfg/get_ipaddress string fc00::2
#d-i netcfg/get_netmask string ffff:ffff:ffff:ffff::
#d-i netcfg/get_gateway string fc00::1
#d-i netcfg/get_nameservers string fc00::1
#d-i netcfg/confirm_static boolean true

# Bedenken Sie, dass jeder Rechner- und Domänenname, der per DHCP
# zugewiesen wird, Vorrang hat vor den hier angegebenen. Allerdings
# bewirken diese Zeilen, dass keine Fragen angezeigt werden, auch wenn
# Werte per DHCP empfangen werden:
d-i netcfg/get_hostname string unassigned-hostname
d-i netcfg/get_domain string unassigned-domain

# Wenn Sie einen Rechnernamen erzwingen möchten, unabhängig davon, was der
# DHCP-Server zurückgibt oder wie der Reverse-DNS-Eintrag für die IP-Adresse
# lautet, entfernen Sie bei der folgenden Zeile das Kommentarzeichen und
# passen Sie sie an:
#d-i netcfg/hostname string somehost

# Den lästigen WEP-Schlüssel-Dialog unterdrücken:
d-i netcfg/wireless_wep string
# Der verrückte DHCP-Rechnername, den einige ISP als eine Art Passwort nutzen:
#d-i netcfg/dhcp_hostname string radish

# Falls nicht-freie Firmware benötigt wird für Netzwerk- oder andere
# Hardware, können Sie den Installer so konfigurieren, dass immer versucht
# wird, die Firmware zu laden, ohne Nachfrage (true). Oder Sie ändern dies
# auf false, wenn überhaupt nicht danach gefragt werden soll:
#d-i hw-detect/load_firmware boolean true

Bitte beachten Sie, dass netcfg die Netzmaske automatisch ermittelt, falls
netcfg/get_netmask nicht voreingestellt ist. In diesem Fall muss die Variable
für automatische Installationen als seen markiert werden. Ähnlich dazu wird 
netcfg auch eine geeignete Gateway-Adresse wählen, falls netcfg/get_gateway
nicht voreingestellt wird. Es gibt die spezielle Möglichkeit, netcfg/
get_gateway auf "none" zu setzen, um festzulegen, dass kein Gateway benutzt
werden soll.

B.4.3. Netzwerk-Konsole

# Nutzen Sie die folgenden Einstellungen, wenn Sie die Komponente "Netzwerk-
# Konsole" für eine entfernte Installation per SSH verwenden möchten. Dies
# macht nur Sinn, wenn Sie vorhaben, den verbleibenden Rest der Installation
# manuell durchzuführen:
#d-i anna/choose_modules string network-console
#d-i network-console/authorized_keys_url string http://10.0.0.1/openssh-key
#d-i network-console/password password r00tme
#d-i network-console/password-again password r00tme

Weitere Informationen zur Netzwerk-Konsole finden Sie in Abschnitt 6.3.10,
"Installation über die Netzwerk-Konsole".

B.4.4. Einstellungen für den Spiegel-Server

Abhängig von der Installationsmethode, die Sie verwenden, kann ein
Spiegel-Server sowohl dazu genutzt werden, zusätzliche Komponenten des
Installers und das Basissystem herunterzuladen als auch um die /etc/apt/
sources.list für das zu installierende System einzurichten.

Der Parameter mirror/suite beeinflusst die Paketquellen für das zu
installierende System.

Der Parameter mirror/udeb/suite beeinflusst die Paketquellen für den Installer.
Es ist nur nützlich, dies einzustellen, wenn aktuell Komponenten des Installers
über das Netzwerk geladen werden; dieser Wert sollte mit dem übereinstimmen,
der genutzt wurde, um die initrd, die Sie für Ihre Installationsmethode nutzen,
zu bauen. Normalerweise wird der Installer automatisch den korrekten Wert
verwenden und es sollte daher keinen Grund geben, dies manuell festzulegen.

# Spiegel-Server-Protokoll:
# Wenn Sie FTP wählen, muss mirror/country nicht gesetzt werden.
# Vorgabewert für das Protokoll des Spiegel-Servers: http.
#d-i mirror/protocol string ftp
d-i mirror/country string manual
d-i mirror/http/hostname string ftp2.de.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

# Distributionszweig von Debian, den Sie installieren möchten:
#d-i mirror/suite string testing
# Distributionszweig, der genutzt wird, um Installer-Komponenten zu
# laden (optional):
#d-i mirror/udeb/suite string testing

B.4.5. Einrichtung von Benutzerzugängen

Das Passwort für den Superuser-Zugang (root) sowie Name und Passwort des ersten
regulären Benutzers können voreingestellt werden. Für die Passwörter können Sie
entweder Klartext-Werte oder crypt(3)-Hashes verwenden.

Warnung

Bedenken Sie, dass die Voreinstellung von Passwörtern nicht ganz sicher ist, da
jeder, der Zugang zur Voreinstellungsdatei hat, Kenntnis von den Passwörtern
erlangen könnte. Hier verschlüsselte Hashes für die Passwörter zu verwenden,
wird als sicher angesehen, solange keine schwachen Algorithmen wie DES oder MD5
zum Einsatz kommen, da diese die Gefahr von Brute-Force-Attacken bergen. Es
wird empfohlen, SHA-256 oder SHA512 zu benutzen.

# Das Anlegen des Root-Zugangs abbrechen (der normale Benutzer
# bekommt dann die Möglichkeit, sudo zu benutzen):
#d-i passwd/root-login boolean false
# Alternativ dazu können Sie auch das Anlegen eines normalen
# Benutzers abbrechen:
#d-i passwd/make-user boolean false

# Root-Passwort, entweder als Klartext ... :
#d-i passwd/root-password password r00tme
#d-i passwd/root-password-again password r00tme
# ... oder verschlüsselt als crypt(3)-Hash:
#d-i passwd/root-password-crypted password [crypt(3)-Hash]

# Um einen regulären Benutzerzugang zu erstellen:
#d-i passwd/user-fullname string Max Mustermann
#d-i passwd/username string maximus
# Passwort des regulären Benutzers, entweder als Klartext ... :
#d-i passwd/user-password password insecure
#d-i passwd/user-password-again password insecure
# ... oder verschlüsselt als crypt(3)-Hash:
#d-i passwd/user-password-crypted password [crypt(3)-Hash]
# Den ersten Benutzer mit der angegebenen Benutzer-ID (UID) erstellen
# statt mit der Standard-UID:
#d-i passwd/user-uid string 1010

# Der Benutzerzugang wird zu einigen Standard-Benutzergruppen hinzugefügt.
# Um dies zu überschreiben, benutzen Sie:
#d-i passwd/user-default-groups string audio cdrom video

Die Variablen passwd/root-password-crypted und passwd/user-password-crypted
können auch mit "!" als Wert voreingestellt werden. In diesem Fall wird der
entsprechende Zugang deaktiviert. Dies könnte für den root-Zugang sinnvoll
sein, vorausgesetzt natürlich, dass alternative Möglichkeiten vorhanden sind,
um administrative Tätigkeiten oder root-Logins zu ermöglichen (z.B. per
Authentifizierung mit SSH-Schlüssel oder per sudo).

Der folgende Befehl (aus dem Paket whois) kann verwendet werden, um einen
SHA-512 basierten crypt(3)-Hash für ein Passwort zu generieren:

mkpasswd -m sha-512

B.4.6. Einrichtung von Uhr und Zeitzone

# Legt fest, ob die Hardware-(CMOS-)Uhr auf UTC eingestellt ist oder nicht:
d-i clock-setup/utc boolean true

# Sie können hier irgendeinen, für $TZ gültigen Wert eingeben; gültige
# Werte finden Sie in /usr/share/zoneinfo/:
d-i time/zone string Europe/Berlin

# Hier wird eingestellt, ob NTP benutzt wird, um während der Installation
# die Uhr zu stellen:
d-i clock-setup/ntp boolean true
# NTP-Server, der genutzt werden soll; der Standardwert sollte für die
# meisten Fälle passend sein:
#d-i clock-setup/ntp-server string ntp.example.com

B.4.7. Partitionierung

Die Möglichkeiten der Voreinstellung für die Partitionierung der Festplatte
werden begrenzt durch das, was partman-auto unterstützt. Sie können wählen,
entweder vorhandenen freien Platz auf der Platte zu partitionieren oder die
komplette Platte. Das Layout der Disk kann durch ein vordefiniertes Rezept
festgelegt werden, durch ein selbst erstelltes aus einer Rezeptdatei oder durch
ein Rezept, das in der Vorkonfigurationsdatei enthalten ist.

Die Voreinstellung von fortgeschrittenen Partitionierungen unter Verwendung von
RAID, LVM und Verschlüsselung ist möglich, jedoch nicht mit der vollständigen
Flexibilität, die bei einer Installation ohne Voreinstellung möglich wäre.

Die Beispiele weiter unten bieten nur grundlegende Informationen über die
Nutzung von Partitionierungsrezepten. Detailierte Informationen finden Sie in
den Dateien partman-auto-recipe.txt und partman-auto-raid-recipe.txt, die in
dem Paket debian-installer enthalten sind. Beide Dateien sind ebenfalls über
das Quellcode-Repository des debian-installers verfügbar. Beachten Sie, dass
die unterstützten Funktionalitäten abhängig von der Version variieren können.

Warnung

Die Erkennung der Festplatten hängt von der Reihenfolge ab, in der ihre Treiber
geladen werden. Falls mehrere Platten im System existieren, achten Sie
verstärkt darauf, dass Sie die richtige ausgewählt haben, bevor Sie die
Voreinstellung nutzen.

B.4.7.1. Partitionierungsbeispiele

# Wenn das System freien Platz auf der Platte hat, können Sie festlegen, nur
# diesen Platz zu partitionieren. Folgendes zu setzen hat nur Auswirkungen,
# wenn partman-auto/method (weiter unten) nicht gesetzt ist:
#d-i partman-auto/init_automatically_partition select biggest_free

# Alternativ können Sie eine Festplatte angeben, die partitioniert werden
# soll. Falls das System nur eine einzige Festplatte enthält, wird der
# Installer diese standardmäßig verwenden, aber andernfalls muss der
# Gerätename der Platte im traditionellen Format (nicht devfs) angegeben
# werden (z.B. /dev/sda, nicht jedoch etwas wie /dev/discs/disc0/disc).
# Um z.B. die erste SCSI/SATA-Festplatte zu nutzen, kann die folgende Zeile
# verwendet werden:
#d-i partman-auto/disk string /dev/sda
# Zusätzlich müssen Sie angeben, welche Partitionierungsmethode genutzt werden
# soll. Derzeit verfügbare Methoden:
# - regular: gewöhnliche Partitionstypen für die jeweilige Architektur verwenden
# - lvm:     LVM verwenden, um die Platte zu partitionieren
# - crypto:  LVM mit einer verschlüsselten Partition verwenden
d-i partman-auto/method string lvm

# Sie können den Anteil des Platzes angeben, der für die LVM-Volume-Gruppe
# verwendet wird. Dies kann entweder eine Größenangabe mit Einheit sein
# (z.B. 20 GB), eine Prozentangabe des verfügbaren freien Speicherplatzes,
# oder das Schlüsselwort »max«.
d-i partman-auto-lvm/guided_size string max

# Falls eine der Festplatten, die automatisch partitioniert werden sollen,
# eine alte LVM-Konfiguration enthält, wird dem Benutzer normalerweise eine
# Warnung angezeigt. Diese kann aber durch Voreinstellung unterdrückt werden:
d-i partman-lvm/device_remove_lvm boolean true
# Das Gleiche gilt für bereits existierende Software-RAID-Arrays:
d-i partman-md/device_remove_md boolean true
# Ebenfalls für die Bestätigung, die LVM-Partitionen zu schreiben:
d-i partman-lvm/confirm boolean true
d-i partman-lvm/confirm_nooverwrite boolean true

# Sie können eines der vordefinierten Partitionierungsrezepte wählen:
# - atomic: alle Dateien in einer Partition
# - home:   separate /home-Partition
# - multi:  separate /home-, /var- und /tmp-Partitionen
d-i partman-auto/choose_recipe select atomic

# Oder erstellen Sie ein eigenes Rezept:
# Wenn Sie eine Möglichkeit haben, eine Rezeptdatei in die d-i-Umgebung zu
# bekommen, können Sie einfach darauf verweisen:
#d-i partman-auto/expert_recipe_file string /hd-media/recipe

# Falls nicht, können Sie auch ein ganzes Rezept in eine einzige (logische)
# Zeile packen. Dieses Beispiel erzeugt eine kleine /boot-Partition, eine
# Swap-Partition passender Größe und benutzt den Rest des Platzes für
# die root-Partition:
#d-i partman-auto/expert_recipe string                         \
#      boot-root ::                                            \
#              40 50 100 ext3                                  \
#                      $primary{ } $bootable{ }                \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ /boot }                     \
#              .                                               \
#              500 10000 1000000000 ext3                       \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ / }                         \
#              .                                               \
#              64 512 300% linux-swap                          \
#                      method{ swap } format{ }                \
#              .

# Das vollständige Rezeptformat ist in der Datei partman-auto-recipe.txt
# dokumentiert, die im Paket »debian-installer« enthalten oder im D-I-
# Quellcode-Repository verfügbar ist. Dort ist auch dokumentiert, wie
# erweiterte Einstellungen festgelegt werden, z.B. Dateisystem-Bezeichnungen,
# Volumegruppen-Namen etc., oder welche physikalischen Geräte in einer
# Volumegruppe enthalten sein sollen.

## Partitionieren für EFI
# Wenn Ihr System eine EFI-Partition benötigt, können Sie Zeilen wie diese
# zu Ihrem Rezept hinzufügen (als erstes Element im Rezept):
#               538 538 1075 free                              \
#                      $iflabel{ gpt }                         \
#                      $reusemethod{ }                         \
#                      method{ efi }                           \
#                      format{ }                               \
#               .                                              \
#
# Obiges Fragment ist passend für die amd64-Architektur; auf anderen
# Architekturen könnten die Details abweichen. Das Paket 'partman-auto'
# im D-I Quell-Repository enthält eventuell ein Beispiel, nach dem Sie sich
# richten können.

# Dies veranlasst partman, automatisch ohne Nachfrage zu partitionieren,
# vorausgesetzt, Sie haben mit einer der obigen Methoden festgelegt, wie
# partitioniert werden soll:
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

# UEFI-Boot-Vorgang erzwingen ('BIOS-Kompatibilität' wird verworfen).
# Standardeinstellung: false.
#d-i partman-efi/non_efi_system boolean true
# Sicherstellen, dass eine GPT-Partitionstabelle verwendet wird -
# erforderlich für EFI:
#d-i partman-partitioning/choose_label select gpt
#d-i partman-partitioning/default_label string gpt

# Bei gewählter Festplattenverschlüsselung: das vorab durchzuführende
# Löschen der Partitionen überspringen:
#d-i partman-auto-crypto/erase_disks boolean false

B.4.7.2. Partitionierung mit RAID

Sie können auch Voreinstellung verwenden, um Partitionen auf einem
Software-RAID einzurichten. Es werden RAID-Level 0, 1, 5, 6 und 10 unterstützt
sowie die Einrichtung von degradierten Arrays und die Festlegung von
Reserveplatten.

Wenn Sie RAID 1 verwenden, können Sie voreinstellen, dass grub auf allen
Geräten im Verbund installiert wird; siehe Abschnitt B.4.11, "Installation des
Bootloaders".

Warnung

Bei dieser Art von automatisierter Partitionierung kann leicht etwas falsch
laufen. Auch ist diese Installer-Komponente von den Entwicklern des
debian-installer relativ wenig getestet worden. Die Verantwortung, die
verschiedenen Rezepte richtig hinzubekommen (so dass sie Sinn machen und nicht
miteinander kollidieren), liegt beim Benutzer! Schauen Sie in /var/log/syslog
nach, wenn Probleme auftreten.

# Die Partitionierungsmethode sollte auf "raid" gesetzt werden:
#d-i partman-auto/method string raid
# Geben Sie die Festplatten an, die partitioniert werden sollen. Sie bekommen
# alle das gleiche Layout, dies wird also nur funktionieren, wenn alle
# Festplatten die gleiche Größe haben:
#d-i partman-auto/disk string /dev/sda /dev/sdb

# Als nächstes müssen Sie die zu nutzenden physikalischen Partitionen
# einrichten:
#d-i partman-auto/expert_recipe string \
#      multiraid ::                                         \
#              1000 5000 4000 raid                          \
#                      $primary{ } method{ raid }           \
#              .                                            \
#              64 512 300% raid                             \
#                      method{ raid }                       \
#              .                                            \
#              500 10000 1000000000 raid                    \
#                      method{ raid }                       \
#              .

# Als letztes muss noch angegeben werden, wie die vorher definierten Partitionen
# im RAID-Setup verwendet werden sollen. Denken Sie daran, die korrekten
# Partitionsnummern für die logischen Partitionen zu benutzen. Es werden die
# RAID-Level 0, 1, 5, 6 und 10 unterstützt; Geräte werden mittels »#« voneinander
# getrennt.
# Parameter sind:
# <raidtype> <devcount> <sparecount> <fstype> <mountpoint> \
#          <devices> <sparedevices>
#
#d-i partman-auto-raid/recipe string \
#    1 2 0 ext3 /                    \
#          /dev/sda1#/dev/sdb1       \
#    .                               \
#    1 2 0 swap -                    \
#          /dev/sda5#/dev/sdb5       \
#    .                               \
#    0 2 0 ext3 /home                \
#          /dev/sda6#/dev/sdb6       \
#    .

# Weitere Informationen finden Sie in der Datei partman-auto-raid-recipe.txt,
# die im Paket »debian-installer« enthalten oder im D-I-Quellcode-Repository
# verfügbar ist.

# Dies veranlasst partman, automatisch ohne Nachfrage zu partitionieren:
d-i partman-md/confirm boolean true
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

B.4.7.3. Festlegen, wie Partitionen eingebunden werden

Normalerweise werden Dateisysteme unter Verwendung einer eindeutigen Kennung,
dem Universally Unique Identifier (UUID) als Schlüssel eingebunden; auf diesem
Wege ist es möglich, sie korrekt einzubinden, selbst wenn sich ihr Gerätename
ändert. UUIDs sind allerdings lang und schwierig zu lesen, daher kann der
Installer die Dateisysteme, falls Sie dies bevorzugen, auch basierend auf den
traditionellen Gerätenamen einbinden oder aber basierend auf einem Label, das
sie festlegen. Wenn Sie den Installer anweisen, die Einbindung über ein Label
vorzunehmen, wird für alle Dateisysteme, die kein Label haben, trotzdem der
UUID verwendet.

Für Geräte mit feststehenden Namen, wie zum Beispiel logischen LVM-Volumes,
werden weiterhin die traditionellen Namen statt der UUIDs verwendet.

Warnung

Die traditionellen Gerätenamen können sich basierend auf der Reihenfolge, in
der der Kernel die Geräte beim Booten erkennt, ändern, was dazu führen kann,
dass das falsche Dateisystem eingebunden wird. Ähnlich dazu können bei den
Labels Überschneidungen auftreten, wenn Sie eine neue Festplatte oder ein
USB-Laufwerk anschließen, und wenn dies passiert, ist das Verhalten Ihres
Systems beim Starten rein willkürlich.

# Standardeinstellung ist, mittels UUID einzubinden, Sie können aber auch
# "traditional" wählen, um die traditionellen Gerätenamen zu nutzen, oder
# "label", um die Einbindung per Dabeisystem-Label zu versuchen, wobei im
# Falle eines Fehlers hier die UUIDs als Ausweichlösung verwendet werden.
#d-i partman/mount_style select uuid

B.4.8. Installation des Basissystems

Es gibt momentan nicht viel, was für diesen Teil der Installation
voreingestellt werden kann. Die einzigen gestellten Fragen betreffen die
Installation des Kernels.

# APT konfigurieren, dass empfohlene (recommended) Pakete nicht automatisch
# installiert werden. Die Verwendung dieser Option kann zu einem
# unvollständigen System führen und sollte nur von sehr erfahrenen
# Anwendern genutzt werden:
#d-i base-installer/install-recommends boolean false

# Das Kernel-Image-(Meta-)Paket, das installiert werden soll; "none" kann
# genutzt werden, wenn kein Kernel installiert werden soll:
#d-i base-installer/kernel/image string linux-image-686

B.4.9. Konfiguration von Apt

Die Konfiguration von /etc/apt/sources.list und grundlegenden
Einstellungsoptionen ist voll automatisiert, basierend auf der
Installationsmethode und Antworten auf frühere Fragen. Sie können optional
weitere (lokale) Paketquellen (Repositories) hinzufügen.

# Wählen Sie, ob Sie zusätzliche Installationsmedien scannen möchten.
# (Standardwert: false)
d-i apt-setup/cdrom/set-first boolean false
# Sie können wählen, ob Sie Software aus dem "non-free"- oder
# "contrib"-Zweig installieren möchten:
#d-i apt-setup/non-free boolean true
#d-i apt-setup/contrib boolean true
# Entfernen Sie bei der folgenden Zeile das Kommentarzeichen, wenn Sie in
# der sources.list des zu installierenden Systems keinen aktiven Eintrag
# für ein DVD-/BD-Installations-Image haben möchten.
# (Einträge für netinst- oder CD-Images werden grundsätzlich nicht
# aktiviert, unabhängig von dieser Einstellung.)
#d-i apt-setup/disable-cdrom-entries boolean true
# Entfernen Sie das folgende Kommentarzeichen, wenn Sie keinen Netzwerk-
# Spiegel-Server verwenden möchten:
#d-i apt-setup/use_mirror boolean false
# Wählen Sie, welche Update-Dienste genutzt werden sollen; legen Sie die
# zu verwendenden Spiegel-Server fest. Die hier angegebenen Werte sind die
# normalen Standardwerte:
#d-i apt-setup/services-select multiselect security, updates
#d-i apt-setup/security_host string security.debian.org

# Zusätzliche Paketquellen, "local[0-9]" verfügbar:
#d-i apt-setup/local0/repository string \
#       http://local.server/debian stable main
#d-i apt-setup/local0/comment string local server
# deb-src-Zeilen aktivieren:
#d-i apt-setup/local0/source boolean true
# URL zum öffentlichen Schlüssel der lokalen Quelle; Sie müssen einen
# Schlüssel bereitstellen, oder apt wird sich über die nicht-autorisierte
# Quelle beschweren und die Zeile in der sources.list wird auskommentiert
# bleiben und nicht genutzt:
#d-i apt-setup/local0/key string http://local.server/key
# Wenn die genutzte Schlüsseldatei auf ".asc" endet, muss diese Datei ein
# ASCII-geschützter PGP-Schlüssel sein; endet sie auf ".gpg", muss sie im
# Format "GPG key public keyring" vorliegen. Das "keybox database"-Format
# wird derzeit nicht unterstützt.

# Standardmäßig verlangt der Installer, dass Paketquellen mittels
# bekannter GPG-Schlüssel autorisiert werden. Folgendes kann verwendet
# werden, um das zu deaktivieren. WARNUNG: unsicher, nicht empfohlen.
#d-i debian-installer/allow_unauthenticated boolean true

# Entfernen Sie hier das Kommentarzeichen, um multiarch-Konfiguration
# für i386 hinzuzufügen:
#d-i apt-setup/multiarch string i386


B.4.10. Paketauswahl

Sie können jede Kombination der verfügbaren Programmgruppen auswählen. Mögliche
Werte zum Zeitpunkt, als dies geschrieben wurde:

  • standard (Standard-Programme)

  • desktop (grafische Arbeitsplatz-Umgebung / Standardauswahl)

  • gnome-desktop (Gnome-Arbeitsplatz-Umgebung)

  • xfce-desktop (XFCE-Arbeitsplatz-Umgebung)

  • kde-desktop (KDE-Plasma Arbeitsplatz-Umgebung)

  • cinnamon-desktop (Cinnamon-Arbeitsplatz-Umgebung)

  • mate-desktop (MATE-Arbeitsplatz-Umgebung)

  • lxde-desktop (LXDE-Arbeitsplatz-Umgebung)

  • web-server (Web-Server)

  • ssh-server (SSH-Server)

Sie können hier auch wählen, gar nichts zu installieren und die Installation
von bestimmten Paketen auf andere Art erzwingen. Wir empfehlen aber, immer
zumindest die Programmgruppe "standard" auszuwählen.

Oder wenn Sie möchten, dass der tasksel-Dialog überhaupt nicht angezeigt wird,
setzen Sie pkgsel/run_tasksel (es werden dann über tasksel gar keine Pakete
installiert).

Wenn Sie zusätzlich zu den Paketen, die durch die Programmgruppen installiert
werden, weitere benötigen, können Sie den Parameter pkgsel/include benutzen.
Der Wert für diesen Parameter kann eine Liste von Paketen sein, getrennt
entweder durch Kommas oder durch Leerzeichen, so dass Sie ihn auch recht
einfach auf der Kernel-Kommandozeile verwenden können.

#tasksel tasksel/first multiselect standard, web-server, kde-desktop

# Oder wenn Sie möchten, dass der tasksel-Dialog überhaupt nicht angezeigt
# wird (und keine Pakete installiert werden):
#d-i pkgsel/run_tasksel boolean false


# Individuelle zusätzliche Pakete, die installiert werden sollen:
#d-i pkgsel/include string openssh-server build-essential
# Ob Pakete aktualisiert werden sollen, nachdem debootstrap beendet ist.
# Gültige Werte: none, safe-upgrade, full-upgrade
#d-i pkgsel/upgrade select none

# Sie können entscheiden, ob Sie Informationen darüber, welche Pakete Sie
# installiert haben, an das Debian-Projekt zurück senden möchten.
# Standardeinstellung ist, nichts zu senden, aber Informationen zu senden
# hilft dem Projekt zu entscheiden, welche Software wie beliebt ist und ob
# sie auf die erste CD/DVD gepackt werden sollte:
#popularity-contest popularity-contest/participate boolean false

B.4.11. Installation des Bootloaders

# Grub ist der Bootloader (für x86).

# Dies ist eine ziemlich sichere Einstellung; sie bewirkt, dass grub
# automatisch in die UEFI-Partition/den Boot Record installiert wird, wenn
# kein anderes Betriebssystem erkannt wird:
d-i grub-installer/only_debian boolean true

# Dies bewirkt, dass grub in die UEFI-Partition/den Boot Record installiert
# wird, auch wenn noch andere Betriebssysteme erkannt wurden. Dies ist nicht
# ganz so sicher, da möglicherweise diese anderen Systeme nicht mehr gestartet
# werden können:
d-i grub-installer/with_other_os boolean true

# Aufgrund von möglicherweise vorhandenen USB-Sticks kann der Speicherort
# des primären Laufwerks grundsätzlich nicht sicher erkannt werden, daher
# muss er angegeben werden:
#d-i grub-installer/bootdev  string /dev/sda
# Um auf das primäre Laufwerk zu installieren (angenommen, dies ist kein
# USB-Stick):
#d-i grub-installer/bootdev  string default

# Wenn Sie alternativ an einen anderen Ort als in die UEFI-Partition/den
# Boot Record installieren möchten, entfernen Sie hier die Kommentarzeichen
# und passen Sie die Zeilen an:
#d-i grub-installer/only_debian boolean false
#d-i grub-installer/with_other_os boolean false
#d-i grub-installer/bootdev  string (hd0,1)
# Um grub auf mehrere Geräte zu installieren:
#d-i grub-installer/bootdev  string (hd0,1) (hd1,1) (hd2,1)

# Optionales Passwort für grub, entweder als Klartext ... :
#d-i grub-installer/password password r00tme
#d-i grub-installer/password-again password r00tme
# ... oder verschlüsselt mittels MD5-Hash; siehe grub-md5-crypt(8):
#d-i grub-installer/password-crypted password [MD5 hash]

# Verwenden Sie die folgende Option, um zusätzliche Boot-Parameter für
# das installierte System anzugeben (falls dies vom Bootloader-Installer
# unterstützt wird).
# Hinweis: Optionen, die dem Installer zum Booten angegeben wurden, werden
# automatisch auch für das installierte System hinzugefügt.
#d-i debian-installer/add-kernel-opts string nousb

Ein MD5-Hash für ein grub-Passwort kann mit dem Befehl grub-md5-crypt generiert
werden oder mit dem Kommando aus dem Beispiel in Abschnitt B.4.5, "Einrichtung
von Benutzerzugängen".

B.4.12. Die Installation beenden

# Bei Installationen über die serielle Konsole werden die regulären virtuellen
# Konsolen (VT1 - VT6) normalerweise in /etc/inittab deaktivert. Um dies zu
# vermeiden, entfernen Sie vor der nächsten Zeile das Kommentarzeichen:
#d-i finish-install/keep-consoles boolean true

# Die letzte Meldung "Installation abgeschlossen" unterdrücken:
d-i finish-install/reboot_in_progress note

# Dies verhindert, dass der Installer während des Neustarts die CD
# auswirft, was in einigen Situationen sinnvoll sein könnte:
#d-i cdrom-detect/eject boolean false

# Durch die folgende Zeile wird der Installer nach Abschluss der
# Installation nur heruntergefahren, kein Neustart, es wird nicht das neue
# System gestartet:
#d-i debian-installer/exit/halt boolean true
# Durch die nächste Zeile wird der Rechner komplett abgeschaltet statt
# nur gestoppt:
#d-i debian-installer/exit/poweroff boolean true

B.4.13. Voreinstellung anderer Pakete

# Abhängig davon, welche Software Sie zur Installation auswählen oder ob
# Dinge während des Installationsprozesses schief laufen, ist es möglich,
# dass andere Fragen auftauchen. Sie können auch für diese natürlich
# Voreinstellungen festlegen. Eine Liste mit allen möglichen Fragen, die
# gestellt werden könnten, bekommen Sie, indem Sie eine Installation
# durchführen und danach diese Befehle ausführen:
#   debconf-get-selections --installer > file
#   debconf-get-selections >> file

B.5. Erweiterte Optionen

B.5.1. Während der Installation eigene Kommandos ausführen

Eine sehr kraftvolle und flexible Funktion, die das Voreinstellungswerkzeug
bietet, ist die Möglichkeit, Kommandos oder Skripte an bestimmten Stellen
während der Installation auszuführen.

Wenn das Dateisystem des Zielsystems eingebunden ist, ist es unter /target
verfügbar. Falls eine Installations-CD benutzt wird und diese eingebunden ist,
finden Sie sie unter /cdrom.

# Den d-i voreinzustellen, ist von Natur aus nicht sicher! Nichts im
# Installer prüft auf Versuche eines Pufferüberlaufs oder anderweitiger
# Ausnutzung der Werte einer Voreinstellungsdatei wie dieser. Benutzen Sie
# nur Voreinstellungsdateien aus vertrauenswürdigen Quellen! Um diese
# Aussage zu untermauern und weil es auch generell nützlich ist, zeigen wir
# hier eine Möglichkeit, jegliche Shell-Befehle, die Sie gerne im Installer
# hätten, automatisch auszuführen.

# Dieser erste Befehl wird so früh wie möglich ausgeführt, direkt nachdem
# das Lesen der Voreinstellungsdatei abgeschlossen ist:
#d-i preseed/early_command string anna-install some-udeb
# Der folgende Befehl wird ausgeführt direkt bevor das Partitionierungsprogramm
# startet. Er kann nützlich sein, um dynamische Voreinstellungen für die
# Partitionierung festzulegen, die vom Zustand der Festplatten abhängig sind
# (die möglicherweise noch nicht sichtbar sind, wenn preseed/early_command
# ausgeführt wird):
#d-i partman/early_command \
#       string debconf-set partman-auto/disk "$(list-devices disk | head -n1)"
# Dieses Kommando wird ausgeführt, kurz bevor die Installation beendet ist,
# wenn aber noch ein nutzbares /target-Verzeichnis verfügbar ist.
# Sie können nach /target »chroot«-en und es direkt benutzen, oder benutzen
# Sie apt-install und in-target-Kommandos, um einfach Pakete zu
# installieren oder Kommandos im Zielsystem auszuführen:
#d-i preseed/late_command string apt-install zsh; in-target chsh -s /bin/zsh

B.5.2. Voreinstellung nutzen, um Standardantworten auf Fragen zu ändern

Es ist ebenfalls möglich, die Standardantwort für eine Frage zu ändern, die
Frage aber trotzdem stellen zu lassen. Dabei muss das seen-Flag auf "false"
zurückgesetzt werden, nachdem die gewünschte Einstellung für den Wert gesetzt
wurde:

d-i foo/bar string value
d-i foo/bar seen false

Der gleiche Effekt kann erreicht werden, indem Sie am Boot-Prompt den Parameter
preseed/interactive=true setzen. Dies kann auch zum Testen oder zur Fehlersuche
in Ihrer Voreinstellungsdatei nützlich sein.

Beachten Sie, dass der Eigentümer "d-i" nur für Variablen verwendet werden
sollte, die im Installer selbst genutzt werden. Für Variablen, welche zu
Paketen gehören, die auf dem Zielsystem installiert werden, sollten Sie
stattdessen den Namen des Pakets als Eigentümer verwenden. Siehe auch die
Fußnote zum Abschnitt B.2.2, "Boot-Parameter nutzen, um Fragen automatisiert zu
beantworten".

Wenn Sie Voreinstellung mittels Boot-Parametern nutzen, können Sie den
Installer anweisen, eine bestimmte Frage zu stellen, indem Sie den Operator "?=
" verwenden, z.B. foo/bar?=value (oder owner:foo/bar?=value). Dies wird
natürlich nur Auswirkungen auf Parameter haben, die zu Fragen gehören, die
während der Installation auch wirklich gestellt/angezeigt werden, und nicht auf
"interne" Parameter.

Benötigen Sie mehr Debugging-Informationen, z.B. zur Fehlersuche, so verwenden
Sie den Boot-Parameter DEBCONF_DEBUG=5. Dies veranlaßt debconf, erheblich mehr
Details über die aktuelle Einstellung jeglicher Variablen auszugeben sowie über
die Bearbeitung der Installationsskripte jedes einzelnen Pakets.

B.5.3. Mehrere Voreinstellungsdateien nacheinander laden

Wenn Sie mögen, können Sie hier weitere Voreinstellungsdateien in diese Datei
integrieren. Jegliche Einstellungen in den integrierten Dateien werden die
Werte aus dieser Datei überschreiben. Dies ermöglicht es z.B., allgemeine
Netzwerkeinstellungen in einer Datei festzulegen und speziellere Einstellungen
für andere Zwecke/Netze/Orte in anderen Dateien.

# Es kann mehr als eine Datei angegeben werden, getrennt durch Leerzeichen;
# alle werden geladen. Die integrierten Dateien können ebenfalls
# wieder "preseed/include"-Regeln enthalten.
# Bedenken Sie: wenn Sie relative Dateipfade angeben, gehen diese von dem
# gleichen Verzeichnis aus, das auch die Voreinstellungsdatei enthält, in
# der sie integriert sind.
#d-i preseed/include string x.cfg

# Der Installer kann optional die Prüfsummen von Voreinstellungsdateien
# kontrollieren, bevor er diese benutzt. Derzeit werden nur
# md5sum-Prüfsummen unterstützt. Geben Sie die md5sum-Prüfsummen in der
# gleichen Reihenfolge an wie die Dateien, die integriert werden sollen:
#d-i preseed/include/checksum string 5da499872becccfeda2c4872f9171c3d

# Der flexiblere Weg: dies startet ein Shell-Kommando und wenn dies die
# Namen von Voreinstellungsdateien zurückgibt, werden diese integriert:
#d-i preseed/include_command \
#      string if [ "`hostname`" = bob ]; then echo bob.cfg; fi

# Flexibler als alles andere: ein Programm wird heruntergeladen und
# gestartet. Das Programm kann Kommandos wie debconf-set nutzen, um die
# debconf-Datenbank zu manipulieren. Es können auch mehrere Skripte
# angegeben werden, getrennt durch Leerzeichen. Beachten Sie: falls die
# Dateinamen relativ sind, gehen sie vom gleichen Verzeichnis aus wie
# die Voreinstellungsdatei, von der sie gestartet werden.
#d-i preseed/run string foo.sh

Es ist auch möglich, mehrere Voreinstellungsdateien hintereinander zu laden und
dabei mit initrd- oder file-Voreinstellung zu beginnnen, danach jedoch mit
network-Voreinstellung fortzufahren, indem Sie in den früh geladenen Dateien
preseed/url verwenden. Dies führt dazu, dass network-Voreinstellung
durchgeführt wird, wenn das Netzwerk aktiv wird. Sie müssen damit vorsichtig
sein, da dabei zwei separate Voreinstellungsläufe durchgeführt werden, das
bedeutet z.B., es gibt eine weitere Möglichkeit, den Befehl preseed/early zu
nutzen (diese zweite Ausführung findet statt, nachdem das Netzwerk aktiviert
wurde).


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[21] Der Eigentümer (owner) einer debconf-Variable (oder eines Templates) ist
normalerweise der Name des Pakets, das die entsprechende debconf-Vorlage
enthält. Bei Variablen, die im Installer selbst verwendet werden, ist der
Eigentümer "d-i". Vorlagen und Variablen können auch mehr als einen Eigentümer
haben, was dabei hilfreich sein kann, herauszufinden, ob sie aus der
debconf-Datenbank entfernt werden können, wenn das Paket komplett vom System
entfernt wird.

^[22] Wenn zum Beispiel locale auf en_NL voreingestellt wird, würde dies zu dem
Standard-Gebietsschema en_US.UTF-8 auf dem installierten System führen. Wenn
aber stattdessen en_GB.UTF-8 bevorzugt wird, müssen diese Werte individuell
voreingestellt werden.

Anhang C. Partitionieren für eine Debian-Installation

Inhaltsverzeichnis

C.1. Anzahl und Größe der Debian-Partitionen
C.2. Der Verzeichnisbaum
C.3. Empfohlene Partitionsschemata
C.4. Gerätebezeichnungen unter Linux
C.5. Debian-Partitionierungsprogramme

    C.5.1. Partitionieren auf 64-Bit PC-Systemen

C.1. Anzahl und Größe der Debian-Partitionen

Als absolutes Minimum benötigt GNU/Linux eine Partition für sich selbst. Sie
können eine einzige Partition nutzen für das ganze Betriebssystem, die
Anwendungen und Ihre eigenen Dateien. Die meisten Leute meinen, dass auch eine
separate Swap-Partition notwendig ist, allerdings ist dies nicht ganz richtig. 
"Swap" ist Speicher, der es dem System erlaubt, Festplattenplatz als "
virtuellen Arbeitsspeicher" zu nutzen. Wenn man den Swap auf eine separate
Partition legt, kann Linux diesen viel effizienter nutzen. Man kann Linux auch
zwingen, eine normale Datei als Swap zu nutzen, dies wird allerdings nicht
empfohlen.

Die meisten Leute entscheiden sich jedoch dafür, GNU/Linux mehr als die minimal
verlangte Anzahl an Partitionen zu spendieren. Es gibt zwei Gründe dafür, warum
Sie das Dateisystem in mehrere kleinere Partitionen aufsplitten sollten:
Erstens aus Sicherheitsgründen. Wenn irgendetwas passiert und dadurch das
Dateisystem beschädigt wird, ist immer nur eine Partition betroffen. Sie müssen
dann nur einen Teil des Systems aus Ihren Backups (die Sie sorgfältig
aufbewahrt haben) wiederherstellen. Zumindest sollten Sie eine so genannte "
Root-Partition" erstellen. Sie enthält die wichtigsten Komponenten des Systems.
Wenn eine der anderen Partitionen beschädigt wird, können Sie so GNU/Linux
immer noch booten, um das System zu reparieren. Dies bewahrt Sie vor dem Ärger,
das System von Grund auf neu installieren zu müssen.

Der zweite Grund ist vor allem im professionellen Sektor wichtig, hängt aber
auch wesentlich davon ab, wie Sie den Rechner nutzen. Wenn beispielsweise ein
Mail-Server mit Spam-Mails geflutet wird, kann schnell eine Partition voll
sein. Wenn Sie jetzt /var/mail auf einer eigenen Partition haben, wird das
System überwiegend weiterarbeiten, auch wenn Sie unter Spambeschuss liegen.

Der einzige Grund dagegen, mehrere Partitionen zu nutzen, ist, dass es oft
schwierig ist, vorher zu wissen, was man benötigt. Wenn Sie eine Partition zu
klein anlegen, müssen Sie entweder das System irgendwann neu installieren oder
ständig irgendwelche Sachen hin- und herschieben, um auf der zu klein geratenen
Partition Platz zu schaffen. Wenn Sie auf der anderen Seite die Partition zu
groß machen, verschwenden Sie Platz, den Sie woanders gut gebrauchen könnten.
Festplattenspeicher ist heutzutage zwar billig, aber warum das Geld aus dem
Fenster werfen?

C.2. Der Verzeichnisbaum

Debian GNU/Linux hält sich bezüglich der Verzeichnis- und Dateinamen an den
Filesystem Hierarchy Standard. Dieser Standard erlaubt es Benutzern und
Programmen, den Speicherort von Dateien und Verzeichnissen vorherzusehen. Das
Wurzelverzeichnis wird durch einen einfachen Schrägstrich (/, "slash")
repräsentiert. Auf der ersten Verzeichnisebene enthalten alle Debian-Systeme
folgende Unterverzeichnisse:

┌───────────┬──────────────────────────────────────────────────────────────┐
│Verzeichnis│                            Inhalt                            │
├───────────┼──────────────────────────────────────────────────────────────┤
│bin        │Grundlegende Binär-Befehls-Dateien                            │
├───────────┼──────────────────────────────────────────────────────────────┤
│boot       │Statische Dateien des Bootloaders                             │
├───────────┼──────────────────────────────────────────────────────────────┤
│dev        │Geräte-Dateien                                                │
├───────────┼──────────────────────────────────────────────────────────────┤
│etc        │Systemkonfigurationen, die das eigene System betreffen        │
├───────────┼──────────────────────────────────────────────────────────────┤
│home       │Home-Verzeichnisse der Benutzer                               │
├───────────┼──────────────────────────────────────────────────────────────┤
│lib        │Grundlegende, gemeinsam genutzte Bibliotheken und Kernelmodule│
├───────────┼──────────────────────────────────────────────────────────────┤
│media      │Enthält Einbindungspunkte für austauschbare Medien            │
├───────────┼──────────────────────────────────────────────────────────────┤
│mnt        │Einbindungspunkt für temporär genutzte Dateisysteme           │
├───────────┼──────────────────────────────────────────────────────────────┤
│proc       │Virtuelles Verzeichnis für System-Informationen               │
├───────────┼──────────────────────────────────────────────────────────────┤
│root       │Home-Verzeichnis des Superusers root                          │
├───────────┼──────────────────────────────────────────────────────────────┤
│run        │Sich zur Laufzeit verändernde Daten                           │
├───────────┼──────────────────────────────────────────────────────────────┤
│sbin       │Grundlegende System-Binär-Dateien                             │
├───────────┼──────────────────────────────────────────────────────────────┤
│sys        │Virtuelles Verzeichnis für System-Informationen               │
├───────────┼──────────────────────────────────────────────────────────────┤
│tmp        │Temporäre Dateien                                             │
├───────────┼──────────────────────────────────────────────────────────────┤
│usr        │Zweite Ebene in der Hierarchie                                │
├───────────┼──────────────────────────────────────────────────────────────┤
│var        │Sich oft verändernde Daten                                    │
├───────────┼──────────────────────────────────────────────────────────────┤
│srv        │Daten für Dienste, die von diesem System bereitgestellt werden│
├───────────┼──────────────────────────────────────────────────────────────┤
│opt        │Zusätzliche Anwendungspakete, die nicht von Debian stammen    │
└───────────┴──────────────────────────────────────────────────────────────┘

Es folgt eine Liste mit wichtigen Festlegungen bezüglich Verzeichnissen und
Partitionen. Bedenken Sie, dass die Festplattennutzung abhängig von der
Systemkonfiguration und speziellen Einsatzbedingungen stark unterschiedlich
sein kann. Die hier gegebenen Empfehlungen sind grundlegende Richtlinien und
sollen eine Basis für die Partitionierung darstellen.

  • Die Root-Partition / muss immer physikalisch die Verzeichnisse /etc, /bin,
    /sbin, /lib und /dev enthalten, sonst können Sie nicht booten.
    Typischerweise werden 250-350MB für die Root-Partition benötigt.

  • /usr: enthält alle Benutzer-Programme (/usr/bin), Bibliotheken (/usr/lib),
    Dokumentation (/usr/share/doc) etc. Dies ist der Teil des Dateisystems, der
    generell den meisten Platz belegt. Sie sollten mindestens 500MB
    Festplattenspeicher dafür vorsehen. Dieser Wert sollte unter Umständen noch
    erhöht werden abhängig von der Zahl und Art der Pakete, die Sie
    installieren möchten. Für eine großzügige Arbeitsplatz- oder
    Serverinstallation sollten 4-6 GB zur Verfügung stehen.

  • Es wird mittlerweile empfohlen, /usr auf die root-Partition / zu legen,
    andernfalls kann es beim Booten zu Problemen kommen. Dies bedeutet, dass
    Sie mindestens 600 - 750 MB für die root-Partition inklusive /usr vorsehen
    sollten, bzw. 5 - 6 GB bei einem Arbeitsplatz- oder Server-System.

  • /var: veränderliche Daten, wie News-Artikel, E-Mails, Webseiten,
    Datenbanken, der Zwischenspeicher des Paketmanagement-Systems usw. werden
    unterhalb dieses Verzeichnisses abgelegt. Die Größe hängt stark von der
    Nutzung des Systems ab, wird aber bei vielen Leuten überwiegend durch den
    Overhead des Paketmanagement-Systems bestimmt. Wenn Sie eine
    Komplettinstallation durchführen oder in einem Durchgang fast alles
    installieren, was Debian zu bieten hat, sind 2 oder 3 GB passend für /var.
    Wenn Sie in mehreren Schritten installieren (also sagen wir zuerst die
    Dienste und Werkzeuge, dann Textbearbeitungs-Werkzeuge, dann X, ... ),
    können Sie mit 300-500MB auskommen. Falls Plattenplatz rar ist und Sie
    keine großen Systemupdates planen, können auch 30 oder 40MB reichen.

  • /tmp: von Benutzerprogrammen erzeugte temporäre Daten werden wahrscheinlich
    in diesem Verzeichnis abgelegt. 40-100MB sollten normalerweise genügen.
    Einige Anwendungen - wie z.B. Archivbearbeitungsprogramme, CD/
    DVD-Erstellungswerkzeuge und Multimedia-Software - könnten /tmp benutzen,
    um vorübergehend Image-(Abbild-)Dateien zu speichern. Wenn Sie vorhaben,
    solche Anwendungen zu nutzen, sollten Sie den verfügbaren Platz in /tmp
    entsprechend anpassen.

  • /home: jeder Benutzer legt seine Daten in einem Unterverzeichnis von /home
    ab. Die Größe hängt davon ab, wie viele Nutzer das System hat und welche
    Dateien diese in ihren Verzeichnissen abspeichern. Abhängig von der
    geplanten Nutzung sollten Sie mindestens 100MB für jeden Benutzer
    reservieren, dieser Wert kann aber je nach Ihren Bedürfnissen variieren.
    Stellen Sie erheblich mehr Platz zur Verfügung, wenn Sie beabsichtigen,
    viele Multimedia-Dateien (Bilder, MP3, Filme) abzuspeichern.

C.3. Empfohlene Partitionsschemata

Für neue Debian-Nutzer, private Debian-Computer zu Hause und andere
Einzelplatz-Rechner ist eine einzelne /-Partition (plus Swap) möglicherweise
die einfachste Lösung. Der Standard-Partitionstyp ist ext4.

Für Mehrbenutzersysteme oder Rechner mit viel Festplattenplatz ist es das
Beste, /var, /tmp und /home jeweils auf eigene Partitionen separiert von / zu
legen.

Sie könnten eine separate /usr/local-Partition benötigen, wenn Sie vorhaben,
viele Programme zu installieren, die nicht Teil der Debian-Distribution sind.
Wenn die Maschine als Mail-Server fungieren soll, sollten Sie vielleicht für /
var/mail eine eigene Partition einrichten. Wenn Sie einen Server für viele
Benutzer einrichten, ist es gut, eine separate, große /home-Partition zu haben.
Generell variiert die Situation für die Partitionierung von einem Rechner zum
anderen, abhängig von seiner Nutzung.

Tiefergehende Informationen für sehr komplexe Systeme gibt das Multi-Disk-HowTo
, überwiegend interessant für ISP (Internet-Service-Provider) und Leute, die
Server einrichten.

Hinsichtlich des Themas "Größe der Swap-Partition" gibt es mehrere Sichtweisen.
Eine Faustregel, die gut funktioniert, ist, genauso viel Swap zu verwenden, wie
man Arbeitsspeicher hat. Hierbei sollte der Swap in den meisten Fällen nicht
kleiner als 512 MB sein. Natürlich gibt es auch von dieser Regel Ausnahmen.

Ein Beispiel: ein älterer Rechner bei Ihnen zu Hause könnte 512MB RAM haben und
eine 20GB-IDE-Festplatte auf /dev/sda. /dev/sda1 könnte eine 8GB-Partition für
ein anderes Betriebssystem sein, /dev/sda3 eine 512MB Swap-Partition und /dev/
sda2 die 11.4GB große Linux-Partition.

Wenn Sie daran interessiert sind, wie viel Festplattenspeicher die einzelnen
Programmgruppen benötigen, lesen Sie Abschnitt D.2, "Festplattenplatz, der für
die Programmgruppen benötigt wird".

C.4. Gerätebezeichnungen unter Linux

Die Namen von Festplatten und Partitionen unter Linux sind teilweise
unterschiedlich zu denen bei anderen Betriebssystemen. Sie müssen die Namen
kennen, die Linux nutzt, wenn Sie Partitionen erstellen und ins Dateisystem
einbinden. Hier ein Basis-Namensschema:

  • Die erste SCSI-Festplatte (nach der SCSI-ID) heißt /dev/sda.

  • Die zweite SCSI-Festplatte (nach der SCSI-ID) heißt /dev/sdb und so weiter.

  • Das erste SCSI-CD-ROM-Laufwerk heißt /dev/scd0, auch als /dev/sr0 bekannt.

Die Partitionen auf den einzelnen Festplatten werden gekennzeichnet über eine
dezimale Nummer, die zur Festplattenbezeichnung hinzugefügt wird: sda1 und sda2
stellen die erste und zweite Partition auf der ersten SCSI-Festplatte im System
dar.

Hier ein Beispiel aus dem wahren Leben. Wir nehmen an, Sie hätten ein System
mit zwei SCSI-Platten, eine auf SCSI-Adresse 2 und die andere auf 4. Die erste
Festplatte (auf Adresse 2) heißt dann sda und die zweite sdb. Wenn die
sda-Platte 3 Partitionen enthält, wären das sda1, sda2 und sda3. Das gleiche
gilt für die Festplatte sdb und ihre Partitionen.

Beachten Sie: wenn Sie zwei SCSI-Host-Bus-Adapter (z.B. Controller) haben, kann
die Reihenfolge der Festplatten sehr konfus sein. Die beste Lösung ist in
diesem Fall, die Boot-Meldungen zu beobachten, zumindest wenn Sie die
Festplatten-Modelle und/oder deren Größe kennen.

Linux stellt die primären Partitionen als Bezeichnung der Festplatte plus einer
Zahl von 1 bis 4 dar. Zum Beispiel ist die erste primäre Partition auf der
ersten Festplatte /dev/sda1. Die logischen Partitionen beginnen ab 5, so dass
die erste logische Partition auf dem gleichen Laufwerk /dev/sda5 heißt.
Bedenken Sie, dass die erweiterte Partition (das ist die primäre Partition, die
die logischen Partitionen enthält) selbst nicht direkt nutzbar ist.

C.5. Debian-Partitionierungsprogramme

Es wurden mehrere Variationen der Partitionierungsprogramme von den Entwicklern
in Debian eingepflegt, um mit verschiedenen Festplattentypen und
Rechnerarchitekturen funktionieren zu können. Hier eine Liste der Programme,
die für Ihre Architektur verfügbar sind:

partman

    Das bevorzugte Partitionierungswerkzeug in Debian. Dieses Schweizer Messer
    unter den Partitionierungsprogrammen kann auch die Größe von bestehenden
    Partitionen verändern sowie Dateisysteme erstellen (in der Windows-Sprache 
    "formatieren") und die Einbindungspunkte zuweisen.

fdisk

    Der Original-Linux-Festplatten-Partitionierer, gut für Gurus.

    Seien Sie vorsichtig, wenn Sie bestehende FreeBSD-Partitionen auf Ihrem
    Rechner haben. Die Installationskernel bieten Unterstützung für diesen
    Partitionstyp, aber die Art und Weise, wie fdisk sie darstellt (oder
    eventuell nicht), kann verursachen, dass sich die Gerätebezeichnungen
    unterscheiden. Lesen Sie dazu das Linux+FreeBSD-HowTo.

cfdisk

    Ein einfach zu nutzender Festplatten-Partitionierer im Vollbildmodus für
    den Rest der Welt.

    Beachten Sie, dass cfdisk FreeBSD-Partitionen nicht versteht und sich
    deswegen Gerätebezeichnungen unterscheiden können (siehe oben).

Eines dieser Programme wird standardmäßig gestartet, wenn Sie Eine Festplatte
partitionieren (oder ähnliches) auswählen. Es könnte möglich sein, ein anderes
Programm auf der zweiten virtuellen Konsole VT2 zu benutzen, aber dies wird
nicht empfohlen.

Denken Sie daran, die Boot-Partition als "Bootable" (boot-fähig) zu markieren.

C.5.1. Partitionieren auf 64-Bit PC-Systemen

Wenn Sie eine neue Festplatte verwenden (oder falls Sie die Partitionstabelle
Ihrer Platte komplett löschen möchten), muss eine neue Partitionstabelle
erzeugt werden. Bei einer "Geführten Partitionierung" wird dies automatisch
erledigt, aber wenn Sie manuell partitionieren, bewegen Sie dazu die Markierung
im Partitionsprogramm auf den Eintrag für die Festplatte (ganz oben) und
drücken Enter. Eine neue Partitionstabelle wird erzeugt. Im Expertenmodus
werden Sie nach dem gewünschten Typ gefragt. Standardeinstellung für
UEFI-basierte Systeme ist "gpt", für Systeme der älteren BIOS-Welt ist dies "
msdos". In einer Installation mit Standardprioritiät werden obige Werte
automatisch verwendet.

Anmerkung

Wird eine Partitionstabelle vom Typ "gpt" ausgewählt (Standardwert für
UEFI-Systeme), erstellt der Partitionierer automatisch am Anfang der Platte
einen freien Bereich von 1 MB Größe. Dies ist beabsichtigt und erforderlich, um
den GRUB2-Bootloader einbetten zu können.

Wenn Sie bereits ein anderes Betriebssystem wie DOS oder Windows auf Ihrem
Rechner haben und zusätzlich zu Debian auch behalten möchten, müssen Sie unter
Umständen die entsprechende Partition verkleinern, um Platz für die
Debian-Installation zu schaffen. Der Installer unterstützt die Änderung der
Größe sowohl von FAT- als auch von NTFS-Dateisystemen: wenn Sie den Schritt zur
Festplattenpartitionierung erreichen, wählen Sie die Option Manuell; dann
wählen Sie die entsprechende Partition aus und ändern ihre Größe.

Während moderne UEFI-Systeme keinen der unten beschriebenen Beschränkungen
unterliegen, ist man beim Partitionieren von Laufwerken auf BIOS-Systemen
einigen solcher Einschränkungen unterworfen. Es gibt ein Limit, wie viele "
primäre" und "logische" Partitionen eine Festplatte enthalten darf. Zusätzlich
gibt es mit BIOS-Versionen vor 1994-98 Einschränkungen, von welchen Bereichen
der Festplatte das BIOS booten kann. Mehr Informationen finden Sie im
Linux-Partition-HowTo, aber dieses Kapitel wird Ihnen einen kurzen Überblick
geben, um Ihnen zu helfen, die häufigsten Situationen zu meistern.

"Primäre" Partitionen sind das ursprüngliche Partitionsprinzip für
PC-Festplatten. Allerdings kann es davon nur vier Stück geben. Um diese Grenze
überschreiten zu können, wurden zusätzlich "erweiterte" und "logische"
Partitionen eingeführt. Wenn Sie eine Ihrer primären Partitionen als erweiterte
Partition einrichten, können Sie den Platz, den diese Partition einnimmt, in
logische Partitionen aufteilen. Sie können bis zu 60 logische Partitionen in
einer erweiterten Partition erstellen, allerdings können Sie pro Festplatte nur
eine erweiterte Partition haben.

Linux beschränkt die Partitionen pro Platte auf 255 bei SCSI-Festplatten (3
nutzbare primäre Partitionen, 252 logische Partitionen) und auf 63 bei
IDE-Festplatten (3 nutzbare primäre Partitionen, 60 logische Partitionen).
Allerdings bietet das normale Debian GNU/Linux-System nur 20 Devices
(Geräteschnittstellen) für Partitionen, deswegen können Sie nicht auf
Partitionen höher als 20 installieren, ohne vorher manuell weitere Devices für
diese Partitionen zu erstellen.

Wenn Sie eine große IDE-Festplatte haben und weder LBA-Adressierung noch
zusätzliche überlagerte Hardware-Treiber (manchmal bieten
Festplatten-Hersteller diese an) benutzen, muss die Boot-Partition (die
Partition, die das Kernel-Image enthält) innerhalb der ersten 1024 Zylinder der
Platte liegen (dies entspricht normalerweise ohne BIOS-Translation ungefähr 524
Megabyte).

Diese Einschränkung betrifft Sie nicht, wenn Sie ein BIOS haben, das neuer als
von 1995-98 (abhängig vom Hersteller) ist und die "Enhanced Disk Drive Support
Specification" unterstützt. Debian's Lilo-Alternative mbr muss das BIOS nutzen,
um den Kernel von der Platte in den RAM zu laden. Wenn die "BIOS Int 0x13 Large
Disk Access Extensions" im BIOS gefunden werden, werden Sie auch genutzt.
Andernfalls wird das "Legacy Disk Access Interface" als Fallback genutzt;
allerdings können dann keine Festplattenbereiche oberhalb des 1023. Zylinders
angesprochen werden. Sobald Linux gebootet ist, spielen diese Einschränkungen
keine Rolle mehr, egal welches BIOS der Rechner hat, da Linux das BIOS für den
Festplattenzugriff nicht mehr benötigt.

Wenn Sie eine große Festplatte haben, müssen Sie möglicherweise Techniken zur
Zylinder-Übersetzung ("cylinder translation") benutzen, die über das BIOS
eingestellt werden, wie z.B. LBA (Logical Block Addressing) oder CHS
Translation Mode (auf "Large" (groß) einstellen). Mehr Informationen über das
Thema große Festplatten finden Sie im Large-Disk-HowTo. Wenn Sie ein
Zylinder-Übersetzungsschema nutzen, Ihr BIOS aber nicht die "Large Disk Access
Extensions" unterstützt, muss Ihre Boot-Partition innerhalb des übersetzten
Bereichs der ersten 1024 Zylinder liegen.

Der empfohlene Weg mit dieser Problematik umzugehen ist, eine kleine Partition
(25-50MB sollten reichen) am Anfang der Platte zu erzeugen, die dann als
Boot-Partition genutzt wird; danach können Sie in dem verbleibenden Bereich
Partitionen nach Ihren Vorstellungen anlegen. Diese Boot-Partition muss als /
boot ins Dateisystem eingebunden werden, da dort der oder die Linux-Kernel
gespeichert werden. Diese Konfiguration sollte auf allen Systemen
funktionieren, egal, ob LBA-Adressierung oder "CHS-Translation" für große
Festplatten genutzt wird und unabhängig davon, ob Ihr BIOS die "Large Disk
Access Extensions" unterstützt.

Anhang D. Verschiedenes

Inhaltsverzeichnis

D.1. Linux-Geräte

    D.1.1. Einrichten der Maus

D.2. Festplattenplatz, der für die Programmgruppen benötigt wird
D.3. Debian GNU/Linux von einem anderen Unix/Linux-System aus installieren

    D.3.1. Es geht los!
    D.3.2. debootstrap installieren
    D.3.3. Starten Sie debootstrap
    D.3.4. Das Basissystem konfigurieren
    D.3.5. Einen Kernel installieren
    D.3.6. Den Bootloader einrichten
    D.3.7. Fernzugriff: Installation von SSH und Einrichten eines Zugangs
    D.3.8. Zum Schluss

D.4. Debian GNU/Linux über Parallel Line IP (PLIP) installieren

    D.4.1. Anforderungen
    D.4.2. Den source-Rechner einrichten
    D.4.3. Debian auf dem target-Rechner installieren

D.5. Debian GNU/Linux unter Verwendung von PPP over Ethernet (PPPoE)
    installieren

D.1. Linux-Geräte

Unter Linux finden Sie im Verzeichnis /dev verschiedene spezielle Dateien.
Diese heißen Gerätedateien und verhalten sich anders wie gewöhnliche Dateien.
Die bekanntesten Typen von Gerätedateien sind die für blockorientierte und für
zeichenorientierte Geräte. Diese Dateien stellen eine Schnittstelle zu dem
jeweiligen Treiber (ein Teil des Linux-Kernels) dar, der dann wiederum auf die
Hardware zugreift. Eine weitere wichtige, aber weniger bekannte Gerätedatei
heißt pipe. Die wichtigsten Gerätedateien sind in der untenstehenden Tabelle
aufgelistet.

┌────┬───────────────────────────────────────────────┐
│sda │Die erste Festplatte                           │
├────┼───────────────────────────────────────────────┤
│sdb │Die zweite Festplatte                          │
├────┼───────────────────────────────────────────────┤
│sda1│Die erste Partition auf der ersten Festplatte  │
├────┼───────────────────────────────────────────────┤
│sdb7│Die siebte Partition auf der zweiten Festplatte│
└────┴───────────────────────────────────────────────┘

┌───┬───────────────────────────┐
│sr0│Das erste CD-ROM-Laufwerk  │
├───┼───────────────────────────┤
│sr1│Das zweite CD-ROM-Laufwerk │
└───┴───────────────────────────┘

┌───────┬────────────────────────────────────────────────────────────┐
│ttyS0  │Der erste serielle Port (Port 0, unter MS-DOS COM1 genannt) │
├───────┼────────────────────────────────────────────────────────────┤
│ttyS1  │Der zweite serielle Port (Port 1, unter MS-DOS COM2 genannt)│
├───────┼────────────────────────────────────────────────────────────┤
│psaux  │PS/2-Maus                                                   │
├───────┼────────────────────────────────────────────────────────────┤
│gpmdata│Pseudo-Gerät, das Daten vom GPM-(Maus-)Daemon überträgt     │
└───────┴────────────────────────────────────────────────────────────┘

┌─────┬──────────────────────────────────────────┐
│cdrom│Symbolischer Link zum CD-ROM-Laufwerk     │
├─────┼──────────────────────────────────────────┤
│mouse│Symbolischer Link zur Gerätedatei der Maus│
└─────┴──────────────────────────────────────────┘

┌────┬───────────────────────────────────────────────────────┐
│null│Alles, was an dieses Gerät geschickt wird, verschwindet│
├────┼───────────────────────────────────────────────────────┤
│zero│Man kann endlos Nullen von diesem Gerät lesen          │
└────┴───────────────────────────────────────────────────────┘

D.1.1. Einrichten der Maus

Die Maus kann sowohl auf der Linux-Konsole (mit GPM) als auch in der
X-Window-Umgebung verwendet werden. Normalerweise ist es dazu lediglich
erforderlich, gpm sowie den X-Server selbst zu installieren. Beide sollten so
konfiguriert werden, dass sie /dev/input/mice als Maus-Gerät verwenden. Das
korrekte Mausprotokoll in gpm heißt exps2, in X ExplorerPS/2. Die
entsprechenden Konfigurationsdateien sind /etc/gpm.conf beziehungsweise /etc/
X11/xorg.conf.

Bestimmte Kernel-Module müssen geladen werden, damit Ihre Maus funktioniert. In
den meisten Fällen werden die richtigen Module automatisch erkannt, aber für
ältere serielle oder Bus-Mäuse funktioniert dies nicht immer^[23]; diese sind
jedoch sehr selten, außer vielleicht bei sehr alten Rechnern. Eine
Zusammenfassung der Linux-Kernel-Module, die für verschiedene Maustypen
erforderlich sind:

┌────────┬────────────────────────────────────────────────────────────────────┐
│ Modul  │                            Beschreibung                            │
├────────┼────────────────────────────────────────────────────────────────────┤
│psmouse │PS/2-Maus (sollte automatisch erkannt werden)                       │
├────────┼────────────────────────────────────────────────────────────────────┤
│usbhid  │USB-Maus (sollte automatisch erkannt werden)                        │
├────────┼────────────────────────────────────────────────────────────────────┤
│sermouse│Die meisten seriellen Mäuse                                         │
├────────┼────────────────────────────────────────────────────────────────────┤
│logibm  │Bus-Maus, die an eine Logitech-Adapterkarte angeschlossen ist       │
├────────┼────────────────────────────────────────────────────────────────────┤
│inport  │Bus-Maus, die an eine ATI oder Microsoft InPort-Karte angeschlossen │
│        │ist                                                                 │
└────────┴────────────────────────────────────────────────────────────────────┘

Um ein Maustreiber-Modul zu laden, können Sie den Befehl modconf (aus dem
gleichnamigen Paket) verwenden; sehen Sie in der Kategorie kernel/drivers/input
/mouse nach.

D.2. Festplattenplatz, der für die Programmgruppen benötigt wird

Eine Standard-Installation für die amd64-Architektur inklusive aller
Standardpakete und dem Standard-Kernel benötigt 971 MB Festplattenplatz. Eine
minimale Basisinstallation ohne die Programmgruppe "Standard-System" belegt 769
MB.

Wichtig

In beiden Fällen ist dies der benötigte Platz auf der Platte, nachdem die
Installation beendet ist und alle temporären Dateien gelöscht wurden. Ebenfalls
ist der vom Dateisystem genutzte Overhead nicht mit eingerechnet, zum Beispiel
für die Journal-Dateien. Dies bedeutet, dass noch bedeutend mehr
Festplattenplatz benötigt wird, und zwar sowohl während der Installation als
auch später bei der normalen Nutzung des Systems.

Die folgende Tabelle listet die Größe der Programmgruppen auf (die Sie in
tasksel auswählen können), wie Sie von aptitude angegeben wird. Beachten Sie,
dass einige Gruppen überlappende Bestandteile haben, so dass die absolut
installierte Größe von zwei Gruppen zusammen weniger sein kann als die Summe
der einzelnen Werte.

Standardmäßig wird der Installer die GNOME-Arbeitsplatzumgebung installieren,
aber es können auch alternative Umgebungen ausgewählt werden: entweder durch
Verwendung eines der speziellen Installations-Images oder indem während der
Installation die gewünschte Arbeitsplatzumgebung festgelegt wird (siehe
Abschnitt 6.3.6.2, "Software auswählen und installieren").

Bedenken Sie, dass Sie zu den Angaben aus der Liste noch die Größe der
Standard-Installation hinzurechnen müssen, wenn es darum geht, die benötigte
Größe der Partitionen abzuschätzen. Von dem, was unter "Größe nach der
Installation" aufgeführt ist, wird das meiste in /usr und /lib landen; die
Werte unter "Herunterzuladende Größe" werden (vorübergehend) in /var benötigt.

┌─────────────────────┬─────────────────┬─────────────────┬───────────────────┐
│                     │ Größe nach der  │Herunterzuladende│      Für die      │
│   Programmgruppe    │Installation (MB)│   Größe (MB)    │   Installation    │
│                     │                 │                 │   benötigt (MB)   │
├─────────────────────┼─────────────────┼─────────────────┼───────────────────┤
│Arbeitsplatzrechner  │                 │                 │                   │
├─────────────────────┼─────────────────┼─────────────────┼───────────────────┤
│  • GNOME            │2790             │786              │3576               │
│(Standardeinstellung)│                 │                 │                   │
├─────────────────────┼─────────────────┼─────────────────┼───────────────────┤
│  • KDE Plasma       │4122             │1212             │5334               │
├─────────────────────┼─────────────────┼─────────────────┼───────────────────┤
│  • Xfce             │2187             │621              │2808               │
├─────────────────────┼─────────────────┼─────────────────┼───────────────────┤
│  • LXDE             │2271             │653              │2924               │
├─────────────────────┼─────────────────┼─────────────────┼───────────────────┤
│  • MATE             │2574             │711              │3285               │
├─────────────────────┼─────────────────┼─────────────────┼───────────────────┤
│  • Cinnamon         │4197             │1251             │5448               │
├─────────────────────┼─────────────────┼─────────────────┼───────────────────┤
│Web-Server           │44               │11               │55                 │
├─────────────────────┼─────────────────┼─────────────────┼───────────────────┤
│SSH-Server           │2                │0                │2                  │
└─────────────────────┴─────────────────┴─────────────────┴───────────────────┘

Falls Sie bei der Sprachauswahl nicht Englisch gewählt haben, installiert 
tasksel möglicherweise automatisch eine Programmgruppe für die Lokalisierung,
falls diese für Ihre Sprache verfügbar ist. Der Speicherbedarf differiert
abhängig von der Sprache; Sie sollten insgesamt bis zu 350MB für das
Herunterladen und die Installation vorsehen.

D.3. Debian GNU/Linux von einem anderen Unix/Linux-System aus installieren

Dieses Kapitel beschreibt, wie man Debian GNU/Linux von einem vorhandenen Unix-
oder Linux-System aus installiert, ohne den menügeführten Installer zu
verwenden, der im Rest dieses Handbuchs beschrieben wird. Dieses "
Quereinsteiger-HowTo" wurde von Leuten erbeten, die von Red Hat, Mandriva oder
Suse zu Debian GNU/Linux wechseln. In diesem Kapitel gehen wir davon aus, dass
Sie ein wenig Erfahrung mit *nix-Befehlen haben sowie mit der Navigation durch
das Dateisystem. In diesem Abschnitt symbolisiert ein $ einen Befehl, der im
Homeverzeichnis des Benutzers ausgeführt wird, während # bedeutet, dass das
Kommando im Debian-chroot ausgeführt wird.

Sobald Sie das neue Debian-System nach Ihren Wünschen konfiguriert haben,
können Sie Ihre eventuell vorhandenen eigenen Dateien hinüber verschieben und
loslegen. Deswegen wird dies auch die "zero-downtime"-Installation
(Installation ohne eine Zeitspanne, während der das System nicht verfügbar ist)
genannt. Es ist ebenso ein geschickter Weg, mit Hardware-Komponenten
zurechtzukommen, die sich sonst nicht gut mit verschiedenen Boot- oder
Installationsmedien vertragen.

Anmerkung

Da dies überwiegend eine manuelle Prozedur ist, sollten Sie im Hinterkopf
behalten, dass Sie einen erheblichen Teil der grundlegenden Systemkonfiguration
selbst erledigen müssen, was auch mehr Wissen über Debian und über Linux
allgemein erfordert als eine reguläre Installation. Sie können nicht davon
ausgehen, dass Sie durch diese Prozedur ein System erhalten, das identisch ist
zu dem aus einer normalen Installation. Sie sollten auch bedenken, dass in
dieser Prozedur nur die grundlegenden Schritte zur Systemkonfiguration
beschrieben sind. Es könnten zusätzliche Installations- oder
Konfigurationsschritte erforderlich sein.

D.3.1. Es geht los!

Benutzen Sie die *nix-Partitionierungsprogramme des vorhandenen Systems, um
Ihre Festplatte nach Bedarf neu zu partitionieren; erstellen Sie zumindest ein
neues Dateisystem plus Swap. Sie benötigen ungefähr 769 MB Speicher für eine
Nur-Konsolen-Installation oder ca. 2271 MB, wenn Sie vorhaben, X zu
installieren (und noch mehr, wenn Sie Desktop-Umgebungen wie GNOME oder KDE
Plasma installieren möchten).

Dateisysteme auf Ihren Partitionen erzeugen: um ein Dateisystem auf einer
Partition zu erstellen, zum Beispiel ein ext3-Dateisystem auf /dev/sda6 (dies
soll in diesem Beispiel unsere Root-Partition sein):

# mke2fs -j /dev/sda6

Um stattdessen ein ext2-Dateisystem zu erzeugen, lassen Sie das -j weg.

Initialisieren und aktivieren Sie den Swap (passen Sie die Partitionsnummer für
Ihre geplante Debian-Swap-Partition an):

# mkswap /dev/sda5
# sync
# swapon /dev/sda5

Hängen Sie eine Partition (wahrscheinlich die neue) als /mnt/debinst ins
Dateisystem ein (das Installationsverzeichnis; es wird das Root-(/)-Dateisystem
des neuen Debian). Der Einbindungspunkt (/mnt/debinst) ist rein willkürlich
gewählt; es wird später noch öfter darauf verwiesen.

# mkdir /mnt/debinst
# mount /dev/sda6 /mnt/debinst

Anmerkung

Falls Sie Teile des Dateisystems (z.B. /usr) auf andere Partitionen speichern
und eingebinden möchten, müssen Sie diese Verzeichnisse manuell erstellen und
einbinden, bevor Sie mit dem nächsten Schritt fortfahren.

D.3.2. debootstrap installieren

Das Programm, das auch der Debian-Installer benutzt und das als offizielle
Methode angesehen wird, ein Debian-Basissystem zu installieren, ist debootstrap
. Es nutzt wget und ar, aber ansonsten hängt es nur von /bin/sh und
grundsätzlichen Unix-/Linuxwerkzeugen^[24] ab. Installieren Sie wget und ar,
falls sie noch nicht auf Ihrem laufenden System vorhanden sind; dann laden Sie 
debootstrap herunter und installieren es ebenfalls.

Oder Sie nutzen die folgende Prozedur, um es manuell zu installieren. Erstellen
Sie ein Arbeitsverzeichnis, in das Sie die .deb-Pakete entpacken.

# mkdir work
# cd work

Das debootstrap-Binary finden Sie im Debian-Archiv (achten Sie darauf, die
richtige Datei für Ihre Architektur zu verwenden). Laden Sie das debootstrap
.deb aus dem Pool herunter, kopieren Sie es in das Arbeitsverzeichnis work und
extrahieren Sie daraus die Dateien. Sie benötigen root-Rechte, um die
Binär-Dateien zu installieren.

# ar -xf debootstrap_0.X.X_all.deb
# cd /
# zcat /full-path-to-work/work/data.tar.gz | tar xv

D.3.3. Starten Sie debootstrap

debootstrap kann die benötigten Dateien direkt vom Archiv herunterladen, wenn
Sie es starten. Sie können in dem folgenden Befehl jeden
Debian-Archivspiegel-Server statt ftp2.de.debian.org/debian einsetzen,
vorzugsweise einen Server in Ihrer Nähe. Eine Liste aller Spiegel-Server finden
Sie auf http://www.debian.org/mirror/list.

Wenn Sie ein Debian GNU/Linux Bullseye Installations-Image in /cdrom
eingebunden haben, können Sie statt der http-URL auch eine file-URL angeben:
file:/cdrom/debian/.

Setzen Sie in dem folgenden debootstrap-Befehl für ARCH eine der folgenden
Architekturbezeichnungen ein: amd64, arm64, armel, armhf, i386, mips64el,
mipsel, ppc64el, s390x.

# /usr/sbin/debootstrap --arch ARCH bullseye \
    /mnt/debinst http://ftp.de.debian.org/debian

Falls die Zielarchitektur sich von der des Host-Systems unterscheidet, sollten
Sie hier die Option --foreign hinzufügen.

D.3.4. Das Basissystem konfigurieren

Sie haben jetzt ein echtes, aber noch etwas mageres Debian-System auf der
Festplatte. Wechseln Sie mit chroot hinein:

# LANG=C.UTF-8 chroot /mnt/debinst /bin/bash

Falls die Zielarchitektur sich von der des Host-Systems unterscheidet, müssen
Sie vorher qemu-user-static installieren und auf das neue System kopieren:

# cp /usr/bin/qemu-ARCH-static /mnt/debinst/usr/bin
# LANG=C.UTF-8 chroot /mnt/debinst qemu-ARCH-static /bin/bash

Danach müssen Sie unter Umständen die Definition der Terminal-Variable
anpassen, so dass sie mit dem Debian-Basissystem kompatibel ist, zum Beispiel:

# export TERM=xterm-color

Abhängig von dem Wert von TERM müssen Sie unter Umständen das Paket
ncurses-term installieren, um Unterstützung dafür zu bekommen.

Falls die Zielarchitektur sich von der des Host-Systems unterscheidet, müssen
Sie den Multistage-Bootstrap-Vorgang abschließen mit:

/debootstrap/debootstrap --second-stage

D.3.4.1. Gerätedateien erzeugen

An diesem Punkt enthält /dev/ nur sehr grundlegende Gerätedateien. Für die
nächsten Schritte der Installation könnten zusätzliche Gerätedateien benötigt
werden. Es gibt verschiedene Wege, hiermit umzugehen; welchen Sie benutzen,
hängt von verschiedenen Faktoren ab: welches Gast-System Sie für die
Installation verwenden, ob Sie vorhaben, einen modularen Kernel zu verwenden
oder nicht und ob Sie für das neue System dynamische Gerätedateien (z.B.
mittels udev) benutzen möchten oder statische.

Einige der verfügbaren Optionen sind:

  • installieren Sie das Paket makedev und erzeugen Sie einen Standardsatz von
    statischen Gerätedateien, indem Sie (nach dem Chroot) Folgendes ausführen:

    # apt install makedev
    # mount none /proc -t proc
    # cd /dev
    # MAKEDEV generic

  • erzeugen Sie manuell lediglich bestimmte Gerätedateien mittels MAKEDEV.

  • binden Sie das Verzeichnis /dev aus Ihrem Gast-System als /dev in Ihr
    Zielsystem ein. Beachten Sie, dass die postinst-Skripte einiger Pakete
    versuchen könnten, neue Gerätedateien zu erzeugen; deshalb sollte diese
    Option nur mit Vorsicht verwendet werden.

D.3.4.2. Partitionen einbinden

Sie müssen die Datei /etc/fstab erzeugen.

# editor /etc/fstab

Hier ein Beispiel, das Sie sich anpassen können:

# /etc/fstab: statische Dateisystem-Informationen.
#
# file system    mount point   type    options                  dump  pass
/dev/XXX         /             ext3    defaults                 0     1
/dev/XXX         /boot         ext3    ro,nosuid,nodev          0     2

/dev/XXX         none          swap    sw                       0     0
proc             /proc         proc    defaults                 0     0

/dev/cdrom       /media/cdrom  iso9660 noauto,ro,user,exec      0     0

/dev/XXX         /tmp          ext3    rw,nosuid,nodev          0     2
/dev/XXX         /var          ext3    rw,nosuid,nodev          0     2
/dev/XXX         /usr          ext3    rw,nodev                 0     2
/dev/XXX         /home         ext3    rw,nosuid,nodev          0     2

Nutzen Sie den Befehl mount -a, um alle Dateisysteme, die Sie in /etc/fstab
angegeben haben, einzubinden; um die Dateisysteme einzeln einzubinden, benutzen
Sie:

# mount /path   # z.B.: mount /usr

Aktuelle Debian-Systeme haben Einbindungspunkte (Mountpoints) für
Wechseldatenträger in /media, behalten aber aus Kompatibilitätsgründen auch
symbolische Links in /. Erstellen Sie diese nach Bedarf, zum Beispiel mit:

# cd /media
# mkdir cdrom0
# ln -s cdrom0 cdrom
# cd /
# ln -s media/cdrom

Sie können das proc-Dateisystem mehrfach einbinden und in frei wählbare
Verzeichnisse, obwohl /proc dafür üblich ist. Wenn Sie nicht mount -a verwendet
haben, stellen Sie sicher, dass proc eingebunden ist, bevor Sie fortfahren:

# mount -t proc proc /proc

Der Befehl ls /proc sollte jetzt ein nicht-leeres Verzeichnis zeigen. Falls
dies fehlschlägt, können Sie vielleicht proc außerhalb der chroot-Umgebung
einbinden:

# mount -t proc proc /mnt/debinst/proc

D.3.4.3. Die Zeitzone setzen

Indem Sie die dritte Zeile der Datei /etc/adjtime auf "UTC" oder "LOCAL"
setzen, legen Sie fest, ob das System die Hardware-CMOS-Uhr als UTC-Zeit oder
als lokale Zeit interpretiert. Mit folgendem Befehl können Sie diese Option
setzen:

# editor /etc/adjtime

Hier ein Beispiel:

0.0 0 0.0
0
UTC

Mit folgendem Befehl wählen Sie Ihre Zeitzone aus:

# dpkg-reconfigure tzdata

D.3.4.4. Das Netzwerk konfigurieren

Um Ihr Netzwerk einzurichten, müssen Sie die Dateien /etc/network/interfaces, /
etc/resolv.conf, /etc/hostname und /etc/hosts anpassen.

# editor /etc/network/interfaces

Hier sind ein paar einfache Beispiele aus /usr/share/doc/ifupdown/examples:

######################################################################
# /etc/network/interfaces -- configuration file for ifup(8), ifdown(8)
# See the interfaces(5) manpage for information on what options are
# available.
######################################################################

# Die Loopback-Schnittstelle wird eigentlich nicht mehr benötigt, kann
# aber benutzt werden, falls erforderlich.
#
# auto lo
# iface lo inet loopback

# Wenn Sie DHCP benutzen möchten:
#
# auto eth0
# iface eth0 inet dhcp

# Ein Beispiel für eine statische IP-Einstellung (network, broadcast und
# gateway sind hierbei optional):
# auto eth0
# iface eth0 inet static
#     address 192.168.0.42
#     network 192.168.0.0
#     netmask 255.255.255.0
#     broadcast 192.168.0.255
#     gateway 192.168.0.1

Tragen Sie die Adresse Ihres/Ihrer Nameserver(s) sowie Suchregeln in /etc/
resolv.conf ein:

# editor /etc/resolv.conf

Eine einfache beispielhafte /etc/resolv.conf:

search example.com
nameserver 10.1.1.36
nameserver 192.168.9.100

Geben Sie den Hostnamen Ihres Systems ein (zwischen 2 und 63 Stellen lang):

# echo DebianHostName > /etc/hostname

Und hier ein Beispiel für /etc/hosts mit IPv6-Unterstützung:

127.0.0.1 localhost
127.0.1.1 DebianHostName

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts

Wenn Sie mehrere Netzwerkkarten haben, sollten Sie die Namen der Treibermodule
in /etc/modules in die richtige Reihenfolge bringen. Während des Bootens wird
dann jede Karte die Schnittstellenbezeichnung (eth0, eth1, etc.) bekommen, die
Sie erwarten.

D.3.4.5. Apt konfigurieren

Debootstrap hat eine grundsätzliche /etc/apt/sources.list erstellt, die es
erlaubt, zusätzliche Pakete zu installieren. Allerdings möchten Sie vielleicht
einige Quellen hinzufügen, z.B. für Quellpakete oder für Sicherheits-Updates:

deb-src http://ftp.de.debian.org/debian bullseye main

deb http://security.debian.org/ bullseye-security main
deb-src http://security.debian.org/ bullseye-security main

Denken Sie daran, apt update auszuführen, nachdem Sie die Datei sources.list
geändert haben.

D.3.4.6. Das Gebietsschema (Locales) konfigurieren

Um Ihre lokalen Einstellungen anzupassen, wenn Sie nicht Englisch verwenden
möchten, installieren Sie das Paket locales und konfigurieren es. Es wird die
Verwendung von UTF-8-Gebietsschemata empfohlen.

# apt install locales
# dpkg-reconfigure locales

Um Ihre Tastatur zu konfigurieren (falls nötig):

# apt install console-setup
# dpkg-reconfigure keyboard-configuration

Beachten Sie, dass die Tastatureinstellung nicht verändert werden kann, während
Sie im chroot sind; die Konfiguration wird jedoch beim nächsten Neustart aktiv.

D.3.5. Einen Kernel installieren

Wenn Sie vorhaben, dieses System zu booten, möchten Sie wahrscheinlich einen
Linux-Kernel und einen Bootloader. Sie finden verfügbare, bereits fertig
paketierte Kernel mit dem Befehl

# apt search linux-image

Installieren Sie einen Kernel Ihrer Wahl, indem Sie seinen Paketnamen benutzen:

# apt install linux-image-arch-etc

D.3.6. Den Bootloader einrichten

Um Ihr Debian GNU/Linux-System boot-fähig zu machen, richten Sie Ihren
Bootloader ein, so dass er den installierten Kernel mit Ihrer neuen
Root-Partition startet. Bedenken Sie, dass debootstrap keinen Bootloader
installiert, allerdings können Sie apt in Ihrer Debian-chroot-Umgebung
benutzen, um dies zu erledigen.

Lesen Sie info grub, um Informationen über die Einrichtung des Bootloaders zu
erhalten. Wenn Sie das Betriebssystem, das Sie zur Installation von Debian
benutzt haben, behalten möchten, müssen Sie lediglich einen Eintrag für das
Debian-System zur vorhandenen grub2 grub.cfg hinzufügen.

Die Installation und Einrichtung von grub2 ist so einfach wie:

# apt install grub-pc
# grub-install /dev/sda
# update-grub

Der zweite Befehl installiert grub2 (in diesem Fall in den Master Boot Record
(MBR) von sda). Der letzte Befehl erzeugt eine schöne und funktionsfähige
Konfigurationsdatei /boot/grub/grub.cfg.

Beachten Sie, dass hier davon ausgegangen wird, dass eine Gerätedatei namens /
dev/sda erzeugt worden ist. Es gibt alternative Möglichkeiten, grub2 zu
installieren, aber das ist nicht Thema dieses Anhangs.

D.3.7. Fernzugriff: Installation von SSH und Einrichten eines Zugangs

Für den Fall, dass Sie sich auf dem System über die Konsole anmelden können,
kann dieser Abschnitt übersprungen werden. Falls das System später über das
Netzwerk erreichbar sein soll, müssen Sie SSH installieren und einen Zugang
einrichten:

# apt install ssh

Das Login als root ist standardmäßig deaktiviert, daher können Sie einen Zugang
einrichten, indem Sie ein Passwort setzen und das Login für root mit Passwort
wieder aktivieren:

# passwd
# editor /etc/ssh/sshd_config

Dies ist die Option, die aktiviert werden muss:

PermitRootLogin yes

Es kann ebenfalls ein Zugang eingerichtet werden, indem ein SSH-Schlüssel für
root hinzugefügt wird:

# mkdir /root/.ssh
# cat << EOF > /root/.ssh/authorized_keys
ssh-rsa ....
EOF

Und zu guter Letzt können Sie einen Zugang einrichten, indem Sie einen
nicht-root-Benutzer anlegen und für diesen ein Passwort setzen:

# adduser joe
# passwd joe

D.3.8. Zum Schluss

Wie bereits vorher erwähnt, wird das installierte System nur sehr
minimalistisch ausgestattet sein. Wenn Sie möchten, dass das System ein
bisschen ausgereifter wird, gibt es eine einfache Methode, alle Pakete mit "
Standard"-Priorität zu installieren:

# tasksel install standard

Sie können natürlich auch einfach apt benutzen, um individuell Pakete zu
installieren.

Nach der Installation liegen viele heruntergeladene Pakete in dem Verzeichnis /
var/cache/apt/archives/. Sie können etliches an Festplattenspeicher wieder
freigeben, indem Sie folgendes ausführen:

# apt clean

D.4. Debian GNU/Linux über Parallel Line IP (PLIP) installieren

Dieses Kapitel beschreibt, wie man Debian GNU/Linux auf einem Rechner
installiert, der keine Ethernet-Karte hat, stattdessen aber eine Verbindung per
Nullmodem-Kabel (auch Nulldrucker-/Nullprinter-Kabel genannt) zu einem anderen
Gateway-Computer. Dieser Gateway-Rechner sollte mit einem Netzwerk verbunden
sein, in dem ein Debian-Spiegel-Server verfügbar ist (wie z.B. mit dem
Internet).

In dem Beispiel in diesem Abschnitt werden wir eine PLIP-Verbindung
konfigurieren, die ein Gateway verwendet, welches über eine Wählverbindung
(ppp0) mit dem Internet verbunden ist. Wir werden die IP-Adressen 192.168.0.1
und 192.168.0.2 für die PLIP-Schnittstellen auf dem Zielsystem respektive
Quellsystem verwenden (diese Adressen sollten im Adressraum Ihres Netzwerkes
noch ungenutzt sein, damit dies funktioniert).

Die PLIP-Verbindung, die während der Installation eingerichtet wird, ist auch
nach dem Neustart in das neu installierte System (siehe Kapitel 7, Das neue
Debian-System starten) noch verfügbar.

Bevor Sie beginnen, müssen Sie die BIOS-Einstellungen (IO-Basis-Adresse und
Interrupt/IRQ) für den Parallelport jeweils auf dem Quell- und dem Zielsystem
kontrollieren. Allgemein passende Werte sind io=0x378 und irq=7.

D.4.1. Anforderungen

  • Ein Zielsystem, target genannt; der Computer, auf dem Debian installiert
    wird.

  • Systeminstallations-Medien; siehe Abschnitt 2.4, "Installationsmedien".

  • Ein weiterer Computer, source genannt, der mit dem Internet verbunden ist;
    er wird als Gateway fungieren.

  • Ein DB-25 Nullmodem-Kabel. Siehe das PLIP-Install-HowTo für mehr
    Informationen über solch ein Kabel und Anweisungen, wie Sie sich eines
    selber machen.

D.4.2. Den source-Rechner einrichten

Das folgende Shell-Script ist ein einfaches Beispiel, wie Sie den
Source-Rechner als Gateway zum Internet mittels ppp0 einrichten.

#!/bin/sh

# Wir entladen aktive Module vom Kernel, um Konflikte zu vermeiden und
# um Sie manuell neu konfigurieren zu können.
modprobe -r lp parport_pc
modprobe parport_pc io=0x378 irq=7
modprobe plip

# Die PLIP-Schnittstelle konfigurieren (hier plip0; siehe "dmesg | grep plip")
ifconfig plip0 192.168.0.2 pointopoint 192.168.0.1 netmask 255.255.255.255 up

# Den Gateway konfigurieren
modprobe iptable_nat
iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE
echo 1 > /proc/sys/net/ipv4/ip_forward

D.4.3. Debian auf dem target-Rechner installieren

Booten Sie vom Installationsmedium. Sie müssen die Installation im
Experten-Modus durchführen; geben Sie expert am Boot-Prompt ein. Falls Sie
Parameter für Kernel-Module angeben müssen, muss dies ebenfalls am Boot-Prompt
geschehen. Um zum Beispiel den Rechner zu starten und dabei die Werte für die
Optionen "io" und "irq" für das parport_pc-Modul zu setzen, geben Sie Folgendes
ein:

expert parport_pc.io=0x378 parport_pc.irq=7

Im Folgenden finden Sie die Antworten, die Sie auf entsprechende gestellte
Fragen während der verschiedenen Stufen der Installation geben sollten.

 1. Installer-Komponenten vom Installationsmedium laden

    Wählen Sie die Option plip-modules aus der Liste; dies stellt die
    PLIP-Treiber dem Installationssystem zur Verfügung.

 2. Erkenne Netzwerk-Hardware

      □ Falls der Target-Rechner eine Netzwerkkarte hat, wird eine Liste von
        Treibermodulen für die erkannten Karten angezeigt. Wenn Sie
        debian-installer zwingen wollen, stattdessen PLIP zu verwenden, müssen
        Sie alle aufgelisteten Treibermodule abwählen/deaktivieren. Falls der
        Target-Rechner keine Netzwerkkarte hat, wird der Installer diese Liste
        natürlich überhaupt nicht anzeigen.

      □ Da keine Netzwerkkarte erkannt bzw. angewählt wurde, fordert der
        Installer Sie auf, ein Netzwerktreiber-Modul aus der Liste auszuwählen.
        Wählen Sie das plip-Modul.

 3. Netzwerk einrichten

      □ Konfiguriere das Netzwerk mit DHCP: Nein

      □ IP-Adresse: 192.168.0.1

      □ Point-to-point-Adresse: 192.168.0.2

      □ Adresse des DNS-Servers: sie können die gleichen Adressen eingeben, die
        auch auf dem Source-Rechner genutzt werden (siehe /etc/resolv.conf).

D.5. Debian GNU/Linux unter Verwendung von PPP over Ethernet (PPPoE)
installieren

In einigen Länder ist PPP over Ethernet (PPPoE) ein gängiges Protokoll für
Breitbandverbindungen (ADSL oder Kabel) zum Internet-Anbieter (z.B. auch in
Deutschland). Die Einrichtung einer Netzwerkverbindung über PPPoE wird
standardmäßig vom Installer nicht unterstützt, aber es ist nicht schwer, dies
zum Laufen zu bringen. Dieser Abschnitt erklärt, wie es geht.

Die PPPoE-Verbindung, die während der Installation eingerichtet wird, ist auch
nach dem Neustart im neu installierten System verfügbar (siehe Kapitel 7, Das
neue Debian-System starten).

Um während der Installation die Möglichkeit zu haben, PPPoE einzurichten und zu
nutzen, müssen Sie von einem der verfügbaren CD-ROM-/DVD-Images installieren.
Von anderen Installationsmethoden (z.B. Netzwerk-Boot) wird PPPoE nicht
unterstützt.

Eine Installation über PPPoE hat viel mit jeder anderen Installation gemeinsam.
Die folgenden Schritte erklären die Unterschiede.

  • Booten Sie den Installer mit dem Parameter modules=ppp-udeb^[25]. Dies
    sorgt dafür, dass die benötigte Komponente für die Einrichtung von PPPoE
    automatisch geladen und gestartet wird.

  • Folgen Sie den normalen einführenden Schritten der Installation (Sprache,
    Land, Auswahl der Tastatur, Laden der zusätzlichen Installer-Komponenten^
    [26]).

  • Im nächsten Schritt folgt die Erkennung der Netzwerk-Hardware, um alle im
    System vorhandenen Ethernet-Karten zu identifizieren.

  • Danach wird die eigentliche Einrichtung von PPPoE gestartet. Der Installer
    prüft alle erkannten Ethernet-Schnittstellen auf einen vorhandenen
    PPPoE-Konzentrator (eine Art Server, der PPPoE-Verbindungen bereitstellt).

    Es ist möglich, dass der Konzentrator beim ersten Versuch nicht gefunden
    wird. Dies kann gelegentlich bei langsamen oder überlasteten Netzen
    vorkommen oder bei fehlerbehafteten Servern. In den meisten Fällen ist ein
    zweiter Versuch, den Konzentrator zu erkennen, erfolgreich. Wählen Sie dazu
    Konfiguriere und starte eine PPPoE-Verbindung aus dem Hauptmenü des
    Installers.

  • Nachdem der Konzentrator gefunden wurde, werden Sie aufgefordert, die
    Einwahldaten (PPPoE-Benutzername und Passwort) einzugeben.

  • Jetzt wird der Installer versuchen, mit den eingegebenen Daten eine
    PPPoE-Verbindung aufzubauen. Wenn die Daten korrekt sind, sollte die
    Verbindung hergestellt werden und der Installer sollte die
    Internetverbindung nutzen können, um (falls nötig) Pakete herunterzuladen.
    Sind die eingegebenen Daten nicht korrekt oder ein anderer Fehler tritt
    auf, bricht der Installer ab, aber Sie können erneut versuchen, PPPoE zu
    konfigurieren, indem Sie den Menüpunkt Konfiguriere und starte eine
    PPPoE-Verbindung auswählen.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[23] Serielle Mäuse haben gewöhnlich einen 9-poligen Sub-D-Anschluss,
Bus-Mäuse haben einen runden 8-poligen Stecker (nicht zu verwechseln mit dem
runden 6-poligen Stecker einer PS/2-Maus oder dem runden 4-poligen Stecker
einer ADB-Maus).

^[24] Dazu gehören die GNU Core Utilities und Kommandos wie sed, grep, tar und 
gzip.

^[25] Siehe Abschnitt 5.1.7, "Der Start-Bildschirm (Boot-Screen)" bezüglich
weiterer Informationen darüber, wie man einen Boot-Parameter hinzufügt.

^[26] Das Installer-Modul ppp-udeb wird als eine der zusätzlichen Komponenten
geladen. Wenn Sie mit mittlerer oder niedriger Priorität (Experten-Modus)
installieren, können Sie ppp-udeb auch manuell auswählen, statt den "modules=
ppp-udeb"-Parameter am Boot-Prompt einzugeben.

Anhang E. Administratives

Inhaltsverzeichnis

E.1. Über dieses Dokument
E.2. An diesem Dokument mithelfen
E.3. Wesentliche Beiträge zu diesem Handbuch
E.4. Anerkennung der Warenzeichen

E.1. Über dieses Dokument

Dieses Handbuch wurde ursprünglich erstellt für Sarge's Debian-Installer und
basiert auf dem Woody-Installations-Handbuch für Boot-Floppies (was wiederum
auf älteren Debian-Installationsanleitungen beruht) sowie auf dem
Progeny-Distributions-Handbuch, das 2003 unter der GPL herausgegeben wurde.

Dieses Dokument ist in DocBook XML geschrieben. Die Ausgabeformate werden von
verschiedenen Programmen aus den docbook-xml- und docbook-xsl-Paketen erzeugt.

Um die Wartungsfähigkeit dieses Dokuments zu erhöhen, benutzen wir eine Anzahl
von XML-Funktionen, wie "entities" und "profiling attributes". Diese sind
vergleichbar mit Variablen und Konditionen in Programmiersprachen. Der
XML-Quellcode dieses Dokumentes enthält Informationen für jede unterschiedliche
Architektur - die "profiling attributes" werden benutzt, um bestimmte
Textbereiche als architekturspezifisch abzugrenzen.

An der Übersetzung dieses Handbuchs ins Deutsche haben viele Mitglieder der <
debian-l10n-german@lists.debian.org>-Mailingliste mitgewirkt, Koordinator und
Hauptübersetzer ist Holger Wansing. Fehler, Hinweise, Verbesserungsvorschläge
etc. bezüglich der deutschen Übersetzung senden Sie bitte an obige
Mailinglisten-Adresse.

E.2. An diesem Dokument mithelfen

Wenn Sie Probleme oder Empfehlungen betreffend den Inhalt (nicht die
Übersetzung!) dieses Handbuchs haben, sollten Sie sie vielleicht als
Fehlerbericht gegen das Paket installation-guide einschicken. Schauen Sie sich
das Paket reportbug an oder lesen Sie die Online-Dokumentation der
Debian-Fehlerdatenbank. Es wäre schön, wenn Sie die bereits gemeldeten Fehler
gegen installation-guide überprüfen könnten, um zu sehen, ob Ihr Problem
bereits an uns berichtet worden ist. Ist dies der Fall, können Sie eine
zusätzliche Bestätigung oder hilfreiche Informationen betreffend das Problem an
<XXXXXX@bugs.debian.org> schicken (dabei ist XXXXXX die Nummer des bereits
vorhandenen Fehlerberichts).

Noch besser wäre es, Sie besorgen sich den DocBook-Quellcode dieses Dokuments
und erstellen Patches für die entsprechenden Stellen. Sie finden den Quelltext
im installation-guide-Projekt auf unserem Salsa-Server. Machen Sie sich keine
Sorgen, wenn Sie sich mit DocBook nicht auskennen: es gibt eine einfache
Hilfeseite im Verzeichnis des Handbuchs, die Ihnen eine erste Anleitung gibt.
Es ist ähnlich wie HTML, aber mehr auf den Sinn des Textes orientiert als auf
die Darstellung. Patches sind sehr willkommen; richten Sie diese bitte an die
debian-boot-Mailingliste (siehe unten). Instruktionen, wie Sie den Quellcode
aus dem SVN bekommen, finden Sie in README im Root-Verzeichnis des Quelltexts.

Bitte kontaktieren Sie die Autoren dieses Dokuments nicht direkt. Es gibt eine
Mailingliste für den debian-installer, die auch Diskussionen über das Handbuch
einschließt, dies ist <debian-boot@lists.debian.org>. Anleitungen, wie Sie
diese Liste abonnieren, finden Sie auf der Debian
Mailinglisten-Abonnierungs-Webseite oder Sie besuchen die Debian
Mailinglisten-Archive online.

E.3. Wesentliche Beiträge zu diesem Handbuch

Dieses Dokument wurde ursprünglich geschrieben von Bruce Perens, Sven Rudolph,
Igor Grobman, James Treacy und Adam Di Carlo. Sebastian Ley schrieb das
Installations-HowTo.

Miroslav Kuře hat Dokumentation über eine Reihe neuer Funktionen in Sarges
Debian-Installer geschrieben. Frans Pop war während der Veröffentlichungsphasen
von Etch, Lenny und Squeeze hauptsächlicher Autor der englischen
Originalversion dieses Handbuchs und verantwortlich für die Veröffentlichung.

Viele, viele Debian-Nutzer und -Entwickler waren an diesem Handbuch beteiligt.
Speziell müssen wir erwähnen: Michael Schmitz (m68k-Support), Frank Neumann
(ursprünglicher Autor des Amiga Install Manuals), Arto Astala, Eric Delaunay/
Ben Collins (Informationen über SPARC), Tapio Lehtonen und Stéphane Bortzmeyer
für eine Vielzahl von Korrekturen und Texten. Ebenfalls müssen wir Pascal Le
Bail danken für nützliche Informationen über das Booten von einem
USB-Memory-Stick.

Extrem hilfreiche Texte und Informationen haben wir gefunden in Jim Mintha's
HowTo für das Booten per Netzwerk (leider keine URL verfügbar), der Debian GNU/
Linux-FAQ, der Linux/m68k FAQ, der Linux for SPARC Processors F.A.Q., der Linux
Alpha FAQ sowie weiteren Quellen. Die Betreuer dieser frei verfügbaren und
reichhaltigen Informationsquellen wollen wir hiermit ebenfalls erwähnen.

Der Abschnitt D.3, "Debian GNU/Linux von einem anderen Unix/Linux-System aus
installieren" dieses Handbuchs stammt teilweise aus Dokumenten, die unter dem
Copyright von Karsten M. Self stehen.

Der Abschnitt D.4, "Debian GNU/Linux über Parallel Line IP (PLIP) installieren"
basierte auf dem PLIP-Install-HowTo von Gilles Lamiral.

E.4. Anerkennung der Warenzeichen

Alle Warenzeichen sind Eigentum der jeweiligen Markeninhaber.

Anhang F. GNU General Public License (Allgemeine Öffentliche GNU-Lizenz, GNU
GPL)

Anmerkung

This is an unofficial translation of the GNU General Public License into
German. It was not published by the Free Software Foundation, and does not
legally state the distribution terms for software that uses the GNU GPL - only
the original English text of the GNU GPL does that. However, we hope that this
translation will help german speakers to better understand the GNU GPL.

Dies ist eine inoffizielle Übersetzung der GNU General Public License (GNU GPL,
Allgemeine Öffentliche GNU-Lizenz) ins Deutsche. Sie wurde nicht von der Free
Software Foundation (FSF) herausgegeben und kann rechtlich gesehen keine
Aussagen über die Bedingungen zur Verteilung von Software machen, die unter der
GNU GPL herausgegeben wird - dies kann nur die englische Originalversion der
GNU GPL. Allerdings hoffen wir, dass diese Übersetzung deutschsprachigen Lesern
hilft, die GNU GPL besser zu verstehen.

Deutsche Übersetzung der Version 2, Juni 1991. Entnommen von http://www.gnu.de/
documents/gpl-2.0.de.html. Diese Übersetzung wurde ursprünglich erstellt von
Katja Lachmann Übersetzungen im Auftrag der S.u.S.E. GmbH. Sie wurde
überarbeitet von Peter Gerwinski, G-N-U GmbH (31. Oktober 1996, 4. Juni 2000).

Copyright (C) 1989, 1991 Free Software Foundation, Inc.
51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.

Es ist jedermann gestattet, diese Lizenzurkunde zu vervielfältigen und
unveränderte Kopien zu verbreiten; Änderungen sind jedoch nicht erlaubt.

F.1. Vorwort

Die meisten Software-Lizenzen sind daraufhin entworfen worden, Ihnen die
Freiheit zu nehmen, die Software weiterzugeben und zu verändern. Im Gegensatz
dazu soll Ihnen die GNU General Public License, die Allgemeine Öffentliche
GNU-Lizenz, ebendiese Freiheit garantieren. Sie soll sicherstellen, dass die
Software für alle Benutzer frei ist. Diese Lizenz gilt für den Großteil der von
der Free Software Foundation herausgegebenen Software und für alle anderen
Programme, deren Autoren ihr Datenwerk dieser Lizenz unterstellt haben. Auch
Sie können diese Möglichkeit der Lizenzierung für Ihre Programme anwenden. (Ein
anderer Teil der Software der Free Software Foundation unterliegt stattdessen
der GNU Library General Public License, der Allgemeinen Öffentlichen GNU-Lizenz
für Bibliotheken.) [Mittlerweile wurde die GNU Library Public License von der
GNU Lesser Public License abgelöst - Anmerkung des Übersetzers.]

Die Bezeichnung "freie" Software bezieht sich auf Freiheit, nicht auf den
Preis. Unsere Lizenzen sollen Ihnen die Freiheit garantieren, Kopien freier
Software zu verbreiten (und etwas für diesen Service zu berechnen, wenn Sie
möchten), die Möglichkeit, die Software im Quelltext zu erhalten oder den
Quelltext auf Wunsch zu bekommen. Die Lizenzen sollen garantieren, dass Sie die
Software ändern oder Teile davon in neuen freien Programmen verwenden dürfen -
und dass Sie wissen, dass Sie dies alles tun dürfen.

Um Ihre Rechte zu schützen, müssen wir Einschränkungen machen, die es jedem
verbieten, Ihnen diese Rechte zu verweigern oder Sie aufzufordern, auf diese
Rechte zu verzichten. Aus diesen Einschränkungen folgen bestimmte
Verantwortlichkeiten für Sie, wenn Sie Kopien der Software verbreiten oder sie
verändern.

Beispielsweise müssen Sie den Empfängern alle Rechte gewähren, die Sie selbst
haben, wenn Sie - kostenlos oder gegen Bezahlung - Kopien eines solchen
Programms verbreiten. Sie müssen sicherstellen, dass auch die Empfänger den
Quelltext erhalten bzw. erhalten können. Und Sie müssen ihnen diese Bedingungen
zeigen, damit sie ihre Rechte kennen.

Wir schützen Ihre Rechte in zwei Schritten: (1) Wir stellen die Software unter
ein Urheberrecht (Copyright), und (2) wir bieten Ihnen diese Lizenz an, die
Ihnen das Recht gibt, die Software zu vervielfältigen, zu verbreiten und/oder
zu verändern.

Um die Autoren und uns zu schützen, wollen wir darüber hinaus sicherstellen,
dass jeder erfährt, dass für diese freie Software keinerlei Garantie besteht.
Wenn die Software von jemand anderem modifiziert und weitergegeben wird,
möchten wir, dass die Empfänger wissen, dass sie nicht das Original erhalten
haben, damit irgendwelche von anderen verursachte Probleme nicht den Ruf des
ursprünglichen Autors schädigen.

Schließlich und endlich ist jedes freie Programm permanent durch
Software-Patente bedroht. Wir möchten die Gefahr ausschließen, dass
Distributoren eines freien Programms individuell Patente lizenzieren - mit dem
Ergebnis, dass das Programm proprietär würde. Um dies zu verhindern, haben wir
klargestellt, dass jedes Patent entweder für freie Benutzung durch jedermann
lizenziert werden muss oder überhaupt nicht lizenziert werden darf.

Es folgen die genauen Bedingungen für die Vervielfältigung, Verbreitung und
Bearbeitung.

F.2. Deutsche Übersetzung der GNU GENERAL PUBLIC LICENSE

BEDINGUNGEN FÜR DIE VERVIELFÄLTIGUNG, VERBREITUNG UND BEARBEITUNG

0. Diese Lizenz gilt für jedes Programm und jedes andere Datenwerk, in dem ein
entsprechender Vermerk des Copyright-Inhabers darauf hinweist, dass das
Datenwerk unter den Bestimmungen dieser General Public License verbreitet
werden darf. Im Folgenden wird jedes derartige Programm oder Datenwerk als "das
Programm" bezeichnet; die Formulierung "auf dem Programm basierendes Datenwerk"
bezeichnet das Programm sowie jegliche Bearbeitung des Programms im
urheberrechtlichen Sinne, also ein Datenwerk, welches das Programm, auch
auszugsweise, sei es unverändert oder verändert und/oder in eine andere Sprache
übersetzt, enthält. (Im Folgenden wird die Übersetzung ohne Einschränkung als "
Bearbeitung" eingestuft.) Jeder Lizenznehmer wird im Folgenden als "Sie"
angesprochen.

Andere Handlungen als Vervielfältigung, Verbreitung und Bearbeitung werden von
dieser Lizenz nicht berührt; sie fallen nicht in ihren Anwendungsbereich. Der
Vorgang der Ausführung des Programms wird nicht eingeschränkt, und die Ausgaben
des Programms unterliegen dieser Lizenz nur, wenn der Inhalt ein auf dem
Programm basierendes Datenwerk darstellt (unabhängig davon, dass die Ausgabe
durch die Ausführung des Programms erfolgte). Ob dies zutrifft, hängt von den
Funktionen des Programms ab.

1. Sie dürfen auf beliebigen Medien unveränderte Kopien des Quelltextes des
Programms, wie sie ihn erhalten haben, anfertigen und verbreiten. Voraussetzung
hierfür ist, dass Sie mit jeder Kopie einen entsprechenden Copyright-Vermerk
sowie einen Haftungsausschluss veröffentlichen, alle Vermerke, die sich auf
diese Lizenz und das Fehlen einer Garantie beziehen, unverändert lassen und des
weiteren allen anderen Empfängern des Programms zusammen mit dem Programm eine
Kopie dieser Lizenz zukommen lassen.

Sie dürfen für den eigentlichen Kopiervorgang eine Gebühr verlangen. Wenn Sie
es wünschen, dürfen Sie auch gegen Entgelt eine Garantie für das Programm
anbieten.

2. Sie dürfen Ihre Kopie(n) des Programms oder eines Teils davon verändern,
wodurch ein auf dem Programm basierendes Datenwerk entsteht; Sie dürfen
derartige Bearbeitungen unter den Bestimmungen von Paragraph 1 vervielfältigen
und verbreiten, vorausgesetzt, dass zusätzlich alle im folgenden genannten
Bedingungen erfüllt werden:

 a. Sie müssen die veränderten Dateien mit einem auffälligen Vermerk versehen,
    der auf die von Ihnen vorgenommene Modifizierung und das Datum jeder
    Änderung hinweist.

 b. Sie müssen dafür sorgen, dass jede von Ihnen verbreitete oder
    veröffentlichte Arbeit, die ganz oder teilweise von dem Programm oder
    Teilen davon abgeleitet ist, Dritten gegenüber als Ganzes unter den
    Bedingungen dieser Lizenz ohne Lizenzgebühren zur Verfügung gestellt wird.

 c. Wenn das veränderte Programm normalerweise bei der Ausführung interaktiv
    Kommandos einliest, müssen Sie dafür sorgen, dass es, wenn es auf dem
    üblichsten Wege für solche interaktive Nutzung gestartet wird, eine Meldung
    ausgibt oder ausdruckt, die einen geeigneten Copyright-Vermerk enthält
    sowie einen Hinweis, dass es keine Gewährleistung gibt (oder anderenfalls,
    dass Sie Garantie leisten), und dass die Benutzer das Programm unter diesen
    Bedingungen weiter verbreiten dürfen. Auch muss der Benutzer darauf
    hingewiesen werden, wie er eine Kopie dieser Lizenz ansehen kann.
    (Ausnahme: Wenn das Programm selbst interaktiv arbeitet, aber normalerweise
    keine derartige Meldung ausgibt, muss Ihr auf dem Programm basierendes
    Datenwerk auch keine solche Meldung ausgeben).

Diese Anforderungen gelten für das bearbeitete Datenwerk als Ganzes. Wenn
identifizierbare Teile des Datenwerks nicht von dem Programm abgeleitet sind
und vernünftigerweise als unabhängige und eigenständige Datenwerke für sich
selbst zu betrachten sind, dann gelten diese Lizenz und ihre Bedingungen nicht
für die betroffenen Teile, wenn Sie diese als eigenständige Datenwerke
weitergeben. Wenn Sie jedoch dieselben Abschnitte als Teil eines Ganzen
weitergeben, das ein auf dem Programm basierendes Datenwerk darstellt, dann
muss die Weitergabe des Ganzen nach den Bedingungen dieser Lizenz erfolgen,
deren Bedingungen für weitere Lizenznehmer somit auf das gesamte Ganze
ausgedehnt werden - und somit auf jeden einzelnen Teil, unabhängig vom
jeweiligen Autor.

Somit ist es nicht die Absicht dieses Abschnittes, Rechte für Datenwerke in
Anspruch zu nehmen oder Ihnen die Rechte für Datenwerke streitig zu machen, die
komplett von Ihnen geschrieben wurden; vielmehr ist es die Absicht, die Rechte
zur Kontrolle der Verbreitung von Datenwerken, die auf dem Programm basieren
oder unter seiner auszugsweisen Verwendung zusammengestellt worden sind,
auszuüben.

Ferner bringt auch das einfache Zusammenlegen eines anderen Datenwerks, das
nicht auf dem Programm basiert, mit dem Programm oder einem auf dem Programm
basierenden Datenwerk auf ein- und demselben Speicher- oder Vertriebsmedium
dieses andere Datenwerk nicht in den Anwendungsbereich dieser Lizenz.

3. Sie dürfen das Programm (oder ein darauf basierendes Datenwerk gemäß
Paragraph 2) als Objektcode oder in ausführbarer Form unter den Bedingungen der
Paragraphen 1 und 2 kopieren und weitergeben - vorausgesetzt, dass Sie außerdem
eine der folgenden Leistungen erbringen:

 a. Liefern Sie das Programm zusammen mit dem vollständigen zugehörigen
    maschinenlesbaren Quelltext auf einem für den Datenaustausch üblichen
    Medium aus, wobei die Verteilung unter den Bedingungen der Paragraphen 1
    und 2 erfolgen muss. Oder:

 b. Liefern Sie das Programm zusammen mit einem mindestens drei Jahre lang
    gültigen schriftlichen Angebot aus, jedem Dritten eine vollständige
    maschinenlesbare Kopie des Quelltextes zur Verfügung zu stellen - zu nicht
    höheren Kosten als denen, die durch den physikalischen Kopiervorgang
    anfallen - wobei der Quelltext unter den Bedingungen der Paragraphen 1 und
    2 auf einem für den Datenaustausch üblichen Medium weitergegeben wird.
    Oder:

 c. Liefern Sie das Programm zusammen mit dem schriftlichen Angebot der
    Zurverfügungstellung des Quelltextes aus, das Sie selbst erhalten haben.
    (Diese Alternative ist nur für nicht-kommerzielle Verbreitung zulässig und
    nur, wenn Sie das Programm als Objektcode oder in ausführbarer Form mit
    einem entsprechenden Angebot gemäß Absatz b erhalten haben.)

Unter dem Quelltext eines Datenwerks wird diejenige Form des Datenwerks
verstanden, die für Bearbeitungen vorzugsweise verwendet wird. Für ein
ausführbares Programm bedeutet "der komplette Quelltext": Der Quelltext aller
im Programm enthaltenen Module einschließlich aller zugehörigen
Modulschnittstellen-Definitionsdateien sowie der zur Kompilation und
Installation verwendeten Skripte. Als besondere Ausnahme jedoch braucht der
verteilte Quelltext nichts von dem zu enthalten, was üblicherweise (entweder
als Quelltext oder in binärer Form) zusammen mit den Hauptkomponenten des
Betriebssystems (Kernel, Compiler usw.) geliefert wird, unter dem das Programm
läuft - es sei denn, diese Komponente selbst gehört zum ausführbaren Programm.

Wenn die Verbreitung eines ausführbaren Programms oder von Objektcode dadurch
erfolgt, dass der Kopierzugriff auf eine dafür vorgesehene Stelle gewährt wird,
so gilt die Gewährung eines gleichwertigen Zugriffs auf den Quelltext als
Verbreitung des Quelltextes, auch wenn Dritte nicht dazu gezwungen sind, den
Quelltext zusammen mit dem Objektcode zu kopieren.

4. Sie dürfen das Programm nicht vervielfältigen, verändern, weiter lizenzieren
oder verbreiten, sofern es nicht durch diese Lizenz ausdrücklich gestattet ist.
Jeder anderweitige Versuch der Vervielfältigung, Modifizierung,
Weiterlizenzierung und Verbreitung ist nichtig und beendet automatisch Ihre
Rechte unter dieser Lizenz. Jedoch werden die Lizenzen Dritter, die von Ihnen
Kopien oder Rechte unter dieser Lizenz erhalten haben, nicht beendet, solange
diese die Lizenz voll anerkennen und befolgen.

5. Sie sind nicht verpflichtet, diese Lizenz anzunehmen, da Sie sie nicht
unterzeichnet haben. Jedoch gibt Ihnen nichts anderes die Erlaubnis, das
Programm oder von ihm abgeleitete Datenwerke zu verändern oder zu verbreiten.
Diese Handlungen sind gesetzlich verboten, wenn Sie diese Lizenz nicht
anerkennen. Indem Sie das Programm (oder ein darauf basierendes Datenwerk)
verändern oder verbreiten, erklären Sie Ihr Einverständnis mit dieser Lizenz
und mit allen ihren Bedingungen bezüglich der Vervielfältigung, Verbreitung und
Veränderung des Programms oder eines darauf basierenden Datenwerks.

6. Jedes mal, wenn Sie das Programm (oder ein auf dem Programm basierendes
Datenwerk) weitergeben, erhält der Empfänger automatisch vom ursprünglichen
Lizenzgeber die Lizenz, das Programm entsprechend den hier festgelegten
Bestimmungen zu vervielfältigen, zu verbreiten und zu verändern. Sie dürfen
keine weiteren Einschränkungen der Durchsetzung der hierin zugestandenen Rechte
des Empfängers vornehmen. Sie sind nicht dafür verantwortlich, die Einhaltung
dieser Lizenz durch Dritte durchzusetzen.

7. Sollten Ihnen infolge eines Gerichtsurteils, des Vorwurfs einer
Patentverletzung oder aus einem anderen Grunde (nicht auf Patentfragen
begrenzt) Bedingungen (durch Gerichtsbeschluss, Vergleich oder anderweitig)
auferlegt werden, die den Bedingungen dieser Lizenz widersprechen, so befreien
Sie diese Umstände nicht von den Bestimmungen dieser Lizenz. Wenn es Ihnen
nicht möglich ist, das Programm unter gleichzeitiger Beachtung der Bedingungen
in dieser Lizenz und Ihrer anderweitigen Verpflichtungen zu verbreiten, dann
dürfen Sie als Folge das Programm überhaupt nicht verbreiten. Wenn zum Beispiel
ein Patent nicht die gebührenfreie Weiterverbreitung des Programms durch
diejenigen erlaubt, die das Programm direkt oder indirekt von Ihnen erhalten
haben, dann besteht der einzige Weg, sowohl das Patentrecht als auch diese
Lizenz zu befolgen, darin, ganz auf die Verbreitung des Programms zu
verzichten.

Sollte sich ein Teil dieses Paragraphen als ungültig oder unter bestimmten
Umständen nicht durchsetzbar erweisen, so soll dieser Paragraph seinem Sinne
nach angewandt werden; im Übrigen soll dieser Paragraph als Ganzes gelten.

Zweck dieses Paragraphen ist nicht, Sie dazu zu bringen, irgendwelche Patente
oder andere Eigentumsansprüche zu verletzen oder die Gültigkeit solcher
Ansprüche zu bestreiten; dieser Paragraph hat einzig den Zweck, die Integrität
des Verbreitungssystems der freien Software zu schützen, das durch die Praxis
öffentlicher Lizenzen verwirklicht wird. Viele Leute haben großzügige Beiträge
zu dem großen Angebot der mit diesem System verbreiteten Software im Vertrauen
auf die konsistente Anwendung dieses Systems geleistet; es liegt am Autor/
Geber, zu entscheiden, ob er die Software mittels irgendeines anderen Systems
verbreiten will; ein Lizenznehmer hat auf diese Entscheidung keinen Einfluss.

Dieser Paragraph ist dazu gedacht, deutlich klar zu stellen, was als Konsequenz
aus dem Rest dieser Lizenz betrachtet wird.

8. Wenn die Verbreitung und/oder die Benutzung des Programms in bestimmten
Staaten entweder durch Patente oder durch urheberrechtlich geschützte
Schnittstellen eingeschränkt ist, kann der Urheberrechtsinhaber, der das
Programm unter diese Lizenz gestellt hat, eine explizite geographische
Begrenzung der Verbreitung angeben, in der diese Staaten ausgeschlossen werden,
so dass die Verbreitung nur innerhalb und zwischen den Staaten erlaubt ist, die
nicht ausgeschlossen sind. In einem solchen Fall beinhaltet diese Lizenz die
Beschränkung, als wäre sie in diesem Text niedergeschrieben.

9. Die Free Software Foundation kann von Zeit zu Zeit überarbeitete und/oder
neue Versionen der General Public License veröffentlichen. Solche neuen
Versionen werden vom Grundprinzip her der gegenwärtigen entsprechen, können
aber im Detail abweichen, um neuen Problemen und Anforderungen gerecht zu
werden. Jede Version dieser Lizenz hat eine eindeutige Versionsnummer. Wenn in
einem Programm angegeben wird, dass es dieser Lizenz in einer bestimmten
Versionsnummer oder "jeder späteren Version" (any later version) unterliegt, so
haben Sie die Wahl, entweder den Bestimmungen der genannten Version zu folgen
oder denen jeder beliebigen späteren Version, die von der Free Software
Foundation veröffentlicht wurde. Wenn das Programm keine Versionsnummer angibt,
können Sie eine beliebige Version wählen, die je von der Free Software
Foundation veröffentlicht wurde.

10. Wenn Sie den Wunsch haben, Teile des Programms in anderen freien Programmen
zu verwenden, deren Bedingungen für die Verbreitung anders sind, schreiben Sie
an den Autor, um ihn um die Erlaubnis zu bitten. Für Software, die unter dem
Copyright der Free Software Foundation steht, schreiben Sie an die Free
Software Foundation; wir machen zu diesem Zweck gelegentlich Ausnahmen. Unsere
Entscheidung wird von den beiden Zielen geleitet werden, zum einen den freien
Status aller von unserer freien Software abgeleiteten Datenwerke zu erhalten
und zum anderen das gemeinschaftliche Nutzen und Wiederverwenden von Software
im Allgemeinen zu fördern.

KEINE GEWÄHRLEISTUNG

11. DA DAS PROGRAMM OHNE JEGLICHE KOSTEN LIZENZIERT WIRD, BESTEHT KEINERLEI
GEWÄHRLEISTUNG FÜR DAS PROGRAMM, SOWEIT DIES GESETZLICH ZULÄSSIG IST. SOFERN
NICHT ANDERWEITIG SCHRIFTLICH BESTÄTIGT, STELLEN DIE COPYRIGHT-INHABER UND/ODER
DRITTE DAS PROGRAMM SO ZUR VERFÜGUNG, "WIE ES IST", OHNE IRGENDEINE
GEWÄHRLEISTUNG, WEDER AUSDRÜCKLICH NOCH IMPLIZIT, EINSCHLIEßLICH - ABER NICHT
BEGRENZT AUF - MARKTREIFE ODER VERWENDBARKEIT FÜR EINEN BESTIMMTEN ZWECK. DAS
VOLLE RISIKO BEZÜGLICH QUALITÄT UND LEISTUNGSFÄHIGKEIT DES PROGRAMMS LIEGT BEI
IHNEN. SOLLTE SICH DAS PROGRAMM ALS FEHLERHAFT HERAUSSTELLEN, LIEGEN DIE KOSTEN
FÜR NOTWENDIGEN SERVICE, REPARATUR ODER KORREKTUR BEI IHNEN.

12. IN KEINEM FALL, AUßER WENN DURCH GELTENDES RECHT GEFORDERT ODER SCHRIFTLICH
ZUGESICHERT, IST IRGENDEIN COPYRIGHT-INHABER ODER IRGENDEIN DRITTER, DER DAS
PROGRAMM WIE OBEN ERLAUBT MODIFIZIERT ODER VERBREITET HAT, IHNEN GEGENÜBER FÜR
IRGENDWELCHE SCHÄDEN HAFTBAR, EINSCHLIEßLICH JEGLICHER ALLGEMEINER ODER
SPEZIELLER SCHÄDEN, SCHÄDEN DURCH SEITENEFFEKTE (NEBENWIRKUNGEN) ODER
FOLGESCHÄDEN, DIE AUS DER BENUTZUNG DES PROGRAMMS ODER DER UNBENUTZBARKEIT DES
PROGRAMMS FOLGEN (EINSCHLIEßLICH - ABER NICHT BESCHRÄNKT AUF - DATENVERLUSTE,
FEHLERHAFTE VERARBEITUNG VON DATEN, VERLUSTE, DIE VON IHNEN ODER ANDEREN
GETRAGEN WERDEN MÜSSEN, ODER DEM UNVERMÖGEN DES PROGRAMMS, MIT IRGENDEINEM
ANDEREN PROGRAMM ZUSAMMENZUARBEITEN), SELBST WENN EIN COPYRIGHT-INHABER ODER
DRITTER ÜBER DIE MÖGLICHKEIT SOLCHER SCHÄDEN UNTERRICHTET WORDEN WAR.

ENDE DER BEDINGUNGEN

F.3. Wie Sie diese Bedingungen auf Ihre eigenen, neuen Programme anwenden
können

Wenn Sie ein neues Programm entwickeln und wollen, dass es vom größtmöglichen
Nutzen für die Allgemeinheit ist, dann erreichen Sie das am besten, indem Sie
es zu freier Software machen, die jeder unter diesen Bestimmungen
weiterverbreiten und verändern kann.

Um dies zu erreichen, fügen Sie die folgenden Vermerke zu Ihrem Programm hinzu.
Am sichersten ist es, sie an den Anfang einer jeden Quelldatei zu stellen, um
den Gewährleistungsausschluss möglichst deutlich darzustellen; zumindest aber
sollte jede Datei eine "Copyright"-Zeile besitzen sowie einen kurzen Hinweis
darauf, wo die vollständigen Vermerke zu finden sind.

one line to give the program's name and a brief idea of
what it does.

Copyright (C) year  name of author

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
for more details.

You should have received a copy of the GNU General Public License along
with this program; if not, write to the Free Software Foundation, Inc.,
51 Franklin St, Fifth Floor, Boston, MA 02110, USA.

Fügen Sie auch einen kurzen Hinweis hinzu, wie Sie elektronisch und per Brief
erreichbar sind.

Wenn Ihr Programm interaktiv ist, sorgen Sie dafür, dass es nach dem Start
einen kurzen Vermerk ausgibt:

Gnomovision version 69, Copyright (C) year  name of author

Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type
show w.

This is free software, and you are welcome to redistribute it under
certain conditions; type show c for details.

Die hypothetischen Kommandos "show w" und "show c" sollten die entsprechenden
Teile der GNU GPL anzeigen. Natürlich können die von Ihnen verwendeten
Kommandos anders heißen als "show w" und "show c"; es könnten auch Mausklicks
oder Menüpunkte sein - was immer am besten in Ihr Programm passt.

Soweit vorhanden, sollten Sie auch Ihren Arbeitgeber (wenn Sie als
Programmierer arbeiten) oder Ihre Schule einen Copyright-Verzicht für das
Programm unterschreiben lassen. Hier ein Beispiel. Die Namen müssen Sie
natürlich ändern.

Yoyodyne, Inc., hereby disclaims all copyright interest in the program
Gnomovision (which makes passes at compilers)
written by James Hacker.

[signature of Ty Coon], 1 April 1989

Ty Coon, President of Vice

Diese General Public License gestattet nicht die Einbindung des Programms in
proprietäre Programme. Ist Ihr Programm eine Funktionsbibliothek, so kann es
sinnvoller sein, das Binden proprietärer Programme mit dieser Bibliothek zu
gestatten. Wenn Sie dies tun wollen, sollten Sie die GNU Library General Public
License anstelle dieser Lizenz verwenden.

