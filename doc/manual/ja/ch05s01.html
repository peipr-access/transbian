<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>5.1. 64-bit PC でのインストーラの起動</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Debian GNU/Linux インストールガイド">
<link rel="up" href="ch05.html" title="第5章 インストールシステムの起動">
<link rel="prev" href="ch05.html" title="第5章 インストールシステムの起動">
<link rel="next" href="ch05s02.html" title="5.2. アクセシビリティ">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">5.1. <span class="phrase">64-bit PC</span> でのインストーラの起動</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch05.html"><img src="images/prev.png" alt="戻る"></a> </td>
<th width="60%" align="center">第5章 インストールシステムの起動</th>
<td width="20%" align="right"> <a accesskey="n" href="ch05s02.html"><img src="images/next.png" alt="次へ"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="idm1090"></a>5.1. <span class="phrase">64-bit PC</span> でのインストーラの起動</h2></div></div></div>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[警告]" src="images/warning.png"></td>
<th align="left">警告</th>
</tr>
<tr><td align="left" valign="top"><p>システムに他のオペレーティングシステムがあり、共存 (デュアルブート) させる場合、インストーラを起動する<span class="emphasis"><em>前</em></span>に、確実にシャットダウンしてください。他のオペレーティングシステムがハイバネーション (ディスクへのサスペンド) した状態で、オペレーティングシステムをインストールすると、再起動時に、サスペンドしたオペレーティングシステムの状態を、失ったり障害を与える可能性があります。 </p></td></tr>
</table></div>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>グラフィカルインストーラで起動する方法は、<a class="xref" href="ch05s01.html#graphical" title="5.1.8. グラフィカルインストーラ">「グラフィカルインストーラ」</a> をご覧ください。 </p></td></tr>
</table></div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="usb-boot-x86"></a>5.1.1. USB メモリからの起動</h3></div></div></div>
<p>USB からブートできるコンピュータの場合はおそらくこれが最も簡単なインストール方法です。 さて、<span class="phrase"><a class="xref" href="ch03s06.html#boot-dev-select-x86" title="3.6.2. ブートデバイスの選択">「ブートデバイスの選択」</a></span> と <a class="xref" href="ch04s03.html" title="4.3. USB メモリでの起動用ファイルの準備">「USB メモリでの起動用ファイルの準備」</a> の内容すべてを準備しました。それでは USB コネクタに USB メモリを差し込んで、コンピュータを再起動してください。システムが起動し、USB メモリを作成するのに柔軟な方法で有効にしていない、などという事がなければ、グラフィカルなブートメニューが (それをサポートしているハードウェアでは) 表示されるはずです。ここで様々なインストールオプションを選択するか、単に <span class="keycap"><strong>Enter</strong></span> を押してください。 </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm1106"></a>5.1.2. 光学ディスク (CD/DVD) からの起動</h3></div></div></div>
<p>光学ディスクのセットが既に手元にあり、かつインストールするマシンがそれらから直接起動できるようならツイています! 単に <span class="phrase"> <a class="xref" href="ch03s06.html#boot-dev-select-x86" title="3.6.2. ブートデバイスの選択">「ブートデバイスの選択」</a> の説明に従って、光学ディスクから起動できるようシステムを設定したあと、</span>ディスクをドライブに入れて再起動し、次の章に進んでください。 </p>
<p>光学ドライブに特殊なドライバが必要で、インストール初期にはアクセスできないかもしれないことに注意してください。光学ディスクが使えないハードウェアで起動する標準的な方法を知るには、本章に戻って、動くであろう別のカーネルや別のインストール方法について読んでください。 </p>
<p>光学ディスクから起動できなくても、希望する Debian システムコンポーネントやパッケージを、おそらくそのようなディスクからインストールできるでしょう。単純に別のメディアを使って起動してください。OS、基本システム、任意の追加パッケージをインストールする場合、インストールシステムを光学ドライブに向けてください。 </p>
<p>起動に問題があれば、<a class="xref" href="ch05s04.html" title="5.4. インストールプロセスのトラブルシューティング">「インストールプロセスのトラブルシューティング」</a> をご覧ください。 </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="boot-win32"></a>5.1.3. Windows からの起動</h3></div></div></div>
<p>Windows からインストーラを起動するには、 </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><a class="xref" href="ch04s01.html" title="4.1. 公式 Debian GNU/Linux インストールイメージ">「公式 Debian GNU/Linux インストールイメージ」</a> <span class="phrase">や <a class="xref" href="ch04s03.html" title="4.3. USB メモリでの起動用ファイルの準備">「USB メモリでの起動用ファイルの準備」</a> </span>で記述しているようなインストールメディアを得るか、 </p></li>
<li class="listitem"><p>Debian ミラー上の <a class="ulink" href="http://http.us.debian.org/debian/tools/win32-loader/stable/win32-loader.exe" target="_top">tools/win32-loader/stable/win32-loader.exe</a> で入手可能なそれだけで起動する Windows の実行ファイルをダウンロードします。 </p></li>
</ul></div>
<p>

</p>
<p>光学インストールメディアを使用する場合、ディスクを挿入するとプレインストールプログラムが自動的に起動します。自動的に起動しない場合や、USB メモリを使用する場合、デバイスにアクセスし、<span class="command"><strong>setup.exe</strong></span> を実行し、手動で起動できます。 </p>
<p>プログラム起動後は、いくつか予備的な質問がなされた後、再起動して Debian GNU/Linux インストーラを起動する準備が整います。 </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="install-from-dos"></a>5.1.4. loadlin を用いた DOS からの起動</h3></div></div></div>
<p>(Windows ではなく) DOS で起動する。これを行うには、リカバリディスクか診断ディスクから起動します。 </p>
<p>インストール CD を使える場合は、カレントのドライブを CD-ROM ドライブに変更してください。例えば </p>
<div class="informalexample"><pre class="screen">
d:
</pre></div>
<p> とするか、あるいは <a class="xref" href="ch04s04.html#files-loadlin" title="4.4.2. loadlin を使用した DOS からのハードディスクインストーラ起動">「<span class="command"><strong>loadlin</strong></span> を使用した DOS からのハードディスクインストーラ起動」</a> で説明したようにハードディスクをまず準備して、必要であればカレントドライブを変更します。 </p>
<div class="informalexample"><pre class="screen">
cd \install.<code class="filename">amd</code>
</pre></div>
<p> などとして使いたいフレーバーのサブディレクトリに入ってください。グラフィカルインストーラの方を使いたい場合は、<code class="filename">gtk</code> サブディレクトリに移動してください。</p>
<div class="informalexample"><pre class="screen">
cd gtk
</pre></div>
<p> 続いて、<span class="command"><strong>install.bat</strong></span> を実行してください。カーネルが読み込まれインストーラシステムが起動します。 </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="boot-initrd"></a>5.1.5. <span class="command"><strong>GRUB</strong></span> を用いた Linux からの起動</h3></div></div></div>
<p>ハードディスクからインストーラを起動するには、<a class="xref" href="ch04s04.html" title="4.4. ハードディスク起動ファイルの準備">「ハードディスク起動ファイルの準備」</a> に記述している必要なファイルを、まずダウンロードして配置しなければなりません。 </p>
<p><span class="command"><strong>GRUB2</strong></span> では、<code class="filename">/boot/grub/grub.cfg</code> の非常に重要な次の 2 点を設定します。 </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>起動時に、<code class="filename">initrd.gz</code> インストーラをロードする。 </p></li>
<li class="listitem"><p>RAM ディスクをルートパーティションとして使う <code class="filename">vmlinuz</code> カーネルを設定する。 </p></li>
</ul></div>
<p>

</p>
<p>例えばインストーラのエントリは以下のようになります。 </p>
<div class="informalexample"><pre class="screen">menuentry 'New Install' {
insmod part_msdos
insmod ext2
set root='(hd0,msdos1)'
linux /boot/newinstall/vmlinuz
initrd /boot/newinstall/initrd.gz
}
</pre></div>
<p>

</p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="boot-tftp-x86"></a>5.1.6. TFTP での起動</h3></div></div></div>
<p>ネットワークからの起動には、ネットワーク接続と TFTP ネットワークブートサーバが (自動化でのネットワーク設定には恐らく DHCP, RARP, BOOTP も) 必要です。 </p>
<p>ネットワーク起動をサポートするためのサーバ側の準備については、<a class="xref" href="ch04s05.html" title="4.5. TFTP ネットブート用ファイルの準備">「TFTP ネットブート用ファイルの準備」</a> で説明します。 </p>
<p>i386 での TFTP ブートはいろいろな方法があります。 </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="idm1169"></a>5.1.6.1. PXE をサポートする NIC・マザーボード</h4></div></div></div>
<p>ネットワークインターフェースカードやマザーボードが、PXE ブート機能を提供しているかもしれません。これは <span class="trademark">Intel</span>™ による、TFTP ブートの再実装です。そうであれば、ネットワークから起動できるように BIOS/UEFI を設定することができます。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="idm1173"></a>5.1.6.2. ネットワーク BootROM がある NIC</h4></div></div></div>
<p>ネットワークインターフェースカードが、TFTP ブート機能を提供しているかもしれません。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="idm1176"></a>5.1.6.3. Etherboot</h4></div></div></div>
<p><a class="ulink" href="http://www.etherboot.org" target="_top">etherboot project</a> では、 TFTP ブートを行うブートディスケットとブート ROM を提供しています。 </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="boot-screen"></a>5.1.7. ブート画面</h3></div></div></div>
<p>インストーラを起動する際に、Debian のロゴと以下のようなメニューを表示する、フレンドリーなグラフィック画面を表示します。 </p>
<div class="informalexample"><pre class="screen">Debian GNU/Linux installer boot menu

Graphical install
Install
Advanced options                            &gt;
Accessible dark contrast installer menu     &gt;
Help
Install with speech synthesis
</pre></div>
<p>

</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>このグラフィカル画面はコンピュータのブート方法 (BIOS か UEFI) によって微妙に異なるかもしれませんが表示されるオプションは同一です。 </p></td></tr>
</table></div>
<p>インストール方法によっては<span class="quote">「<span class="quote">グラフィカルインストール (Graphical install)</span>」</span>オプションは利用できないかもしれません。2つのアーキテクチャを収録したイメージでは各インストールオプションの64ビット版がすぐ下に追加されるため、オプションの数は約2倍になります。 </p>
<p>通常のインストールでは、<span class="quote">「<span class="quote">Graphical install</span>」</span> か <span class="quote">「<span class="quote">Install</span>」</span> のどちらかのエントリを選択し、キーボードの方向キーを使うか先頭の (強調されている) 文字を入力し、<span class="keycap"><strong>Enter</strong></span> を押してインストーラを起動してください。<span class="quote">「<span class="quote">Graphical Install</span>」</span> のエントリがデフォルトで選択されています。 </p>
<p><span class="quote">「<span class="quote">Advanced options</span>」</span> エントリでは、インストーラをエキスパートモードやレスキューモード、自動インストール用などで起動できる、第 2 メニューにアクセスできます。 </p>
<p>インストーラやカーネルに起動パラメータを追加する必要がある場合は、<span class="keycap"><strong>Tab</strong></span> (BIOS ブート) または <span class="keycap"><strong>e</strong></span> (UEFI ブート) を、次に <span class="keycap"><strong>down arrow</strong></span> を3回、それから <span class="keycap"><strong>end</strong></span> を押してください。これで、選択したメニューエントリのブートコマンドに入り、要望に合わせて変更できます。ヘルプ画面 (後述) では、いくつか共通で使用可能なオプションを列挙しています。オプションを指定してインストーラをブートするには、<span class="keycap"><strong>Enter</strong></span> (BIOS ブート) または <span class="keycap"><strong>F10</strong></span> (UEFI ブート) を押してください。<span class="keycap"><strong>Esc</strong></span> を押すと、ブートメニューに戻り、行った変更を取り消します。 </p>
<p><span class="quote">「<span class="quote">Help</span>」</span> エントリを選択すると、有効なヘルプ画面の概要をすべて表示する、最初のヘルプ画面が現れます。ヘルプ画面を表示した後で、ブートメニューに戻るには、ブートプロンプトで <span class="quote">「<span class="quote">menu</span>」</span> と入力し、<span class="keycap"><strong>Enter</strong></span> を押してください。ヘルプ画面にはすべて、次のようなブートコマンドを入力できるブートプロンプトがあります。</p>
<div class="informalexample"><pre class="screen">
Press F1 for the help index, or ENTER to boot:
</pre></div>
<p> このブートプロンプトでは、<span class="keycap"><strong>Enter</strong></span> を押してインストーラをデフォルトオプションで起動するか、特定のブートコマンドや (追加で) 起動パラメータを入力するかのどちらかを行えます。いくつかの有用だと思われる起動パラメータは、様々なヘルプ画面で見つかります。ブートコマンドラインにパラメータを追加する場合、最初のパラメータの前にまず、ブート方法 (デフォルトは <strong class="userinput"><code>install</code></strong>) と空白を必ず入力してください (例: <strong class="userinput"><code>install fb=false</code></strong>)。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>この時点では、キーボードをデフォルトのアメリカ英語レイアウトとして扱います。このため、あなたのキーボードが異なる (言語特有の) レイアウトの場合、パラメータを入力する際に画面に表示される文字は、あなたが期待するものと異なる場合があります。Wikipedia には、使用する正しいキーを見つけるための参照に使用できる、<a class="ulink" href="https://en.wikipedia.org/wiki/Keyboard_layout#United_States" target="_top">US キーボードレイアウトの図</a> があります。 </p></td></tr>
</table></div>
<p>
</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top">
<p>シリアルコンソールを使用するのに BIOS の設定が必要なシステムを使用している場合、インストーラ起動時の最初のグラフィカルスプラッシュ画面を見ることができないでしょうし、さらにはブートメニューも見ることすらできないでしょう。テキストインタフェースを VGA コンソールに提供する、リモート管理デバイス経由でインストールしている場合も同じことが起こります。こういったデバイスの例は、Compaq の <span class="quote">「<span class="quote">integrated Lights Out</span>」</span> (iLO) や HP の <span class="quote">「<span class="quote">Integrated Remote Assistant</span>」</span> (IRA) のテキストコンソールを含みます。 </p>
<p>グラフィカルブート画面をバイパスするため、テキストブートプロンプトを得るのに、見えない状態で <span class="keycap"><strong>Esc</strong></span> を押すか、(同様に見えない状態で) <span class="quote">「<span class="quote">H</span>」</span> に続いて <span class="keycap"><strong>Enter</strong></span> を押して、前述の <span class="quote">「<span class="quote">Help</span>」</span> オプションを選択できます。この後、キー入力をプロンプトに表示するようになるはずです。インストールの残りの作業で、インストーラがフレームバッファを使用しないようにするには、ヘルプテキストにあるように、ブートプロンプトに <strong class="userinput"><code>vga=normal fb=false</code></strong> を追加したくなるでしょう。 </p>
</td></tr>
</table></div>
<p>
</p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="graphical"></a>5.1.8. グラフィカルインストーラ</h3></div></div></div>
<p>グラフィカルバージョンのインストーラは <span class="phrase">64-bit PC</span> を含めた、限られたアーキテクチャでのみ利用できるようになっています。グラフィカルインストーラとテキストベースのインストーラは基本的に同一のプログラムを異なるフロントエンドと組み合わせているため、機能は本質的に同一です。 </p>
<p>機能は同等ではありますが、グラフィカルインストーラには大きな利点がいくつかあります。最大の利点はサポートしている言語が多いことで、つまりテキストベースの<span class="quote">「<span class="quote">newt</span>」</span>フロントエンドで表示できない文字セットを使える点です。使い勝手についてもマウスを使えるという選択肢や場合によっては複数の質問を1画面に表示できる等、いくつか利点があります。 </p>
<p>すべての CD/DVD イメージおよび hd-media によるインストール方法でグラフィカルインストーラを利用できます。グラフィカルインストーラのブートは関連するオプションをブートメニューから単に選択するだけです。グラフィカルインストーラの <span class="quote">「<span class="quote">Advanced options</span>」</span> メニューから Expert および rescue モードを選択できます。以前のブート方法 <strong class="userinput"><code>installgui</code></strong>、<strong class="userinput"><code>expertgui</code></strong>、<strong class="userinput"><code>rescuegui</code></strong> もブートプロンプトから使えます。これはブートメニューで <span class="quote">「<span class="quote">Help</span>」</span> オプションを選択すると表示されます。 </p>
<p>netboot 可能なグラフィカルインストーライメージもあります。また、特別な<span class="quote">「<span class="quote">mini</span>」</span>ISOイメージ<a href="#ftn.gtk-miniiso-x86" class="footnote" name="gtk-miniiso-x86"><sup class="footnote">[4]</sup></a>もあります。主にテスト向けに有用です。 </p>
<p>テキストベースのインストーラと全く同じように、グラフィカルインストーラの起動時にも起動パラメータを追加できます。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top">
<p>グラフィカルインストーラはテキストベースのインストーラと比べ、実行に著しく多くのメモリを必要とします (810MB)。十分なメモリを利用できない場合には、テキストベースの <span class="quote">「<span class="quote">newt</span>」</span> フロントエンドに自動的にフォールバックします。 </p>
<p>システムのメモリ量が 780MB に満たなければ、テキストベースのインストーラをブートした場合には機能したとしても、グラフィカルインストーラでは全くブートできないかもしれません。利用可能メモリの少ないシステムではテキストベースのインストーラの利用を勧めます。 </p>
</td></tr>
</table></div>
</div>
<div class="footnotes">
<br><hr width="100" align="left">
<div id="ftn.gtk-miniiso-x86" class="footnote"><p><a href="#gtk-miniiso-x86" class="para"><sup class="para">[4] </sup></a> mini ISOイメージは <a class="xref" href="ch04s02.html" title="4.2. Debian ミラーサイトからのファイルのダウンロード">「Debian ミラーサイトからのファイルのダウンロード」</a> で説明しているように Debian ミラーからダウンロードできます。<code class="filename">netboot/gtk/mini.iso</code> を探してみてください。</p></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch05.html"><img src="images/prev.png" alt="戻る"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch05.html"><img src="images/up.png" alt="上に戻る"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch05s02.html"><img src="images/next.png" alt="次へ"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">第5章 インストールシステムの起動 </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="ホーム"></a></td>
<td width="40%" align="right" valign="top"> 5.2. アクセシビリティ</td>
</tr>
</table>
</div>
</body>
</html>
