<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>6.3. それぞれのコンポーネントの使用法</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Debian GNU/Linux インストールガイド">
<link rel="up" href="ch06.html" title="第6章 Debian インストーラーの使用法">
<link rel="prev" href="ch06s02.html" title="6.2. コンポーネント入門">
<link rel="next" href="ch06s04.html" title="6.4. 見つからないファームウェアの読み込み">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">6.3. それぞれのコンポーネントの使用法</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch06s02.html"><img src="images/prev.png" alt="戻る"></a> </td>
<th width="60%" align="center">第6章 Debian インストーラーの使用法</th>
<td width="20%" align="right"> <a accesskey="n" href="ch06s04.html"><img src="images/next.png" alt="次へ"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="module-details"></a>6.3. それぞれのコンポーネントの使用法</h2></div></div></div>
<p>本節では、各インストーラーコンポーネントの詳細について述べていきます。コンポーネントは、ユーザーに認識できる段階へグループ化されました。それらは、install 中に現われる命令の形で示されます。すべてのモジュールを、インストール時に使用するとは限らない、ということに注意してください。どのモジュールを実際に使用するかは、使用するインストール法やハードウェアに左右されます。 </p>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-setup"></a>6.3.1. Debian インストーラーのセットアップとハードウェアの設定</h3></div></div></div>
<p>Debian インストーラーが起動して、最初の画面が表示されているとしましょう。このとき、<code class="classname">debian-installer</code> の機能はまだ制限されています。ハードウェア、希望する言語、実行するタスクなどに関しても、まだ知りません。しかし心配しないでください。<code class="classname">debian-installer</code> は非常に賢いので、ハードウェアの自動検出をしたり、コンポーネントの残りを見つけたり、高性能なインストールシステムに自分自身をアップグレードすることができます。しかし、(希望する言語、キーボードレイアウト、使用するネットワークミラーの選択のように) いくつかのタスクでは自動で決められませんので、<code class="classname">debian-installer</code> を助けてあげる必要があります。 </p>
<p>この段階で <code class="classname">debian-installer</code> が<em class="firstterm">ハードウェア検出</em>を数回行うことに気がつくことでしょう。最初の検出では、インストーラーのコンポーネントをロードするのに欠かせないハードウェア (例: CD-ROM ドライブやネットワークカード) を認識することが目標です。初回の実行ですべてのドライバが使用可能になるわけではないので、ハードウェア検出をこのプロセスの後で繰り返す必要があります。 </p>
<p>ハードウェア検出の間、<code class="classname">debian-installer</code> はシステムにあるハードウェアデバイスのドライバが、ファームウェアを読み込む必要があるかをチェックします。ファームウェアが必要なのに利用できない場合は、リムーバブルメディアから見つからないファームウェアを読み込むダイアログを表示します。詳細は <a class="xref" href="ch06s04.html" title="6.4. 見つからないファームウェアの読み込み">「見つからないファームウェアの読み込み」</a> をご覧ください。 </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="lowmem"></a>6.3.1.1. 利用可能なメモリのチェック / 低メモリモード</h4></div></div></div>
<p><code class="classname">debian-installer</code> がまず行うことの一つが、利用可能なメモリをチェックすることです。利用可能なメモリに制限がある場合、このコンポーネントは、システムに Debian GNU/Linux をインストールできるように、インストールプロセスにいくらかの変更を加えます。 </p>
<p>インストーラーで消費メモリを抑えるには、翻訳を無効にすることです。これは、英語でしかインストールできないと言うことでもあります。もちろん、インストール完了後に、インストールしたシステムを地域化することができます。 </p>
<p>これで充分でなければ、インストーラーは、基本的なインストールを完了するのに必須なコンポーネントのみを読み込み、メモリ消費をさらに抑えようとします。これはインストールシステムの機能を制限します。手動で機能を追加する手段を提供していますが、それによりさらにメモリを消費し、結果インストールに失敗する可能性を考慮する必要があります。 </p>
<p>インストーラーが低メモリモードで動作する場合、比較的大きな swap パーティション (64–128MB) を作成するのをお勧めします。swap パーティションは仮想メモリとして使用され、システムで利用できるメモリの量を増やします。インストーラーは、インストールプロセスで可能な限り早く swap を有効にします。swap を使用すると、ディスク負荷が増加し、システムのパフォーマンスが低下する事に注意してください。 </p>
<p>こういった措置にもかかわらず、まだシステムがフリーズしたり、予期しないエラーが発生したり、システムがメモリ範囲外で動作 (VT4 と syslog に <span class="quote">「<span class="quote">Out of memory</span>」</span> メッセージを出力) して、プロセスがカーネルに強制終了される可能性があります。 </p>
<p>例えば、swap スペースが不充分な場合、低メモリモードで大きな ext3 ファイルシステムを作成すると、エラーを報告します。swap をもっと大きくしてもだめな場合、ext2 (インストーラーの必須コンポーネント) で作成してください。ext2 パーティションをインストール後に ext3 に変更できます。 </p>
<p>インストーラーに <a class="xref" href="ch05s03.html#installer-args" title="5.3.2. Debian Installer パラメータ">「Debian Installer パラメータ」</a> で説明している <span class="quote">「<span class="quote">lowmem</span>」</span> ブートパラメータを使用すると、利用可能なメモリを元にした lowmem レベルよりも高いレベルにできます。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="localechooser"></a>6.3.1.2. 地域オプションの選択</h4></div></div></div>
<p>ほとんどの場合、最初の質問はインストール中とインストールしたシステム双方の、地域オプションの選択に関することです。地域オプションは、言語、場所、ロケールからなっています。 </p>
<p>異なるダイアログの翻訳が利用できるなら、選んだ言語をインストールプロセスの残りで使用できます。選択した言語で、有効な翻訳が利用できなければ、インストーラーは自動的に英語になります。 </p>
<p>選択した地理的位置 (ほとんどの場合で国) は、インストールプロセスの後半で、デフォルトのタイムゾーンの抽出と、その国に適切な Debian ミラーサイトの抽出に使用します。言語と国は、ともにシステムのデフォルトロケールの決定や、正しいキーボードレイアウトの選択を支援します。 </p>
<p>最初に好みの言語を選択することになります。言語名は英語 (左側) と原語 (右側) の両方で表示しています。右側の名称は、その言語そのもので書かれた表記です。このリストは英語名順に並んでいます。このリストの先頭には言語の代わりに <span class="quote">「<span class="quote">C</span>」</span> ロケールを選択する追加オプションもあります。<span class="quote">「<span class="quote">C</span>」</span> ロケールを選択するとインストールプロセスは英語で行われます。また、インストールしたシステムには <code class="classname">locales</code> パッケージがインストールされず、いずれの地域もサポートしません。 </p>
<p>次は地理的な場所を選択するよう求められます。言語選択時に、その言語が複数の国で公用語とされている場合<a href="#ftn.idm2018" class="footnote" name="idm2018"><sup class="footnote">[6]</sup></a>、その国だけのリストを表示します。そのリストにない国を選択する場合、<span class="guimenuitem">その他</span> (最後の選択肢) を選択してください。すると、大陸のリストを表示します。大陸を選択すると、関連する国のリストを表示します。 </p>
<p>言語に対して国がひとつしかない場合、国のリストには、その国が属する大陸か地域を表示し、その国をデフォルトで選択状態とします。別の大陸にある国を選択したければ、<span class="guibutton">Go Back</span> を選択してください。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>インストールしたシステムのタイムゾーンを設定するため、あなたが住む、ないし設置する国を選択することが重要です。 </p></td></tr>
</table></div>
<p>ロケールが定義されていない言語と国の組み合わせを選択して、その言語に複数のロケールが存在する場合、インストールしたシステムのデフォルトロケールを、その中から選ぶことになります<a href="#ftn.idm2026" class="footnote" name="idm2026"><sup class="footnote">[7]</sup></a>。そうでなければ、デフォルトロケールは選択した言語と国をもとに選択されます。 </p>
<p>前の段落で説明したように選択されたデフォルトロケールは、文字コードに <em class="firstterm">UTF-8</em> を使用します。 </p>
<p>優先度低でインストールしている場合、追加ロケール (いわゆる<span class="quote">「<span class="quote">レガシー</span>」</span>ロケール<a href="#ftn.idm2032" class="footnote" name="idm2032"><sup class="footnote">[8]</sup></a>を含む) を選択して、インストールしたシステム用に生成できます。この場合、選択したロケールの中からどれをデフォルトロケールにするか尋ねられます。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="kbd-chooser"></a>6.3.1.3. キーボード選択</h4></div></div></div>
<p>キーボードは、しばしば言語で使用する文字に合わされています。使用しているキーボードに一致するレイアウトを選択するか、希望のキーボードレイアウトが表示されなければ、近いものを選択してください。いったんシステムのインストールが完了すれば、もっと広い範囲からキーボードレイアウトを選ぶことができます (インストールが完了した後に、root で <span class="command"><strong>dpkg-reconfigure keyboard-configuration</strong></span> を 実行してください)。 </p>
<p>希望のキーボードにハイライトを移動させて、<span class="keycap"><strong>Enter</strong></span> を押してください。ハイライトの移動には矢印キーを使用してください。どの言語のキーボードでも同じ場所にあるため、キーボードの設定に依存しません。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="iso-scan"></a>6.3.1.4. Debian Installer iso イメージの検索</h4></div></div></div>
<p><span class="emphasis"><em>hd-media</em></span> でインストールを行う場合、インストールするファイルの残りを得るために、Debian Installer iso イメージを見つけてマウントする必要があるでしょう。<span class="command"><strong>iso-scan</strong></span> コンポーネントはその名の通り行います。 </p>
<p>初めに <span class="command"><strong>iso-scan</strong></span> は、既知のファイルシステムがあるブロックデバイス (例えばパーティションや論理ボリューム) を自動的にすべてマウントし、<code class="filename">.iso</code> (もっと言えば <code class="filename">.ISO</code>) で終わるファイル名を順番に検索します。初回の試行でルートディレクトリ中、およびそのサブディレクトリ内しか検索しないことに注意してください (つまり <code class="filename">/<em class="replaceable"><code>whatever</code></em>.iso</code> や <code class="filename">/data/<em class="replaceable"><code>whatever</code></em>.iso</code> を検出しますが、<code class="filename">/data/tmp/<em class="replaceable"><code>whatever</code></em>.iso</code> は検出しないということです)。iso イメージの検出後、<span class="command"><strong>iso-scan</strong></span> は、そのイメージが有効な Debian iso イメージであるか否かを決定するため、その内容をチェックします。前者の場合は完了しますが、後者の場合 <span class="command"><strong>iso-scan</strong></span> は別のイメージを探します。 </p>
<p>インストーラー iso イメージを探す試行が失敗する場合、<span class="command"><strong>iso-scan</strong></span> はより徹底的に検索するか確認します。このパスは最上位のディレクトリのみ調査しませんが、実際にファイルシステム全体を全探索します。 </p>
<p><span class="command"><strong>iso-scan</strong></span> がインストーラー iso イメージを検出しない場合、元の OS を起動し直して、イメージが (<code class="filename">.iso</code> で終わる) 正しい名前になっているか、<code class="classname">debian-installer</code> が認識できるファイルシステムに配置しているか、(チェックサムを検証して) 壊れていないかチェックしてください。Unix の経験があるユーザーは、再起動せずに第 2 コンソール上でチェックできます。 </p>
<p>ISO イメージをホストするパーティション (またはディスク) はインストーラーで利用されているので、インストールプロセス中に再利用できない点にご注意ください。これの回避策としては、十分なシステムメモリがある場合ですが、インストーラーが ISO イメージをマウントする前に RAM にコピーできます。これは low priority の <code class="literal">iso-scan/copy_iso_to_ram</code> debconf 設定で管理されています (メモリ要件が合致した場合のみ尋ねられます)。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="netcfg"></a>6.3.1.5. ネットワークの設定</h4></div></div></div>
<p>このステップに入って、ネットワークデバイスが 1 つ以上あることをシステムが検出すると、どのデバイスを <span class="emphasis"><em>主要</em></span> (つまりインストールに使用する) ネットワークインターフェースとするか質問されます。その他のインターフェースはここでは設定しません。インストールが完了したところで、さらにインターフェースを設定できるでしょう。<span class="citerefentry"><span class="refentrytitle">interfaces</span>(5)</span> man ページを参照してください。 </p>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="netcfg-automatic"></a>6.3.1.5.1. 自動ネットワーク設定</h5></div></div></div>
<p>デフォルトでは、<code class="classname">debian-installer</code> はコンピュータのネットワークを、可能な限り自動的に設定しようとします。自動設定に失敗した場合、ネットワークケーブルが繋がっていないことから、自動設定用のインフラが見つからないことまで、幅広い原因が考えられます。エラー発生時に何が起きたかを確認するには、4 番目のコンソールに表示するエラーメッセージをチェックしてください。いずれの場合も、再実行するか、手動設定を実行するか、を質問されます。自動設定に使用するネットワークサービスは、時にそのレスポンスが遅いことがあります。そのため、適切な場所にあるかどうか確認してから、自動設定を再実行してください。繰り返し自動設定に失敗する場合、手動でネットワークの設定を行なってください。 </p>
</div>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="netcfg-manual"></a>6.3.1.5.2. 手動ネットワーク設定</h5></div></div></div>
<p>ネットワークの手動設定では、ネットワークについて、いくつか質問をしてきます。特に、<code class="computeroutput">IP アドレス</code>、<code class="computeroutput">ネットマスク</code>、<code class="computeroutput">ゲートウェイ</code>、<code class="computeroutput">ネームサーバーのアドレス</code>、<code class="computeroutput">ホスト名</code> について質問します。さらに、無線ネットワークインターフェースがあるなら、<code class="computeroutput">無線 ESSID</code> (<span class="quote">「<span class="quote">無線ネットワーク名</span>」</span>) と <code class="computeroutput">WEP キー</code> や、<code class="computeroutput">WPA/WPA2 パスフレーズ</code> を質問します。<a class="xref" href="ch03s03.html" title="3.3. 必要な情報">「必要な情報」</a> より回答を入力してください。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>わかりやすいかどうかはともかく、技術的詳細は以下のようになります。このプログラムは、システムの IP アドレスとネットマスクのビット積を、ネットワーク IP アドレスとします。デフォルトのブロードキャストアドレスは、システムの IP アドレスと、ネットマスクのビット否定とのビット和から計算します。同様にゲートウェイも推測します。どのような値を設定するのかよくわからなければ、デフォルト値を使用してください。一度システムをインストールした後で、必要に応じて <code class="filename">/etc/network/interfaces</code> を編集して変更できます。 </p></td></tr>
</table></div>
</div>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="netcfg-ipv4-ipv6"></a>6.3.1.5.3. IPv4 と IPv6</h5></div></div></div>
<p>Debian GNU/Linux 7.0 (<span class="quote">「<span class="quote">Wheezy</span>」</span>) 以降から、<code class="classname">debian-installer</code> は IPv6 を <span class="quote">「<span class="quote">クラシックな</span>」</span> IPv4 と同様にサポートしています。IPv4 と IPv6 のすべての組み合わせ (IPv4 のみ、IPv6 のみ、デュアルスタック構成) をサポートします。 </p>
<p>IPv4 の自動設定は、DHCP (ダイナミックホストコンフィギュレーションプロトコル) を用いて行います。IPV6 の自動設定は、NDP (リカーシブDNSサーバー (RDNSS) の任務に含まれる近隣者発見プロトコル) を用いたステートレス自動設定と、DHCPv6 を用いたステートフル自動設定、ステートレス・ステートフル混合 (アドレスの設定を NDPで、追加パラメータを DHCPv6 で行う) 自動設定をサポートします。 </p>
</div>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-user-setup"></a>6.3.2. ユーザーとパスワードのセットアップ</h3></div></div></div>
<p>クロックの設定直前に、インストーラーは <span class="quote">「<span class="quote">root</span>」</span> アカウントや、最初のユーザーアカウントのセットアップを行います。その他のユーザーアカウントは、インストール完了後に作成してください。 </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="user-setup-root"></a>6.3.2.1. root パスワードの設定</h4></div></div></div>
<p><span class="emphasis"><em>root</em></span> アカウントは、ログインするとシステムのすべてのセキュリティ保護をバイパスしてしまうので、<span class="emphasis"><em>スーパーユーザー</em></span>とも呼ばれています。root アカウントはシステム管理のみに使用し、可能な限り短時間使用するのみにすべきです。 </p>
<p>作成するパスワードは、少なくとも 6 文字以上で、大文字小文字、カンマやピリオドを混ぜるべきです。root パスワードを設定するときには、強力なアカウント故に特別注意を払ってください。辞書にある単語や推測される個人情報を使用するのは避けてください。 </p>
<p>誰であっても、root パスワードが必要だと言う人がいる場合には、殊更に用心してください。他のシステム管理者と共に機械の管理をしているのでなければ、root パスワードを教える必要は、通常決してありません。 </p>
<p>ここで <span class="quote">「<span class="quote">root</span>」</span> ユーザーのパスワードを指定しなかった場合ですが、このアカウントは無効になりますが、新しいシステム上で管理作業が実施できるよう、後ほど <span class="command"><strong>sudo</strong></span> パッケージがインストールされます。デフォルトでは、システムで作成された最初のユーザーが root になるのに <span class="command"><strong>sudo</strong></span> コマンドを使えます。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="make-normal-user"></a>6.3.2.2. 一般ユーザーの作成</h4></div></div></div>
<p>システムは、この時点で一般ユーザーアカウントを作成するかどうか質問します。このアカウントを、個人でログインする場合のメインアカウントにするべきでしょう。root アカウントを日常的に使用したり、個人的な用途でログインするべきでは<span class="emphasis"><em>ありません</em></span>。 </p>
<p>なぜいけないのでしょう? root 権限を使用しないようにする理由のひとつは、root により簡単に取り返しのつかない損害を与えられるということです。他には、だまされて<span class="emphasis"><em>トロイの木馬</em></span> (あなたに隠れ、スーパーユーザー権限を利用してシステムに感染するプログラム) を動かしてしまうということもあり得ます。UNIX システム管理に関するいずれの良書でも、この件に関して詳細に扱っています。今までご存じなければ、ご一読ください。 </p>
<p>まず初めに、ユーザーのフルネームの入力を求められます。次にユーザーアカウントの名前を求められます。一般的にファーストネームか、必要充分な名前に似た何かがデフォルトになります。最後にこのアカウントのパスワードを求められます。 </p>
<p>インストール後いつでも、別のアカウントを作成する場合は、<span class="command"><strong>adduser</strong></span> コマンドを使用してください。 </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="clock-setup"></a>6.3.3. 時計とタイムゾーンの設定</h3></div></div></div>
<p>インストーラーはまず、正しいシステム時計を設定するため、インターネットのタイムサーバーに (<em class="firstterm">NTP</em> プロトコルを利用して) 接続しようとします。これが成功しない場合、インストールシステムが起動したときのシステム時計を正しいと見なします。インストールプロセス中に、手動でシステム時計を設定することはできません。 </p>
<p>インストール処理のはじめの方で選択した所在地をもとに、その場所に関連するタイムゾーンの一覧を表示します。あなたの所在地にタイムゾーンがひとつしかなく、デフォルトインストールを行っている場合、システムは一覧を表示せず、そのタイムゾーンであると仮定します。 </p>
<p>エキスパートモードや優先度中でインストールしている場合、タイムゾーンに<span class="quote">「<span class="quote">協定世界時</span>」</span> (UTC) を使用する、という選択肢が追加されます。 </p>
<p>何らかの理由で、インストールしたシステムのタイムゾーンを、選択した場所とは<span class="emphasis"><em>異なる</em></span>ものにしたい場合は、2 つの選択肢があります。 </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<p>シンプルな方法は、インストールが完了し、新しいシステムが起動した後で、異なるタイムゾーンを選択することです。以下のようなコマンドになります。 </p>
<div class="informalexample"><pre class="screen"># dpkg-reconfigure tzdata
</pre></div>
<p>

</p>
</li>
<li class="listitem"><p>その他には、インストールシステムの起動時に、パラメータ <strong class="userinput"><code>time/zone=<em class="replaceable"><code>value</code></em></code></strong> を渡すと、インストールの最初からタイムゾーンを設定できます。もちろん値は妥当なタイムゾーン (例えば <strong class="userinput"><code>Europe/London</code></strong> や <strong class="userinput"><code>UTC</code></strong>) であるべきです。 </p></li>
</ol></div>
<p>自動インストール用に、preseed を用いて、タイムゾーンをお好みの値に設定できます。 </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-partition"></a>6.3.4. パーティションの分割とマウントポイントの選択</h3></div></div></div>
<p>最後のハードウェア検出が完了した時点で、<code class="classname">debian-installer</code> はユーザーのニーズ通りにカスタマイズされ、実際の作業ができるような、準備万端の状態にあります。本節のタイトルが表すように、以下、少数のコンポーネントの主なタスクは、ディスクのパーティションを分割し、ファイルシステムを作成し、マウントポイントを割り当てて、LVM や RAID、暗号化デバイスのような密接に関係する件のオプション設定を行うことです。 </p>
<p>パーティション分割に不安があったり、詳細を知りたければ、<a class="xref" href="apc.html" title="付録C Debian でのパーティション分割">付録C <i>Debian でのパーティション分割</i></a> をご覧ください。 </p>
<p>最初に、ドライブのすべてか、またはドライブの有効な空き領域を、自動的にパーティション分割するか選択する機会が与えられます。これを<span class="quote">「<span class="quote">ガイド</span>」</span>パーティション分割とも呼びます。自動分割を望まなければ、<span class="guimenuitem">手動</span> を選んでください。 </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-fs"></a>6.3.4.1. サポートするパーティション分割オプション</h4></div></div></div>
<p><code class="classname">debian-installer</code> で使用するパーティション分割ツールは、かなり万能です。これにより、さまざまなパーティションテーブル、ファイルシステム、高度ブロックデバイスを用いて、たくさんの異なるパーティション構成を作成できます。 </p>
<p>厳密に、どのオプションが利用できるかは、主にアーキテクチャに依存しますが、その他の要因もあります。例えば、内部メモリが制限されたシステムでは、いくつかのオプションは使用できないでしょう。さらにデフォルトも変わるかもしれません。例えば、大容量ハードディスクに対する、デフォルトのパーティションテーブルのタイプは、より小さいハードディスクのものと異なっている場合があります。debconf 優先度が中ないし低でインストールしているときのみ、いくつかのオプションを変更できます。もっと高い優先度の場合は、実用的な値がデフォルトで使用されます。 </p>
<p>インストーラーは、さまざまな形の高度なパーティションやストレージデバイスを (ほとんどの場合組み合わせて)、サポートします。 </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
    <span class="emphasis"><em>論理ボリュームマネージメント</em></span>
  </p></li>
<li class="listitem">
<p>
    <span class="emphasis"><em>ソフトウェア RAID</em></span>
  </p>
<p>サポートしている RAID レベルは 0, 1, 4, 5, 6, 10 です。 </p>
</li>
<li class="listitem"><p>
    <span class="emphasis"><em>暗号化</em></span>
  </p></li>
<li class="listitem">
<p><span class="emphasis"><em>シリアル ATA RAID</em></span> (<code class="classname">dmraid</code> を利用) </p>
<p><span class="quote">「<span class="quote">fake RAID</span>」</span> や <span class="quote">「<span class="quote">BIOS RAID</span>」</span> とも呼ばれます。現在のところ、シリアル ATA RAID はインストーラー起動時に有効にした場合にのみ利用できます。詳細情報が <a class="ulink" href="https://wiki.debian.org/DebianInstaller/SataRaid" target="_top">私たちの Wiki</a> にあります。 </p>
</li>
<li class="listitem">
<p><span class="emphasis"><em>マルチパス</em></span> (実験的) </p>
<p>情報は <a class="ulink" href="https://wiki.debian.org/DebianInstaller/MultipathSupport" target="_top">私たちの Wiki</a> をご覧ください。現在のところ、マルチパスはインストーラー起動時に有効にした場合にのみ利用できます。 </p>
</li>
</ul></div>
<p>

</p>
<p>以下のファイルシステムをサポートしています。 </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p> <span class="emphasis"><em>ext2</em></span>、<span class="phrase"><span class="emphasis"><em>ext3</em></span>、</span> <span class="phrase"><span class="emphasis"><em>ext4</em></span></span> </p>
<p>ほとんどの場合、デフォルトのファイルシステムに ext4 が選択されています。ガイドパーティション分割を使用する際、<code class="filename">/boot</code> パーティションのデフォルトには ext2 が選択されます。 </p>
</li>
<li class="listitem"><p><span class="emphasis"><em>jfs</em></span> (全アーキテクチャで使用できるわけではありません) </p></li>
<li class="listitem"><p><span class="emphasis"><em>xfs</em></span> (全アーキテクチャで使用できるわけではありません) </p></li>
<li class="listitem">
<p><span class="emphasis"><em>reiserfs</em></span> (オプション。全アーキテクチャで使用できるわけではありません) </p>
<p>Reiser ファイルシステムは、もはやデフォルトではサポートされません。インストーラが、中ないし低 debconf 優先度で動作させると、<code class="classname">partman-reiserfs</code> コンポーネントを選択して有効にできます。バージョン 3 のみサポートします。 </p>
</li>
<li class="listitem">
<p>
    <span class="emphasis"><em>qnx4</em></span>
  </p>
<p>既存のパーティションを認識し、マウントポイントを割り当てられます。新しい qnx4 パーティションは作成できません。 </p>
</li>
<li class="listitem"><p><span class="emphasis"><em>FAT16</em></span>, <span class="emphasis"><em>FAT32</em></span> </p></li>
<li class="listitem">
<p><span class="emphasis"><em>NTFS</em></span> (読み込み専用) </p>
<p>既存の NTFS パーティションのサイズ変更とマウントポイントの割り当てができます。新しい NTFS パーティションは作成できません。 </p>
</li>
</ul></div>
<p>

</p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-auto"></a>6.3.4.2. ガイドパーティション分割</h4></div></div></div>
<p>ガイドパーティション分割を選択した場合、選択肢が 3 つあります。ハードディスクに直接パーティションを作成する (クラシック) 方法、論理ボリューム管理 (LVM) を利用する方法、暗号化 LVM<a href="#ftn.idm2220" class="footnote" name="idm2220"><sup class="footnote">[9]</sup></a> を利用する方法です。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>(暗号化 LVM を含む) LVM を使用する方法は、すべてのアーキテクチャで使用できるわけではありません。 </p></td></tr>
</table></div>
<p>LVM や 暗号化 LVM を使用する場合、インストーラーが作成するほとんどのパーティションを、大きなパーティションの中に作成します。この利点は、大きなパーティションの中にあるパーティションを、後から簡単に大きさを変更できることです。暗号化 LVM の場合、特殊なキーフレーズを知らずに大きなパーティションを読むことができません。そのため、あなたの (個人) データにさらなるセキュリティを提供します。 </p>
<p>暗号化 LVM を利用する場合、インストーラーは、自動的にランダムなデータを書き込んでディスクを消去します。この機能は、(ディスクの使用中の領域を分からなくし、以前インストールしていたものの痕跡を消去して) セキュリティを向上しますが、ディスクのサイズにより、時間がかかることがあります。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>LVM や 暗号化 LVM を使用してガイドパーティション分割を選択した場合、パーティションテーブルへの変更は、LVM のセットアップで選択したディスクに書き込まれる必要があります。この変更によって、選択したハードディスクの現在のデータはすべて消去され、後で元に戻すことができなくなります。しかし、ディスクに書き込む前に、インストーラーは変更してよいか確認してきます。 </p></td></tr>
</table></div>
<p>ディスク全体に対してガイドパーティション分割を選択した場合<span class="phrase"> (クラシックでも (暗号化) LVMでも)</span>、まずはじめに、選択したディスクを使用してよいか尋ねられます。複数ディスクがある場合、すべてのディスクが一覧され、正しいものが選択されていることを確認してください。表示順は、普段使っているものと違う可能性があります。ディスクサイズを確認の手がかりにしてください。 </p>
<p>ここでついに、ディスクのすべてのデータが失われますが、ディスクに書き込む前に変更してよいか、必ず確認してきます。<span class="phrase">パーティション分割にクラシック法を選択した場合は、終了する前に元に戻せますが、(暗号化) LVM を使用する場合は元に戻せません。</span> </p>
<p>次に、以下の表から分割案を選択できます。どの案でも賛否両論あり、<a class="xref" href="apc.html" title="付録C Debian でのパーティション分割">付録C <i>Debian でのパーティション分割</i></a> で議論されています。よくわからなければ、最初の項目を選択してください。ガイドパーティション分割は、最低限動作する空き領域が必要なことを、心に留めておいてください。少なくとも 1GB の空き領域 (選択した方法に依存します) がなければ、ガイドパーティション分割は失敗してしまいます。 </p>
<div class="informaltable"><table class="informaltable" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>パーティション分割方法</th>
<th>最低容量</th>
<th>作成するパーティション</th>
</tr></thead>
<tbody>
<tr>
<td>All files in one partition</td>
<td>600MB</td>
<td>
<code class="filename">/</code>, swap</td>
</tr>
<tr>
<td>Separate /home partition</td>
<td>500MB</td>
<td>
<code class="filename">/</code>, <code class="filename">/home</code>, swap </td>
</tr>
<tr>
<td>Separate /home, /var and /tmp partitions</td>
<td>1GB</td>
<td>
<code class="filename">/</code>, <code class="filename">/home</code>, <code class="filename">/var</code>, <code class="filename">/tmp</code>, swap </td>
</tr>
</tbody>
</table></div>
<p>(暗号化) LVM を利用するガイドパーティション分割を行うと決めた場合、インストーラは独立した <code class="filename">/boot</code> パーティションも作成します。スワップパーティションを含むその他のパーティションは、LVM パーティションの内部に作成します。 </p>
<p>EFI モードでブートした場合、ガイドパーティション分割に EFI ブートローダ用に FAT32 の起動可能ファイルシステムでフォーマットされた追加パーティションがあるはずです。このパーティションは EFI システムパーティション (ESP) とも呼ばれます。手動で ESP としてパーティションをセットアップするよう、フォーマットメニューに追加メニュー項目があります。 </p>
<p>分割案を選択後、新しいパーティションテーブルが次の画面に表示されます。ここでは、パーティションがどのようにフォーマットされるか、どこにマウントされるかといった情報が含まれています。 </p>
<p>パーティション一覧は以下のようになります。</p>
<div class="informalexample"><pre class="screen">
  SCSI1 (0,0,0) (sda) - 6.4 GB WDC AC36400L
        #1 primary   16.4 MB  B f ext2       /boot
        #2 primary  551.0 MB      swap       swap
        #3 primary    5.8 GB      ntfs
           pri/log    8.2 MB      FREE SPACE

  SCSI2 (1,0,0) (sdb) - 80.0 GB ST380021A
        #1 primary   15.9 MB      ext3
        #2 primary  996.0 MB      fat16
        #3 primary    3.9 GB      xfs        /home
        #5 logical    6.0 GB    f ext4       /
        #6 logical    1.0 GB    f ext3       /var
        #7 logical  498.8 MB      ext3
</pre></div>
<p> この例では、2 つの ハードディスクを、いくつかのパーティションに分割しています。第 1 ディスクには空き領域がいくらかあります。パーティション行ごとに、パーティション番号、パーティションタイプ、サイズ、追加フラグ、ファイルシステム、マウントポイントを (あれば) 表示しています。注意: こういった詳細なセットアップはガイドパーティション分割では行えませんが、手動パーティション分割で使用できる変化を示します。 </p>
<p>これでガイドパーティション分割を終えます。生成されたパーティションテーブルでよければ、(本節の最後に書かれているように) 新しいパーティションテーブルを反映するよう、<span class="guimenuitem">パーティショニングの終了とディスクへの変更の書き込み</span> をメニューから選べます。そうでなければ、もう一度ガイドパーティション分割をしたり、以下に述べる手動パーティション分割で提案する変更を修正するのに <span class="guimenuitem">パーティションへの変更を元に戻す</span> を選択し、ガイドパーティション分割を再実行してください。または、以下に述べる手動パーティション分割で修正してください。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-manual"></a>6.3.4.3. 手動パーティション分割</h4></div></div></div>
<p>手動パーティション分割を選択すると、既存のパーティションテーブルがマウントポイントなしで表示されるのを除き、前述と同様の画面が表示されます。パーティションテーブルの手動セットアップの方法と、新しい Debian システムでのパーティションの使用法については、本節の残りで扱います。 </p>
<p>パーティションも空き領域もない、素のハードディスクを選択すると、新しいパーティションテーブルを作成するか確認されます (新しいパーティションを作成するのに必要)。すると選択したディスクのパーティションテーブルに、<span class="quote">「<span class="quote">FREE SPACE</span>」</span> (空き領域) という新しい行が現れます。 </p>
<p>空き領域を選択すると、新しいパーティションを作成できるようになります。サイズやタイプ (基本か論理か)、場所 (空き領域の先頭からか最後からか) といった、一連の簡単な質問に答えなければなりません。この後、新しいパーティションの詳細な概要が得られます。主な設定は、ファイルシステムがパーティションにある場合、スワップ<span class="phrase">、ソフトウェア RAID、LVM、暗号化ファイルシステム</span>として使うか、全く使わないかを決定する <span class="guimenuitem">利用方法:</span> です。その他には、マウントポイントやマウントオプション、起動フラグといったパーティションの使用法に依存した設定があります。あらかじめ選択されたデフォルト値が気に入らなければ、自由にお好みのものへと変更してください。例えば、オプション <span class="guimenuitem">利用方法:</span> を選択すると、スワップ、<span class="phrase">ソフトウェア RAID、LVM、</span>またそれ以外のファイルシステムに、このパーティションを変更できます。新しいパーティションに満足したら、<span class="guimenuitem">パーティションのセットアップを終了</span> を選択して、<span class="command"><strong>partman</strong></span> のメイン画面に戻ってください。 </p>
<p>パーティションに対して変更を加えたい場合は、単にそのパーティションを選択して下さい。パーティションの設定メニューに入れます。新しいパーティションを作成する際に使用するのと同じ画面ですので、同様に設定を変更できます。一見わかりづらいのは、表示されているパーティションのサイズを選択して、サイズ変更ができることです。動作することがわかっているファイルシステムは、少なくとも fat16, fat32, ext2, ext3, swap です。このメニューではパーティションを削除することもできます。 </p>
<p>少なくとも 2 つのパーティションを必ず作成してください。1 つは <span class="emphasis"><em>swap</em></span> で、もう 1 つは (<code class="filename">/</code> にマウントする) <span class="emphasis"><em>ルート</em></span>ファイルシステムです。ルートファイルシステムをマウントし忘れると、この問題を修正するまで <span class="command"><strong>partman</strong></span> は先に進みません。 </p>
<p>EFI システムパーティションをフォーマットし忘れた場合は、<span class="command"><strong>partman</strong></span> がそれを検出し、行うまで先に進むことができません。 </p>
<p><span class="command"><strong>partman</strong></span> の機能は、インストーラーモジュールで拡張できますが、システムのアーキテクチャに依存します。あるはずの機能を確認できなければ、すべての必要なモジュールが読み込まれているか確認してください。(例: <code class="filename">partman-ext3</code>, <code class="filename">partman-xfs</code>, <code class="filename">partman-lvm</code>) </p>
<p>パーティション分割に満足したら、パーティション分割メニューから <span class="guimenuitem">パーティショニングの終了とディスクへの変更の書き込み</span> を選択してください。ディスクに行われる変更内容が表示され、その通りファイルシステムを作成するかどうか確認することになります。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-md"></a>6.3.4.4. マルチディスクデバイス (ソフトウェア RAID) の設定</h4></div></div></div>
<p>コンピュータに複数ハードディスクドライブがある<a href="#ftn.idm2302" class="footnote" name="idm2302"><sup class="footnote">[10]</sup></a>なら、ドライブのパフォーマンスの向上やデータの信頼性向上のために <span class="command"><strong>partman-md</strong></span> を使用できます。この結果を <em class="firstterm">マルチディスクデバイス</em> (<em class="firstterm">ソフトウェア RAID</em> の方が有名) と呼びます。 </p>
<p>MD は基本的に別のディスクにあるパーティションを束ねて、<span class="emphasis"><em>論理</em></span> デバイスの形に結合したものです。このデバイスは通常のパーティション (例: <span class="command"><strong>partman</strong></span> でフォーマットでき、マウントポイントに割り当てられる等) と同様に使用できます。 </p>
<p>どんな恩恵を受けるかは、作成する MD デバイスの種類に依存します。現在、以下をサポートしています。</p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term">RAID0</span></dt>
<dd>
<p> RAID0 はパフォーマンスに主眼をおいています。RAID0 は全入力データを <em class="firstterm">stripes</em> へ分割し、均等にディスクアレイの各ディスクに分配します。これにより、読み取り・書き込みの処理速度を向上できますが、ディスクのうちの 1 つが破損したら、<span class="emphasis"><em>すべて</em></span>を失ってしまいます。(情報の一部は正常なディスク上にありますが、他の部分は<span class="emphasis"><em>破損したディスク上にある</em></span>からです) </p>
<p>RAID0 の典型的な使用法は映像編集用のパーティションです。</p>
</dd>
<dt><span class="term">RAID1</span></dt>
<dd>
<p>信頼性第一である場合、RAID1 を構成するとよいでしょう。全パーティションが正確に同じデータを含むような、いくつかの (たいてい 2 つ) 等しいサイズのパーティションから成ります。これは本質的に 3 つのことを意味します。まずディスクの 1 つが破損した場合、残ったディスクにデータミラーが残ります。次に利用可能領域の断片だけの使用もできます。(もっと正確には、RAID で構成する最小のパーティションサイズとなります) 第 3 に、ディスクからのファイルの読み込みをロードバランスする事ができます。これにより、ファイルサーバーのような、書き込みより読み込みの方が負荷が高くなる傾向のあるサーバーのパフォーマンスを改善できます。</p>
<p>破損した場合に、任意に予備ディスクを破損したディスクの代わりに、ディスクアレイにつけることができます。</p>
</dd>
<dt><span class="term">RAID5</span></dt>
<dd>
<p>RAID5 は速度と信頼性、データの冗長性をうまく折衷しています。RAID5 はストライプへ入力するデータをすべて分割し、1 つ以外の全ディスクに (RAID0 のように) 等しく分配します。RAID0 と違い、RAID5 は (残りのディスクに書かれている) <em class="firstterm">パリティ</em>情報も計算します。パリティディスクは静的 (これを RAID4 と呼ぶ) ではありません。(定期的に変更され) パリティ情報を全ディスクに等しく分配します。あるディスクが故障した場合、情報の失った部分は残ったディスクとそのパリティから計算されます。RAID5 は少なくとも 3 つのアクティブなパーティションから成ります。故障した場合に、任意でディスクアレイ中の故障したディスクの箇所に予備のディスクをセットできます。</p>
<p>おわかりのように、RAID5 は RAID1 より冗長性が少なく、同程度の信頼性を持ちます。一方、パリティ情報を計算するため、RAID0 より書き込み操作が少し遅いかもしれません。</p>
</dd>
<dt><span class="term">RAID6</span></dt>
<dd>
<p> RAID6 はパリティデバイスが 1 つではなく 2 つであるという点を除き、RAID5 と似ています。</p>
<p>RAID6 アレイは、2 つのディスクが故障するまで存続できます。</p>
</dd>
<dt><span class="term">RAID10</span></dt>
<dd>
<p>RAID10 はストライピング (RAID0) とミラーリング (RAID1) を組み合わせたものです。格納データの <em class="replaceable"><code>n</code></em> 個のコピーを作成し、パーティションをまたがって分配するため、同じデバイスに同じデータを格納することはありません。<em class="replaceable"><code>n</code></em> のデフォルト値は 2 ですが、エキスパートモードで別の値を設定できます。使用するパーティションの数は、少なくとも <em class="replaceable"><code>n</code></em> 個必要です。RAID10 はコピーを分配するために、様々なレイアウトを用意しています。デフォルトは near コピーです。near コピーは、全ディスクにおいて同一のオフセットで全てのコピーを分配します。far コピーは、全ディスクにおいて異なるオフセットで全てのコピーを分配します。offset コピーは、個々のコピーではなく、ストライピングしたものをコピーします。</p>
<p>RAID10 はパリティを計算するという難点を回避しつつ、信頼性と冗長性を確保するのに使用できます。</p>
</dd>
</dl></div>
<p> まとめると以下のようになります。 </p>
<div class="informaltable"><table class="informaltable" border="1">
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>タイプ</th>
<th>デバイス最小構成数</th>
<th>予備デバイス</th>
<th>ディスク破損に耐えるか?</th>
<th>利用可能領域</th>
</tr></thead>
<tbody>
<tr>
<td>RAID0</td>
<td>2</td>
<td>no</td>
<td>no</td>
<td>RAID にある最小パーティションのサイズ×デバイス数</td>
</tr>
<tr>
<td>RAID1</td>
<td>2</td>
<td>任意</td>
<td>yes</td>
<td>RAID にある最小パーティションのサイズ</td>
</tr>
<tr>
<td>RAID5</td>
<td>3</td>
<td>任意</td>
<td>yes</td>
<td>RAID にある最小パーティションのサイズ×(デバイス数 - 1) </td>
</tr>
<tr>
<td>RAID6</td>
<td>4</td>
<td>任意</td>
<td>yes</td>
<td>最小パーティションのサイズ×(RAID にあるデバイス数 - 2) </td>
</tr>
<tr>
<td>RAID10</td>
<td>2</td>
<td>任意</td>
<td>yes</td>
<td>全パーティションサイズ÷チャンクのコピー数 (デフォルトは 2) </td>
</tr>
</tbody>
</table></div>
<p>

</p>
<p>ソフトウェア RAID に関して、もっと知りたい場合は <a class="ulink" href="http://www.tldp.org/HOWTO/Software-RAID-HOWTO.html" target="_top">Software RAID HOWTO</a> をご覧ください。 </p>
<p>MD デバイスを作成するには、RAID で使うための (これは <span class="guimenu">利用方法:</span> → <span class="guimenuitem">RAID の物理ボリューム</span> を選択して出てくる、<span class="guimenu">パーティション設定</span> メニューの <span class="command"><strong>partman</strong></span> で行えます) </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>計画しているパーティション分割方式で、システムがブートできることを確認してください。通常、ルート (<code class="filename">/</code>) ファイルシステムに RAID を使用する際には、<code class="filename">/boot</code> を独立したファイルシステムにする必要があります。ほとんどのブートローダ<span class="phrase"> (grub など) </span>は、ミラーリングした (ストライピングではなく!) RAID1 をサポートしています。そのため、<code class="filename">/</code> に RAID5 を用い、<code class="filename">/boot</code> に RAID1 を用いる例が選択したり得ます。 </p></td></tr>
</table></div>
<p>次にメインの <span class="command"><strong>partman</strong></span> メニューから <span class="guimenuitem">ソフトウェア RAID の設定</span> を選んでください。(このメニューは、少なくともパーティションをひとつ <span class="guimenuitem">RAID の物理ボリューム</span> としてマークしないと表示されません) <span class="command"><strong>partman-md</strong></span> の最初の画面では、単に <span class="guimenuitem">MD デバイスの作成</span> を選択してください。サポートされる MD デバイスのリストも提供されます。この中から 1 つ (例: RAID1) を選択してください。その後は選択した MD デバイスに依存します。 </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>RAID0 は単純です。利用可能な RAID パーティションの一覧が提供されますので、単に MD にするパーティションを選択してください。 </p></li>
<li class="listitem"><p>RAID1 は少しトリッキーです。まず MD にするアクティブなデバイスの数、スペアデバイスの数を入力します。次に利用可能な RAID パーティションの一覧からアクティブのもの、次にスペアのものを選ぶ必要があります。選択したパーティションの数と先ほど入力した数は一致しなければなりません。心配しないでください。間違って違う数のパーティションを選択した場合、<code class="classname">debian-installer</code> は問題を修正するまで、先に進ませません。 </p></li>
<li class="listitem"><p>RAID5 では、少なくとも <span class="emphasis"><em>3 つ</em></span>のアクティブパーティションを使用する必要があるという例外を除き、RAID1 と同様のセットアップ手順を行います。 </p></li>
<li class="listitem"><p>RAID6 では、少なくとも <span class="emphasis"><em>4 つ</em></span>のアクティブパーティションを使用する必要があるという例外を除き、RAID1 と同様のセットアップ手順を行います。 </p></li>
<li class="listitem"><p>RAID10 もまた、エキスパートモードであることを除き、RAID1 と同様のセットアップ手順を行います。エキスパートモードでは、<code class="classname">debian-installer</code> はレイアウトについて確認します。レイアウトは 2 段階に分かれています。第 1 段階はレイアウトタイプです。<code class="literal">n</code> (near コピー)、<code class="literal">f</code> (far コピー)、<code class="literal">o</code> (offset コピー) のどれかになります。第 2 段階はデータから作るコピーの数です。少なくとも、コピーをすべて異なるディスクに分配するには、たくさんのアクティブデバイスがなければなりません。 </p></li>
</ul></div>
<p>同時に数種の MD を持つことは完全に可能です。例えば、3 つの 200GB の MD 専用ドライブがあって、どれも 2 つの 100GB のパーティションに分かれている場合、3 つのドライブすべての最初のパーティションを RAID0 (高速な 300GB のビデオ編集パーティション) で結合でき、その他の 3 つのパーティション (アクティブ 2 基、スペア 1 基) を RAID1 (<code class="filename">/home</code> 用に信頼できる 100GB のパーティション) で結合できます。 </p>
<p>お好みの通りに MD デバイスの設定をした後で、<span class="guimenuitem">完了</span> <span class="command"><strong>partman-md</strong></span> として <span class="command"><strong>partman</strong></span> に戻れます。新しい MD デバイスにファイルシステムを作成し、マウントポイントなどの通常の属性を設定してください。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-lvm"></a>6.3.4.5. 論理ボリュームマネージャ (LVM) の設定</h4></div></div></div>
<p>システム管理者や<span class="quote">「<span class="quote">上級</span>」</span>ユーザーとしてコンピュータを動かしていると、ディスク内のあるパーティション (たいてい最も重要なもの) が足らなくなり、他のパーティションは全体的にあまり使用されていないという状況が確実にあります。このような場合は、内容を移動したりシンボリックリンクを張るといった管理を行うことになります。 </p>
<p>上記のような状況を避けるために、論理ボリュームマネージャ (LVM) を利用できます。簡単に言うと、LVM では複数のパーティション (LVM 用語で<em class="firstterm">物理ボリューム (physical volumes)</em>) を仮想ディスク (いわゆる<em class="firstterm">ボリュームグループ (volume group)</em>) の形に結合でき、このディスクを仮想パーティション (<em class="firstterm">論理ボリューム (logical volumes)</em>) に分割できます。ポイントは、論理ボリュームは (もちろんその下のボリュームグループも)、複数の物理ディスクをまたがって定義できると言うことです。 </p>
<p>例えば、古い 160GB の<code class="filename">/home</code> パーティションに、もっと容量を追加することを考えます。単にあなたは新しい 300GB のディスクをコンピュータに追加し、既存のボリュームグループに入れます。その後 <code class="filename">/home</code> ファイルシステムを保持したまま論理ボリュームをリサイズします。するとほら、パーティションが 460GB へと新品交換されたので、ユーザーの空き容量がすこしばかり増えたことになります。もちろんこの例は少し単純にしすぎです。まだ読んでいないようなら、<a class="ulink" href="http://www.tldp.org/HOWTO/LVM-HOWTO.html" target="_top">LVM HOWTO</a> を調べるべきです。 </p>
<p><code class="classname">debian-installer</code> での LVM のセットアップはかなりシンプルで、<span class="command"><strong>partman</strong></span> 内部で完全にサポートしています。始めに、パーティションを LVM の物理ボリュームとして使用するよう、マークをつけねばなりません。これは、<span class="guimenu">パーティション設定</span> メニューの <span class="command"><strong>partman</strong></span> 内で <span class="guimenu">利用方法:</span> → <span class="guimenuitem">LVM の物理ボリューム</span> を選ぶことで行います。 </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[警告]" src="images/warning.png"></td>
<th align="left">警告</th>
</tr>
<tr><td align="left" valign="top"><p>注意: 新規の LVM 設定は LVM タイプコードがマークされた全てのパーティション上の全データを破壊します。そのため、既にディスク上に LVM があってそのマシンへ Debian を追加インストールしたい場合、古い (既存の) LVM は消去されます! 同じことが (何らかの理由で) 誤って LVM タイプコードがマークされているものの、別のものが含まれている場合 (例えば暗号化ボリューム) のパーティションにも言えます。新たに LVM 設定を実施する前にその様なディスクをシステムから取り除きましょう! </p></td></tr>
</table></div>
<p>メインの <span class="command"><strong>partman</strong></span> 画面に戻ると、<span class="guimenuitem">論理ボリュームマネージャの設定</span> が新しく選択できるようになっています。これを選択すると、まず決定していないパーティションテーブルへの変更 (があれば) 確認を行い、その後 LVM 設定メニューを表示します。メニューの上部には LVM 設定の概要を表示します。メニュー自体はそのときに実行できる操作のみ表示します。行える操作は以下の通りです。 </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><span class="guimenuitem">設定の詳細表示</span>: LVM デバイスの構造、論理ボリュームの名称やサイズなどを表示します </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">ボリュームグループの作成</span>
  </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">論理ボリュームの作成</span>
  </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">ボリュームグループの削除</span>
  </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">論理ボリュームの削除</span>
  </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">ボリュームグループの拡張</span>
  </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">ボリュームグループの縮小</span>
  </p></li>
<li class="listitem"><p><span class="guimenuitem">完了</span>: メインの <span class="command"><strong>partman</strong></span> 画面に戻ります </p></li>
</ul></div>
<p>

</p>
<p>はじめにボリュームグループを作成し、その中に論理ボリュームを作成するのに、このメニューのオプションを使用してください。 </p>
<p>メインの <span class="command"><strong>partman</strong></span> 画面に戻ると、作成した論理ボリュームが通常のボリュームと同じように表示されています (そして同じように扱えます)。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-crypto"></a>6.3.4.6. 暗号化ボリュームの設定</h4></div></div></div>
<p><code class="classname">debian-installer</code> では暗号化パーティションを設定できます。暗号化パーティションに保存したファイルはすべて、暗号化した形で即座にデバイスに書き込まれます。暗号化したデータへのアクセスは、暗号化パーティションを作成した際に設定した <em class="firstterm">パスフレーズ</em> を入力した後で有効になります。この機能は、ノート PC やハードディスクが盗難に遭った際に、機密データを保護するのに便利です。盗人がハードディスクの物理データにアクセスしようとする際、正しいパスフレーズを知らないと、ハードディスクのデータはランダムな文字列にしか見えません。 </p>
<p>暗号化するのに最重要なパーティションが 2 つあります。個人的なデータを格納する home パーティションと、操作中に機密データを一時的に格納する swap パーティションです。もちろん、その他のパーティションの暗号化を妨げるものはなにもありません。たとえば、データベースサーバー、メールサーバー、プリンタサーバーがそれぞれファイルを格納する <code class="filename">/var</code> や、様々なプログラムが、潜在的に興味深い一時ファイルを作成する <code class="filename">/tmp</code> です。システム全体を暗号化したいと考える方もいます。一般にここで暗号化をしない方がよい唯一の例外パーティションは、<code class="filename">/boot</code> パーティションです。歴史的に、暗号化されたパーティションからカーネルを起動する方法がなかったためです。(GRUB は暗号化されたパーティションから起動できるようになりましたが、<code class="classname">debian-installer</code> は現在暗号化された <code class="filename">/boot</code> からの起動をネイティブにサポートしていません。そのため設定は<a class="ulink" href="https://cryptsetup-team.pages.debian.net/cryptsetup/encrypted-boot.html" target="_top">別の文書</a>で取り扱っています。) </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>データの読み書き時に常に暗号化・復号を行うため、暗号化パーティションのパフォーマンスは、暗号化していないものよりも低下する事に注意してください。パフォーマンスは、CPU のスピード、選択した暗号方式、暗号化キーの長さに影響を受けます。 </p></td></tr>
</table></div>
<p>暗号化を用いるには、メインパーティションメニューで空き領域を選択して、新しいパーティションを作成する必要があります。他には既存のパーティション (例、通常のパーティション、LVM 論理ボリューム、RAID ボリューム) を選択するという手もあります。<span class="guimenu">パーティション設定</span> メニューの、<span class="guimenu">利用方法:</span> で <span class="guimenuitem">暗号化の物理ボリューム</span> を選択する必要があります。そうすると、メニューにパーティションを暗号化するオプションが追加されます。 </p>
<p><code class="classname">debian-installer</code> でサポートしている暗号化方法は <em class="firstterm">dm-crypt</em> (新しめの Linux カーネルに収録されていて LVM 物理ボリュームをホストできる) です。 </p>
<p>暗号化するにあたり <strong class="userinput"><code>Device-mapper (dm-crypt)</code></strong> を選択した場合に利用できるオプションを見ていきましょう。いつものように、よく分からなければデフォルト値を指定してください。セキュリティを念頭に置いて選択されています。 </p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term">Encryption: <strong class="userinput"><code>aes</code></strong></span></dt>
<dd><p>このオプションで、パーティションのデータを暗号化するのに使用する、暗号化アルゴリズム (<em class="firstterm">暗号方式</em>) を選択します。現在、<code class="classname">debian-installer</code> は以下の暗号方式をサポートしています。<em class="firstterm">aes</em>, <em class="firstterm">blowfish</em>, <em class="firstterm">serpent</em>, <em class="firstterm">twofish</em> です。それぞれのアルゴリズムの品質についての議論は、この文書の範疇を越えてしまいますが、以下はあなたの決断の助けになるかもしれません。<span class="emphasis"><em>AES</em></span> は、2000 年に米国商務省標準技術局により、21 世紀の機密情報を保護する標準暗号化アルゴリズムとして採用されました。 </p></dd>
<dt><span class="term">Key size: <strong class="userinput"><code>256</code></strong></span></dt>
<dd><p>ここでは暗号化キーの長さを指定できます。一般的に暗号化キーが長くなると暗号強度が向上します。一方、暗号化キーが長くなると、大抵パフォーマンスにマイナスの影響を与えます。利用できる暗号化キーのサイズは暗号方式に依存します。 </p></dd>
<dt><span class="term">IV algorithm: <strong class="userinput"><code>xts-plain64</code></strong></span></dt>
<dd>
<p><em class="firstterm">初期化ベクトル</em> や <em class="firstterm">IV</em> アルゴリズムは、同じ <em class="firstterm">平文</em> データと同一の暗号化キーで、常に異なる <em class="firstterm">暗号文</em> の出力を保証し、安全に暗号を解読するのに利用されます。これにより、暗号化データ中に繰り返されるパターンから、攻撃者が情報を推測できないようにします。 </p>
<p>デフォルトの <strong class="userinput"><code>xts-plain64</code></strong> は現在のところ、攻撃される恐れがもっとも少ないです。その他の選択肢は、新しいアルゴリズムに対応していない、以前インストールしたシステムと互換をとる場合のみ使用してください。 </p>
</dd>
<dt><span class="term">Encryption key: <strong class="userinput"><code>Passphrase</code></strong></span></dt>
<dd>
<p>ここでは、このパーティションの暗号化キーのタイプを選択できます。 </p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term">Passphrase</span></dt>
<dd><p>暗号化キーを、プロセスの後で入力するパスフレーズに基づいて計算<a href="#ftn.idm2546" class="footnote" name="idm2546"><sup class="footnote">[11]</sup></a>します。 </p></dd>
<dt><span class="term">Random key</span></dt>
<dd>
<p>暗号化パーティションを作成するたびに、新しい暗号化キーをランダムに生成します。言い換えると、シャットダウンごとに暗号化キーがメモリから削除され、パーティションの内容を失うということです。(もちろん総当たりで暗号化キーを推測することはできますが、暗号アルゴリズムに未知の弱点がない限り、生きているうちには解読されないでしょう) </p>
<p>Random key は swap パーティションで使うと便利です。というのも、パスフレーズを覚えておく必要もなく、コンピュータをシャットダウンする前に、機密情報を swap パーティションから掃除するからです。しかし、最近の Linux カーネルで利用できる <span class="quote">「<span class="quote">suspend-to-disk</span>」</span> 機能では使用<span class="emphasis"><em>できない</em></span>ということでもあります。(次の起動中に) swap パーティションからサスペンドデータを、復元できなくなってしまうのです。 </p>
</dd>
</dl></div>
<p>

</p>
</dd>
<dt><span class="term">Erase data: <strong class="userinput"><code>yes</code></strong></span></dt>
<dd><p>暗号化の前に、このパーティションの内容をランダムなデータで上書きするかどうかを決めます。そうしないと攻撃者が、パーティションのどの部分を使用中で、どの部分が使用していないかを見分けられますので、上書きすることをお勧めします。その上、以前インストールしていて残ってしまったデータを、復元しにくくします<a href="#ftn.idm2561" class="footnote" name="idm2561"><sup class="footnote">[12]</sup></a>。 </p></dd>
</dl></div>
<p>

</p>
<p>暗号化パーティション用に必要なパラメータを選択すると、メインパーティション分割メニューに戻ります。そこに今度は<span class="guimenu">暗号化されたボリュームの設定</span> という項目があるはずです。これを選択すると、削除するようにマークしたパーティションを本当に削除してよいか確認し、新しいパーティションテーブルを書き込むといったアクションを起こします。大きなパーティションではしばらく時間がかかるでしょう。 </p>
<p>次に、パスフレーズを使用するよう設定していれば、パスフレーズを訊かれます。よいパスフレーズは、8 文字以上で、文字・数字・その他の記号が混ざり、辞書に載っていないか、容易に連想される情報 (誕生日、趣味、ペットの名前、家族や親戚の名前など) でないものです。 </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[警告]" src="images/warning.png"></td>
<th align="left">警告</th>
</tr>
<tr><td align="left" valign="top"><p>パスフレーズを入力する前に、キーボードが正しく設定され、期待した文字が入力できるようになっていなければなりません。よくわからなければ、別の仮想端末に切り替えて、プロンプトに入力してください。これにより、例えば、インストール中に azerty 配列を使用しているのに、qwerty 配列でパスフレーズを入力するといったことで、あなたが後で驚くようなことにはならないでしょう。この状況はいくつかの原因が考えられます。インストール中に別のキーボード配列に切り替えたとか、ルートファイルシステムのパスフレーズを入力する時に、まだ選択したキーボードレイアウトが有効でなかったのかもしれません。 </p></td></tr>
</table></div>
<p>暗号化キーの作成に、パスフレーズ以外の方法を選択した場合、すぐに暗号化キーを生成します。インストールの初期では、カーネルが充分なエントロピーを集めていないので、このプロセスに長時間かかるかもしれません。エントロピーを集めてこのプロセスのスピードを上げるには、ランダムにキーを押す、別の仮想コンソールに切り替えて (ファイルのダウンロードや、大きなファイルを <code class="filename">/dev/null</code> に流すなど) ネットワークやディスクのトラフィックを起こすなどがあります。暗号化するパーティションの数だけ繰り返します。 </p>
<p>メインパーティション分割メニューに戻ると、暗号化ボリュームが、通常のパーティションと同様に追加パーティションとして見えています。以下の例では dm-crypt で暗号化したボリュームを示します。</p>
<div class="informalexample"><pre class="screen">
Encrypted volume (<em class="replaceable"><code>sda2_crypt</code></em>) - 115.1 GB Linux device-mapper
     #1 115.1 GB  F ext3
</pre></div>
<p>今度は、ボリュームをマウントポイントに割り当てます。また、デフォルトのファイルシステムタイプが合っていなければ変更も行います。 </p>
<p>括弧内の識別子 (ここでは <em class="replaceable"><code>sda2_crypt</code></em>) と、暗号化ボリュームを割り当てるマウントポイントに注意を払ってください。後で新しいシステムを起動するときに、この情報が必要になります。通常の起動プロセスと、暗号を伴う起動プロセスの相違点は、<a class="xref" href="ch07s02.html" title="7.2. 暗号化ボリュームのマウント">「暗号化ボリュームのマウント」</a> で扱います。 </p>
<p>パーティション分割の内容に納得いったら、インストールに進んでください。 </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-install-base"></a>6.3.5. 基本システムのインストール</h3></div></div></div>
<p>この段階が最重要でないとはいえ、全体の基本システムをダウンロード、確認、展開にインストールのかなりの部分を費やします。遅いコンピュータや遅いネットワーク接続しかなければ、ある程度時間がかかるかもしれません。 </p>
<p>基本システムのインストール中、パッケージの展開・セットアップメッセージは、<strong class="userinput"><code>tty4</code></strong> にリダイレクトされます。<span class="keycap"><strong>左 Alt</strong></span>+<span class="keycap"><strong>F4</strong></span> を押すと、この端末 (terminal) にアクセスできます。元のインストーラーの画面に戻るには、<span class="keycap"><strong>左 Alt</strong></span>+<span class="keycap"><strong>F1</strong></span> を押してください。 </p>
<p>このフェイズでの展開・設定メッセージは、<code class="filename">/var/log/syslog</code> に保存されます。シリアルコンソールでインストールする場合、これをチェックできます。 </p>
<p>インストールの途中で、Linux カーネルをインストールします。デフォルトの優先度では、インストーラーはハードウェアと最も適合するカーネルを選びます。より低い優先度モードでは、利用可能なカーネルのリストから選ぶことができます。 </p>
<p>パッケージ管理システムを使用してパッケージをインストールした際、デフォルトでは、そのパッケージが推奨しているパッケージもインストールされます。推奨パッケージは、選択したソフトウェアの核となる機能にとって厳密には必要ではありませんが、ソフトウェアを拡張し、パッケージメンテナ視点で、通常そのソフトウェアと同時に入っているべきパッケージです。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>技術的な理由で、ベースシステムのインストール中にインストールされるパッケージは、<span class="quote">「<span class="quote">推奨</span>」</span>が含まれていません。前述の規則は、インストールプロセス中のこの時点以降でのみ効力を発揮します。 </p></td></tr>
</table></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-install-software"></a>6.3.6. 追加ソフトウェアのインストール</h3></div></div></div>
<p>この時点では、制限されたシステムが利用できるようになります。ほとんどのユーザーは、お好みに調整するのに、追加ソフトウェアをシステムにインストールするでしょうが、これはインストーラーから行えます。遅いコンピュータやネットワーク接続を使用していると、このステップは基本システムのインストールよりも時間がかかります。 </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="apt-setup"></a>6.3.6.1. apt の設定</h4></div></div></div>
<p>Debian GNU/Linux システムにパッケージをインストールするツールの 1 つに <code class="classname">apt</code> パッケージの <span class="command"><strong>apt</strong></span> プログラムがあります<a href="#ftn.idm2604" class="footnote" name="idm2604"><sup class="footnote">[13]</sup></a>。パッケージ管理のその他のフロントエンドには、<span class="command"><strong>aptitude</strong></span> や <span class="command"><strong>synaptic</strong></span> も使われます。これらのフロントエンドは追加機能 (パッケージの検索や状態チェック) を、すばらしいユーザーインターフェースと統合しているので、新しいユーザーにお勧めします。 </p>
<p>パッケージをどこから取得するか、<span class="command"><strong>apt</strong></span> を設定しておかなくてはなりません。この設定の結果は、<code class="filename">/etc/apt/sources.list</code> ファイルに書き込まれます。インストール完了後に、お好みに合わせて検査・編集できます。 </p>
<p>デフォルトの優先度でインストールしている場合、インストール方法と、可能であればインストールの初期に選択した内容から、大部分の設定を自動で面倒みてくれます。ほとんどの場合、インストーラーは自動でセキュリティミラーを追加します。また、安定版をインストールしている場合、<span class="quote">「<span class="quote">stable-updates</span>」</span> 更新サービスのミラーを追加します。 </p>
<p>低い優先度でインストールしている場合 (例: エキスパートモード)、もっと多くのことを自分で決定できます。セキュリティや stable-updates 更新サービスの有無や、アーカイブの <span class="quote">「<span class="quote">contrib</span>」</span> や <span class="quote">「<span class="quote">non-free</span>」</span> からのパッケージ追加の有無を選べます。 </p>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="apt-setup-cdset"></a>6.3.6.1.1. 2 枚以上の CD/DVD イメージでのインストール</h5></div></div></div>
<p>複数枚からなる CD や DVD イメージでインストールする場合、さらにインストールメディアをスキャンするか、インストーラーが尋ねてきます。追加するメディアがある場合、そこからパッケージをインストールするため、スキャンしたくなると思います。 </p>
<p>追加するメディアがない場合、これは必須ではないので、問題ありません。ネットワークミラーも使用しない場合 (次節で説明します)、次のステップで選択する、タスクに属するすべてのパッケージをインストールできるわけではないことを意味します。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top">
<p>CD および DVD イメージにあるパッケージは、人気のある順に納められています。これにより、ほとんどの人はセットの 1 枚目のイメージのみを使い、非常に少数の人だけが、最後のイメージに入っているパッケージを使用することになります。 </p>
<p>これはフル CD セットのうち、まったく使わないものを買ったり、ダウンロードして焼いたりといったことは、お金の無駄になってしまうということでもあります。ほとんどの場合、3〜8 枚の CD を用意し、さらにパッケージを追加する必要がある場合には、ミラーサイトを利用しインターネットから取得する方が楽です。DVD セットの場合も同じことが言えます。1 枚目の DVD か、もしかすると 2 枚目の DVD で必要なものをカバーできるでしょう。 </p>
</td></tr>
</table></div>
<p>複数のインストールメディアをスキャンする場合、現在ドライブに入っているものとは別のインストールメディアにあるパッケージが必要になると、インストーラーは交換するよう促します。注意: ディスクは、同じセットに属するもののみをスキャンするべきです。スキャンする順番はあまり重要ではありませんが、昇順にスキャンすると、失敗する可能性が低くなります。 </p>
</div>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="apt-setup-mirror"></a>6.3.6.1.2. ネットワークミラーの利用</h5></div></div></div>
<p>インストールに関するよくある質問に、パッケージの取得元にネットワークミラーを使用するかどうかがあります。ほとんどの場合、デフォルトの回答でうまくいきますが、中には例外もあります。 </p>
<p>完全な CD/DVD イメージからインストール<span class="emphasis"><em>しない</em></span>場合、非常に最小限のシステムのみで完了するなら、ネットワークミラーを使用するべきです。しかし、インターネット接続に制限がある場合、インストールの次のステップで、<code class="literal">desktop</code> タスクを選択<span class="emphasis"><em>しない</em></span>のが最善でしょう。 </p>
<p>1 枚の完全な CD イメージからインストールしている場合は、ネットワークミラーを使用する必要はありませんが、1 枚の CD イメージには非常に限られた数のパッケージしか含まれていないため、ネットワークミラーを使用するのを強くお勧めします。インターネット接続に制限がある場合は、まだここでネットワークミラーを設定<span class="emphasis"><em>しない</em></span>方がよいでしょう。CD イメージでできる限りのインストールを行い、追加パッケージのインストールは、(新しいシステムで起動した後など) 後で行うのがよいでしょう。 </p>
<p>DVD でインストールしている場合、インストールに必要なパッケージは、1 枚目の DVD イメージで提供されているはずです。ネットワークミラーの使用はオプションとなります。 </p>
<p>ネットワークミラーを追加する利点は、CD/DVD イメージが作成された後にポイントリリースに含まれた更新が、インストールできるということです。つまり、インストールしたシステムのセキュリティや安定性を傷つけることなく、CD/DVD の寿命を延ばすことができます。 </p>
<p>まとめると、ネットワークミラーを選択するのは、質の良いインターネット接続がない場合を除き、一般的によい考えです。パッケージの最新版がインストールメディアで利用できる場合には、インストーラーは常にそちらを使用します。従って、ミラーを選択した場合のダウンロードするデータ量は、以下に依存します。 </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>インストールの次のステップで選択するタスク。 </p></li>
<li class="listitem"><p>どのパッケージがそのタスクに必要か。 </p></li>
<li class="listitem"><p>そのパッケージがスキャンしたインストールメディアに収録されているかどうか。 </p></li>
<li class="listitem"><p>インストールメディアに収録したパッケージの更新版が、ミラーサイト (通常のパッケージのミラーサイトだけでなく、セキュリティのミラーサイトや stable-updates のミラーサイト) に用意されているかどうか。 </p></li>
</ol></div>
<p>

</p>
<p>最後の点については、ネットワークミラーを使用しないように選択したとしても、セキュリティや stable-updates に更新があり、そのサービスを使用するように設定している場合は、パッケージをダウンロードする可能性が残っている、ということに注意してください。 </p>
</div>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="apt-setup-mirror-selection"></a>6.3.6.1.3. ネットワークミラーの選択</h5></div></div></div>
<p>ネットワークミラーを使わない選択をした場合を除き、インストールプロセスの初期で行った国の選択を元にしたネットワークミラーのリストが与えられています。提示されたデフォルト値を選択すると、大抵うまく行きます。 </p>
<p>提供されるデフォルトは deb.debian.org です。これ自体はミラーではなく、最新かつ高速なミラーへリダイレクトされます。これらのミラーは TLS (https プロトコル) と IPv6 をサポートします。このサービスは Debian システム管理 (DSA) チームによって維持されています。 </p>
<p><span class="quote">「<span class="quote">情報を手動で入力</span>」</span>を選択することで、ミラーを手で指定することもできます。そうするとミラーのホスト名とオプションでポート番号を指定できます。これは実際の URL ベースで、つまり IPv6 アドレスを指定する場合には [] で囲まなければなりません。例えば <span class="quote">「<span class="quote">[2001:db8::1]</span>」</span>。 </p>
<p>コンピュータが、IPv6 のみのネットワークにつながっている (おそらくユーザーの大多数に一致しない) 場合、あなたの国のデフォルトミラーはうまく動作しないかもしれません。リスト内のすべてのミラーは、IPv4 だけでなく IPv6 でも通信できます。個々のミラーの接続は、時間とともに変わることがあり、その情報をインストーラーに持たせられません。あなたの国向けのデフォルトミラーに IPv6 接続がない場合、提示された他のミラーを試すか、<span class="quote">「<span class="quote">情報を手動で入力</span>」</span> オプションを選択し、ミラー名に <span class="quote">「<span class="quote">ftp.ipv6.debian.org</span>」</span> を指定できます。これは、IPv6 が有効なミラーのエイリアスで、おそらく可能な限り速い、とはいかないと思います。 </p>
</div>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="pkgsel"></a>6.3.6.2. ソフトウェアの選択・インストール</h4></div></div></div>
<p>インストール処理中に、追加ソフトウェアをインストールする機会があります。<span class="phrase">87573</span>
   
   
   
   
   
   
   
   
    個もの利用可能パッケージから、個々のパッケージを取り上げるよりも、インストール処理のこの段階では、いち早く様々なコンピュータのタスクをセットアップするよう、定義済みのソフトウェア集合を選択・インストールするのに集中します。 </p>
<p>タスクは、様々なジョブやあなたがコンピュータにやらせたいことを、いくつか大まかに表しています。<span class="quote">「<span class="quote">デスクトップ環境</span>」</span>、<span class="quote">「<span class="quote">Web サーバー</span>」</span>、<span class="quote">「<span class="quote">SSH サーバー</span>」</span>といった具合です<a href="#ftn.idm2667" class="footnote" name="idm2667"><sup class="footnote">[14]</sup></a>。<a class="xref" href="apds02.html" title="D.2. タスクに必要なディスクの空き容量">「タスクに必要なディスクの空き容量」</a> に、利用可能タスクの必要容量一覧があります。 </p>
<p>いくつかのタスクは、インストールするコンピュータの特性により、あらかじめ選択されている可能性があります。選択されているものが合わない場合は、そのタスクの選択をはずせます。全くタスクを選ばないようにもできます。 </p>
<div class="tip"><table border="0" summary="Tip">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[ヒント]" src="images/tip.png"></td>
<th align="left">ヒント</th>
</tr>
<tr><td align="left" valign="top"><p>インストーラーの標準ユーザーインターフェースでは、タスクの選択をスペースバーでトグルできます。 </p></td></tr>
</table></div>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top">
<p><span class="quote">「<span class="quote">デスクトップ環境</span>」</span> タスクは、グラフィカルデスクトップ環境をインストールします。 </p>
<p>デフォルトで <code class="classname">debian-installer</code> は <span class="phrase">Gnome</span>  デスクトップ環境をインストールします。インストール中に異なるデスクトップ環境を、インタラクティブに選択することが可能です。デスクトップ環境を複数インストールすることもできますが、組み合わせによっては互いに排他的でインストールできない可能性もあります。 </p>
<p>希望のデスクトップ環境に必要なパッケージが実際に利用できる場合にのみ動作することに注意してください。フル CD イメージ 1 枚でインストールしている場合、容量が限られているその CD イメージに入っておらず、ミラーサイトからダウンロードする必要があるかもしれません。DVD イメージやその他のインストール方法では、利用可能なデスクトップ環境のインストールがうまくいくでしょう。 </p>
</td></tr>
</table></div>
<p>各サーバータスクでは、おおまかに以下のソフトウェアをインストールします。Web サーバー: <code class="classname">apache2</code>; SSH サーバー: <code class="classname">openssh</code>。 </p>
<p><span class="quote">「<span class="quote">標準システム</span>」</span> タスクは、優先度が <span class="quote">「<span class="quote">標準</span>」</span> のパッケージをインストールします。ここには、通常どんな Linux や Unix のシステムでも有効な、たくさんの共通ユーティリティを含んでいます。何をしようとしているのか解っていて、本当に最小限のシステムが必要なのでなければ、このタスクを選択したままにしてください。 </p>
<p>言語選択で、デフォルトロケールに <span class="quote">「<span class="quote">C</span>」</span> ロケール以外を選択した場合、<span class="command"><strong>tasksel</strong></span> は、そのロケールで定義されている地域化タスクがあるかチェックし、関連する地域化パッケージを自動的にインストールしようとします。これには例えば単語集や、あなたの言語の特殊なフォントが含まれます。デスクトップ環境を選択している場合、適切な地域化パッケージも (有効なら) インストールします。 </p>
<p>タスクを選択したら、<span class="guibutton">Continue</span> を選択してください。ここで <span class="command"><strong>apt</strong></span> が選択したタスクの一部をインストールし始めます。個々のプログラムで、ユーザーからのもっと詳細な情報が必要な場合、このプロセス中に問い合わせが発生します。 </p>
<p>デスクトップタスクは非常に大きいことを意識していてください。特に、通常の CD-ROM と、ミラーサイトにある CD-ROM 外のパッケージを組み合わせる場合、インストーラが、ネットワークから大量のパッケージを取得しようとするかもしれません。インターネット接続が低速な場合、長い時間かかるでしょう。一度、パッケージのインストールを始めたら、キャンセルするオプションはありません。 </p>
<p>パッケージが CD-ROM に含まれている場合でも、CD-ROM にあるパッケージよりもミラーサイトにあるパッケージの方が新しければ、インストーラーはミラーサイトから取得しようとします。安定版をインストールしている場合はポイントリリース (オリジナルの安定版リリースの更新) 後に、テスト版をインストールしている場合は古いイメージを使用していると、こういったことが起こり得ます。 </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-make-bootable"></a>6.3.7. システムを起動可能に</h3></div></div></div>
<p>ディスクなしワークステーションにインストールするなら、ローカルディスクから起動するなんて、明らかに意味がありませんから、このステップをスキップしてください。 </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="os-prober"></a>6.3.7.1. 他 OS の検出</h4></div></div></div>
<p>ブートローダがインストールされる前に、インストーラーは既にインストールされている他の OS の検出を試します。サポートする OS を見つけると、ブートローダインストールステップの間にそれを通知します。また、Debian に加えて他の OS をブートできるように、このコンピュータを設定します。 </p>
<p>複数の OS を同一の機械で起動するのは、いまだに魔術的だということに注意してください。他の OS を検出し起動するようにブートローダをセットアップする自動サポートは、アーキテクチャごとに (サブアーキテクチャそれぞれでさえ) 異なります。作動しない場合は、詳細についてブートマネージャの文書を調べるべきです。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="idm2706"></a>6.3.7.2. ドライブへの <span class="command"><strong>Grub</strong></span> ブートローダのインストール</h4></div></div></div>
<p>amd64 のブートローダは <span class="quote">「<span class="quote">grub</span>」</span> と呼ばれています。grub は柔軟で頑健なブートローダで、新規ユーザー・古株を問わず、とりあえずこれを選んでおけばよいでしょう。 </p>
<p>デフォルトでは、grub は UEFI パーティション/第 1 ドライブのブートレコードにインストールされ、そこで起動プロセスの完全なコントロールを引き継ぎます。ご希望なら、他の場所にインストールすることができます。完全な情報に関しては、grub のマニュアルをご覧ください。 </p>
<p>grub をインストールしたくない場合、<span class="guibutton">Go Back</span> ボタンでメインメニューに戻ってください。そしてそこから、使用したいブートローダを選択してください。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="nobootloader"></a>6.3.7.3. ブートローダなしで継続</h4></div></div></div>
<p>このオプションは、アーキテクチャ/サブアーキテクチャにブートローダがない、あるいはインストールする気がない (例えば、既存のブートローダを使用するつもりであるとか) 時に、ブートローダをインストールしていなくても、インストールを完了するのに利用できます。 </p>
<p>手動でブートローダを設定する場合、<code class="filename">/target/boot</code> にインストールしたカーネルの名前をチェックしてください。またそのディレクトリに <em class="firstterm">initrd</em> が存在するかチェックしてください。存在するなら、ブートローダにそれを使うよう指定しなければなりません。他に必要な情報は、<code class="filename">/</code> ファイルシステムとするディスクないしパーティション、(<code class="filename">/boot</code> を個別のパーティションとする場合) <code class="filename">/boot</code> ファイルシステムとするディスクないしパーティションが必要です。 </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-finish"></a>6.3.8. インストールの完了</h3></div></div></div>
<p>これからインストーラーが行ういくつかのタスクが、Debian のインストール過程での最終段階です。ほとんどが <code class="classname">debian-installer</code> の後片付けです。 </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="system-clock"></a>6.3.8.1. システム時計の設定</h4></div></div></div>
<p>インストーラーは、コンピュータの時計を UTC にするかどうかを、尋ねることがあります。通常この質問は可能な限り避け、他のオペレーションシステムがインストールされているかどうか、といったことから UTC を基準にするかどうかを判断します。 </p>
<p>エキスパートモードでは、常に時計を UTC にあわせるかどうかを選択することになります。 <span class="phrase">DOS や Windows を使用するシステムは、通常現地時間にあわせてあります。デュアルブートする場合は、UTC ではなく現地時間を選択してください。</span> </p>
<p>ここで、<code class="classname">debian-installer</code> は、システムのハードウェア時計に現在の時間を保存しようと試みます。先ほどの選択により、UTC か現地時間のどちらかで保存します。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="finish-install"></a>6.3.8.2. システムの再起動</h4></div></div></div>
<p>インストーラーの起動に使用したブートメディア (CD、USB メモリなど) を、取り出すよう促されます。システムはこの後、新しい Debian システムで再起動します。 </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-miscellaneous"></a>6.3.9. トラブルシューティング</h3></div></div></div>
<p>本節に挙げるコンポーネントは、通常インストールプロセスに関係しませんが、何かうまく行かない時に、ユーザーの助けになるようバックグラウンドで待っています。 </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="save-logs"></a>6.3.9.1. インストールログの保存</h4></div></div></div>
<p>インストールが成功したら、インストールプロセス中のログファイルが、新しい Debian システムの <code class="filename">/var/log/installer/</code> に自動的に作成されています。 </p>
<p>メインメニューから <span class="guimenuitem">デバッグログを保存</span> を選択すると、ログファイルを USB メモリやネットワーク、ハードディスク、その他メディアに保存できます。これは、インストール中に致命的な問題に遭遇してしまい、別システムでそのログを調査したいときや、インストールレポート向けにログを添付したいときに便利です。 </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="shell"></a>6.3.9.2. シェルの使用とログの参照</h4></div></div></div>
<p>インストール中にシェルを起動する方法はいくつかあります。ほとんどのシステムでは、さらにシリアルコンソールでインストールしていない場合、<span class="keycap"><strong>左 Alt</strong></span>+<span class="keycap"><strong>F2</strong></span> <a href="#ftn.idm2752" class="footnote" name="idm2752"><sup class="footnote">[15]</sup></a>を押して (Mac のキーボードでは、<span class="keycap"><strong>Option</strong></span>+<span class="keycap"><strong>F2</strong></span>)、第 2 <span class="emphasis"><em>仮想コンソール</em></span> に切り替えるのが簡単です。<span class="keycap"><strong>左 Alt</strong></span>+<span class="keycap"><strong>F1</strong></span> でインストーラー自体に戻ってください。 </p>
<p>グラフィカルインストーラーでは、<a class="xref" href="ch06s01.html#gtk-using" title="6.1.1. グラフィカルインストーラーの使用法">「グラフィカルインストーラーの使用法」</a> もご覧ください。 </p>
<p>コンソールに切り替えられない場合、メインメニューにある <span class="guimenuitem">シェルの実行</span> でもシェルを起動できます。ほとんどのダイアログから、<span class="guibutton">Go Back</span> ボタンを何度か押して、メインメニューに戻れます。<strong class="userinput"><code>exit</code></strong> と入力すると、シェルを終了してインストーラーに戻ります。 </p>
<p>この段階では RAM ディスクから起動しています。また、使用には制限がありますが Unix ユーティリティが利用可能です。どのプログラムが利用できるかはコマンド <span class="command"><strong>ls /bin /sbin /usr/bin /usr/sbin</strong></span> や <span class="command"><strong>help</strong></span> とタイプするとわかります。シェルは <span class="command"><strong>ash</strong></span> という Bourne shell のクローンで、自動補完や履歴のような、気の利いた機能を備えています。 </p>
<p>ファイルの編集や表示をするには、<span class="command"><strong>nano</strong></span> というテキストエディタを使用してください。インストールシステムのログファイルは、<code class="filename">/var/log</code> ディレクトリにあります。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top">
<p>シェルの中では、有効なコマンドを許可されている限り、基本的になんでもできますが、何か問題が発生したときのデバッグ用に、シェルを使用するオプションはここにしかありません。 </p>
<p>シェルから手動で何か行うと、インストールプロセスや結果にエラーが発生したり、インストールが完了しなかったりといった恐れがあります。特に、インストーラーで swap を有効にするようにし、シェルから手動で行わないようにしましょう。 </p>
</td></tr>
</table></div>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="network-console"></a>6.3.10. network-console を利用したインストール</h3></div></div></div>
<p><em class="firstterm">network-console</em> はとても興味深いコンポーネントで、インストールの大部分を、SSH を用いたネットワーク越しで行えるようにします。ネットワークを使用すると言うことは、少なくともネットワークをセットアップするまで、コンソールでインストールを行わなければならないということも含んでいます。(でもこの部分は <a class="xref" href="ch04s06.html" title="4.6. 自動インストール">「自動インストール」</a> で自動化できます) </p>
<p>このコンポーネントは、デフォルトではメインインストールメニューには現れません。そのため、自分で明示しなければなりません。光学メディアからインストールする場合、優先度を中にするかインストールメニューを呼び出し、<span class="guimenuitem">インストールメディアからインストーラーコンポーネントをロード</span>を選んでください。また、追加コンポーネントの一覧から <span class="guimenuitem">network-console: SSH を使ってリモートでインストールを続ける</span>を選んでください。読み込みに成功すると、<span class="guimenuitem">SSH を使ってリモートでインストールを続ける</span> から呼ばれる新しいメニュー項目が表示されます。 </p>
<p><span class="phrase">この新しいエントリを選択したら、</span>インストールするシステムに接続するための新しいパスワード (とその確認) を入力してください。これで以上です。今、リモートでログインするよう促す画面が出ているはずです。ユーザー名は <span class="emphasis"><em>installer</em></span>、パスワードは先ほど入力した物を使用してください。この画面にある重要な細かい点として、このシステムの指紋 (fingerprint) があります。この指紋を、リモートでインストールを続ける人に、安全に転送する必要があります。 </p>
<p>ローカルでインストールすると決めた場合は、<span class="keycap"><strong>Enter</strong></span> を押してください。メインメニューに戻ります。そこで別のコンポーネントを選択してください。 </p>
<p>それでは回線の向こう側へ行きましょう。前提として、あなたの端末がインストールシステムで使用する UTF-8 エンコードを使用できるように設定されている必要があります。そうでなければ、リモートインストールは可能ですが、ダイアログの枠線が化けたり ASCII 以外の文字が読めないといった妙な表示になってしまいます。インストールシステムへの接続を確立するには、単に以下のように入力してください。</p>
<div class="informalexample"><pre class="screen">
<code class="prompt">$</code> <strong class="userinput"><code>ssh -l installer <em class="replaceable"><code>install_host</code></em></code></strong>
</pre></div>
<p> <em class="replaceable"><code>install_host</code></em> には、インストールするコンピュータの名前か IP アドレスのどちらかをセットします。実際のログインの前に、リモートシステムの指紋を表示するのでそれが正しいかどうか確認してください。 </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top">
<p>インストーラーの <span class="command"><strong>ssh</strong></span> サーバーは、keep-alive パケットを送らないというデフォルト設定を使用します。原則的に、インストールするシステムへの接続は、無期限に保たれるべきです。しかし、ある状況下 (あなたのローカルネットワークの設定に依存する) では、不使用時間が続くと接続を失う可能性があります。よくある状況は、クライアントとインストールするシステムの間のどこかに、ネットワークアドレス変換 (NAT) があることです。接続が失われた際のインストールのポイントにより、再接続後にインストールを再開できるかどうかが決まるでしょう。 </p>
<p><span class="command"><strong>ssh</strong></span> 接続を開始する際や、<span class="command"><strong>ssh</strong></span> の設定ファイルに、オプション <strong class="userinput"><code>-o ServerAliveInterval=<em class="replaceable"><code>value</code></em></code></strong> を追加して、接続が切れるのを回避できるかもしれません。しかしある状況下では、このオプションを追加すると、接続が切れる<span class="emphasis"><em>原因</em></span>になるかもしれないことにご注意ください (例えば、普段なら <span class="command"><strong>ssh</strong></span> が復旧してしまうような、短時間のネットワーク障害中に keep-alive パケットを送るなど)。そのため、使用は必要最小限にするべきです。 </p>
</td></tr>
</table></div>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td>
<th align="left">注記</th>
</tr>
<tr><td align="left" valign="top"><p>順番にいくつものコンピュータにインストールして、同じ IP アドレスやホスト名を持っていたりすると、<span class="command"><strong>ssh</strong></span> はそういったホストへの接続を拒否します。指紋が異なっているというのは、通常なりすまし攻撃のサインです。なりすまし攻撃ではないことが確かなら、<code class="filename">~/.ssh/known_hosts</code> から関連する行を削除して<a href="#ftn.idm2815" class="footnote" name="idm2815"><sup class="footnote">[16]</sup></a>、もう一度行う必要があります。 </p></td></tr>
</table></div>
<p>ログインすると <span class="guimenuitem">メニューの開始</span>, <span class="guimenuitem">シェルの開始</span> という 2 つのメニューがある初期画面が表示されます。前者はメインのインストールメニューに移動し、通常のインストールを進めることができます。後者はリモートシステムの検査と (可能なら) 修正できるようなシェルを起動します。インストールメニュー用の SSH セッションを起動するのは 1 つだけにするべきですが、シェル用には複数のセッションを起動できます。 </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[警告]" src="images/warning.png"></td>
<th align="left">警告</th>
</tr>
<tr><td align="left" valign="top"><p>SSH を使ってリモートでインストールを始めた後で、ローカルコンソールのインストールセッションに戻るべきではありません。新システムの設定を保持しているデータベースが破損する可能性があるからです。それによりインストールが失敗したり、インストールしたシステムに何か問題が発生するかもしれません。 </p></td></tr>
</table></div>
</div>
<div class="footnotes">
<br><hr width="100" align="left">
<div id="ftn.idm2018" class="footnote"><p><a href="#idm2018" class="para"><sup class="para">[6] </sup></a> 技術的な用語として、言語に対し国コードが異なるぶんだけ、複数のロケールが存在します。</p></div>
<div id="ftn.idm2026" class="footnote"><p><a href="#idm2026" class="para"><sup class="para">[7] </sup></a> 優先度が中や低では、選択した言語で有効なロケールの中から、常に好みのものを選択することになります (複数ある場合)。</p></div>
<div id="ftn.idm2032" class="footnote"><p><a href="#idm2032" class="para"><sup class="para">[8] </sup></a> レガシーロケールとは、UTF-8 を使用しないけれど、ISO 8859-1 (西欧言語で利用) や EUC-JP (日本語で利用) といった文字エンコードを使用する旧標準の一種です。</p></div>
<div id="ftn.idm2220" class="footnote"><p><a href="#idm2220" class="para"><sup class="para">[9] </sup></a> このインストーラーでは、LVM ボリュームグループを 256 bit AES キーで暗号化し、カーネルの <span class="quote">「<span class="quote">dm-crypt</span>」</span> サポートを利用します。</p></div>
<div id="ftn.idm2302" class="footnote"><p><a href="#idm2302" class="para"><sup class="para">[10] </sup></a> 本当のことをいえば、同一の物理ドライブを分割して MD デバイスを構築できますが、何も利点がありません。</p></div>
<div id="ftn.idm2546" class="footnote"><p><a href="#idm2546" class="para"><sup class="para">[11] </sup></a>暗号化キーにパスフレーズを使用するのは、<a class="ulink" href="https://gitlab.com/cryptsetup/cryptsetup" target="_top">LUKS</a> を使用して設定するという意味です。</p></div>
<div id="ftn.idm2561" class="footnote"><p><a href="#idm2561" class="para"><sup class="para">[12] </sup></a>3 文字の機関では、磁気光学メディアを何度か書き換えた後でも、データを復元できると信じられています。</p></div>
<div id="ftn.idm2604" class="footnote"><p><a href="#idm2604" class="para"><sup class="para">[13] </sup></a> パッケージを実際にインストールするプログラムは、<span class="command"><strong>dpkg</strong></span> であることに注意してください。ですが、このプログラムは、どちらかというと下位のツールです。<span class="command"><strong>apt</strong></span> はもっと上位のツールで、適切に <span class="command"><strong>dpkg</strong></span> を起動します。また、インストールメディアやネットワーク、その他から、パッケージをどのように取得するかも知っています。さらに、インストール作業が正しく行えるように、パッケージが必要とする他のパッケージも自動的にインストールできます。</p></div>
<div id="ftn.idm2667" class="footnote"><p><a href="#idm2667" class="para"><sup class="para">[14] </sup></a>表示されるリストは、インストーラーが単に <span class="command"><strong>tasksel</strong></span> プログラムを起動しているだけ、ということを知っておいてください。インストールの後で、他のパッケージをインストール (または削除) するのにいつでも実行できます。また <span class="command"><strong>aptitude</strong></span> のような、よりきめ細かいツールも利用できます。インストール完了後、特定の 1 パッケージを探すのなら、単に <strong class="userinput"><code>aptitude install <em class="replaceable"><code>パッケージ名</code></em></code></strong> を実行してください。<em class="replaceable"><code>パッケージ名</code></em>は、探したいパッケージ名です。</p></div>
<div id="ftn.idm2752" class="footnote"><p><a href="#idm2752" class="para"><sup class="para">[15] </sup></a><span class="keycap"><strong>スペースバー</strong></span> の左側にある <span class="keycap"><strong>Alt</strong></span> キーと、<span class="keycap"><strong>F2</strong></span> ファンクションキーを同時に押してください。</p></div>
<div id="ftn.idm2815" class="footnote"><p><a href="#idm2815" class="para"><sup class="para">[16] </sup></a>以下のコマンドで、既存のホストエントリを削除できます。<span class="command"><strong>ssh-keygen -R &lt;<em class="replaceable"><code>hostname</code></em>|<em class="replaceable"><code>IP address</code></em>&gt;</strong></span></p></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch06s02.html"><img src="images/prev.png" alt="戻る"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch06.html"><img src="images/up.png" alt="上に戻る"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch06s04.html"><img src="images/next.png" alt="次へ"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">6.2. コンポーネント入門 </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="ホーム"></a></td>
<td width="40%" align="right" valign="top"> 6.4. 見つからないファームウェアの読み込み</td>
</tr>
</table>
</div>
</body>
</html>
