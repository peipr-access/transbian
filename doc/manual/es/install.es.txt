Guía Debian GNU/Linux de instalación

Copyright © 2004 - 2021 el equipo del instalador de Debian

Este manual es software libre, puedes redistribuirlo y/o modificarlo bajo los
términos de la licencia general pública GNU. Por favor, consulta la licencia
completa en Apéndice F, Licencia pública general GNU.

Versión de construcción de este manual: 20220129~deb11u1.

Resumen

Este documento contiene las instrucciones de instalación del sistema Debian GNU
/Linux 11 (nombre en clave "bullseye"), para la arquitectura 64-bit PC ("amd64"
). Además, contiene enlaces a otras fuentes de información, así como
información de cómo obtener lo mejor de su nuevo sistema Debian.

Si puedes ayudar con la revisión de esta traducción, por favor, pónte en
contacto con el coordinador de la traducción: Javier Fernández-Sanguino (<
jfs@debian.org>) y con la lista de traductores de Debian al español (<
debian-l10n-spanish@lists.debian.org>).

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Tabla de contenidos

Instalar Debian GNU/Linux 11 en amd64
1. Bienvenido a Debian

    1.1. ¿Qué es Debian?
    1.2. ¿Qué es GNU/Linux?
    1.3. ¿Qué es Debian GNU/Linux?
    1.4. ¿Qué es el instalador de Debian?
    1.5. Obtener Debian
    1.6. Obtener la última versión de este documento
    1.7. Estructura de este documento
    1.8. Sobre copyrights y licencias de software

2. Requisitos del sistema

    2.1. Hardware compatible

        2.1.1. Arquitecturas compatibles
        2.1.2. Compatibilidad de CPU
        2.1.3. Ordenadores portátiles
        2.1.4. Múltiples procesadores
        2.1.5. Soporte de hardware gráfico
        2.1.6. Hardware de conectividad de red
        2.1.7. Dispositivos Braille
        2.1.8. Dispositivos de Síntesis de Voz
        2.1.9. Periféricos y otro hardware

    2.2. Dispositivos que requieren firmware
    2.3. Adquisición de hardware específico para GNU/Linux

        2.3.1. Evite hardware cerrado o privativo

    2.4. Medios de instalación

        2.4.1. CD-ROM/DVD-ROM/BD-ROM
        2.4.2. Dispositivo de memoria USB
        2.4.3. Red
        2.4.4. Disco duro
        2.4.5. Sistema Un*x o GNU
        2.4.6. Sistemas de almacenamiento aceptados

    2.5. Requisitos de memoria y espacio en disco

3. Antes de instalar Debian GNU/Linux

    3.1. Descripción del proceso de instalación
    3.2. ¡Haga copias de seguridad de su información actual!
    3.3. Información que necesitará

        3.3.1. Documentación
        3.3.2. Encontrar fuentes de información de hardware
        3.3.3. Compatibilidad de hardware
        3.3.4. Configuración de la red

    3.4. Cumplir los requisitos mínimos de hardware
    3.5. Preparticionado para sistemas multiarranque
    3.6. Preinstalación de hardware y configuración del sistema operativo

        3.6.1. Utilización del menú de configuración de la BIOS/UEFI
        3.6.2. Selección de dispositivo de arranque
        3.6.3. Sistemas con firmware UEFI
        3.6.4. Arranque seguro («Secure boot»)
        3.6.5. Desactivando el "arranque rápido"/"inicio rápido" de Windows
        3.6.6. Problemas de hardware a tener en cuenta

4. Obtener el soporte de instalación del sistema

    4.1. Imágenes oficiales de Debian GNU/Linux de instalación
    4.2. Descarga de ficheros desde réplicas de Debian

        4.2.1. Dónde encontrar los archivos de instalación

    4.3. Preparación de ficheros para el arranque desde un dispositivo de
        memoria USB

        4.3.1. Preparación de una memoria USB utilizando una imagen híbrida de
            CD/DVD
        4.3.2. Copia manual de los ficheros a la memoria USB
        4.3.3. Copia manual de los archivos a la memoria USB: la forma flexible

    4.4. Preparación de los ficheros para arranque desde el disco duro

        4.4.1. Arranque del instalador desde Linux usando GRUB
        4.4.2. Arranque del instalador desde el disco duro con DOS usando 
            loadlin

    4.5. Preparación de los ficheros para el arranque a través de red usando
        TFTP

        4.5.1. Configuración del servidor DHCP
        4.5.2. Configuración del servidor BOOTP
        4.5.3. Habilitar el servidor TFTP
        4.5.4. Mover las imágenes TFTP a su ubicación

    4.6. Instalación automática

        4.6.1. Utilizar el instalador de Debian para realizar una instalación
            automática

    4.7. Verificar la integridad de los archivos de instalación

5. Arranque del sistema de instalación

    5.1. Arranque del instalador en 64-bit PC

        5.1.1. Arranque desde un dispositivo de memoria USB
        5.1.2. Arranque desde un disco óptico (CD/DVD)
        5.1.3. Arranque desde Windows
        5.1.4. Arranque desde DOS utilizando loadlin
        5.1.5. Arranque desde Linux utilizando GRUB
        5.1.6. Arranque con TFTP
        5.1.7. La pantalla de arranque
        5.1.8. El Instalador Gráfico

    5.2. Accesibilidad

        5.2.1. Interfaz del instalador
        5.2.2. Dispositivos Braille USB
        5.2.3. Dispositivos Braille Seriales
        5.2.4. Software de Síntesis de Voz
        5.2.5. Dispositivos de Síntesis de Voz
        5.2.6. Dispositivos de Tarjeta
        5.2.7. Temas de Alto contraste
        5.2.8. Ampliación
        5.2.9. Instalación en modo experto, modo de rescate, instalación
            automatizada
        5.2.10. Accesibilidad del sistema instalado

    5.3. Parámetros de arranque

        5.3.1. Consola de arranque
        5.3.2. Parámetros del instalador de Debian
        5.3.3. Utilizar parámetros de arranque para responder a preguntas
        5.3.4. Pasar parámetros a módulos del núcleo
        5.3.5. Poner módulos del núcleo en una lista negra

    5.4. Resolución de problemas en el proceso de instalación

        5.4.1. Fiabilidad de los medios ópticos
        5.4.2. Configuración del arranque
        5.4.3. Software de Síntesis de Voz
        5.4.4. Problemas comunes durante la instalación en 64-bit PC
        5.4.5. Interpretar los mensajes de inicio del núcleo
        5.4.6. Informar de fallos
        5.4.7. Enviar los informes de la instalación

6. Usar el instalador de Debian

    6.1. Funcionamiento del instalador

        6.1.1. Usar el instalador gráfico

    6.2. Introducción a los componentes
    6.3. Uso de componentes individuales

        6.3.1. Configurar el instalador de Debian y configuración de hardware
        6.3.2. Configurar usuarios y contraseñas
        6.3.3. Configuración del reloj y zona horaria
        6.3.4. Particionado y elección de punto de montaje
        6.3.5. Instalar el sistema base
        6.3.6. Instalar programas adicionales
        6.3.7. Hacer su sistema arrancable
        6.3.8. Finalizar la instalación
        6.3.9. Resolución de problemas
        6.3.10. Instalación a través de la red-consola

    6.4. Carga de Firmware adicional

        6.4.1. Preparación del medio
        6.4.2. Firmware y el Sistema Instalado
        6.4.3. Completando el Sistema Instalado

    6.5. Personalización

        6.5.1. Instalación de un sistema init alternativo

7. Arrancar desde su nuevo sistema Debian

    7.1. El momento de la verdad
    7.2. Montaje de volúmenes cifrados

        7.2.1. Resolución de problemas

    7.3. Acceso

8. Siguientes pasos y dónde continuar

    8.1. Apagando el sistema
    8.2. Orientación sobre Debian

        8.2.1. El sistema de paquetes de Debian
        8.2.2. Software adicional disponible para Debian
        8.2.3. Gestión de versión de las aplicaciones
        8.2.4. Gestión de tareas de cron

    8.3. Lectura e información adicional
    8.4. Configurar tu sistema para utilizar el correo electrónico

        8.4.1. Configuración de correo electrónico por omisión
        8.4.2. Enviar correo electrónico fuera del sistema
        8.4.3. Configurar el agente de transporte de correo Exim4

    8.5. Compilar un nuevo núcleo
    8.6. Recuperar un sistema roto

A. CÓMO de instalación

    A.1. Preliminares
    A.2. Arrancar el instalador

        A.2.1. Disco óptico
        A.2.2. Dispositivo de memoria USB
        A.2.3. Arranque desde la red
        A.2.4. Arrancar desde un disco duro

    A.3. Instalación
    A.4. Envíanos un informe de la instalación
    A.5. Y finalmente...

B. Instalar automáticamente utilizando preconfiguración

    B.1. Introducción

        B.1.1. Métodos de preconfiguración
        B.1.2. Limitaciones

    B.2. Utilizar la preconfiguración

        B.2.1. Cargar el fichero de preconfiguración
        B.2.2. Usar parámetros de arranque para preconfigurar preguntas
        B.2.3. Modo «auto»
        B.2.4. Abreviaturas útiles para la preconfiguración
        B.2.5. Ejemplos de preconfiguración del indicador de arranque
        B.2.6. Utilizar un servidor DHCP para especificar los ficheros de
            preconfiguración

    B.3. Crear un fichero de preconfiguración
    B.4. Contenidos del fichero de preconfiguración (para bullseye)

        B.4.1. Localización
        B.4.2. Configuración de red
        B.4.3. Consola de red
        B.4.4. Configuración de la réplica
        B.4.5. Configuración de cuentas de usuario
        B.4.6. Configuración del reloj y zona horaria
        B.4.7. Particionado
        B.4.8. Configuración del sistema base
        B.4.9. Configuración de APT
        B.4.10. Selección de paquetes
        B.4.11. Instalación del cargador de arranque
        B.4.12. Finalizar la instalación
        B.4.13. Preconfiguración de otros paquetes

    B.5. Opciones avanzadas

        B.5.1. Ejecutar órdenes personalizadas durante la instalación
        B.5.2. Utilizar la preconfiguración para cambiar valores por omisión
        B.5.3. Carga de ficheros de configuración en cadena

C. Particionado en Debian

    C.1. Deciendo sobre las particiones de Debian y tamaños
    C.2. Árbol de directorios
    C.3. Esquemas recomendados de particionado
    C.4. Nombres de dispositivos en Linux
    C.5. Programas para particionar en Debian

        C.5.1. Particionado en 64-bit PC

D. Información adicional

    D.1. Dispositivos en Linux

        D.1.1. Configurar su ratón

    D.2. Espacio en disco requerido para las tareas
    D.3. Instalar Debian GNU/Linux desde un sistema Unix/Linux

        D.3.1. Primeros pasos
        D.3.2. Instalar debootstrap
        D.3.3. Ejecutar debootstrap
        D.3.4. Configurar el sistema base
        D.3.5. Instalar un núcleo
        D.3.6. Configurar el gestor de arranque
        D.3.7. Acceso remoto: instalación de SSH y configurar el acceso
        D.3.8. Toques finales

    D.4. Instalar Debian GNU/Linux a través de una línea IP paralela (PLIP)

        D.4.1. Requisitos
        D.4.2. Configurar el sistema origen
        D.4.3. Instalar el objetivo

    D.5. Instalación de Debian GNU/Linux a través de PPP sobre Ethernet (PPPoE)

E. Información administrativa

    E.1. Acerca de este documento
    E.2. Cómo contribuir a este documento
    E.3. Contribuciones importantes
    E.4. Reconocimiento de las marcas registradas

F. Licencia pública general GNU

Lista de tablas

3.1. Información de hardware útil para una instalación
3.2. Requisitos mínimos de sistema recomendados

Instalar Debian GNU/Linux 11 en amd64

Estamos encantados de que haya decidido probar Debian, le aseguramos que
encontrará que la distribución GNU/Linux de Debian es única. Debian GNU/Linux
reúne software libre de alta calidad de diferentes partes del mundo,
integrándolo en un todo coherente. Estamos seguros que encontrará que el
resultado es mucho más que la suma de las partes.

Entendemos que puede que desee empezar a instalar Debian sin leer este manual,
de hecho, el instalador de Debian está diseñado de forma que esto sea posible.
Le recomendamos, si ahora no tiene tiempo de leer la guía de instalación
completa, que lea el CÓMO de la instalación, que le guiará a través de un
proceso de instalación básico, y le ofrecerá enlaces al manual para cuando
desee analizar temas más avanzados o cuando tenga problemas. Puede encontrar el
CÓMO de instalación en el Apéndice A, CÓMO de instalación.

Dicho esto, esperamos que tenga tiempo de leer la mayor parte de este manual;
si lo hace, podrá realizar una instalación con más información y probablemente
tenga como consecuencia una instalación con éxito y sin problemas.

Capítulo 1. Bienvenido a Debian

Tabla de contenidos

1.1. ¿Qué es Debian?
1.2. ¿Qué es GNU/Linux?
1.3. ¿Qué es Debian GNU/Linux?
1.4. ¿Qué es el instalador de Debian?
1.5. Obtener Debian
1.6. Obtener la última versión de este documento
1.7. Estructura de este documento
1.8. Sobre copyrights y licencias de software

Este capítulo ofrece una visión general del Proyecto Debian y de Debian GNU/
Linux. Si ya conoces la historia del Proyecto Debian y la distribución Debian
GNU/Linux, puedes pasar al siguiente capítulo.

1.1. ¿Qué es Debian?

Debian es una organización formada totalmente por voluntarios dedicada a
desarrollar software libre y promocionar los ideales de la comunidad del
software libre. El Proyecto Debian comenzó en 1993, cuando Ian Murdock hizo una
invitación a todos los desarrolladores de software a contribuir a una
distribución completamente coherente basada en el, entonces relativamente
nuevo, núcleo Linux. Ese grupo relativamente pequeño de entusiastas, al
principio patrocinados por la Free Software Foundation e influenciados por la
filosofía GNU, ha crecido a lo largo de los años hasta convertirse en una
organización de alrededor de 1000 desarrolladores Debian.

Los desarrolladores Debian están involucrados en una gran variedad de tareas,
incluyendo la administración de Web y FTP, diseño gráfico, análisis legal de
licencias de software, escribir documentación y, por supuesto, mantener
paquetes de software.

Con el interés de comunicar nuestra filosofía y atraer desarrolladores que
crean en los principios que Debian protege, el Proyecto Debian ha publicado un
número de documentos que contienen nuestros valores y sirven como guías de lo
que significa ser un desarrollador Debian:

  • El Contrato Social de Debian es una afirmación del compromiso de Debian con
    la comunidad de Software Libre. Cualquiera que esté de acuerdo en acogerse
    al Contrato Social puede convertirse en desarrollador. Cualquier
    desarrollador puede introducir software nuevo en Debian -- siempre que éste
    cumpla nuestro criterio de software libre, y cumpla con nuestros estándares
    de calidad.

  • El documento Directrices de Software Libre de Debian (DFSG) es un informe
    claro y conciso de los criterios de Debian sobre el software libre. La DFSG
    es de gran influencia en el movimiento del software libre, y proporciona
    las bases de la Definición de Open Source.

  • Las Normas de Debian son una especificación extensiva de los estándares de
    calidad del Proyecto Debian.

Los desarrolladores de Debian también están involucrados en otros proyectos;
algunos específicos de Debian, otros en los que está involucrado parte o toda
la comunidad Linux. Algunos ejemplos incluyen:

  • El Estándar para la jerarquía del sistema de ficheros (FHS) es un esfuerzo
    para estandarizar la distribución del sistema de ficheros de Linux. El FHS
    permitirá a desarrolladores de software concentrar sus esfuerzos en diseñar
    programas, sin tener que preocuparse sobre cómo se instalará su paquete en
    diferentes distribuciones de GNU/Linux.

  • Debian Jr. es nuestro proyecto interno, orientado a asegurarnos de que
    Debian tiene algo que ofrecer a nuestros usuarios más jóvenes.

Para más información general sobre Debian, vea las PUF de Debian.

1.2. ¿Qué es GNU/Linux?

GNU/Linux es un sistema operativo: un conjunto de programas que le permiten
interactuar con su ordenador y ejecutar otros programas.

Un sistema operativo consiste en varios programas fundamentales que necesita el
ordenador para poder comunicar y recibir instrucciones de los usuarios; tales
como leer y escribir datos en el disco duro, cintas, e impresoras; controlar el
uso de la memoria; y ejecutar otros programas. La parte más importante de un
sistema operativo es el núcleo. En un sistema GNU/Linux, Linux es el núcleo. El
resto del sistema consiste en otros programas, muchos de los cuales fueron
escritos por o para el proyecto GNU. Dado que el núcleo de Linux en sí mismo no
forma un sistema operativo funcional, preferimos utilizar el término "GNU/Linux
" para referirnos a los sistemas que la mayor parte de las personas llaman de
manera informal "Linux".

GNU/Linux está modelado como un sistema operativo tipo Unix. Desde sus
comienzos, GNU/Linux se diseñó para que fuera un sistema multi tarea y multi
usuario. Estos hechos son suficientes para diferenciar a GNU/Linux de otros
sistemas operativos más conocidos. Sin embargo, GNU/Linux es más diferente de
lo que pueda imaginar. Nadie es dueño de GNU/Linux, a diferencia de otros
sistemas operativos. Gran parte de su desarrollo lo realizan voluntarios de
forma altruista.

En 1984 comenzó el desarrollo de lo que más tarde sería GNU/Linux cuando la
Free Software Foundation (Fundación de software libre, N. del t.) comenzó a
desarrollar un sistema operativo libre de tipo Unix, llamado GNU.

El proyecto GNU ha desarrollado un conjunto de herramientas de software libre
para ser utilizados por Unix (tm) y sistemas operativos tipo Unix como GNU/
Linux. Estas herramientas permiten a los usuarios desarrollar tareas que van
desde las mundanas (como copiar o eliminar ficheros del sistema) a las arcanas
(como escribir y compilar programas o hacer edición sofisticada en una gran
variedad de formatos de documento).

Aunque hay muchos grupos e individuos que han contribuido a GNU/Linux, la Free
Software Foundation ha sido quien más ha contribuido. No sólo creó la mayor
parte de las herramientas que se utilizan en Linux sino también la filosofía y
comunidad que hizo que GNU/Linux fuera posible.

El núcleo Linux apareció por primera vez en 1991, cuando un estudiante de
informática finlandés llamado Linus Torvalds anunció en el grupo de noticias de
USENET comp.os.minix, una primera versión de un núcleo de reemplazo para Minix.
Para más referencias consulte la página de historia de Linux en Linux
Internacional.

Linus Torvalds sigue coordinando el trabajo de varios cientos de
desarrolladores con la ayuda de cierto número de responsables de subsistemas.
Existe una página oficial del núcleo Linux. Puede encontrar más información
sobre la lista de correo linux-kernel en el documento PUF de la lista de correo
«linux-kernel».

Los usuarios de GNU/Linux tienen una gran libertad al elegir sus programas. Por
ejemplo, pueden elegir entre docenas de distintos intérpretes de línea de
órdenes y varios entornos de escritorio. Tantas opciones confunden a veces a
los usuarios de otros sistemas operativos que no están acostumbrados a poder
modificar el intérprete de línea de órdenes o el entorno de escritorio.

Es menos probable que un sistema GNU/Linux se colapse, además tiene mejor
capacidad para ejecutar múltiples programas al mismo tiempo y es más seguro que
muchos otros sistemas operativos. Debido a estas ventajas, Linux es el sistema
operativo que ha experimentado mayor crecimiento en el mercado de los
servidores. Últimamente, Linux está empezando a ser popular entre los usuarios
domésticos y en empresas.

1.3. ¿Qué es Debian GNU/Linux?

La combinación de la filosofía y metodología de Debian, las herramientas GNU,
el núcleo Linux, y otro software libre importante, forman una distribución de
software única llamada Debian GNU/Linux. Esta distribución está formada por un
gran número de paquetes. Cada paquete en la distribución contiene ejecutables,
guiones, documentación e información de configuración, y tiene un encargado,
quien es el principal responsable de mantener el paquete actualizado, hacer un
seguimiento de los informes de fallo y comunicarse con los autores principales
del programa empaquetado. Nuestra gran base de usuarios en conjunto con nuestro
sistema de seguimiento de fallos aseguran que los problemas se encuentren y
resuelvan rápidamente.

La atención que pone Debian a los detalles nos permite producir una
distribución de alta calidad, estable y escalable. La instalación puede
configurarse fácilmente para cumplir diversas funciones, desde cortafuegos
reducidos al mínimo, a estaciones de trabajo científicas o servidores de red de
alto rendimiento.

Debian es especialmente popular entre los usuarios avanzados debido a su
excelencia técnica y compromiso con las necesidades y expectativas de la
comunidad Linux. Debian también introdujo muchas características a Linux, que
ahora son comunes.

Por ejemplo, Debian fue la primera distribución de Linux en incluir un sistema
de gestión de paquetes para permitir una fácil instalación y desinstalación del
software. Además, también fue la primera que podía actualizarse sin necesidad
de una reinstalación.

Debian continúa siendo líder en el desarrollo de Linux. Su proceso de
desarrollo es un claro ejemplo de lo bien que puede funcionar el modelo «Open
Source»; incluso para tareas tan complejas como construir y mantener todo un
sistema operativo.

Lo que más distingue a Debian de otras distribuciones GNU/Linux es su sistema
de gestión de paquetes. Estas herramientas otorgan al administrador de un
sistema Debian total control sobre los paquetes instalados, operativo
incluyendo la capacidad de instalar un sólo paquete o actualizar el sistema por
completo. También es posible proteger paquetes individualmente de forma que no
se actualicen. Incluso puede indicar al sistema de gestión de paquetes qué
programas ha compilado usted mismo y qué dependencias cumplen.

Para proteger su sistema contra "caballos de Troya" y otros programas
malévolos, los servidores de Debian verifican que los paquetes provienen de sus
auténticos encargados. Los desarrolladores de Debian también ponen gran cuidado
en configurarlos de forma segura. Se publican parches muy rápidamente si se
descubren problemas de seguridad en los paquetes ya distribuidos. Con el
sencillo sistema de actualización de Debian, puede descargar e instalar parches
de seguridad automáticamente a través de Internet.

El método principal, y el mejor, para obtener ayuda con su sistema Debian GNU/
Linux y comunicarse con los desarrolladores de Debian, es a través de las
diversas listas de correo gestionadas por el proyecto Debian (existen más de
322 al momento de escribir este documento). La manera más fácil de suscribirse
a una de estas listas es visitar la página de subscripción a las listas de
correo de Debian y rellenar el formulario que allí encontrará.

1.4. ¿Qué es el instalador de Debian?

El Instalador de Debian, también conocido como "d-i", es el programa que se
utiliza para instalar un sistema básico funcional de Debian. Este programa
proporciona soporte de una variedad de hardware incluyendo dispositivos
embebidos, portátiles, equipos de sobremesa y servidores. El programa también
ofrece una gran variedad de programas de software libre para distintos
propósitos.

La instalación se lleva a cabo respondiendo a una serie de preguntas básicas.
También dispone de un modo experto que le permite controlar todos los aspectos
de la instalación y de una funcionalidad avanzada para realizar instalaciones
automatizadas. El sistema de instalación se puede utilizar tal cual o con
adaptaciones a medida. La instalación puede realizarse desde múltiples fuentes:
USB, CD/DVD/Blu-Ray o desde la red. El instalador proporciona la instalación
traducida a más de 80 idiomas distintos.

El instalador tiene sus orígenes en el proyecto «boot-floppies», que mencionó
por primera vez Joey Hess en el año 2000. Desde entonces, el sistema de
instalación ha sido desarrollado de forma continua por voluntarios que lo han
mejorado y añadido más funcionalidades.

Puede encontrar más información en la página del Instalador de Debian, en el
Wiki y en la lista de correo de debian-boot.

1.5. Obtener Debian

Le sugerimos que consulte la página de distribución para obtener información
acerca de cómo obtener Debian GNU/Linux desde Internet o de cómo comprar
soportes de instalación oficiales de Debian. Además, en la lista de servidores
réplica oficiales de Debian podrá encontrar el servidor más próximo a usted.

Es muy fácil actualizar Debian después de la instalación. El procedimiento de
instalación de Debian le ayudará a configurar su sistema de forma que, si fuese
necesario, pueda realizar estas actualizaciones una vez que haya terminado la
instalación.

1.6. Obtener la última versión de este documento

Este documento está en constante revisión. Asegúrese de consultar las páginas
de Debian 11 para obtener información de última hora sobre la versión 11 del
sistema Debian GNU/Linux. Las últimas versiones de este documento también se
encuentran en las páginas oficiales del manual.

1.7. Estructura de este documento

Este documento se ha creado para servir de manual a aquellos que usen Debian
por primera vez. Se intenta hacer la menor cantidad de suposiciones posibles
sobre tus conocimientos. En cualquier caso, se da por hecho un conocimiento
general de cómo funciona el hardware de tu ordenador.

Los usuarios expertos pueden encontrar también interesante la información de
referencia de este documento, que incluye los tamaños mínimos para la
instalación, detalles sobre el hardware compatible con el sistema de
instalación de Debian, etc. Animamos a los usuarios expertos a explorar el
documento.

En general, este manual está dispuesto de forma lineal guiando al usuario a
través del proceso de instalación desde el principio hasta el final. A
continuación se indican los pasos a dar para instalar Debian GNU/Linux y las
secciones de este documento relacionadas con cada uno de éstos:

 1. Determine si su hardware cumple los requisitos para usar el sistema de
    instalación, según el Capítulo 2, Requisitos del sistema.

 2. Haga una copia de seguridad de su sistema y efectúe una planificación y
    configuración de hardware antes de instalar Debian, de acuerdo al
    Capítulo 3, Antes de instalar Debian GNU/Linux. Si está preparando un
    sistema múltiple (es decir, con varios sistemas operativos), puede que
    necesite crear espacio particionable en su disco duro para instalar Debian.

 3. En el Capítulo 4, Obtener el soporte de instalación del sistema, encontrará
    los ficheros de instalación necesarios para el método de instalación
    escogido.

 4. El siguiente Capítulo 5, Arranque del sistema de instalación describe cómo
    se arranca el sistema de instalación. Este capítulo también describe
    algunos procedimientos para depurar fallos en caso de que tenga problemas
    en este paso.

 5. Realice la instalación real de acuerdo al Capítulo 6, Usar el instalador de
    Debian. Esto incluye elegir su idioma, configurar los módulos de los
    controladores de los dispositivos periféricos, configurar su conexión de
    red de modo que los ficheros de instalación restantes se puedan obtener
    directamente desde un servidor de Debian (si no está instalando desde un
    conjunto de imágenes de instalación de CD/DVD), particionar su disco duro
    y, finalmente, realizar la instalación de un sistema base mínimo, después
    la selección e instalación de tareas. (En el Apéndice C, Particionado en
    Debian se indican algunos detalles a tener en cuenta con respecto a la
    configuración de las particiones en su sistema Debian.)

 6. Arranque en su nuevo sistema base instalado, conforme al Capítulo 7, 
    Arrancar desde su nuevo sistema Debian.

Una vez que tenga su sistema instalado, puede leer el Capítulo 8, Siguientes
pasos y dónde continuar. Dicho capítulo explica dónde buscar más información
sobre Unix y Debian, además de cómo reemplazar el núcleo de su sistema.

Finalmente, puede encontrar información sobre este documento y sobre cómo
contribuir en él en el Apéndice E, Información administrativa.

1.8. Sobre copyrights y licencias de software

Seguramente ha leído las licencias que acompañan a la mayoría del software
comercial -- generalmente afirman que sólo puede usar una copia del software en
un único equipo. La licencia del sistema Debian GNU/Linux no es como éstas. Le
animamos a que instale copias de Debian GNU/Linux en cualquier equipo de su
colegio o de su centro de trabajo. ¡Preste su medio de instalación a sus amigos
y ayúdeles a instalarlo en sus ordenadores! Incluso puede hacer miles de copias
y venderlas -- aunque con algunas restricciones. Esto es posible gracias a que
Debian está basado en software libre.

Software libre no quiere decir que éste carezca de copyright, ni tampoco que
los medios de instalación que contiene este software se debe distribuir sin
costes. Software libre, en parte, significa que las licencias de los programas
individuales no requieren de ningún pago por el derecho de distribución o uso
de los mismos. También significa que cualquiera puede extender, adaptar y
modificar este software, así como distribuir los resultados de su propio
trabajo.

Nota

El proyecto Debian, como concesión pragmática a sus usuarios, ha decidido dejar
disponibles algunos paquetes que no cumplen nuestro criterio de libertad. Sin
embargo, estos paquetes no son parte de la distribución oficial, y sólo están
disponibles en las secciones contrib ó non-free dentro de las réplicas de
Debian o bien en CD-ROM/DVD de terceros; consulte PUF de Debian, en la sección 
"Repositorios FTP de Debian", para más información acerca de la disposición y
el contenido de los ficheros.

La mayoría de los programas en el sistema están bajo la Licencia Pública
General de GNU, más comúnmente conocida como la "GPL". La licencia GPL requiere
que el código fuente de los programas esté disponible siempre que se distribuya
alguna copia de los binarios del programa; esta condición de la licencia,
asegura que cualquier usuario pueda modificar el programa. Por esta misma
razón, el código fuente^[1] de todos los programas está disponible en el
sistema Debian.

En Debian se usan una gran cantidad de declaraciones sobre derechos de autor y
licencias de programas. Puede encontrar el copyright de cada paquete instalado
en su sistema, revisando el fichero /usr/share/doc/nombre-paquete/copyright .

Para más información acerca de las licencias y cómo Debian determina si el
software es suficientemente libre para ser incluido en la distribución
principal, revise las Directrices de software libre de Debian (DFSG).

La parte más importante, legalmente hablando, es que el software viene sin
ninguna garantía. Los programadores que han creado este software lo han hecho
únicamente para el beneficio de la comunidad. No se da ninguna garantía en
cuanto a la conveniencia del software para ningún propósito específico. Sin
embargo, puesto que el software es libre, le animamos a modificar ese software
para satisfacer sus necesidades -- y para gozar de las ventajas de los cambios
realizados por otros, que de esta manera han extendido el software.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[1] Para más información acerca de cómo encontrar, desempaquetar, y construir
binarios desde paquetes fuente de Debian, revise PUF de Debian, en la sección
de "Conocimientos básicos sobre gestión de paquetes en Debian".

Capítulo 2. Requisitos del sistema

Tabla de contenidos

2.1. Hardware compatible

    2.1.1. Arquitecturas compatibles
    2.1.2. Compatibilidad de CPU
    2.1.3. Ordenadores portátiles
    2.1.4. Múltiples procesadores
    2.1.5. Soporte de hardware gráfico
    2.1.6. Hardware de conectividad de red
    2.1.7. Dispositivos Braille
    2.1.8. Dispositivos de Síntesis de Voz
    2.1.9. Periféricos y otro hardware

2.2. Dispositivos que requieren firmware
2.3. Adquisición de hardware específico para GNU/Linux

    2.3.1. Evite hardware cerrado o privativo

2.4. Medios de instalación

    2.4.1. CD-ROM/DVD-ROM/BD-ROM
    2.4.2. Dispositivo de memoria USB
    2.4.3. Red
    2.4.4. Disco duro
    2.4.5. Sistema Un*x o GNU
    2.4.6. Sistemas de almacenamiento aceptados

2.5. Requisitos de memoria y espacio en disco

Esta sección contiene información sobre el hardware necesario para empezar con
Debian. También encontrará enlaces a más información sobre el hardware
compatible con GNU y Linux.

2.1. Hardware compatible

Debian no impone requisitos de hardware más allá de los que establecen el
núcleo Linux o kFreeBSD y el conjunto de herramientas GNU. En cualquier caso,
cualquier arquitectura o plataforma a la que se haya adaptado el núcleo Linux o
kFreeBSD, libc, gcc, etc., y para los que exista una adaptación de Debian,
puede ejecutar Debian. Por favor, diríjase a las páginas de adaptaciones en
https://www.debian.org/ports/amd64/ para más información sobre sistemas de
arquitectura 64-bit PC probados con Debian GNU/Linux.

En lugar de intentar describir las diferentes configuraciones de hardware
compatibles con 64-bit PC, esta sección contiene información general y
referencias adicionales donde puede encontrar más información.

2.1.1. Arquitecturas compatibles

Debian GNU/Linux 11 permite el uso de 9 arquitecturas principales y algunas
variaciones de cada arquitectura conocidas como "sabores".

┌───────────────────────┬───────────────┬──────────────────────────┬──────────┐
│     Arquitectura      │    Debian     │     Subarquitectura      │  Sabor   │
│                       │  Designación  │                          │          │
├───────────────────────┼───────────────┼──────────────────────────┼──────────┤
│AMD64 e Intel 64       │amd64          │                          │          │
├───────────────────────┼───────────────┼──────────────────────────┼──────────┤
│                       │               │máquinas x86 por defecto  │por       │
│Basada en Intel x86    │i386           │                          │defecto   │
│                       │               ├──────────────────────────┼──────────┤
│                       │               │Sólo dominios Xen PV      │xen       │
├───────────────────────┼───────────────┼──────────────────────────┼──────────┤
│ARM                    │armel          │Marvell Kirkwood y Orion  │marvell   │
├───────────────────────┼───────────────┼──────────────────────────┼──────────┤
│ARM con hardware FPU   │armhf          │multiplataform            │armmp     │
├───────────────────────┼───────────────┼──────────────────────────┼──────────┤
│64bit ARM              │arm64          │                          │          │
├───────────────────────┼───────────────┼──────────────────────────┼──────────┤
│                       │               │MIPS Malta                │5kc-malta │
│64bit MIPS             │               ├──────────────────────────┼──────────┤
│(«little-endian»)      │mips64el       │Cavium Octeon             │octeon    │
│                       │               ├──────────────────────────┼──────────┤
│                       │               │Loongson 3                │loongson-3│
├───────────────────────┼───────────────┼──────────────────────────┼──────────┤
│                       │               │MIPS Malta                │4kc-malta │
│32bit MIPS             │               ├──────────────────────────┼──────────┤
│(«little-endian»)      │mipsel         │Cavium Octeon             │octeon    │
│                       │               ├──────────────────────────┼──────────┤
│                       │               │Loongson 3                │loongson-3│
├───────────────────────┼───────────────┼──────────────────────────┼──────────┤
│Power Systems          │ppc64el        │IBM POWER8 o máquinas más │          │
│                       │               │nuevas                    │          │
├───────────────────────┼───────────────┼──────────────────────────┼──────────┤
│IBM S/390 64bit        │s390x          │IPL del lector VM y DASD  │genérico  │
└───────────────────────┴───────────────┴──────────────────────────┴──────────┘

Este documento cubre la instalación para la arquitectura 64-bit PC usando el
núcleo Linux. Si busca información sobre cualquiera de las otras arquitecturas
compatibles con Debian consulte las páginas de las adaptaciones de Debian.

2.1.2. Compatibilidad de CPU

Se permiten tanto los procesadores AMD64 como los procesadores Intel 64.

2.1.3. Ordenadores portátiles

Desde un punto de vista técnico, los ordenadores portátiles son PC normales, y
por ello toda la información relativa a sistemas PC también se aplica a los
portátiles. Actualmente, las instalaciones en portátil funcionan habitualmente
sin configuraciones especiales, incluyendo la suspensión del sistema al cerrar
el portátil, y botones específicos a portátiles como la desactivación de
interfaz WiFi ("modo avión"). Por otra parte, a veces los proveedores de
hardware utilizan hardware especializado o propietario para algunas funciones
específicas de portátil que no es compatible. Para ver si su ordenador portátil
funciona bien con GNU/Linux, consulte las páginas de portátiles en Linux.

2.1.4. Múltiples procesadores

Se permite el uso de múltiples procesadores (también llamado "
multi-procesamiento simétrico" o SMP) con esta arquitectura. La imagen estándar
del núcleo de Debian 11 ha sido compilada con compatibilidad con
SMP-alternatives. Esto implica que el núcleo detectará el número de
procesadores (o núcleos de procesador) y desactivará SMP de forma automática
para sistemas de un solo procesador.

Tener múltiples procesadores en un ordenador era originalmente sólo un problema
para los sistemas de servidores de gama alta, pero se ha vuelto común en los
últimos años en casi todos los lugares con la introducción de los llamados
procesadores "multi-core". Éstos contienen dos o más unidades de procesador,
llamadas "cores", en un solo chip físico.

2.1.5. Soporte de hardware gráfico

el soporte Debian para interfaces gráficas está determinado por el soporte
subyacente que se encuentra en el sistema X11 de X.Org, y en el kernel. El
kernel proporciona los gráficos básicos del framebuffer, mientras que los
entornos de escritorio utilizan X11. La disponibilidad de funciones avanzadas
de la tarjeta gráfica, como la aceleración de hardware 3D o el vídeo acelerado
por hardware, depende del hardware gráfico real utilizado en el sistema y, en
algunos casos, de la instalación de elementos adicionales "firmware" (véase
Sección 2.2, "Dispositivos que requieren firmware").

En los PC modernos, tener una pantalla gráfica generalmente funciona fuera de
la caja. Para un montón de hardware, la aceleración 3D también funciona bien
fuera de la caja, pero todavía hay algún hardware que necesita bloques de
firmware binario para funcionar bien. En algunos casos se ha informado de
hardware que requería la instalación de firmware adicional de tarjetas gráficas
incluso para el soporte gráfico básico.

Los detalles sobre el hardware gráfico y los dispositivos de señalización
compatibles se encuentran en https://wiki.freedesktop.org/xorg/. Debian 11
incluye la versión de X.Org 7.7.

2.1.6. Hardware de conectividad de red

Casi cualquier tarjeta de interfaz de red (también llamadas «network interface
card» o NIC, n. del t.) compatible con el núcleo de Linux es también compatible
con el sistema de instalación. Por regla general, los controladores modulares
se cargarán automáticamente. Esto incluye la mayoría de las tarjetas PCI/
PCI-Express y tarjetas PCMCIA/Express en portátiles.

Se permite el uso de RDSI, pero no durante la instalación.

2.1.6.1. Tarjetas de red inalámbrica

En la mayoría de los casos, las tarjetas de red inalámbrica son compatibles. El
núcleo oficial de Linux permite un número creciente de adaptadores
inalámbricos, aunque muchos necesitan que se cargue primero su «firmware».

El instalador le pedirá que cargue «firmware» si se considera necesario. Para
una información detallada de cómo cargar firmware durante la instalación
consulte Sección 6.4, "Carga de Firmware adicional".

Aunque puede hacer funcionar en Debian GNU/Linux muchos adaptadores de red
inalámbricos que no son compatibles con el núcleo oficial de Linux, no estarán
disponibles durante el proceso de instalación.

En cualquier caso, puede instalar Debian GNU/Linux utilizando una imagen
completa de CD-ROM o DVD si no puede utilizar ninguna otra tarjeta de red.
Rechace la opción de configurar la red e instale el sistema sólo con los
paquetes disponibles en el CD/DVD. Una vez haya hecho esto podrá instalar el
controlador y el «firmware» que necesite después de terminar la instalación
(después del reinicio del sistema) y configurar la red manualmente.

En algunos casos el controlador que necesita puede no estar disponible como
paquete Debian. Deberá comprobar si existe código fuente disponible en Internet
y compilar el controlador usted mismo. Cómo hacer esto está fuera del ámbito de
este manual. Si no hay ningún controlador de Linux disponible puede utilizar
como último recurso el paquete ndiswrapper que le permite utilizar un
controlador de Windows.

2.1.7. Dispositivos Braille

La compatibilidad de brltty determina el uso de dispositivos braille. La
mayoría de dispositivos funcionan con brltty, vía un puerto serial, USB o
Bluetooth. Puede encontrar los detalles de los dispositivos braille en el sitio
web de brltty. Debian GNU/Linux 11 ofrece la versión 6.3 de brltty.

2.1.8. Dispositivos de Síntesis de Voz

La compatibilidad que ofrece speakup determina la compatibilidad con
dispositivos de síntesis de voz. speakup acepta únicamente tarjetas integradas
y dispositivos externos conectados a un puerto serial (no hay compatibilidad
con USB, adaptadores serial-a-USB o PCI). Puede encontrar los detalles de los
dispositivos compatibles en el sitio web de speakup. Debian GNU/Linux 11 ofrece
la versión 3.1.6 de speakup.

2.1.9. Periféricos y otro hardware

Linux soporta una gran variedad de dispositivos de hardware como ratones,
impresoras, escáneres, PCMCIA/CardBus/ExpressCard y dispositivos USB. Sin
embargo, la mayoría de estos dispositivos no son necesarios durante la
instalación del sistema.

Habitualmente, el hardware USB funciona correctamente. En algunos sistemas PC
muy antiguos, puede que sea necesaria una configuración adicional para algunos
teclados USB (consulte Sección 3.6.6, "Problemas de hardware a tener en cuenta"
). En sistemas PC modernos, los teclados y ratones USB funcionan sin necesitar
una configuración específica.

2.2. Dispositivos que requieren firmware

Además de la disponibilidad de un controlador de dispositivo, algún hardware
también requiere el llamado firmware o microcode, que se debe cargar en el
dispositivo antes de ser funcional. Esto es muy común para tarjetas de interfaz
red (especialmente NIC inalámbricas), aunque algunos dispositivos USB e incluso
ciertos controladores de discos duros también requieren firmware.

Con muchas tarjetas gráficas, la funcionalidad básica está disponible sin
firmware adicional, pero el uso de funciones avanzadas requiere instalar en el
sistema un archivo de firmware adecuado . En algunos casos, una buena
instalación aún puede terminar en una pantalla negra o una pantalla caótica al
reiniciar el sistema instalado. Si eso sucede, algunos arreglos de trabajo se
pueden intentar al iniciar sesión de todos modos (ver Sección 6.4.3,
"Completando el Sistema Instalado").

En muchos dispositivos antiguos que requieren «firmware» para su
funcionamiento, los ficheros de «firmware» se almacenaban por el fabricante de
forma permanente en un procesador EEPROM/Flash en el mismo dispositivo.
Actualmente, la mayoría de dispositivos no integran el «firmware» de esta
forma, y por ello el fichero de «firmware» si debe cargar en el dispositivo por
el sistema operativo anfitrión durante cada arranque del sistema.

En la mayoría de los casos el «firmware» es no-libre de acuerdo con los
criterios usados por el proyecto Debian GNU/Linux y por lo tanto no puede
incluirse en la distribución principal o en el sistema de instalación. Si el
controlador del dispositivo está incluido en la distribución y si Debian GNU/
Linux legalmente puede distribuir el «firmware», es usual que esté disponible
como un paquete separado en la sección non-free del archivo de Debian GNU/
Linux.

Aunque esto no quiere decir que estos dispositivos no puedan usarse durante una
instalación. Desde Debian GNU/Linux 5.0, el debian-installer permite la carga
de ficheros de «firmware» o paquetes que contienen el «firmware» de un medio
extraíble, como por ejemplo una memoria USB. Para obtener información detallada
de cómo cargar los ficheros de firmware o paquetes durante la instalación
consulte Sección 6.4, "Carga de Firmware adicional".

Puede intentar continuar sin cargar el firmware si debian-installer solicita un
fichero de «firmware», y no dispone de ese fichero, o si no desea instalar un
fichero de «firmware» no libre en su sistema. Hay varios casos en los que el
controlador solicita «firmware» adicional por ser necesario en determinadas
circunstancias, pero el dispositivo puede funcionar sin él en la mayoría de
sistemas (esto ocurre, por ejemplo, con algunas tarjetas de red que utilizan el
controlador tg3).

2.3. Adquisición de hardware específico para GNU/Linux

Existen algunos fabricantes que entregan sus sistemas con Debian u otra
distribución de GNU/Linux preinstalada. Quizás tenga que pagar más por este
privilegio, pero esto le garantiza una cierta tranquilidad de espíritu puesto
que puede estar seguro de que su hardware es totalmente compatible con GNU/
Linux.

Si tiene que comprar una máquina con Windows incluido, lea detenidamente la
licencia de software que viene con Windows; es posible que pueda rechazar la
licencia y obtener un reembolso de su proveedor. Buscar en Internet por "
reembolso de Windows" puede proporcionarle información útil para ayudarle con
eso.

Es importante que compruebe que su hardware es compatible con el núcleo Linux,
ya sea si está adquiriendo un sistema con Linux preinstalado o no, o incluso un
sistema usado. Compruebe si su hardware está listado en las referencias citadas
anteriormente. Haga saber a su vendedor (si lo hay) que está comprando un
equipo para instalar Linux. Apoye a los fabricantes de hardware que ofrecen
compatibilidad con Linux.

2.3.1. Evite hardware cerrado o privativo

Algunos fabricantes de hardware simplemente no nos dirán cómo escribir
controladores para su hardware, o no nos permiten acceder a la documentación
sin un acuerdo de no divulgación que nos impediría publicar el código fuente
del controlador, uno de los elementos esenciales del software libre. Debido a
que no se nos ha ofrecido el acceso a documentación útil sobre estos
dispositivos, sencillamente no funcionan con Linux.

En muchas situaciones hay estándares (o al menos estándares de hecho) que
describen la forma en que un sistema operativo y los controladores de sus
dispositivos se comunican con un cierto tipo de dispositivos. Todos los
dispositivos que cumplen tal estándar (de hecho) se pueden utilizar con un
único controlador genérico de dispositivo, y no se requiere ningún controlador
específico de dispositivo. Esto funciona muy bien para algunos tipos de
hardware (como por ejemplo "dispositivos de interfaz humana (HID)" USB como
teclados, ratón y otros, y dispositivos de almacenamiento USB como discos flash
USB y lectores de tarjeta de memoria) y prácticamente todos los dispositivos
vendidos en el mercado cumple con estándares.

Desafortunadamente, en otros campos, entre ellos el de las impresoras, este no
es el caso. Aunque hay muchas impresoras que pueden funcionar con un pequeño
conjunto de lenguaje de control estándar (de hecho) sin problemas en cualquier
sistema operativo, hay varios modelos que solo aceptan órdenes de control
privativos que no se detallan en ninguna documentación, y por ello no se pueden
utilizar en sistemas operativos libres, o solo se pueden utilizar con un
controlador de código propietario proporcionado por el proveedor.

Incluso si hay un controlador de código propietario proporcionado por el
fabricante para un dispositivo de hardware al comprar el producto, la vida útil
del dispositivo está limitado a la disponibilidad del controlador. Actualmente,
los ciclos de un producto son más cortos, y no es extraño que tras un breve
período después de finalizar la producción del dispositivo, el fabricante no
ofrezca más actualizaciones del controlador. Si el antiguo controlador de
código propietario no funciona después de una actualización del sistema, un
dispositivo funcionalmente perfecto se vuelve inútil por la falta un
controlador, y en este caso nada se puede hacer. Por ello, debe evitar comprar
hardware propietario en primer lugar, sin importar el sistema operativo con el
que lo vaya a utilizar.

Puede ayudar a mejorar esta situación animando a fabricantes de hardware
propietario para publiquen la documentación y otros recursos necesarios para
que podamos proporcionar controladores libres para su hardware.

2.4. Medios de instalación

Esta sección le ayudará a determinar los diferentes tipos de medio que puede
usar para instalar Debian. Existe un capítulo entero dedicado a este asunto, el
Capítulo 4, Obtener el soporte de instalación del sistema, que lista las
ventajas y desventajas de cada tipo de medio. Puede que desee regresar a esta
página una vez que consulte esa sección.

2.4.1. CD-ROM/DVD-ROM/BD-ROM

La instalación mediante disco óptico es compatible con la mayoría de las
arquitecturas.

En PC se admiten unidades ópticas SATA, IDE/ATAPI, USB y SCSI, así como los
dispositivos FireWire que admitan los controladores ohci1394 y sbp2.

2.4.2. Dispositivo de memoria USB

Los discos flash USB o dispositivos de memoria USB se han convertido en un
dispositivo de almacenamiento extendido y barato. La mayoría de sistemas
informáticos modernos permiten el arranque de debian-installer desde tales
dispositivos. Muchos sistemas informáticos modernos, en particular netbooks y
portátiles ligeros, ya no incorporan un dispositivo óptico, y el arranque desde
un medio USB es el modo estándar de instalación de un nuevo sistema operativo.

2.4.3. Red

Puede utilizarse la red durante la instalación para recuperar los ficheros para
la instalación. El que se utilice la red o no depende del mecanismo de
instalación que escoja y de sus respuestas a algunas preguntas que se le
realizarán durante la instalación. Este sistema de instalación puede utilizar
la mayor parte de las conexiones de red (incluyendo PPPoE, pero no RDSI ó PPP)
a través tanto de HTTP como FTP. Una vez haya terminado la instalación podrá
configurar su sistema para que utilice RDSI y PPP.

También puede arrancar el sistema de instalación a través de la red sin
necesidad de un medio local como CD/DVD o dispositivos USB. Si ya dispone de
una infraestructura netboot (esto es, ejecuta servicios DHCP y TFTP en su red),
puede realizar una instalación sencilla y rápido en varias máquinas. La
configuración de la infraestructura necesaria requiere un cierto nivel de
conocimientos técnicos, y no se recomienda para usuarios inexpertos.

Otra opción es la instalación sin disco, basada en el arranque a través de red
desde una red de área local y en el montaje a través de NFS de todos los
sistemas de ficheros locales.

2.4.4. Disco duro

El arranque del sistema de instalación desde el disco duro es otra opción para
muchas arquitecturas. Para esto necesitará tener algún otro sistema operativo
instalado para cargar el instalador en el disco duro. Este método se recomienda
solo para casos especiales cuando no se dispone de ningún otro método de
instalación.

2.4.5. Sistema Un*x o GNU

Puede utilizar otro sistema operativo tipo Unix para instalar Debian GNU/Linux
sin necesidad de usar el debian-installer que se describe en el resto de este
manual. Este tipo de instalación puede ser útil para usuarios con hardware no
compatible o en máquinas que no pueden dejar de dar servicio en ningún momento.
Si está interesado en este método, pase a la Sección D.3, "Instalar Debian GNU/
Linux desde un sistema Unix/Linux". Esta forma de instalación solo se
recomienda para usuarios avanzados cuando no se dispone de ningún otro método
de instalación.

2.4.6. Sistemas de almacenamiento aceptados

El instalador de Debian incorpora un núcleo construido para maximizar el número
de sistemas en los que puede funcionar.

Habitualmente, el sistema de instalación de Debian permite el uso de unidades
IDE (también llamadas PATA), controladores y unidades SATA y SCSI, USB y
FireWire. Los sistemas de ficheros permitidos incluyen FAT, extensiones FAT
Win-32 (VFAT) y NTFS.

2.5. Requisitos de memoria y espacio en disco

Debe tener al menos 780MB de memoria y 920MB espacio de disco duro para
realizar una instalación normal. Tenga en cuenta que éstos son los mínimos
absolutos. Si desea valores más reales consulte Sección 3.4, "Cumplir los
requisitos mínimos de hardware". Para un sistema mínimo basado en consola
(todos los paquetes estándar), se requiere 250 MB. Si quiere instalar una
cantidad razonable de software, incluyendo el sistema de ventanas X, y algunos
programas y bibliotecas de desarrollo, necesitará al menos 400 MB. Para una
instalación más o menos completa de un sistema de escritorio, necesitará unos
cuantos gigabytes.

El instalador normalmente habilita automaticamente trucos de ahorro de memoria
para poder ejecutarse en sistema de baja-memoria, pero sobre arquitecturas
menos testeadas podria no funcionar. De todas formas puede ser habilitado
manualmente agregando el comando lowmem=1 o incluso lowmem=2 en los parametro
de arranque(ver tambienSección 6.3.1.1, "Comprobación de la memoria disponible
/ modo de baja memoria" y Sección 5.3.2, "Parámetros del instalador de Debian"
).

Instalación en sistemas con menos memoria^[2] o podría ser espacio de disco
disponible pero sólo se aconseja para los usuarios experimentados.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[2] Las imágenes de instalación que soportan el instalador gráfico requieren
más memoria que las imágenes que soportan sólo el instalador basado en texto y
no deben usarse en sistemas con menos de la memoria mínima. Si hay una opción
entre arrancar el instalador basado en texto y el instalador gráfico, se debe
seleccionar el primero en tales sistemas.

Capítulo 3. Antes de instalar Debian GNU/Linux

Tabla de contenidos

3.1. Descripción del proceso de instalación
3.2. ¡Haga copias de seguridad de su información actual!
3.3. Información que necesitará

    3.3.1. Documentación
    3.3.2. Encontrar fuentes de información de hardware
    3.3.3. Compatibilidad de hardware
    3.3.4. Configuración de la red

3.4. Cumplir los requisitos mínimos de hardware
3.5. Preparticionado para sistemas multiarranque
3.6. Preinstalación de hardware y configuración del sistema operativo

    3.6.1. Utilización del menú de configuración de la BIOS/UEFI
    3.6.2. Selección de dispositivo de arranque
    3.6.3. Sistemas con firmware UEFI
    3.6.4. Arranque seguro («Secure boot»)
    3.6.5. Desactivando el "arranque rápido"/"inicio rápido" de Windows
    3.6.6. Problemas de hardware a tener en cuenta

Este capítulo describe la preparación para la instalación de Debian antes de
iniciar el instalador. Esto incluye realizar copias de seguridad de datos,
reunir información sobre su hardware y localizar cualquier información
necesaria.

3.1. Descripción del proceso de instalación

Antes de nada, una nota sobre reinstalaciones: con Debian es muy raro que se
produzca una circunstancia que requiera la reinstalación completa de su
sistema. El caso más común es un fallo mecánico en el disco duro de su sistema.

Muchos sistemas operativos habituales exigen que se realice una instalación
completa cuando se producen fallos críticos o cuando es necesario actualizar a
nuevas versiones del sistema operativo. Incluso aunque no sea necesaria una
instalación completa, a menudo los programas se deben reinstalar para que
funcionen correctamente en el nuevo sistema operativo.

En Debian GNU/Linux es más probable, si tiene un problema, que pueda reparar su
sistema operativo en lugar de reemplazarlo. Las actualizaciones nunca requieren
una reinstalación total, siempre podrá actualizar sobre el mismo sistema. Los
programas casi siempre son compatibles con las versiones sucesivas del sistema
operativo. Si una nueva versión del programa requiere software adicional, el
sistema de paquetes de Debian se asegura que todo el software necesario sea
automáticamente identificado e instalado. El hecho es que se ha dedicado mucho
esfuerzo para evitar la necesidad de reinstalar un sistema, considérelo su
última opción. El instalador no está diseñado para reinstalar sobre un sistema
existente.

Esta es una pequeña guía de los pasos por los que pasará durante el proceso de
instalación.

 1. Realice una copia de seguridad de los datos o documentación existentes en
    el disco duro donde planea realizar la instalación.

 2. Reúna información sobre su sistema, así como toda la documentación que
    necesite antes de iniciar la instalación.

 3. Localice y/o descargue el programa del instalador así como los ficheros de
    cualquier controlador especializado que su máquina necesite.

 4. Configure un dispositivo de arranque como CD/DVD/dispositivo USB, o
    proporcione una infraestructura de arranque por red desde el que arrancar
    el instalador.

 5. Arranque el sistema de instalación.

 6. Elija el idioma para la instalación.

 7. Active la conexión de red, si está disponible.

 8. Si es necesario, redimensione las particiones existentes en el disco duro
    de destino para liberar espacio para la instalación.

 9. Cree y monte las particiones en las que instalará Debian.

10. Espere a la descarga/instalación/configuración automática del sistema base.

11. Seleccione e instale software adicional.

12. Instale un gestor de arranque que pueda iniciar Debian GNU/Linux y/o su
    sistema existente.

13. Inicie por primera vez el sistema que acaba de instalar.

Tiene la opción de usar una versión del sistema de instalación gráfico en 
64-bit PC. Consulte Sección 5.1.8, "El Instalador Gráfico" si desea más
información sobre este instalador gráfico.

Si tiene problemas durante la instalación, es muy útil saber qué paquetes están
involucrados en cada paso. A continuación le presentamos a los «actores
principales» en el «drama» de la instalación:

Este manual trata sobre el programa de instalación debian-installer. Detecta el
hardware y carga los controladores apropiados, usa dhcp-client para configurar
la conexión de red, ejecuta debbootstrap para instalar los paquetes del sistema
base y tasksel para que pueda seleccionar algunos programas adicionales. Muchos
otros programas realizan pequeñas partes de este proceso, pero debian-installer
termina su tarea en el momento en que inicia por primera vez su nuevo sistema.

Puede ajustar el sistema a sus necesidades con tasksel, que le permite escoger
dentro de un conjunto de grupos de programas predeterminados, tales como los
necesarios para disponer de un servidor Web o de un entorno de escritorio.

Una opción importante durante la instalación es si se realiza o no la
instalación del entorno de escritorio gráfico, que está formado por el sistema
X Window y alguno de los entornos de escritorio gráficos disponibles. Si elige
no instalar la tarea "Entorno de escritorio" dispondrá únicamente de un sistema
muy básico de interfaz de línea de órdenes. La instalación del entorno de
escritorio es opcional porque ocupa una cantidad significativa de disco
comparado con un sistema basado solo en texto, y porque muchos sistemas Debian
GNU/Linux son servidores que realmente no necesitan una interfaz gráfica de
usuario para hacer su trabajo.

Debe saber que el sistema X Window está completamente separado del
debian-installer y de hecho es mucho más complicado. La instalación y solución
de problemas del sistema X Window no se encuentra dentro del alcance de este
manual.

3.2. ¡Haga copias de seguridad de su información actual!

Antes de empezar, asegúrate de efectuar una copia de seguridad de todos los
ficheros que actualmente están en tu sistema. Si esta es la primera vez que se
instala un sistema operativo no nativo en tu ordenador, es probable que
necesites reparticionar tu disco para hacer espacio para Debian GNU/Linux. Cada
vez que particiones un disco, debes tener en cuenta que corres el riesgo de
perder todos los datos que hay en el disco, sin importar qué programa uses para
efectuar esta tarea. Los programas usados en la instalación son dignos de
confianza y la mayoría llevan usándose durante años; aun así, cualquier
movimiento en falso puede tener consecuencias. Ten cuidado y medita cada una de
tus respuestas y acciones incluso después de haber hecho una copia de
seguridad. Pensar durante dos minutos una acción pueden ahorrarte horas de
trabajo innecesario más adelante.

Incluso si está creando un sistema con arranque múltiple, asegúrese de tener
disponible el medio de distribución de cualquier otro sistema operativo
presente. Aunque habitualmente no sea necesario, hay casos en los que debe
reinstalar el gestor de arranque del sistema operativo para arrancar el
sistema, o en el peor de los casos reinstalar el sistema operativo completo y
restablecer la copia de seguridad creada anteriormente.

3.3. Información que necesitará

3.3.1. Documentación

3.3.1.1. Manual de instalación

El documento que está leyendo ahora, en formato ASCII, HTML o PDF.

  • install.es.txt

  • install.es.html

  • install.es.pdf

3.3.1.2. Documentación de hardware

Habitualmente contiene información útil sobre cómo configurar o usar su
hardware.

  • La página de hardware de Debian Wiki

3.3.2. Encontrar fuentes de información de hardware

En muchos casos, el instalador será capaz de detectar automáticamente su
hardware. Pero esté preparado, le recomendamos que se familiarice con su
hardware antes de la instalación.

Puede obtener información de su hardware desde:

  • Los manuales que vienen con cada pieza de hardware.

  • Las pantallas de configuración de la BIOS/UEFI del ordenador. Puede ver
    estas pantallas cuando lo arranca y presiona una combinación de teclas.
    Consulte su manual para saber la combinación. Habitualmente, es la tecla 
    Suprimir o F2, pero algunos fabricantes utilizan otras teclas o
    combinaciones de teclado. Generalmente, durante el arranque se muestra un
    mensaje que indica la tecla que pulsar para acceder a la pantalla de
    configuración.

  • Las cajas y cubiertas de cada pieza de hardware.

  • La ventana del sistema en el panel de control de Windows.

  • Órdenes del sistema o herramientas de otros sistemas operativos, incluyendo
    las capturas de pantallas de los gestores de ficheros. Esta fuente de
    información es especialmente útil para obtener información sobre la memoria
    RAM y el espacio disponible en el disco duro.

  • Su administrador de sistemas o proveedor de servicio de Internet.
    Cualquiera de éstos puede decirle la configuración necesaria para
    configurar su red y su correo electrónico.

Tabla 3.1. Información de hardware útil para una instalación

┌─────────────────┬─────────────────────────────────────────────────────┐
│    Hardware     │          Información que podría necesitar           │
├─────────────────┼─────────────────────────────────────────────────────┤
│                 │El número de discos que tiene.                       │
│                 ├─────────────────────────────────────────────────────┤
│                 │Su orden en el sistema.                              │
│                 ├─────────────────────────────────────────────────────┤
│                 │Si es IDE (también conocido como PATA), SATA ó SCSI. │
│Discos duros     ├─────────────────────────────────────────────────────┤
│                 │Espacio libre disponible.                            │
│                 ├─────────────────────────────────────────────────────┤
│                 │Particiones.                                         │
│                 ├─────────────────────────────────────────────────────┤
│                 │Particiones con otros sistemas operativos instalados.│
├─────────────────┼─────────────────────────────────────────────────────┤
│Interfaces de red│Tipo/modelo de las interfaces de red disponibles.    │
├─────────────────┼─────────────────────────────────────────────────────┤
│Impresora        │Modelo y fabricante.                                 │
├─────────────────┼─────────────────────────────────────────────────────┤
│Tarjeta de vídeo │Tipo/modelo y fabricante.                            │
└─────────────────┴─────────────────────────────────────────────────────┘


3.3.3. Compatibilidad de hardware

Los productos de muchas marcas funcionan sin problemas con Linux. Además, la
compatibilidad de hardware con Linux mejora continuamente. Sin embargo, Linux
todavía no funciona con tantos tipos de hardware como otros sistemas
operativos.

En la mayoría de los casos, los controladores en Linux no se escriben para un "
producto" o "marca" determinada de un fabricante específico, para un tipo de
hardware/chipset. Muchos productos/marcas aparentemente distintos se basan en
el mismo diseño de hardware; no es extraño que los fabricantes de chip
proporcionen los llamados "diseños de referencia" para productos basados en sus
chip, que se utilizan por varios fabricantes de dispositivo, y se comercializan
bajo distintos nombres de producto o marca.

Esto ofrece ventajas y desventajas. Una ventaja es que un controlador para un
chipset funciona para varios productos distintos de varios fabricantes, siempre
y cuando el producto esté basado en el mismo chipset. La desventaja es que no
siempre es sencillo ver el chipset real utilizado con un producto/marca
específica. Desafortunadamente, a veces los fabricantes de dispositivos
modifican la base de hardware de su producto sin cambiar el nombre del
producto, o al menos el número de versión, y en el caso de poseer dos artículos
con el mismo nombre de marca/producto adquiridos en distintos momentos, pueden
estar basados en dos chipset distintos, y por ello utilizar dos controladores
distintos, o puede que no exista un controlador para todas las variantes.

Para dispositivos USB y PCI/PCI-Express/ExpressCard, una buena manera de
averiguar el chipset en el que se basan es ver los ID de dispositivo. Todos los
dispositivos USB/PCI/PCI-Express/ExpressCard poseen los llamados ID
(identificador) de "proveedor" y "producto", y la combinación de ambos suele
ser el mismo para todos los productos basados en el mismo chipset.

En sistemas Linux, estos ID se pueden leer con la orden lsusb para dispositivos
USB, y con la orden lspci -nn para dispositivos PCI/PCI-Express/ExpressCard. El
ID del fabricante y del producto se suelen proporcionar en la forma de dos
números hexadecimales, separados por dos puntos, como por ejemplo "2d6b:0001".

Un ejemplo de la salida de lsusb: "Bus 001 Device 001: ID 1d6b:0002 Linux
Foundation 2.0 root hub", donde 1d6b es el ID del fabricante y 0002 es el ID
del producto.

Un ejemplo de la salida de lspci -nn para un tarjeta de Ethernet: "03:00.0
Ethernet controller [0200]: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI
Express Gigabit Ethernet controller [10ec:8168] (rev 06)". Los ID se
proporcionan dentro de los corchetes que se encuentran más hacia la derecha;
esto es, en este ejemplo, 10ec es el fabricante y 8168 es el ID del producto.

Como otro ejemplo, una tarjeta de vídeo puede proporcionar la siguiente salida:
"04:00.0 VGA compatible controller [0300]: Advanced Micro Devices [AMD] nee ATI
RV710 [Radeon HD 4350] [1002:954f]".

En sistemas Windows, el ID de un dispositivo se puede averiguar mediante el
administrador de dispositivos de Windows en la pestaña "detalles", donde el ID
del fabricante tiene el prefijo VEN_, y el ID del producto tiene el prefijo
DEV_. En sistemas Windows 7, debe seleccionar la propiedad "ID de Hardware" en
la pestaña de detalles del administrador de dispositivos para ver los ID, ya
que no se muestran de forma predeterminada.

Una búsqueda por Internet con el ID del fabricante/producto, "Linux" y el "
controlador" como términos de búsqueda suele ofrecer resultados con información
pertinente al estado de compatibilidad del controlador para un chipset
particular. Si una búsqueda del ID de fabricante/producto no ofrece resultados
útiles, puede que ayude una búsqueda de los nombres código del chip, que
habitualmente también proporcionan lsusb y lspci ("RTL8111"/"RTL8168B" en el
ejemplo de la tarjeta de red, y "RV710" en el ejemplo de la tarjeta de vídeo).

3.3.3.1. Comprobación de la compatibilidad de hardware con un sistema Live

Debian GNU/Linux también está disponible como "live system" para ciertas
arquitecturas. Un sistema Live es un sistema preconfigurado listo para su uso
en un formato comprimido, que se puede arrancar y utilizar desde un dispositivo
solo de lectura como un CD o DVD. Su uso no crea ningún cambio en la máquina de
forma predeterminada. Puede modificar la configuración de usuario e instalar
programas adicionales desde el sistema Live, pero esto solo ocurre en la
memoria RAM de la máquina. Esto es, si apaga la máquina y arranca otra vez el
sistema Live, todo vuelve a sus valores predeterminados. Si quiere averiguar si
su hardware es compatible con Debian GNU/Linux, la forma más sencilla es
ejecutar un sistema Live de Debian y comprobarlo.

Hay algunas limitaciones al utilizar un sistema Live. La primera es que todos
los cambios que realiza en el sistema Live deben permanecer en la RAM de la
máquina, esto solo funciona para sistemas con suficiente RAM para ello, y por
ello la instalación de paquetes de software de gran tamaño adicionales puede
fallar por restricciones de memoria. Otra limitación relativa a la comprobación
de compatibilidad de hardware es que el sistema Live oficial de Debian GNU/
Linux solo contiene componentes libres, esto es, no incluye ficheros de
firmware no libres. Obviamente, los paquetes no libres se pueden instalar en el
sistema de forma manual, pero no hay una detección automática de los ficheros
de firmware necesarios como en debian-installer, y por ello la instalación de
componentes no libres se debe realizar manualmente si fuera necesario.

Para más información sobre las versiones disponibles de imágenes Live de Debian
consulte la página web Debian Live Images.

3.3.4. Configuración de la red

Si tu ordenador está conectado a una red fija (es decir, una conexión Ethernet
o equivalente; no una conexión dialup/PPP) que es administrada por otra
persona, debes pedir esta información al administrador del sistema de tu red:

  • El nombre de su sistema (podría decidirlo usted mismo).

  • El nombre de su dominio.

  • La dirección IP de su ordenador.

  • La máscara de red a usar.

  • La dirección IP de la puerta de enlace predeterminada a través de la cual
    encaminar el tráfico, si su red tiene una puerta de enlace.

  • El sistema en su red que deberá usar como servidor de nombres o DNS.

Si la red a la que se conecta utiliza DHCP (Dynamic Host Configuration
Protocol) para la configuración de ajustes de red, no necesita esta información
debido a que el servidor DHCP la proveerá directamente a su sistema durante el
proceso de instalación.

Si tiene acceso a Internet a través de DSL o un cable de módem (esto es, a
través de una red de televisión por cable) y dispone de un router
(habitualmente preconfigurado por su proveedor de telefonía o televisión por
cable) que gestiona su conectividad de red, habitualemente DHCP está disponible
de forma predeterminada.

Como regla general; si ejecuta un sistema Windows en su red doméstica y no ha
realizado ningún ajuste de red de forma manual para obtener el acceso a
Internet, la conectividad de red de Debian GNU/Linux también se configurará de
forma automática.

Si utiliza una red WLAN/WiFi, también debe averiguar:

  • El ESSID ("nombre de la red") de su red inalámbrica.

  • La clave de seguridad WEP o WPA/WPA2 (si es pertinente).

3.4. Cumplir los requisitos mínimos de hardware

Una vez que haya reunido información sobre el hardware de su ordenador debe
verificar que su hardware le permita realizar el tipo de instalación que desea
efectuar.

Dependiendo de sus necesidades, podría arreglarse con menos del hardware
recomendado listado en la siguiente tabla. Sin embargo, la mayoría de usuarios
se arriesgan a terminar frustrados si ignoran estas sugerencias.

Se recomienda como mínimo un Pentium 4, a 1 GHz para un sistema de escritorio.

Tabla 3.2. Requisitos mínimos de sistema recomendados

┌───────────────────┬─────────────┬─────────────────┬───────────┐
│Tipo de instalación│RAM (mínimo) │RAM (recomendado)│Disco duro │
├───────────────────┼─────────────┼─────────────────┼───────────┤
│Sin escritorio     │256 Megabytes│512 Megabytes    │2 Gigabytes│
├───────────────────┼─────────────┼─────────────────┼───────────┤
│Con escritorio     │1 Gigabyte   │2 Gigabytes      │10 Gigabyte│
└───────────────────┴─────────────┴─────────────────┴───────────┘


The minimum values assumes that swap will be enabled and a non-liveCD image is
used. The "No desktop" value assumes that the non-graphical (text-based)
installer is used.

Los requisitos de memoria mínimos necesarios son en realidad inferiores a los
indicados en esta tabla. En función de la arquitectura, es posible instalar
Debian en sistemas con tan sólo 20 MB (en el caso de s390) a 60 MB (para
amd64). Lo mismo se puede decir del espacio necesario en disco, especialmente
si escoge las aplicaciones que va a instalar manualmente, consulta Sección D.2,
"Espacio en disco requerido para las tareas" para obtener más información de
los requisitos de disco.

Es posible ejecutar un entorno de escritorio gráfico en sistemas antiguos o de
gama baja. En este caso es recomendable instalar un gestor de ventanas que
consuma menos recursos que los utilizados en los entornos de escritorio de
GNOME o KDE Plasma. Algunas alternativas para estos casos son xfce4, icewm y
wmaker, aunque hay más entre los que puede elegir.

Es prácticamente imposible dar requisitos generales de memoria y espacio en
disco para instalaciones de servidores ya que éstos dependerán en gran medida
de aquello para lo que se utilice el servidor.

Recuerde que estos tamaños no incluyen todos los otros materiales que se
encuentran habitualmente, como puedan ser los ficheros de usuarios, el correo y
otros datos. Siempre es mejor ser generoso cuando uno está pensando qué espacio
destinar a sus propios ficheros y datos.

Se ha tenido en cuenta el espacio de disco necesario para la operación normal
del sistema Debian GNU/Linux en sí en estos requisitos de sistema recomendados.
En particular, la partición /var de Debian contiene mucha información de estado
específica a Debian, además de su contenido habitual, como puedan ser los
ficheros de registro. Los ficheros de dpkg (que incluyen información sobre los
paquetes instalados) pueden fácilmente consumir unos 40 MB. Además, hay que
tener en cuenta que apt ubica los paquetes descargados aquí antes de
instalarlos. Por regla general deberá asignar por lo menos 200 MB para /var, y
mucho más si va a instalar un entorno gráfico de escritorio.

3.5. Preparticionado para sistemas multiarranque

Particionar el disco duro se refiere simplemente al acto de dividir el disco en
secciones. De esta forma cada sección es independiente de las otras. Es como
colocar paredes dentro de una casa, si añade muebles a una habitación no afecta
a las otras.

Si ya tiene un sistema operativo en su sistema (Windows 9x, Windows NT/2000/XP/
2003/Vista/7, OS/2, MacOS, Solaris, FreeBSD, ...) que ocupa el disco completo,
y desea colocar Debian en el mismo disco, necesitará reparticionar el disco.
Debian requiere sus propias particiones de disco duro. No se puede instalar en
particiones de Windows o Mac OS X. Podría tener la posibilidad de compartir
algunas particiones con otros sistemas Unix, pero este tema no se cubre en este
manual. Al menos necesitará una partición dedicada para el sistema de ficheros
raíz de Debian.

Puede encontrar información del estado actual de sus particiones mediante una
herramienta de particionado para su sistema operativo actual , como el
administrador de disco integrado en Windows o fdisk en DOS . Las herramientas
de particionado siempre disponen de una opción en la que se pueden mostrar las
particiones existentes sin realizar cambios.

En general, cambiar una partición con un sistema de ficheros existente
destruirá cualquier información que contenga. Por lo tanto, siempre deberá
efectuar copias de seguridad antes de hacer un reparticionado. Usando la
analogía de la casa, probablemente querría mover todos los muebles antes de
mover una pared, en caso contrario se arriesga a destruirlos.

Muchos sistemas operativos modernos ofrecen la función de desplazar y
redimensionar ciertas particiones presentes sin destruir su contenido. Esto
permite la creación de espacio para particiones adicionales sin perder los
datos presentes. Aunque habitualmente esto ofrece buen resultado, realizar
cambios al particionado de un disco es una acción inherentemente peligrosa, y
solo se debe realizar tras crear una copia de seguridad de todos los datos. 
Para particiones FAT/FAT32 y NTFS como se usan por sistemas DOS y Windows, la
función de desplazar y redimensionar la ofrecen tanto debian-installer así como
el administrador de disco integrado de Windows 7.

Para redimensionar una partición presente FAT o NTFS desde debian-installer sin
pérdida de datos, vaya al paso de particionado, seleccione la opción de
particionado manual, seleccione la partición que redimensionar, y sencillamente
especifique su tamaño nuevo.

La creación y eliminación de particiones se puede realizar desde
debian-installer así como desde un sistema operativo existente. Como regla
general, el sistema que se va a utilizar debería crear la particiones que
utilizará, esto es, las particiones que va a utilizar Debian GNU/Linux se
deberían crear desde debian-installer, y las particiones que utilizará otro
sistema operativo se debería crear desde el mismo. debian-installer es capaz de
crear particiones distintas a Linux, y las particiones creadas de esta forma
funcionan habitualmente sin problemas cuando son usados por otros sistemas
operativos, pero hay algunos casos excepcionales donde esto puede provocar
problemas. Por ello , se desea estar seguro, utilice las herramientas nativas
de particionado para la creación de particiones para su uso por otros sistemas
operativos.

Si va a instalar más de un sistema operativo en la misma máquina, debe instalar
todos los sistemas operativos antes de proceder con la instalación de Debian.
Las instalaciones de Windows y otros sistemas operativos pueden destruir su
capacidad de arrancar Debian o animarle a formatear de nuevo particiones que no
sean nativas.

Puede recuperarse de estas acciones o evitarlas, pero evitará estos problemas
si instala primero el sistema nativo.

3.6. Preinstalación de hardware y configuración del sistema operativo

Esta sección le guiará a través de la preinstalación y configuración de
hardware, en caso de ser necesaria, previa a la instalación de Debian.
Generalmente, involucra comprobar y posiblemente cambiar la configuración de la
BIOS/UEFI/firmware del sistema para su sistema. La "BIOS/UEFI" o el "firmware
del sistema" es el software base usado por el hardware, y es fundamental
durante el proceso de arranque (después del encendido).

3.6.1. Utilización del menú de configuración de la BIOS/UEFI

La BIOS/UEFI provee las funcionalidades básicas necesarias para arrancar su
máquina y permitir al sistema operativo acceder a su hardware. Su sistema
ofrece un menú de configuración de la BIOS/UEFI, usado para configurarla. Para
acceder al menú de configuración de la BIOS/UEFI, debe pulsar un tecla o
combinación de teclas después de arrancar el sistema. Habitualmente, es la
tecla Supr o la tecla F2, pero algunos fabricantes utilizan otras.
Generalmente, al arrancar el sistema se muestra un mensaje que indica la tecla
que pulsar para acceder a la pantalla de configuración.

3.6.2. Selección de dispositivo de arranque

En el menú de configuración de la BIOS/UEFI, puede seleccionar los dispositivos
que comprobar, así como su orden, en busca de un sistema operativo arrancable.
Las selecciones posibles incluyen los discos duros, internos, la unidad de CD/
DVD-ROM, y dispositivos de almacenamiento USB como dispositivos USB o discos
duros externos USB. Los sistemas modernos también existe la posibilidad de
activar el arranque por red mediante PXE.

Según el medio de instalación (CD/DVD ROM, dispositivo USB, arranque por red)
que ha seleccionado, debe activar los dispositivos de arranque pertinentes si
aún no están activados.

La mayoría de las variantes de BIOS/UEFI permiten invocar un menú de arranque
durante el arranque del sistema, que permite seleccionar el dispositivo desde
el que debe arrancar el sistema para la sesión actual. Si esta opción está
disponible, habitualmente la BIOS/UEFI muestra un mensaje breve como "pulse F12
para el menú de arranque" durante el arranque del sistema. La tecla que se
utiliza para acceder a este menú varía según el sistema; teclas comúnmente
utilizados son F12, F11 and F8. Si se selecciona un dispositivo de este menú no
se modifica el orden de arranque predeterminado de la BIOS/UEFI; esto es, puede
realizar el arranque una vez desde un dispositivo USB mientras que el disco
duro interno está configurado como el dispositivo de arranque principal
predeterminado.

Si la BIOS/UEFI no proporciona un menú de arranque para realizar selecciones
específicas del dispositivo de arranque actual, debe modificar la configuración
de la BIOS/UEFI para que el dispositivo desde el que arranca debian-installer
sea el dispositivo de arranque principal.

Lamentablemente, algunos ordenadores pueden tener versiones de BIOS/UEFI con
errores. Arrancar debian-installer desde una memoria USB puede que no funcione
aunque haya una opción apropiada en el menú de configuración de la BIOS/UEFI y
la memoria esté seleccionada como dispositivo de arranque principal. En algunos
de estos sistemas es imposible utilizar una memoria USB como medio de arranque;
se puede engañar a otros para que arranquen desde la memoria cambiando el tipo
de dispositivo en la configuración de la BIOS/UEFI desde el predeterminado "USB
harddisk" o "USB stick" a "USB ZIP" o "USB CDROM". En particular, si utiliza
una imagen de instalación isohybrid en una memoria USB (consulta Sección 4.3.1,
"Preparación de una memoria USB utilizando una imagen híbrida de CD/DVD"),
cambiar el tipo de dispositivo a "USB CDROM" ayuda en algunas BIOS que no
arrancan desde una memoria USB en modo disco duro USB. Es posible que tengas
que configurar tu BIOS/UEFI para habilitar "USB legacy support".

Si no puedes modificar la BIOS para que arranque de forma directa desde un
dispositivo USB, queda la opción de utilizar una ISO copiada al dispositivo.
Arranca debian-installer mediante Sección 4.4, "Preparación de los ficheros
para arranque desde el disco duro" y, después de analizar los discos duros para
detectar una imagen ISO de instalador, seleccione el dispositivo USB y una
imagen de instalación.

3.6.3. Sistemas con firmware UEFI

UEFI ("Unified Extensible Firmware Interface") es un nuevo tipo de firmware de
sistema que se utiliza en muchos sistemas modernos y que, entre otros usos,
pretende sustituir a la clásica BIOS del PC.

En la actualidad, la mayoría de los sistemas de PC que utilizan UEFI también
cuentan con el llamado "Compatibility Support Module" (CSM) en el firmware, que
proporciona exactamente las mismas interfaces a un sistema operativo que una
BIOS de PC clásica, de modo que el software escrito para la BIOS de PC clásica
se puede utilizar sin cambios. No obstante, la UEFI pretende sustituir algún
día por completo a la antigua BIOS del PC sin ser totalmente compatible con las
versiones anteriores, y ya hay muchos sistemas con UEFI pero sin CSM.

En los sistemas con UEFI hay que tener en cuenta algunas cosas a la hora de
instalar un sistema operativo. La forma en que el firmware carga un sistema
operativo es fundamentalmente diferente entre la BIOS clásica (o UEFI en modo
CSM) y la UEFI nativa. Una diferencia importante es la forma en que se
registran las particiones del disco duro. Una diferencia importante es la forma
en que se registran las particiones del disco duro. Mientras que la BIOS
clásica y la UEFI en modo CSM utilizan una tabla de particiones de DOS, la UEFI
nativa utiliza un esquema de partición diferente llamado "GUID Partition Table"
(GPT). En un solo disco, a efectos prácticos, sólo se puede utilizar uno de los
dos y, en caso de una configuración de arranque múltiple con diferentes
sistemas operativos en un disco, todos ellos deben utilizar el mismo tipo de
tabla de particiones. El arranque desde un disco con GPT sólo es posible en el
modo UEFI nativo, pero el uso de GPT se vuelve más y más común a medida que el
tamaño de los discos duros crece, porque la tabla de partición clásica de DOS
no puede dirigirse a discos mayores de unos 2 Terabytes mientras que GPT
permite discos mucho más grandes. La otra gran diferencia entre la BIOS (o la
UEFI en modo CSM) y la UEFI nativa es la ubicación en la que se almacena el
código de arranque y en qué formato tiene que estar. Esto significa que se
necesitan cargadores de arranque diferentes para cada sistema.

Esto último es importante cuando se arranca debian-installer en un sistema UEFI
con CSM porque debian-installer comprueba si se ha iniciado en un sistema BIOS-
o en un sistema UEFI nativo e instala el gestor de arranque correspondiente.
Normalmente, esto simplemente funciona, pero puede haber un problema en
entornos de arranque múltiple. En algunos sistemas UEFI con CSM el modo de
arranque por defecto para los dispositivos extraíbles puede ser diferente al
que se utiliza realmente cuando se arranca desde el disco duro, por lo que al
arrancar el instalador desde una memoria USB en un modo diferente al que se
utiliza cuando se arranca otro sistema operativo ya instalado desde el disco
duro, podría instalarse el gestor de arranque equivocado y el sistema podría no
arrancar después de terminar la instalación. Al elegir el dispositivo de
arranque desde el menú de arranque del firmware, algunos sistemas ofrecen dos
opciones separadas para cada dispositivo, de modo que el usuario puede
seleccionar si el arranque se realizará en CSM o en modo UEFI nativo.

3.6.4. Arranque seguro («Secure boot»)

Otro tema relacionado con la UEFI es el llamado mecanismo de "arranque seguro".
El arranque seguro es una función de las implementaciones de la UEFI que
permite que el firmware sólo cargue y ejecute código que esté firmado
criptográficamente con ciertas claves y, por lo tanto, bloquea cualquier código
de arranque (potencialmente malicioso) que no esté firmado o que esté firmado
con claves desconocidas. En la práctica, la única clave aceptada por defecto en
la mayoría de los sistemas UEFI con arranque seguro es una clave de Microsoft
utilizada para firmar el cargador de arranque de Windows. Debian incluye un
cargador "shim" firmado por Microsoft, por lo que debería funcionar
correctamente en sistemas con el arranque seguro activado.

3.6.5. Desactivando el "arranque rápido"/"inicio rápido" de Windows

Windows ofrece una función (llamada "arranque rápido" en Windows 8, "arranque
seguro" en Windows 10) para reducir el tiempo de inicio del sistema.
Técnicamente, cuando esta función está activada, Windows no realiza un apagado
real y un arranque en frío real después cuando se le ordena el apagado, sino
que hace algo parecido a una suspensión parcial del disco para reducir el
tiempo de "arranque". Mientras Windows sea el único sistema operativo en la
máquina, esto no es problemático, pero puede dar lugar a problemas y pérdida de
datos, cuando se tiene una configuración de arranque dual, en la que otro
sistema operativo accede a los mismos sistemas de archivos que Windows. En ese
caso, el estado real del sistema de archivos puede ser diferente de lo que
Windows cree que es después del "arranque" y esto podría causar la corrupción
del sistema de archivos en posteriores accesos de escritura al sistema de
archivos. Por lo tanto, en una configuración de arranque dual, para evitar la
corrupción del sistema de archivos, la función de "arranque rápido"/"inicio
rápido" tiene que estar desactivada en Windows.

Además, se sabe que el mecanismo de Windows Update (a veces) vuelve a activar
automáticamente esta función, después de que el usuario la haya desactivado
previamente. Se sugiere volver a comprobar esta configuración periódicamente.

It may also be necessary to disable "fast boot" to even allow access to UEFI
setup to choose to boot another operating system or debian-installer. On some
UEFI systems, the firmware will reduce "boot" time by not initialising the
keyboard controller or USB hardware; in these cases, it is necessary to boot
into Windows and disable this feature to allow for a change of boot order.

3.6.6. Problemas de hardware a tener en cuenta

Soporte de BIOS y teclados USB. Si no tienes teclados de tipo PS/2 sino
solamente un modelo USB, puede que para sistemas muy antiguos necesites
habilitar la emulación de compatibilidad de teclado para versiones antiguas en
la configuración de la BIOS para poder utilizar el teclado en el menú del
gestor de arranque, aunque esto no es un problema en sistemas modernos. Si tu
teclado no funciona en el menú del gestor de arranque, consulta el manual de tu
placa base y busca las opciones "Emulación de teclado antiguo" o "
Compatibilidad de teclado USB".

Capítulo 4. Obtener el soporte de instalación del sistema

Tabla de contenidos

4.1. Imágenes oficiales de Debian GNU/Linux de instalación
4.2. Descarga de ficheros desde réplicas de Debian

    4.2.1. Dónde encontrar los archivos de instalación

4.3. Preparación de ficheros para el arranque desde un dispositivo de memoria
    USB

    4.3.1. Preparación de una memoria USB utilizando una imagen híbrida de CD/
        DVD
    4.3.2. Copia manual de los ficheros a la memoria USB
    4.3.3. Copia manual de los archivos a la memoria USB: la forma flexible

4.4. Preparación de los ficheros para arranque desde el disco duro

    4.4.1. Arranque del instalador desde Linux usando GRUB
    4.4.2. Arranque del instalador desde el disco duro con DOS usando loadlin

4.5. Preparación de los ficheros para el arranque a través de red usando TFTP

    4.5.1. Configuración del servidor DHCP
    4.5.2. Configuración del servidor BOOTP
    4.5.3. Habilitar el servidor TFTP
    4.5.4. Mover las imágenes TFTP a su ubicación

4.6. Instalación automática

    4.6.1. Utilizar el instalador de Debian para realizar una instalación
        automática

4.7. Verificar la integridad de los archivos de instalación

4.1. Imágenes oficiales de Debian GNU/Linux de instalación

Por muchas razones la forma más simple es instalar Debian GNU/Linux desde un
juego oficial de imágenes de instalación. Puede comprar un juego de CD/DVD a
algún proveedor (consulte la página de vendedores de CD). También podría
descargar las imágenes de instalación desde una réplica de Debian y hacer su
propio juego, si tiene una conexión de red rápida y una grabadora de CD/DVD
(para instrucciones detalladas consulte la página de CD/DVD de Debian y la
página de PUF de CD de Debian). Si tiene un medio de instalación óptico de este
tipo y su máquina es capaz de arrancar desde ahí , que es el caso en todos los
PC modernos, puede pasar al Capítulo 5, Arranque del sistema de instalación. Se
ha invertido un gran esfuerzo para garantizar que los ficheros que necesita la
mayoría de personas estén en las primeras imágenes de CD o DVD, para poder
realizar una instalación básica de escritorio solo con el primer DVD o, de
forma limitada, incluso solo con la imagen del primer CD.

Debido a que los CD tienen una capacidad limitada para los estándares actuales,
no todos los entornos gráficos de escritorio se pueden instalar solo con el
primer CD; la instalación de algunos entornos de escritorio mediante CD
requiere bien la conectividad de red durante la instalación para descargar los
ficheros restantes, o bien CD adicionales.

También debe tener en cuenta: si el soporte de instalación que está utilizando
no contiene algunos de los paquetes que necesita, siempre podrá instalar estos
paquetes más adelante desde su sistema Debian nuevo (una vez que la instalación
haya finalizado). Si desea saber en qué imagen de instalación puede encontrar
un paquete concreto, consulte https://cdimage-search.debian.org/.

Si su máquina no permite el arranque desde un medio óptico(solo relevante para
sistemas de PC muy antiguos), pero tiene un juego de CD/DVD, puede usar una
estrategia alternativa como disco duro, memoria USB, arranque desde red, o
cargar manualmente el núcleo desde el disco para arrancar inicialmente el
sistema de instalación. Los ficheros que necesitará para arrancar por otros
métodos también están en el disco, el archivo de red de Debian es idéntico a la
organización de los directorios de los discos. De modo que cuando se mencionen
rutas de ficheros para ficheros concretos necesarios para arrancar, busque
estos ficheros en los mismos directorios y subdirectorios en su medio de
instalación.

Una vez que el instalador haya arrancado, éste podrá obtener el resto de los
ficheros necesarios desde el disco.

Si no tiene un juego de medios de instalación, tendrá que descargar los
ficheros del sistema de instalación y ubicarlos en el el disco duro, la memoria
USB o un ordenador conectado a la red de modo que puedan usarse para arrancar
el instalador.

4.2. Descarga de ficheros desde réplicas de Debian

Para encontrar la réplica más cercana (y probablemente la más rápida), vea la
lista de réplicas de Debian.

4.2.1. Dónde encontrar los archivos de instalación

Es posible encontrar varias imágenes de instalación en cada réplica de Debian
en el directorio debian/dists/bullseye/main/installer-amd64/current/images/ --
el archivo MANIFEST contiene una lista con cada imagen y su propósito.

4.3. Preparación de ficheros para el arranque desde un dispositivo de memoria
USB

Para preparar la memoria USB, recomiendamos utilizar un sistema en el que ya se
esté ejecutando GNU/Linux y con soporte USB. Con los sistemas GNU/Linux
actuales, debería reconocer automáticamente la memoria USB al insertarla. Si no
es así, debes comprobar que el módulo del kernel usb-storage está cargado.
Cuando se inserta la memoria USB, se asigna a un dispositivo llamado /dev/sdX,
donde "X" es una letra en el rango a-z. Deberías poder ver a qué dispositivo se
ha asignado la memoria USB ejecutando el comando lsblk antes y después de
insertarla. (La salida de dmesg (como root) es otro método posible para ello).
Para escribir en tu pendrive, puede que tengas que desactivar su interruptor de
protección contra escritura.

Aviso

¡Los procedimientos descritos en esta sección destruirán todo el contenido del
dispositivo! Asegúrate de elegir correctamente el nombre del dispositivo para
tu memoria USB. Si usas el dispositivo incorrecto podrías terminar perdiendo
toda la información de, por ejemplo, un disco duro.

4.3.1. Preparación de una memoria USB utilizando una imagen híbrida de CD/DVD

Las imágenes de instalación de Debian para esta arquitectura se crean usando la
tecnología isohybrid; esto significa que pueden escribirse directamente en una
memoria USB, lo que es una forma muy fácil de hacer un medio de instalación.
Simplemente elige una imagen (como la netinst, CD o DVD-1) que quepa en tu
memoria USB. Consulta Sección 4.1, "Imágenes oficiales de Debian GNU/Linux de
instalación" para obtener una imagen de instalación.

Opcionalmente, para memorias USB de muy poca capacidad, puede descargar la
imagen mini.iso desde el directorio netboot (en la ubicación mencionada en
Sección 4.2.1, "Dónde encontrar los archivos de instalación").

Debe escribir la imagen de instalación seleccionada directamente en la memoria
USB, reemplazando la totalidad de su contenido actual. Por ejemplo, si utiliza
un sistema GNU/Linux, puede escribir el archivo de la imagen en la memoria USB
de la siguiente manera, después de comprobar que se ha desmontado el
dispositivo USB:

# cp debian.iso /dev/sdX
# sync

Puede encontrar más información de cómo hacer esta operación en otros sistemas
operativos en las PUF Debian CD.

Importante

La imagen debe escribirse en el dispositivo del disco completo y no en una
partición, p. ej. /dev/sdb y no /dev/sdb1. No utilice herramientas como 
unetbootin que alteran la imagen.

Importante

Simplemente escribiendo una imagen de instalación a un USB como se indica será
suficiente para la mayoría de usuarios. Las siguientes opciones son más
complejas, generalmente para personas con necesidades especiales.

La imagen híbrido en el dispositivo no ocupa todo el espacio de almacenamiento,
con lo que considere utilizar el espacio libre para almacenar ficheros de
«firmware», paquetes o cualquier tipo de fichero que quiera. Puede ser útil si
solo se dispone de un dispositivo o simplemente desea almacenar todo en un
único dispositivo.

Para ello, utiliza cfdisk o cualquier otra herramienta de particionado para
crear una partición adicional en el stick. A continuación, cree un sistema de
archivos (FAT) en la partición, móntala y copia o desempaqueta el firmware en
ella, por ejemplo con:

# mkdosfs -n FIRMWARE /dev/sdX3
# mount /dev/sdX3 /mnt
# cd /mnt
# tar zxvf /path/to/firmware.tar.gz
# cd /
# umount /mnt

Ten cuidado de utilizar el nombre de dispositivo correcto para la memoria USB.
El comando mkdosfs está contenido en el paquete dosfstools Debian.

Nota

Puede que hayas escrito el fichero mini.iso en el dispositivo USB. En este
caso, la creación de la segunda partición no es necesaria, ya que está
presente. Desconectar y reconectar el dispositivo USB debería mostrar las dos
particiones.

4.3.2. Copia manual de los ficheros a la memoria USB

Antes de que se utilizara la tecnología isohybrid para las imágenes de
instalación Debian, se utilizaban los métodos documentados en los capítulos
siguientes para preparar los medios para arrancar desde dispositivos USB. Estos
han sido reemplazados por la técnica en Sección 4.3.1, "Preparación de una
memoria USB utilizando una imagen híbrida de CD/DVD", pero se han dejado aquí
con fines educativos e históricos y en caso de que sean útiles para algún
usuario.

Una alternativa al método descrito en Sección 4.3.1, "Preparación de una
memoria USB utilizando una imagen híbrida de CD/DVD" es copiar manualmente los
archivos del instalador, y también una imagen de instalación en la memoria USB.
Ten en cuenta que la memoria USB debe tener un tamaño mínimo de 1 GB (es
posible realizar configuraciones más pequeñas utilizando los archivos de
netboot, siguiendo Sección 4.3.3, "Copia manual de los archivos a la memoria
USB: la forma flexible").

Hay un archivo todo-en-uno hd-media/boot.img.gz que contiene todos los archivos
del instalador (incluyendo el kernel) así como syslinux y su archivo de
configuración.

Nota

Tenga en cuenta que, aunque es conveniente, este método tiene una gran
desventaja: el tamaño lógico del dispositivo se limitará a 1 GB, incluso si la
capacidad de la memoria USB es mayor. Si quiere contar con la capacidad
completa de la memoria posteriormente para un uso diferente, tendrá que
reparticionarla y crear un nuevo sistema de ficheros.

Simplemente extrae esta imagen directamente a la memoria USB:

# zcat boot.img.gz >/dev/sdX

Después de esto, monta la memoria USB (mount /dev/sdX /mnt), que ahora tendrá
un sistema de ficheros FAT en ella, y copia una imagen ISO de Debian (instalar
por red o CD completo; ver Sección 4.1, "Imágenes oficiales de Debian GNU/Linux
de instalación") en la misma. Desmonta el USB (umount /mnt) y habrás terminado.

4.3.3. Copia manual de los archivos a la memoria USB: la forma flexible

Si desea más flexibilidad o simplemente le gusta saber que ocurre, podría usar
el siguiente método para colocar los ficheros en su dispositivo USB. Una
ventaja de este método es que -- si la capacidad de su memoria USB es lo
suficientemente grande -- tendrá la opción de copiar cualquier imagen ISO,
incluso una imagen DVD, en dicha memoria.

4.3.3.1. Particionar y añadir un gestor de arranque

Le mostraremos como configurar una memoria USB para usar la primera partición
en lugar de todo el dispositivo.

Para iniciar el núcleo después de arrancar desde el dispositivo USB,
necesitaremos colocar un gestor de arranque en él. Aunque cualquier gestor de
arranque debería funcionar, es conveniente usar syslinux, puesto que usa una
partición FAT16 y puede reconfigurarse con sólo editar un fichero de texto.
Puede usar cualquier sistema operativo compatible con el sistema de ficheros
FAT para hacer cambios en la configuración del gestor de arranque.

First, you need to install the syslinux and mtools packages on your system.

Nota

Dado que la mayoría de las memorias USB vienen preconfiguradas con una única
partición FAT16, probablemente no tendrás que reparticionar o reformatear la
memoria. Si tienes que hacerlo de todos modos, usa cfdisk o cualquier otra
herramienta de particionado para crear una partición FAT16 ahora^[3], y luego
instalar un MBR usando:

# cat /usr/lib/syslinux/mbr/mbr.bin
>/dev/sdX

Ahora crea el sistema de archivos usando:

# mkdosfs /dev/sdX1

Ten cuidado de utilizar el nombre de dispositivo correcto para la memoria USB.
El comando mkdosfs está contenido en el paquete dosfstools Debian.

Teniendo una memoria USB correctamente particionada (ahora), tienes que poner
syslinux en la partición FAT16 con:

# syslinux /dev/sdX1

De nuevo, ten cuidado de utilizar el nombre correcto del dispositivo. La
partición no debe estar montada al iniciar syslinux. Este procedimiento escribe
un sector de arranque en la partición y crea el archivo ldlinux.sys que
contiene el código del cargador de arranque.

4.3.3.2. Adding the installer files

Hay dos variantes de instalación diferentes para elegir aquí: La variante
hd-media necesita un archivo ISO de instalación en la memoria, para cargar los
módulos del instalador y el sistema base. El instalador netboot, sin embargo,
cargará todo eso desde una réplica de Debian .

Según tu elección, tienes que descargar algunos archivos del instalador desde
el subdirectorio hd-media o netboot de debian/dists/bullseye/main/
installer-amd64/current/images/ en cualquier espejo de Debian:

  • vmlinuz o linux (kernel binario)

  • initrd.gz (imagen inicial de ramdisk)

Puedes elegir entre la versión de texto del instalador (los archivos se
encuentran directamente en hd-media o netboot) o la versión gráfica (busca en
los respectivos subdirectorios gtk).

Then mount the partition (mount /dev/sdX1 /mnt) and copy the downloaded files
to the root directory of the stick.

A continuación, debes crear un archivo de texto llamado syslinux.cfg en el
directorio raíz del stick como archivo de configuración para syslinux, que como
mínimo debe contener la siguiente línea:

default vmlinuz initrd=initrd.gz

Cambia el nombre del binario del kernel a "linux" si has utilizado archivos de
netboot.

Para el instalador gráfico (de gtk) debes añadir vga=788 al final de la línea.
Se pueden añadir otros parámetros según se desee.

Para activar la solicitud en el arranque para permitir la suma de más
parámetros, añada la línea prompt 1.

Si usaste archivos de hd-media, ahora debes copiar el archivo ISO de una imagen
de instalación Debian en el stick. (Esto no es necesario para la variante
netboot.)

Puedes usar un netinst o una imagen completa de CD/DVD (ver Sección 4.1,
"Imágenes oficiales de Debian GNU/Linux de instalación"). Asegúreate de
seleccionar una que quepa en la memoria. Ten en cuenta que la imagen "netboot
mini.iso" no es utilizable para este propósito.

When you are done, unmount the USB memory stick (umount /mnt).

4.4. Preparación de los ficheros para arranque desde el disco duro

El instalador puede arrancarse usando ficheros de arranque colocados en una
partición existente del disco duro, ya sea cargándolos desde otro sistema
operativo o ejecutando directamente un gestor de arranque desde la BIOS. En los
sistemas UEFI actuales, podría arrancar directamente el núcleo desde la
partición UEFI sin necesidad de un cargador de arranque.

Se puede conseguir una instalación "completamente a través de la red" usando
esta técnica. Esto evita todas las molestias de los medios extraíbles, como
encontrar y quemar las imágenes de CD/DVD.

4.4.1. Arranque del instalador desde Linux usando GRUB

Esta sección explica cómo añadir o incluso reemplazar una instalación de Linux
existente usando GRUB.

En el momento de arranque, GRUB permite la carga en memoria no solamente el
núcleo, sino también de una imagen de disco. El núcleo puede usar este disco
RAM como sistema de ficheros raíz.

Copie los siguientes ficheros desde los archivos de Debian a una ubicación
conveniente en su disco duro, como por ejemplo a /boot/newinstall/.

  • vmlinuz (binario del núcleo)

  • initrd.gz (imagen de disco RAM)

Si únicamente quiere utilizar el disco duro para arrancar y después descargar
todos los paquetes desde la red, debería descargar el archivo netboot/
debian-installer/amd64/initrd.gz y su correspondiente núcleo netboot/
debian-installer/amd64/linux. Esto le permitirá reparticionar el disco duro
desde el que ha arrancado el instalador, aunque debería hacerlo con cuidado.

Opcionalmente, si durante la instalación quiere mantener inalterada una
partición existente en el disco duro, puede descargar el archivo hd-media/
initrd.gz y su núcleo hd-media/vmlinuz, así como copiar la imagen de
instalación en el disco duro (asegúrese de que la extensión del archivo sea
.iso). De esta manera el instalador podrá arrancar desde el disco duro y
proceder con la instalación desde la imagen de instalación sin necesidad de
usar la red.

Finalmente, para configurar el gestor de arranque continúe en Sección 5.1.5,
"Arranque desde Linux utilizando GRUB".

4.4.2. Arranque del instalador desde el disco duro con DOS usando loadlin

Esta sección explica como preparar su disco duro para arrancar el instalador
desde DOS usando loadlin.

Copie los siguientes directorios de una imagen de instalación de Debian a c:\.

  • /install.amd (núcleo binario e imagen de disco RAM)

  • /tools (herramienta loadlin)

4.5. Preparación de los ficheros para el arranque a través de red usando TFTP

Si su máquina está conectada a una red de área local, podría tener la
posibilidad de arrancarla a través de la red desde otra máquina, usando TFTP.
Si pretende arrancar el sistema de instalación desde otra máquina, debe ubicar
los ficheros de arranque necesarios en lugares específicos en esa máquina, y
debe configurarla para permitir el arranque desde ella.

Necesita configurar un servidor TFTP, y, en caso de que tenga muchas máquinas,
un servidor DHCP , o un servidor BOOTP.

BOOTP es un protocolo IP que informa al ordenador de su dirección IP y desde
dónde puede obtener una imagen de arranque en la red. DHCP («Dynamic Host
Configuration Protocol», o protocolo de configuración dinámica de equipos) es
una extensión de BOOTP compatible con éste, pero más flexible. Algunos sistemas
solamente se pueden configurar a través de DHCP.

El protocolo de transferencia trivial de ficheros (TFTP) se usa para servir la
imagen de arranque al cliente. Teóricamente, se puede usar cualquier servidor,
en cualquier plataforma, que implemente este protocolo. En los ejemplos de esta
sección, mostraremos órdenes para SunOS 4.x, SunOS 5.x (conocido también como
Solaris) y GNU/Linux.

Nota

Recomendamos usar tftpd-hpa para un servidor Debian GNU/Linux. Está escrito por
el mismo autor del gestor de arranque syslinux, y por ello menos proclive a
generar problemas. Una buena alternativa es atftpd.

4.5.1. Configuración del servidor DHCP

Un servidor DHCP de software libre es el dhcpd de ISC. Se recomienda el uso del
paquete isc-dhcp-server en Debian GNU/Linux. A continuación se muestra una
configuración de ejemplo para él (consulte /etc/dhcpd3/dhcpd.conf):

option domain-name "ejemplo.com";
option domain-name-servers ns1.ejemplo.com;
option subnet-mask 255.255.255.0;
default-lease-time 600;
max-lease-time 7200;
server-name "nombre-de-servidor";

subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option routers 192.168.1.1;
}

host nombredecliente {
  filename "/tftpboot.img";
  server-name "nombre-de-servidor";
  next-server nombre-de-servidor;
  hardware ethernet 01:23:45:67:89:AB;
  fixed-address 192.168.1.90;
}

En este ejemplo, hay un servidor nombre-de-servidor que hace el trabajo de
servidor DCHP, servidor TFTP y puerta de enlace de la red. Probablemente
necesite cambiar las opciones de nombre de dominio, así como la dirección
hardware del servidor y del cliente. La opción filename debe ser el nombre del
fichero que se recuperará a través de TFTP.

Después de editar el fichero de configuración de dhcpd, reinícielo con /etc/
init.d/isc-dhcp-server restart.

4.5.1.1. Habilitar el arranque PXE en la configuración DHCP

Aquí hay otro ejemplo para un dhcp.conf usando el método de Entorno de
ejecución de pre-arranque (PXE) de TFTP.

option domain-name "ejemplo.com";

default-lease-time 6048;
max-lease-time 604800;

allow booting;
allow bootp;

# El siguiente párrafo debe modificarse para adaptarlo a su caso
subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option broadcast-address 192.168.1.255;
# la dirección de la puerta de enlace puede ser diferente
# (por ejemplo, acceso a Internet)
  option routers 192.168.1.1;
# indique el dns que desea usar
  option domain-name-servers 192.168.1.3;
}

group {
  next-server 192.168.1.3;
  host tftpclient {
# dirección hardware del cliente tftp
  hardware ethernet  00:10:DC:27:6C:15;
  filename "pxelinux.0";
 }
}

Note que para el arranque PXE, el fichero del cliente pxelinux.0 es un gestor
de arranque, no una imagen de núcleo (vea Sección 4.5.4, "Mover las imágenes
TFTP a su ubicación" a continuación).

Si su máquina utiliza UEFI para arrancar, deberá especificar el cargador de
arranque apropiado para máquinas UEFI, como por ejemplo

group {
  next-server 192.168.1.3;
  host tftpclient {
# tftp client hardware address
  hardware ethernet  00:10:DC:27:6C:15;
  filename "debian-installer/amd64/bootnetx64.efi";
 }
}

4.5.2. Configuración del servidor BOOTP

Existen dos servidores BOOTP disponibles para GNU/Linux, el bootpd de CMU. El
otro que en realidad es un servidor DHCP, el dhcpd de ISC. En Debian GNU/Linux
se pueden encontrar en los paquetes bootp y isc-dhcp-server respectivamente.

Para usar el bootpd de CMU, primero debe comentar (o añadir) la línea relevante
en /etc/inetd.conf. En Debian GNU/Linux, puede ejecutar update-inetd --enable
bootps, y luego /etc/init.d/inetd reload para hacerlo. En caso de que su
servidor de BOOTP no se esté ejecutando en un sistema Debian GNU/Linux, la
línea en cuestión deberá ser como sigue:

bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120

Ahora, debe crear el fichero /etc/bootptab. Tiene el mismo tipo de formato
familiar y críptico que los ficheros antiguos de BSD printcap, termcap, y
disktab. Vea la página de manual de bootptab para más información. Para el 
bootpd de CMU, necesitará conocer la dirección de hardware (MAC) del cliente.
Este es un /etc/bootptab de ejemplo:

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

Necesitará cambiar por lo menos la opción "ha", que especifica la dirección
hardware del cliente. La opción "bf" especifica el fichero que el cliente debe
recuperar a través de TFTP; para más detalles vea Sección 4.5.4, "Mover las
imágenes TFTP a su ubicación".

En contraste, configurar BOOTP con dhcpd de ISC es realmente fácil, porque
trata los clientes BOOTP como casos moderadamente especiales de clientes DHCP.
Algunas arquitecturas necesitan una configuración compleja para arrancar
clientes a través de BOOTP. Si la suya es una de estas, lea la sección
Sección 4.5.1, "Configuración del servidor DHCP". De otro modo, probablemente
pueda continuar con sólo añadir la directiva allow bootp al bloque de
configuración para la subred donde se ubique el cliente en /etc/dhcp/
dhcpd.conf, y reiniciar dhcpd con /etc/init.d/isc-dhcp-server restart.

4.5.3. Habilitar el servidor TFTP

Para tener listo el servidor TFTP, primero deberá asegurarse de que la orden 
tftpd está instalada.

Existen dos formas de ejecutar el servicio de tftpd-hpa. Puede iniciarlo desde
el demonio del sistema inetd, o lo puede configurar para que se inicie como un
demonio independiente. El método a usar se selecciona durante la instalación
del paquete, y se puede modificar reconfigurando el paquete.

Nota

Los servidores de TFTP utilizan /tftpboot como directorio del que servir las
imágenes por motivos históricos. Sin embargo, algunos paquetes Debian GNU/Linux
puede utilizar otros directorios para cumplir con el estándar de jerarquía de
sistemas de ficheros. Por ejemplo, tftpd-hpa utiliza, por omisión, /srv/tftp.
Puede tener que ajustar los ejemplos de configuración en esta sección si la
ubicación varía.

Todas las alternativas de in.tftpd en Debian deberían almacenar las solicitudes
TFTP en la registro del sistema de forma predeterminada. Algunas de ellas
cuentan con el argumento -v para ofrecer más información. Se recomienda revisar
todos los mensajes del registro en caso de problemas al arrancar puesto que son
un buen punto de partida para diagnosticar la causa de los errores.

4.5.4. Mover las imágenes TFTP a su ubicación

Seguidamente, ubique la imagen TFTP de arranque que necesita, como se describe
en la Sección 4.2.1, "Dónde encontrar los archivos de instalación", en el
directorio de imagen de arranque de tftpd. Tendrá que hacer un enlace desde
este fichero hacia el fichero que usará tftpd para arrancar un cliente en
específico. Desafortunadamente, el nombre del fichero es determinado por el
cliente TFTP, y no existe un estándar definido.

Para arranque PXE, todo lo que necesitará es colocar el fichero tar netboot/
netboot.tar.gz. Simplemente extraiga este fichero tar en el directorio de
imágenes de arranque de tftpd. Asegúrese de que su servidor DHCP está
configurado para pasar pxelinux.0 a tftpd como el nombre del fichero a
arrancar. Para máquinas UEFI, tendrá que proporcionar también la imagen de
arranque UEFI adecuada (como por ejemplo /debian-installer/amd64/
bootnetx64.efi).

4.6. Instalación automática

Es posible efectuar instalaciones totalmente automáticas para instalaciones en
múltiples ordenadores. Los paquetes de Debian disponibles para este propósito
son: fai-quickstart (que usa un servidor de instalación), y el mismo instalador
de Debian. Para más información visite la página oficial de FAI.

4.6.1. Utilizar el instalador de Debian para realizar una instalación
automática

El instalador de Debian permite instalaciones automatizadas a través de
ficheros de preconfiguración. Puede cargar un fichero de preconfiguración bien
utilizando la red o bien utilizando medios extraíbles y hacer uso de éste para
responder a las preguntas que se formulan durante el proceso de instalación.

Puede encontrar la documentación completa sobre la configuración de semillas de
preconfiguración y un ejemplo que puede editar para trabajar en Apéndice B, 
Instalar automáticamente utilizando preconfiguración.

4.7. Verificar la integridad de los archivos de instalación

Puede verificar la integridad de los archivos descargados mediante las sumas de
comprobación provistas en los archivos SHA256SUMS y SHA512SUMS en los
servidores réplica de Debian. Los encontrará en los mismos sitios que las
imágenes de instalación. Visite las ubicaciones siguientes:

  • archivos de comprobación para imágenes de CD,

  • archivos de comprobación para imágenes de DVD,

  • archivos de comprobación para imágenes de BD,

  • archivos de comprobación para otros archivos de instalación.

Para calcular la suma de comprobación de un archivo de instalación descargado,
utilice

sha256sum nombredearchivo.iso

o

sha512sum nombredearchivo.iso

y compare la suma de comprobación mostrada y la que figura en el archivo
SHA256SUMS o SHA512SUMS.

Las preguntas frecuentes sobre el CD de Debian incluyen información útil sobre
este tema (como el funcionamiento de la secuencia check_debian_iso, que
semiautomatiza el procedimiento anterior), así como instruccione para verificar
la integridad de los archivos de comprobación mismos.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[3] No olvides activar el indicador "bootable".

Capítulo 5. Arranque del sistema de instalación

Tabla de contenidos

5.1. Arranque del instalador en 64-bit PC

    5.1.1. Arranque desde un dispositivo de memoria USB
    5.1.2. Arranque desde un disco óptico (CD/DVD)
    5.1.3. Arranque desde Windows
    5.1.4. Arranque desde DOS utilizando loadlin
    5.1.5. Arranque desde Linux utilizando GRUB
    5.1.6. Arranque con TFTP
    5.1.7. La pantalla de arranque
    5.1.8. El Instalador Gráfico

5.2. Accesibilidad

    5.2.1. Interfaz del instalador
    5.2.2. Dispositivos Braille USB
    5.2.3. Dispositivos Braille Seriales
    5.2.4. Software de Síntesis de Voz
    5.2.5. Dispositivos de Síntesis de Voz
    5.2.6. Dispositivos de Tarjeta
    5.2.7. Temas de Alto contraste
    5.2.8. Ampliación
    5.2.9. Instalación en modo experto, modo de rescate, instalación
        automatizada
    5.2.10. Accesibilidad del sistema instalado

5.3. Parámetros de arranque

    5.3.1. Consola de arranque
    5.3.2. Parámetros del instalador de Debian
    5.3.3. Utilizar parámetros de arranque para responder a preguntas
    5.3.4. Pasar parámetros a módulos del núcleo
    5.3.5. Poner módulos del núcleo en una lista negra

5.4. Resolución de problemas en el proceso de instalación

    5.4.1. Fiabilidad de los medios ópticos
    5.4.2. Configuración del arranque
    5.4.3. Software de Síntesis de Voz
    5.4.4. Problemas comunes durante la instalación en 64-bit PC
    5.4.5. Interpretar los mensajes de inicio del núcleo
    5.4.6. Informar de fallos
    5.4.7. Enviar los informes de la instalación

5.1. Arranque del instalador en 64-bit PC

Aviso

Debería asegurarse de que ha apagado otros sistemas operativos antes de
arrancar el instalador si desea poder mantener estos sistemas (configuración de
arranque dual). La instalación de un sistema operativo mientras otro está
hibernado (se ha suspendido a disco) podría resultar en daños o la pérdida del
estado del sistema operativo suspendido. Esto, a su vez, podría causar
problemas cuando se vuelva a arrancar.

Nota

Consulte Sección 5.1.8, "El Instalador Gráfico" si desea más información sobre
el arranque del instalador gráfico.

5.1.1. Arranque desde un dispositivo de memoria USB

Si su equipo va a arrancar desde una memoria USB, probablemente este será el
método más sencillo para la instalación. Asumimos que ha preparado todo
conforme se describe en Sección 3.6.2, "Selección de dispositivo de arranque" y
Sección 4.3, "Preparación de ficheros para el arranque desde un dispositivo de
memoria USB". Ahora simplemente conecte su dispositivo de memoria USB en alguno
de los conectores USB libres y reinicie el ordenador. El sistema debería
arrancar y, a menos que haya utilizado la forma flexible de creación del
dispositivo y no lo haya activado, se debería mostrar un menú de arranque
gráfico (si el sistema lo admite). Aquí puede introducir argumentos de arranque
adicionales o simplemente presionar Enter.

5.1.2. Arranque desde un disco óptico (CD/DVD)

Si tiene un juego de discos ópticos y su máquina puede arrancar directamente
desde un dispositivo óptico (CD/DVD), ¡excelente!. Simplemente configure su
sistema para arrancar desde un disco óptico como se describe en la
Sección 3.6.2, "Selección de dispositivo de arranque", inserte el disco,
reinicie y proceda con el próximo capítulo.

Tenga en cuenta que algunas unidades de discos ópticos podrían necesitar
controladores especiales, por consiguiente podrían estar inaccesibles en las
etapas iniciales de la instalación. Si el arranque desde el disco óptico no
funciona en su sistema, vuelva a este capítulo y lea sobre los núcleos y
métodos de instalación alternativos que podrían funcionar en su caso.

Incluso si no puede arrancar desde una unidad de disco óptico, probablemente
pueda instalar los componentes del sistema Debian y los paquetes que desee
desde ese disco. Simplemente arranque usando un medio distinto y cuando sea el
momento de instalar el sistema operativo, el sistema base y los paquetes
adicionales, haga que el sistema de instalación use la unidad de disco óptico.

Si tiene problemas arrancando, vea la Sección 5.4, "Resolución de problemas en
el proceso de instalación".

5.1.3. Arranque desde Windows

Para iniciar el instalador desde Windows, puede

  • obtener primero un medio de instalación como se describe en Sección 4.1,
    "Imágenes oficiales de Debian GNU/Linux de instalación" o Sección 4.3,
    "Preparación de ficheros para el arranque desde un dispositivo de memoria
    USB", o bien

  • descargar un archivo independiente ejecutable de Windows, que se encuentra
    en tools/win32-loader/stable/win32-loader.exe en los servidores de réplica
    de Debian.

Si usa un medio de instalación óptico (CD/DVD), se lanzará un programa de
pre-instalación automáticamente cuando inserte el disco. En caso de que Windows
no lo ejecute automáticamente, o si está usando una memoria USB, puede
ejecutarlo manualmente accediendo al dispositivo y ejecutando setup.exe.

Después de haber iniciado el programa, se le hará una serie de preguntas
preliminares y el sistema estará preparado para iniciar el instalador de Debian
GNU/Linux.

5.1.4. Arranque desde DOS utilizando loadlin

Arranque DOS (no Windows). Para ello puede, por ejemplo, arrancar desde un
disco de restauración o diagnóstico.

Si puede acceder al CD de instalación, cambie el disco actual al disco en el
lector de discos ópticos, por ejemplo:

d:

. o compruebe que primero ha preparado el disco duro como se explica en
Sección 4.4.2, "Arranque del instalador desde el disco duro con DOS usando 
loadlin", y cambie el disco actual si es necesario.

Entre en el subdirectorio de la variante que ha seleccionado, por ejemplo,

cd \install.amd

Si prefiere usar el instalador gráfico entre en el subdirectorio gtk.

cd gtk

A continuación, ejecute install.bat. El núcleo se cargará y arrancará el
sistema del instalador.

5.1.5. Arranque desde Linux utilizando GRUB

Para arrancar el instalador desde el disco duro, primero deberá descargar los
ficheros necesarios como se describe en Sección 4.4, "Preparación de los
ficheros para arranque desde el disco duro".

Para GRUB2, necesitará configurar dos elementos esenciales en /boot/grub/
grub.cfg:

  • para cargar el instalador initrd.gz en tiempo de arranque;

  • hacer que el archivo del núcleo vmlinuz utilice un disco RAM como su
    partición raíz.

Una entrada para el instalador podría ser, por ejemplo:

menuentry 'Nueva instalación' {
insmod part_msdos
insmod ext2
set root='(hd0,msdos1)'
linux /boot/nuevainstalacion/vmlinuz
initrd /boot/nuevainstalacion/initrd.gz
}

5.1.6. Arranque con TFTP

El arranque a través de la red requiere que tenga una conexión de red y un
servidor de arranque TFTP (y probablemente también un servidor DHCP, RARP o
BOOTP para la configuración automática de la red).

En la Sección 4.5, "Preparación de los ficheros para el arranque a través de
red usando TFTP" se describe la configuración del servidor para permitir el
arranque a través de la red.

Existen varias formas de realizar un arranque con TFTP en i386.

5.1.6.1. Tarjetas de red o placas base que aceptan PXE

Podría ser que su tarjeta de red o placa base provea la funcionalidad de
arranque PXE. Lo que es una reimplementación de Intel (tm) del arranque TFTP.
De ser su caso podría tener la posibilidad de configurar su BIOS/UEFI para
arrancar desde la red.

5.1.6.2. Tarjeta de red con bootROM

Podría ser que su tarjeta de red (NIC) provea la funcionalidad de arranque
usando TFTP.

5.1.6.3. Etherboot

El proyecto etherboot provee disquetes de arranque e incluso bootroms que
efectúan un arranque usando TFTP.

5.1.7. La pantalla de arranque

Cuando arranque el instalador, debería mostrarse una interfaz gráfica amigable
con el logotipo de Debian y un menú:

Debian GNU/Linux installer boot menu

Graphical install
Install
Advanced options                            >
Accessible dark contrast installer menu     >
Help
Install with speech synthesis

Nota

La pantalla gráfica puede ser ligeramente diferente según haya arrancado su
equipo (BIOS o UEFI), pero se mostrarán las mismas opciones.

Dependiendo del método de instalación que use, la opción del "Instalador
gráfico" podría no estar disponible. Las imágenes de arquitectura dual
contienen la variante de 64 bits para cada una de las opciones, justo debajo,
por lo que se duplica el número de opciones.

Para una instalación normal, seleccione bien la opción "Install" o "Graphical
install" -- (bien sea con las teclas de dirección o tecleando la primera letra
resaltada). La opción "Install" está seleccionada de manera predeterminada -- y
presione Enter para iniciar el instalador.

La opción "Advanced options" da acceso a un segundo menú que permite arrancar
el instalador en modos experto, rescate y para instalaciones automatizadas.

Si desea o requiere añadir algún parámetro al arranque bien sea al instalador o
al núcleo, presione Tab (arranque con BIOS), o end después down arrow tres
veces y después end (arranque con UEFI). Que desplegará la orden de arranque
predeterminada para la opción de menú seleccionada y le permitirá editarla para
ajustarla a sus necesidades. Tenga en cuenta que, en este punto, el teclado es
de tipo QWERTY. Las ventanas de ayuda (ver más abajo) muestran algunas opciones
comunes. Presione Enter (arranque con BIOS) o F10 (arranque con UEFI) para
iniciar el instalador con sus opciones; Si presiona Esc volverá al menú de
arranque y deshará cualquier cambio que usted haya hecho.

Al elegir la opción "Help" se muestra la primera pantalla de ayuda, que ofrece
una vista general de las pantallas de ayuda disponibles. Para volver al menú de
arranque después de mostrar las pantallas de ayuda, teclee "menu" en el símbolo
de arranque y pulse Enter. Todas las pantallas de ayuda tienen un símbolo de
arranque en el que se puede teclear la orden de arranque:

Press F1 for the help index, or ENTER to boot:

En este símbolo de arranque puede pulsar Enter para arrancar el instalador con
las opciones predeterminadas o incluir una orden de arranque específica y
opcionalmente parámetros de arranque. En las pantallas de ayuda puede encontrar
una gran número de parámetros de arranque que pueden ser de utilidad. Si añade
cualquier parámetro a la línea de órdenes de arranque, asegúrese de introducir
en primer lugar el método de arranque (el predeterminado es install) y un
espacio antes del primer parámetro (p. ej., install fb=false).

Nota

En este punto se asume que el teclado tiene como disposición Inglés Americano
predeterminada. Esto significa que si su teclado tiene una disposición distinta
(específica de su idioma), los caracteres que aparecen en la pantalla pueden
diferir de los que usted esperaría que aparecieran cuando teclea los
parámetros. Wikipedia tiene un esquema de la disposición de un teclado US que
puede usar como referencia para encontrar las teclas correctas a usar.

Nota

Si está usando un sistema que tiene la BIOS configurada para usar la consola
serie, es posible que no vea la pantalla gráfica inicial al arrancar el
instalador; puede incluso no ver el menú de arranque. Lo mismo puede suceder si
está instalando el sistema vía un dispositivo de administración remota que
provee una interfaz de texto a la consola VGA. Algunos ejemplos de estos
dispositivos incluyen la consola de texto de Compaq "integrated Lights Out"
(iLO) y la de HP "Integrated Remote Assistant" (IRA).

Para saltar la pantalla gráfica de arranque puede presionar sin mirar Esc para
obtener un símbolo de sistema de texto o (también sin mirar) presionar "H"
seguido de Enter para seleccionar la opción "Help" descrita anteriormente.
Después de haber tecleado deberá poder verlo en el símbolo. Para evitar que el
instalador use el framebuffer para el resto de la instalación, puede añadir
también vga=normal fb=false al símbolo de arranque, como se describe en el
texto de ayuda.

5.1.8. El Instalador Gráfico

La versión gráfica del instalador sólo está disponible para un número limitado
de arquitecturas, entre las que se incluye 64-bit PC. La funcionalidad del
instalador gráfico es esencialmente la misma que la del instalador basado en
texto, puesto que ambos utilizan los mismos programas pero con una interfaz
diferente.

Aunque ambos disponen de la misma funcionalidad, el instalador gráfico tiene
algunas ventajas significativas. La principal es que admite más idiomas, es
decir, los que utilizan un conjunto de caracteres que no se pueden mostrar con
la interfaz de texto "newt". También tiene algunas ventajas relacionadas con la
usabilidad, como la posibilidad de usar el ratón, y en algunos casos, se pueden
mostrar varias preguntas en una única pantalla.

El instalador gráfico está disponible en todas las imágenes de CD/DVD y en el
sistema de instalación desde el disco duro. Para arrancar el instalador gráfico
seleccione esta opción desde el menú de arranque. Puede elegir el modo experto
y el modo de rescate del instalador gráfico desde el menú "Opciones avanzadas".
Los sistemas de arranque utilizados con anterioridad (installgui, expertgui y
rescuegui) todavía se pueden utilizar desde el símbolo de arranque que aparece
tras seleccionar la opción "Ayuda" en el menú de arranque.

También existe una imagen con instalador gráfico que se puede arrancar desde la
red. Y existe una imagen "mini" ISO especial^[4], que se utiliza principalmente
para pruebas.

Al igual que el instalador en modo texto, puede añadir parámetros de arranque
cuando inicie el instalador gráfico.

Nota

El instalador gráfico necesita una mayor cantidad de memoria para ejecutarse
que el instalador el modo texto: 810MB. Si no dispone de suficiente memoria, se
revertirá automáticamente a la interfaz basada en texto "newt".

Si la cantidad de memoria de su sistema es menor de 780MB, el instalador
gráfico podría no arrancar, si bien el instalador en modo texto seguiría
disponible. Se recomienda usar el instalador en modo texto en sistemas que
dispongan de poca memoria.

5.2. Accesibilidad

Debido a alguna discapacidad, por ejemplo, visual, algunos usuarios pueden
requerir características adicionales. Las pantalla braille se detectan
automáticamente (salvo los que se conectan a través de un convertidor de puerto
serie a USB), pero la mayoría de las características de accesibilidad se tienen
que habilitar de forma manual. En las máquinas que lo permitan, el menú de
arranque emite un pitido cuando está listo para recibir pulsaciones de teclas.
Emite un único pitido en sistemas con BIOS y dos pitidos en sistemas con UEFI.
Se pueden añadir, entonces, algunos parámetros de arranque para habilitar las
funciones de accesibilidad (consulte también Sección 5.1.7, "La pantalla de
arranque"). Tenga en cuenta que en la mayoría de arquitecturas el cargador de
arranque asume que su teclado es de tipo QWERTY.

5.2.1. Interfaz del instalador

El instalador de Debian dispone de varias interfaces para formular preguntas,
con distinto soporte para la accesibilidad: a destacar, texto utiliza texto
plano mientras que newt utiliza cuadros de diálogo basados en texto. Puede
elegir estas opciones desde el símbolo de arranque, consulte la documentación
de DEBIAN_FRONTEND en Sección 5.3.2, "Parámetros del instalador de Debian".

With the newt front-end (used mostly with braille), one mostly just selects
answers with arrow keys and presses Enter to validate the choice. Pressing Tab
or Shift - Tab allows to switch between dialog elements, and notably to access
the Go Back button, which brings back again to previous questions. Some dialogs
contain check boxes, which can be ticked on and off by pressing Space.

With the text front-end (used mostly with speech), one mostly selects answers
by typing their number followed by pressing Enter. One can also not type
anything and just press Enter to simply accept the default value. Typing < and
pressing Enter brings back again to previous questions. When a selection of
choices has to be made (e.g. during task selection), one can type ! to express
an empty selection.

5.2.2. Dispositivos Braille USB

Los dispositivos braille USB se deberían detectar automáticamente. Se escogerá
automáticamente una versión en texto del instalador, y se instalará
automáticamente la funcionalidad para usar braille en el sistema a instalar.
Sólo tiene que presionar Enter en el menú de arranque. Una vez que arranca
brltty, puede elegir una tabla braille usando el menú de preferencias. La
documentación de los atajos de teclado para los dispositivos braille se
encuentra en el sitio web de brltty.

5.2.3. Dispositivos Braille Seriales

No es posible detectar con seguridad de forma automática los dispositivos
braille serie (puesto que pueden dañarse). Tiene que agregar el parámetro de
arranque brltty=controlador,puerto para indicar a brltty qué controlador
debería usarse. Debería reemplazar controlador por el código de dos letras del
controlador de su terminal (consulte el manual de BRTYY). Debería reemplazar
puerto por el nombre del puerto serie al que está conectado el dispositivo,
ttyS0 es el valor predeterminado, mientras que ttyUSB0 se utiliza normalmente
cuando se usa un convertidor de puerto serie a USB. Para seleccionar el nombre
de la tabla de braille que quiere utilizar, puede proporcionar un tercer
parámetro (consulte el manual de BRLTTY); la tabla en Inglés es la
predeterminada. Tenga en cuenta que la tabla se puede cambiar posteriormente
utilizando el menú de preferencias. Para pasar los parámetros al controlador de
braille, puede proporcionar un cuarto parámetro, como protocol=foo que es
necesario para algunos modelos poco convencionales. La documentación acerca de
los atajos de teclado para los dispositivos braille está disponible en el sitio
web de brltty.

5.2.4. Software de Síntesis de Voz

La compatibilidad con dispositivos de síntesis de voz está disponible para
todas las imágenes del instalador que cuentan con el instalador gráfico; esto
es, todas las imágenes netinst, CD y DVD y la versión netbook gtk. Se puede
activar seleccionándolo en el menú de arranque tecleando s Enter. A
continuación, se selecciona de forma automática la versión de texto del
instalador, y se instala el software de compatibilidad de síntesis de voz en el
sistema destino.

Si se detectan varias tarjetas de sonido, se le pedirá que pulse la tecla Enter
cuando escuche la locución desde la tarjeta deseada.

La primera pregunta (el idioma) se habla en inglés, y el resto de la
instalación continúa con el idioma seleccionado (si está disponible en espeak).

La velocidad de habla predeterminada es bastante lenta. Para aumentar la
velocidad, pulse CapsLock+6. Para reducir la velocidad, pulse CapsLock+5. El
volumen predeterminado debería ser un valor medio. Para aumentar el volumen,
pulse CapsLock+2. Para reducir el volumen, pulse CapsLock+1. Para más detalles
sobre los atajos de teclado de navegación, consulte la Guía de Speakup. Si
quiere aceptar la respuesta predeterminada para cada pregunta, pulse
simplemente Enter en el indicador. Si no quiere responder a una pregunta, pulse
! en el indicador. Para volver a la pregunta anterior, pulse < en el indicador.

5.2.5. Dispositivos de Síntesis de Voz

La compatibilidad con dispositivos de hardware de síntesis de voz está
disponible para todas las imágenes del instalador que cuentan con el instalador
gráfico; esto es, todas las imágenes netinst, imágenes de CD y DVD, y la
versión netbook gtk. Por ello, debe seleccionar la opción "Instalación Gráfica"
en el menú de arranque.

Los dispositivos de síntesis de voz no se detectan automáticamente. Por lo que
debe añadir speakup.synth=controlador como parámetro de arranque para indicarle
a speakup qué controlador debería usar. Se debe reemplazarcontrolador por el
código de controlador de su dispositivo (vea la lista de códigos de los
controladores). Entonces, se seleccionará automáticamente la versión de texto
del instalador, y la compatibilidad con el dispositivo de síntesis de voz se
instalará automáticamente en el sistema destino.

5.2.6. Dispositivos de Tarjeta

Algunos dispositivos de accesibilidad se presentan como tarjetas que se
insertan dentro de la máquina y que leen el texto directamente de la memoria de
vídeo. Para hacer uso de ellas se debe deshabilitar el uso de «framebuffer» con
el parámetro de arranque vga=normal fb=false. Sin embargo, esto reduce el
número de idiomas disponibles.

Si lo desea, puede activar una versión de texto del cargador de arranque antes
de añadir el parámetro de arranque pulsando h Enter.

5.2.7. Temas de Alto contraste

Para aquellos usuarios con visión disminuida, el instalador puede usar un tema
de alto contraste que lo hace más legible. Para habilitarlo, puede utilizar la
opción "Accesible (alto contraste) " de la pantalla del menú con la tecla de
acceso directo d, o añadir el parámetro de arranque theme=dark.

5.2.8. Ampliación

Para usuarios con visión reducida, el instalador gráfico dispone de un soporte
de ampliación muy básico: la combinación de teclas de acceso directo Control++
y Control+- permite aumentar y reducir el tamaño del tipo de letra.

5.2.9. Instalación en modo experto, modo de rescate, instalación automatizada

Las opciones de instalación en modo experto, el modo de rescate y la
instalación automatizada también disponen de soporte para accesibilidad. Para
seleccionar esta opción, primero debe acceder al submenú de "Opciones avanzadas
" pulsando a. En sistemas con BIOS (el menú de arranque habrá emitido un único
pitido), a continuación debe pulsar Enter ; en sistemas con EFI (el menú de
arranque habrá emitido dos pitidos). Entonces, para acceder al asistente de
voz, opcionalmente puede pulsar s (seguido de nuevo por Enter en sistemas con
BIOS pero no con EFI). Desde aquí, puede usar varias teclas de acceso directo:
x para la instalación en modo experto, r para e modo de rescate, o a para la
instalación automatizada. Recuerde que, en sistemas con BIOS, tras pulsar esas
teclas necesita introducir Enter.

Opcionalmente, puede instalar Debian de una forma completamente automatizada
utilizando la preconfiguración. Podrá introducir el archivo fuente después de
que se hayan iniciado las opciones de accesibilidad. Este sistema se encuentra
documentado en Apéndice B, Instalar automáticamente utilizando preconfiguración
.

5.2.10. Accesibilidad del sistema instalado

La documentación sobre accesibilidad del sistema instalado está disponible en
la página wiki de accesibilidad de Debian.

5.3. Parámetros de arranque

Los "parámetros de arranque" son los parámetros del núcleo de Linux que
generalmente se utilizan para asegurar la correcta gestión de los periféricos.
En la mayoría de los casos el núcleo puede auto-detectar toda la información
necesaria sobre sus periféricos pero deberá ayudar un poco a su núcleo en
algunos casos.

Si ésta es la primera vez que arranca su sistema lo recomendable es utilizar
los parámetros de arranque predeterminados. Es decir, no defina ningún
parámetro adicional. Observe si su sistema arranca correctamente de esta
manera, lo más probable es que sea así. Si no lo hace, podrá reiniciar más
adelante después de buscar qué parámetros específicos necesita utilizar para
informar a su sistema del hardware del que dispone.

Puede encontrar información sobre muchos de los parámetros de arranque en el
CÓMO de BootPrompt, que incluye también consejos útiles para hardware poco
común. Esta sección solamente contiene un resumen de los parámetros más
importantes. Podrá consultar también algunas precauciones comunes más adelante
en la Sección 5.4, "Resolución de problemas en el proceso de instalación".

5.3.1. Consola de arranque

If you are booting with a serial console, generally the kernel will autodetect
this. If you have a videocard (framebuffer) and a keyboard also attached to the
computer which you wish to boot via serial console, you may have to pass the
console=device argument to the kernel, where device is a serial device of the
target, which is usually something like ttyS0.

Puede tener que especificar parámetros para el puerto serie, como velocidad y
paridad, por ejemplo console=ttyS0,9600n8. Otros valores habituales de
velocidad pueden ser 57600 y 115200. Asegúrese de definir esta opción después
de "---", para que se copie en la configuración del cargador de arranque del
sistema instalado (si lo admite el instalador del cargador de arranque).

Puede añadir el parámetro TERM=tipo para asegurar que el tipo de terminal usado
por el instalador coincide con el emulador de terminal. Tenga en cuenta que el
instalador sólo permite los siguientes tipos de terminal: linux, bterm, ansi,
vt102 y dumb. El valor por omisión para una consola serie en el
debian-installer es vt102. Si utiliza una consola IPMI o una herramienta de
virtualización que no permite la conversión a estos terminales por si mismo,
como QEMU/KVM, puede iniciarla en una sesión de screen. Esto realiza la
traducción al tipo de terminal screen, muy similar a vt102.

5.3.2. Parámetros del instalador de Debian

El sistema de instalación reconoce algunos parámetros de arranque adicionales ^
[5] pueden serle útiles.

Algunos parámetros tienen una "forma abreviada" que permite evitar las
limitaciones de las opciones de línea de órdenes en el núcleo y hace más fácil
la introducción de parámetros. Las formas abreviadas de los parámetros se
mostrarán entre paréntesis tras la forma (normal) extendida. Los ejemplos en
este manual generalmente utilizan la forma simplificada.

debconf/priority (priority)

    El valor de este parámetro define la prioridad de los mensajes que se
    mostrarán durante la instalación. No se mostrará ningún mensaje de menor
    prioridad a la aquí definida.

    La instalación utiliza priority=high como valor predeterminado. Esto
    significa que se mostrarán los mensajes de prioridades alta y crítica, pero
    no así los mensajes con prioridades media y baja. El instalador, sin
    embargo, ajustará esta prioridad si se produce algún error.

    Si utiliza como parámetro de arranque priority=medium, se le mostrará el
    menú del instalador y tendrá un mayor control sobre la instalación. Si usa
    priority=low, se mostrarán todos los mensajes (esto es equivalente al
    método de arranque experto). Si utiliza priority=critical, el sistema de
    instalación mostrará solamente los mensajes críticos e intentará hacer lo
    correcto sin formular muchas preguntas.

DEBIAN_FRONTEND

    Este parámetro de arranque controla el tipo de interfaz de usuario que
    utilizará el instalador. A continuación se muestran los posibles valores
    que puede tomar este parámetro:

      □ DEBIAN_FRONTEND=noninteractive

      □ DEBIAN_FRONTEND=text

      □ DEBIAN_FRONTEND=newt

      □ DEBIAN_FRONTEND=gtk

    La interfaz predeterminada es DEBIAN_FRONTEND=newt. Si va a realizar una
    instalación a través de una consola serie puede que sea mejor utilizar
    DEBIAN_FRONTEND=text. Algunos dispositivos especializados de instalación
    solo ofrecen una selección limitada de interfaces, pero las interfaces newt
    y text están disponibles en la mayoría de medios de instalación. El
    instalador gráfico utiliza la interfaz gtk en las arquitecturas en las que
    es compatible.

BOOT_DEBUG

    Si establece este parámetro a dos conseguirá que el proceso de arranque del
    instalador genere registros más detallados. Si lo establece a tres obtendrá
    un intérprete de línea de órdenes en puntos estratégico del proceso de
    arranque (salga del intérprete para continuar con el proceso de arranque).

    BOOT_DEBUG=0

        Este es el valor predeterminado.

    BOOT_DEBUG=1

        Más detallado de lo habitual.

    BOOT_DEBUG=2

        Incluye mucha información de depuración.

    BOOT_DEBUG=3

        Se ejecutan intérpretes de órdenes en diversos puntos en el proceso de
        arranque para permitir una depuración detallada. Salga del intérprete
        de órdenes para proseguir con el arranque.

log_host, log_port

    Hace que el instalador envíe mensajes de registro a un syslog remoto en el
    servidor y puerto definido, así como a un fichero local. Si no se define,
    el valor predeterminado para syslog es su valor estándar de puerto, 514.

lowmem

    Se puede usar para forzar al instalador a un nivel lowmem más alto que el
    predeterminado por el instalador de acuerdo a la memoria disponible. Los
    valores posibles son 1 y 2, consulte Sección 6.3.1.1, "Comprobación de la
    memoria disponible / modo de baja memoria".

noshell

    Evita que el instalador ofrezca intérpretes de órdenes interactivos en las
    terminales tty2 y tty3. Útil para instalaciones sin supervisión en las que
    la seguridad física es limitada.

debian-installer/framebuffer (fb)

    En algunas arquitecturas se utiliza el framebuffer del núcleo para ofrecer
    la opción a realizar la instalación en un número diverso de idiomas. Si el
    uso de este dispositivo origina problemas en su sistema puede deshabilitar
    esta característica con el parámetro vga=normal fb=false. Algunos síntomas
    de este problema son mensajes que traten sobre "bterm" o "bogl", la
    aparición de una pantalla en blanco o que el sistema se quede congelado
    algunos minutos después de iniciarse la instalación.

debian-installer/theme (theme)

    Un tema determina cómo se muestra la interfaz de usuario del instalador
    (colores, iconos, etc.). Los temas disponibles dependen de la interfaz.
    Actualmente las interfaces newt y gtk sólo tienen un tema denominado "dark"
    (oscuro, n. del t.) que se ha diseñado para aquellas personas con problemas
    visuales. Puede fijar este tema arrancando el instalador con theme=dark
    (también puede pulsar la tecla de acceso directo d desde el menú de
    arranque).

netcfg/disable_autoconfig

    Por omisión, el debian-installer configura automáticamente la conexión de
    red a través de autoconfiguración IPv6 y DHCP. No podrá revisar ni cambiar
    los valores obtenidos de esta forma, si la prueba tiene éxito. Sin embargo,
    podrá realizar la configuración de forma manual en el caso de que falle la
    configuración automática.

    Puede usar el parámetro netcfg/disable_autoconfig=true para que no se lleve
    a cabo la configuración de red de forma automática, entonces tendrá que
    introducir la información manualmente. Esto puede ser útil si tiene un
    encaminador IPv6 o un servidor DHCP en su red local pero no quiere
    utilizarlo porque, por ejemplo, no proporciona valores correctos.

hw-detect/start_pcmcia

    Si quiere evitar que se ejecuten los servicios PCMCIA deberá definir este
    parámetro a false. Algunos ordenadores portátiles son conocidos por tener
    problemas en estos casos, y puede ser recomendable deshabilitarlo.

disk-detect/dmraid/enable (dmraid)

    Establezca a verdadero para habilitar el uso de discos RAID Serial ATA
    (también llamado ATA RAID, BIOS RAID o RAID falso) en el instalador. Tenga
    en cuenta que esta funcionalidad es actualmente experimental. Puede
    encontrar más información en el Wiki del Instalador de Debian.

preseed/url (url)

    Este valor especifica la ruta de un fichero de preconfiguración que se
    descargará y utilizará para automatizar la instalación. Vea Sección 4.6,
    "Instalación automática".

preseed/file (file)

    Este valor especifica la url de un fichero de preconfiguración que se
    cargará en la instalación automática. Consulte Sección 4.6, "Instalación
    automática".

preseed/interactive

    Si se define como a true (verdadero), se mostrarán las preguntas aunque ya
    hayan sido preconfiguradas. Esta opción puede ser útil para probar o
    depurar un fichero de preconfiguración. Tenga en cuenta que este valor no
    tiene ningún efecto sobre los parámetros que se introducen como parámetros
    de arranque, pero puede utilizar una sintaxis especial para éstos. Para más
    información consulte Sección B.5.2, "Utilizar la preconfiguración para
    cambiar valores por omisión".

auto-install/enable (auto)

    Demora las preguntas que se realizan normalmente antes de la
    preconfiguración hasta después de configurar la red. Consulte
    Sección B.2.3, "Modo «auto»" para más información de cómo utilizar esto
    para realizar instalaciones automatizadas.

finish-install/keep-consoles

    Durante las instalaciones desde una consola serie o de administración,
    normalmente se deshabilitan las consolas virtuales(VT1 a VT6) en /etc/
    inittab. Establezca a true para evitarlo.

cdrom-detect/eject

    Antes de reiniciar el sistema, debian-installer expulsa automáticamente el
    medio óptico utilizado durante la instalación por omisión. Esto puede no
    ser necesario si el sistema no arranca de forma automática del CD. En
    algunos casos puede incluso no ser deseable, por ejemplo, si la unidad
    óptica no puede volver a insertar el medio y el usuario no está allí para
    hacerlo manualmente. Muchas unidades de distinto tipo («slot loading»,
    «slim-line» y «caddty style») no pueden recargar el medio automáticamente.

    Fije este valor a false para deshabilitar el expulsado automático, pero
    tenga en cuenta que debe asegurarse que el sistema no arranca de forma
    automática de la unidad óptica tras la instalación inicial.

base-installer/install-recommends (recommends)

    Si define esta opción como false, el sistema de gestión de paquetes se
    configurará para no instalar automáticamente los paquetes recomendados ("
    Recommends"), bien durante la instalación y también en el sistema
    instalado. Consulte Sección 6.3.5, "Instalar el sistema base".

    Tenga en cuenta que esta opción permite tener un sistema más ligero, pero
    también puede resultar en la perdida de funcionalidades que habitualmente
    el usuario espera que se ofrezcan. Puede que tenga instalar algunos de los
    paquetes recomendados para obtener toda la funcionalidad que espera. Por
    ello, sólo los usuarios muy experimentados deberían usar esta opción.

debian-installer/allow_unauthenticated

    Por omisión, el instalador obliga a que los repositorios estén autenticados
    con una clave gpg conocida. Si se fija esta opción a true, se deshabilitará
    esta autenticación. Aviso: inseguro, no recomendado.

rescue/enable

    Fije este valor a true si desea entrar en el modo de rescate en lugar de
    hacer una instalación normal. Si desea más información consulte
    Sección 8.6, "Recuperar un sistema roto".

5.3.3. Utilizar parámetros de arranque para responder a preguntas

Se puede fijar un valor durante el indicador de arranque para cualquier
pregunta que se realiza durante la instalación, con algunas excepciones.
Realmente esto es sólo útil para algunos casos concretos. Puede encontrar
instrucciones generales que describen como hacer esto en Sección B.2.2, "Usar
parámetros de arranque para preconfigurar preguntas". A continuación se listan
algunos ejemplos.

debian-installer/language (language), debian-installer/country (country), 
    debian-installer/locale (locale)

    Existen dos formas de definir el idioma, país y locale a usar por el
    proceso de instalación y en el sistema instalado.

    La primera y más sencilla consiste en simplemente introducir el parámetro
    locale. De su valor se derivarán el idioma y el país. Puede, por ejemplo,
    usar locale=de_CH para seleccionar el alemán como idioma y Suiza como país
    (se definirá de_CH.UTF-8 como la locale predeterminada para el sistema
    instalado). Este método no permite todas las combinaciones posibles de
    idioma, país y locale.

    La segunda opción, más flexible, es definir language (idioma) y country
    (país) de forma separada. En este caso, puede añadir locale para
    especificar una locale predeterminada para el sistema instalador. Ejemplo:
    language=en country=DE locale=en_GB.UTF-8.

anna/choose_modules (modules)

    Puede utilizarse para cargar automáticamente componentes del instalador que
    no se cargan por omisión. Algunos ejemplos de componentes opcionales que
    pueden ser útiles son openssh-client-udeb (para poder utilizar el programa 
    scp durante la instalación)) y ppp-udeb (que permite la configuración
    PPPoE).

netcfg/disable_autoconfig

    Puede fijar este valor a true si quiere deshabilitar la autoconfiguración
    IPv6 y DHCP y, en su lugar, forzar la configuración estática de la red.

mirror/protocol (protocol)

    El instalador utilizará el protocolo HTTP para descargar ficheros de las
    réplicas de Debian y no es posible cambiar a FTP en instalaciones que se
    realizan con prioridad normal. Puede forzar al instalador a utilizar el
    protocolo FTP si fija este parámetro a ftp. Tenga en cuenta que no podrá
    seleccionar una réplica ftp de una lista, tendrá que introducir el nombre
    del sistema donde está la réplica manualmente.

tasksel:tasksel/first (tasks)

    Puede utilizarse para seleccionar tareas que no están disponibles en la
    lista interactiva de tareas, como pueda ser la tarea kde-desktop. Para más
    información consulte Sección 6.3.6.2, "Elegir e instalar programas".

5.3.4. Pasar parámetros a módulos del núcleo

Puede pasar parámetros a los módulos del núcleo como se describe en la
documentación del núcleo si los controladores están compilados dentro de éste.
Sin embargo, no es posible pasar parámetros a los módulos como haría
normalmente en el caso de controladores compilados como módulos, debido a que
los módulos del núcleo se carga de una forma un poco distinta en la instalación
a como se hace en un sistema ya instalado. Tiene que utilizar una sintaxis
especial que reconoce el instalador. Si la utiliza, el instalador se asegurará
que los parámetros se guarden en el fichero de configuración apropiado y se
utilicen cuando se carguen los módulos. Los parámetros que utilice también se
propagan de forma automática a la configuración utilizada en el sistema
instalado.

Tenga en cuenta que ahora es raro pasar parámetros a los módulos. En la mayor
parte de las situaciones el núcleo podrá analizar el hardware disponible en un
sistema y fijar valores por omisión correctos de esta forma. Existen algunas
situaciones, sin embargo, en las que será necesario pasar parámetros
manualmente.

Debe utilizar la siguiente sintaxis para fijar parámetros para los módulos:

nombre_módulo.nombre_parámetro=valor

Si necesita pasar múltiples parámetros al mismo módulo o a distintos módulos
sólo tiene que repetir este formato. Por ejemplo, para indicar a una tarjeta de
red 3Com antigua que utilice el conector BNC (coaxial) y la interrupción (IRQ)
10 debería utiliza:

3c509.xcvr=3 3c509.irq=10

5.3.5. Poner módulos del núcleo en una lista negra

Algunas veces es necesario poner un módulo en una lista negra para que ni el
núcleo ni «udev» lo carguen automáticamente. Una razón para hacer esto es
cuando un módulo concreto causa problemas en su hardware. El núcleo también
puede algunas veces listar dos controladores distintos para el mismo
dispositivo. Esto puede hacer que el dispositivo no funcione correctamente si
los controladores entran en conflicto o si se carga el controlador erróneo
primero.

Puede poner un módulo en la lista negra con la siguiente sintaxis:
nombre_módulo.blacklist=yes. Esto hará que el módulo se ponga en la lista negra
en /etc/modprobe.d/blacklist.local tanto durante la instalación como en el
sistema instalado.

Tenga en cuenta que el sistema de instalación puede llegar a cargar el módulo
por sí sólo. Puede evitar esto ejecutando la instalación en modo experto y
deseleccionando el módulo de la lista de módulos que se muestra durante las
fases de detección de hardware.

5.4. Resolución de problemas en el proceso de instalación

5.4.1. Fiabilidad de los medios ópticos

Algunas veces, especialmente en el caso de las unidades antiguas de
dispositivos ópticos, el instalador puede fallar y no poder arrancar desde el
disco óptico. El instalador puede que (aún después de haber arrancado con éxito
desde el disco óptico) falle al reconocer el disco o devuelva errores mientras
lee de éste durante la instalación.

Hay muchas causas posibles para estos problemas. Aquí sólo se pueden listar
algunos problemas comunes y dar sugerencias generales de cómo tratarlos. Lo
demás depende de usted.

Hay dos cosas muy sencillas que debería intentar primero.

  • Si el disco (CD/DVD) no arranca, compruebe que se introdujo correctamente y
    que no está sucio.

  • Si el instalador no detecta el disco (CD/DVD), intente simplemente ejecutar
    la opción Detectar y montar el medio de instalación otra vez. Es sabido que
    algunos problemas relacionados con DMA en unidades de CD/DVD antiguas se
    solucionan de esta forma.

Pruebe las sugerencias que se muestran en las subsecciones a continuación si no
funciona ninguna de estas opciones. Algunas, pero no todas, las opciones que
aquí se discuten son válidas tanto para las unidades de CD-ROM como las
unidades de DVD.

En cualquier caso, intente cualquiera de los otros métodos de instalación
disponible si no consigue que la instalación funcione mediante la unidad de
dispositivo óptico.

5.4.1.1. Problemas habituales

  • Algunas unidades antiguas de CD-ROM no pueden leer discos que se grabaron a
    altas velocidades con grabadores de CD modernos.

  • Algunas unidades muy antiguas de CD-ROM no funcionan correctamente si se
    activa la función "direct memory access" (DMA).

5.4.1.2. Cómo investigar y, quizás, solucionar problemas

Si el disco óptico (CD/DVD) no puede arrancar, intente las sugerencias
descritas a continuación.

  • Compruebe que su BIOS/UEFI permita arrancar desde una unidad de disco
    óptico (posiblemente, los sistemas antiguos no pueden) y que el arranque
    desde ese tipo de medios está activado en la BIOS/UEFI.

  • Compruebe que la suma de control md5 de la imagen coincide con el valor
    listado en el fichero MD5SUMS si ha descargado la imagen ISO. Este fichero
    debería estar disponibles en la misma ubicación de la que descargo la
    imagen.

    $ md5sum debian-testing-i386-netinst.iso
    a20391b12f7ff22ef705cee4059c6b92  debian-testing-i386-netinst.iso

    A continuación, compruebe que la suma md5 del disco grabado también
    coincide. La orden mostrada a continuación debería ser suficiente para
    poder hacer esto. Utiliza el tamaño de la imagen para leer el número de
    bytes correcto del disco óptico.

    $ dd if=/dev/cdrom | \
    > head -c `stat --format=%s debian-testing-i386-netinst.iso` | \
    > md5sum
    a20391b12f7ff22ef705cee4059c6b92  -
    262668+0 records in
    262668+0 records out
    134486016 bytes (134 MB) copied, 97.474 seconds, 1.4 MB/s

Puede volver a intentar la instalación si no se detecta el disco óptico después
de que el instalador haya arrancado con éxito, ya que esto algunas veces
resuelve el problema. Intente cambiar el disco a la otra unidad si tiene más de
una unidad de disco óptico. Intente algunas de las sugerencias mostradas a
continuación si no funciona ninguna de éstas o si se dan errores cuando se
intenta leer de éste. Para llevarlas a cabo es necesario tener algunos
conocimientos básicos de Linux. Debe cambiar primero a la segunda consola
virtual (VT2) y activar el intérprete de órdenes para ejecutar cualquiera de
estas órdenes.

  • Cambie al terminal virtual VT4 o consulte los contenidos de /var/log/syslog
    (utilice nano como editor) para comprobar si hay algún mensaje de error
    específico. Una vez lo haya hecho, compruebe también la salida de ejecutar 
    dmesg.

  • Puede ver si se ha reconocido su unidad óptica comprobando la salida de 
    dmesg. Debería ver algo como esto (las líneas no tienen por qué ser
    consecutivas):

    ata1.00: ATAPI: MATSHITADVD-RAM UJ-822S, 1.61, max UDMA/33
    ata1.00: configured for UDMA/33
    scsi 0:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ-822S  1.61 PQ: 0 ANSI: 5
    sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw xa/form2 cdda tray
    cdrom: Uniform CD-ROM driver Revision: 3.20

    Es posible que su unidad óptica esté conectada pero no se haya reconocido,
    o que no sea compatible, si no ve ninguna de estas líneas. Si sabe qué
    controlador es necesario para su controladora puede intentar cargarlo de
    forma manual ejecutando la orden modprobe.

  • Compruebe que hay un nodo de dispositivo para su unidad óptica en /dev/. En
    el ejemplo anterior, el nodo se llamaría /dev/sr0. También debería existir
    /dev/cdrom.

  • Utilice la orden mount para comprobar si el disco óptico está ya montado.
    Si no lo está puede intentar montarlo manualmente con:

    $ mount /dev/hdc /cdrom

    Compruebe si se produce algún mensaje de error después de ejecutar esta
    orden.

  • Compruebe si está activa la función de DMA:

    $ cd /proc/ide/hdc
    $ grep using_dma settings
    using_dma      1       0       1       rw

    Un valor de "1" en la primera columna después de using_dma significa que
    está activa. Si lo está, intente desactivarla:

    $ echo -n "using_dma:0" >settings

    Asegúrese que está en el directorio del dispositivo que corresponde a su
    unidad óptica (CD/DVD).

  • Intente comprobar la integridad del medio de instalación con la opción que
    encontrará al final del menú principal del instalador si se producen
    problemas durante la instalación. Esta opción puede utilizarse como una
    prueba general para determinar si el disco se puede leer con fiabilidad.

5.4.2. Configuración del arranque

En caso de que tenga problemas, el núcleo se bloquee durante el proceso de
arranque, no reconozca los dispositivos que tiene o no se reconozcan
correctamente las unidades, lo primero que debe verificar son los parámetros de
arranque, como se explica en Sección 5.3, "Parámetros de arranque".

En algunos casos, pueden aparecer errores de funcionamiento por un firmware de
dispositivo faltante (consulte Sección 2.2, "Dispositivos que requieren
firmware" y Sección 6.4, "Carga de Firmware adicional").

5.4.3. Software de Síntesis de Voz

Si el software de síntesis de voz no funciona, lo más probable es que exista un
problema con su tarjeta de sonido, habitualmente porque el controlador no se
incluye en el instalador, o porque tiene unos nombres de nivel del mezclador no
habituales, y que se silencian por omisión. Si es así, envíe un informe de
fallo que incluya la salida de las siguientes órdenes, ejecutados en la misma
máquina pero desde un sistema de Linux sin problemas de sonido (por ejemplo,
desde un Live CD).

  • dmesg

  • lspci

  • lsmod

  • amixer

5.4.4. Problemas comunes durante la instalación en 64-bit PC

Hay algunos problemas comunes que se producen en la instalación y que pueden
resolverse o evitarse pasando ciertos parámetros de arranque al instalador.

Si su pantalla empieza a mostrar una imagen rara cuando arranca el núcleo, como
pudiera ser mostrarse todo en blanco, o todo en negro, o con algunos pixels
coloreados al azar mal, puede que tenga una tarjeta de vídeo problemática que
no es capaz de cambiar al modo "framebuffer" correctamente. Puede utilizar el
parámetro del arranque fb=false para deshabilitar el framebuffer en consola. Si
hace esto, sólo podrá ver la instalación en un conjunto reducido de idiomas
debido a las funcionalidades limitadas de la consola. Si quiere los detalles,
consulte Sección 5.3, "Parámetros de arranque".

5.4.4.1. Parada del sistema durante la fase de configuración de PCMCIA

Es sabido que algunos modelos de portátil de Dell muy antiguos fallan cuando la
detección de dispositivos PCMCIA intenta acceder a algunas direcciones
hardware. Es posible que otros ordenadores portátiles sufran problemas
parecidos. Si tiene este problema y no necesita el uso de PCMCIA durante la
instalación puede deshabilitar PCMCIA con el parámetro de arranque hw-detect/
start_pcmcia=false. Podrá configurar PCMCIA una vez termine la instalación y
excluir el rango de recursos que causa el problema.

También puede intentar arrancar el instalador en modo experto. Si lo hace, se
le preguntará las opciones del rango de recursos para sus necesidades hardware.
Por ejemplo, si tiene alguno de los ordenadores portátiles Dell mencionados
anteriormente podría introducir aquí exclude port 0x800-0x8ff. Encontrará un
listado de opciones de configuración de recursos habituales en System resource
settings section of the PCMCIA HOWTO. Tenga en cuenta que ha de omitir
cualquier coma, si la hay, cuando introduzca este valor en el instalador.

5.4.5. Interpretar los mensajes de inicio del núcleo

Durante la secuencia de arranque podría ver muchos mensajes de la forma can't
find algo, o algo not present, can't initialize algo, o incluso this driver
release depends on algo . Muchos de estos mensajes son inocuos. Los ve porque
el sistema de instalación está programado para ejecutarse en ordenadores con
diversos dispositivos. Obviamente, ningún ordenador tendrá todos y cada uno de
los posibles dispositivos, de modo que el sistema operativo emite algunos
mensajes de advertencia mientras intenta buscar dispositivos que usted no
tiene. También podría observar que el sistema se detiene durante algunos
momentos. Esto ocurre cuando se está esperando que un dispositivo responda y
éste no está presente en su sistema. Podrá crear más adelante un núcleo a
medida (lea Sección 8.5, "Compilar un nuevo núcleo") si piensa que el tiempo
que tarda en arrancar el sistema es muy largo.

5.4.6. Informar de fallos

Podría serle útil la opción de Guardar informe de fallos del menú si ha pasado
la fase inicial de arranque pero no puede completar la instalación. Esta opción
le permite copiar los registros de fallos de sistema y la información de
configuración a un medio de almacenamiento, o descargarlas con un navegador
web. Esta información puede darle pistas sobre lo que ha fallado y cómo
solucionarlo. Podría también querer adjuntar esta información si va a enviar un
informe de fallos.

Puede encontrar otros mensajes de instalación pertinentes en /var/log/ durante
la instalación, y en /var/log/installer/ después de que el ordenador ha sido
arrancado con el sistema instalado.

5.4.7. Enviar los informes de la instalación

Por favor, envíe un informe de su instalación si tiene problemas. Le animamos a
hacerlo incluso si la instalación tiene éxito, de esta forma podremos obtener
la mayor información posible sobre la mayor cantidad de configuraciones de
hardware.

Tenga en cuenta que el informe de instalación se publicará en el sistema de
seguimiento de fallos de Debian y que se reenviará a una lista de correo
pública. Asegúrese que utiliza una dirección de correo electrónico que no le
importa que se haga público.

La forma más sencilla de enviar un informe de instalación si tiene un sistema
Debian funcionando es instalar los paquetes installation-report y reportbug (
apt-get install installation-report reportbug), configurar reportbug como se
describe en Sección 8.4.2, "Enviar correo electrónico fuera del sistema", y
ejecutar la orden reportbug installation-reports.

Haga uso de la plantilla mostrada a continuación cuando haga un informe de
instalación, y envíelo (en inglés) como un informe de fallo para el pseudo
paquete installation-reports a la dirección <submit@bugs.debian.org>.

Package: installation-reports

Boot method: <Cómo arrancó la instalación? ¿Con un CD/DVD? ¿Con un dispositivo de memoria USB? ¿Desde la red?>
Image version: <Escriba la dirección URL completa desde donde obtuvo la imagen>
Date: <Fecha y hora de la instalación>

Machine: <Descripción de la máquina (p. ej., IBM Thinkpad R32)>
Processor: <Tipo de procesador>
Memory: <Cantidad de memoria RAM>
Partitions: <Basta con la salida de «df -Tl», es preferible la tabla de particiones sin editar>

Output of lspci -knn (or lspci -nn): <Salida de la orden «lspci -knn» (o «lspci -nn»)>

Base System Installation Checklist: <Marque según sea su caso: Escriba «O»
     si dicha fase funcionó, «E» si presentó algún fallo y déjela en blanco si
     no intentó o no usó esta opción.>
[O] = OK, [E] = Error (descríbalo a continuación), [ ] = didn't try it

Initial boot:           [ ] <¿Funcionó el arranque inicial?>
Detect network card:    [ ] <¿Se configuró el hardware de red?>
Configure network:      [ ] <¿Se configuró la red?>
Detect media:              [ ] <¿Se detectó el medio de instalación?>
Load installer modules: [ ] <¿Se cargaron los módulos del instalador?>
Detect hard drives:     [ ] <¿Se detectaron los discos duros?>
Partition hard drives:  [ ] <¿Se particionaron los discos duros?>
Install base system:    [ ] <¿Se instaló el sistema base?>
Clock/timezone setup:   [ ] <¿Se configuró bien la zona horaria?>
User/password setup:    [ ] <¿Se configuró correctamente el usuario?>
Install tasks:          [ ] <¿Se instalaron bien las tareas?>
Install boot loader:    [ ] <¿Se instaló el gestor de arranque?>
Overall install:        [ ] <¿Reinició correctamente?>

Comments/Problems:

<Describa la instalación en detalle, e incluya cualquier idea o
comentario que tuvo durante la instalación.>

En el informe de fallo describa cuál es el problema, incluya los últimos
mensajes visibles del núcleo en el caso de que éste se bloquee. Describa los
pasos que llevó a cabo y que condujeron al sistema a la situación del fallo.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[4] Puede descargar la imagen mini ISO desde una réplica de Debian como se
indica en Sección 4.2, "Descarga de ficheros desde réplicas de Debian". Busque
el archivo netboot/gtk/mini.iso.

^[5] Con los núcleos actuales (kernel 2.6.9 o versiones más recientes) puede
utilizar 32 opciones en la línea de órdenes y 32 opciones de entorno. Si excede
estos números el núcleo emitirá un fallo. También existe un límite de 255
caracteres que puede introducir en la línea de órdenes del núcleo. Se recortará
silenciosamente cualquier carácter que exceda ese número.

Capítulo 6. Usar el instalador de Debian

Tabla de contenidos

6.1. Funcionamiento del instalador

    6.1.1. Usar el instalador gráfico

6.2. Introducción a los componentes
6.3. Uso de componentes individuales

    6.3.1. Configurar el instalador de Debian y configuración de hardware
    6.3.2. Configurar usuarios y contraseñas
    6.3.3. Configuración del reloj y zona horaria
    6.3.4. Particionado y elección de punto de montaje
    6.3.5. Instalar el sistema base
    6.3.6. Instalar programas adicionales
    6.3.7. Hacer su sistema arrancable
    6.3.8. Finalizar la instalación
    6.3.9. Resolución de problemas
    6.3.10. Instalación a través de la red-consola

6.4. Carga de Firmware adicional

    6.4.1. Preparación del medio
    6.4.2. Firmware y el Sistema Instalado
    6.4.3. Completando el Sistema Instalado

6.5. Personalización

    6.5.1. Instalación de un sistema init alternativo

6.1. Funcionamiento del instalador

For this architecture the debian-installer supports two different user
interfaces: a graphical one and a text-based one. The graphical interface is
used by default unless you select an "Install" option in the boot menu. For
more information about booting the graphical installer, please refer to
Sección 5.1.8, "El Instalador Gráfico".

El instalador de Debian está compuesto por un conjunto de componentes de
propósito específico para realizar cada tarea de la instalación. Cada
componente realiza una tarea, formulando al usuario las preguntas que sean
necesarias para realizar su trabajo. Se asignan prioridades a cada una de las
preguntas, definiendo al arrancar el instalador la prioridad de las preguntas a
mostrar.

Cuando se realiza una instalación estándar, solamente se formularán las
preguntas esenciales (prioridad alta). Esto tiene como consecuencia un proceso
de instalación altamente automatizado y con poca interacción del usuario. Los
componentes son ejecutados automáticamente en una secuencia predeterminada. Los
componentes a ejecutar dependerán del método de instalación que use y de su
hardware. El instalador usará los valores predeterminados para las preguntas
que no son formuladas.

Cuando exista un problema, el usuario verá el error en pantalla, y es posible
que se muestre el menú del instalador para que elija de éste alguna acción
alternativa. El usuario no verá el menú del instalador si no se produce ningún
problema, simplemente tendrá que responder las preguntas formuladas por cada
componente en cada paso. Se fija prioridad crítica ("critical") para cualquier
notificación de un error serio, por lo que el usuario siempre será notificado
de estos.

Algunos de los valores predeterminados que usa el instalador pueden ser
modificados mediante la introducción de argumentos de arranque en el inicio del
debian-installer. Si, por ejemplo, desea forzar la configuración de red
estática (se usa autoconfiguración IPv6 y DHCP como opción predeterminada si
este protocolo está disponible), puede utilizar el parámetro de arranque netcfg
/disable_autoconfig=true. Puede consultar todas las opciones disponibles en
Sección 5.3.2, "Parámetros del instalador de Debian".

Es posible que los usuarios avanzados estén más cómodos si utilizan la interfaz
basada en menú, donde el control de cada paso lo tiene el usuario en lugar de
que éstos se ejecuten de forma automática en una secuencia predeterminada por
el instalador. Para usar el instalador en el modo manual, gestionado a través
de un menú, añada el argumento de arranque priority=medium.

Deberá iniciar el instalador en modo "expert" si para hacer funcionar o
detectar su hardware es necesario que indique opciones para los módulos del
núcleo conforme se instalen. Esto puede realizarse ya sea usando la orden 
expert al iniciar el instalador o bien añadiendo el argumento de arranque
priority=low. El modo experto le da control total del debian-installer.

In the text-based environment the use of a mouse is not supported. Here are the
keys you can use to navigate within the various dialogs. The Tab or right arrow
keys move "forward", and the Shift+Tab or left arrow keys move "backward"
between displayed buttons and selections. The up and down arrow select
different items within a scrollable list, and also scroll the list itself. In
addition, in long lists, you can type a letter to cause the list to scroll
directly to the section with items starting with the letter you typed and use 
Pg-Up and Pg-Down to scroll the list in sections. The space bar selects an item
such as a checkbox. Use Enter to activate choices.

Puede que algunos diálogos ofrezcan información de ayuda adicional. Si se
ofrece ayuda, se indicará en la parte inferior de la pantalla mostrando que
puede acceder a la información de ayuda pulsando la tecla F1.

Los mensajes de error y de registro se redireccionan a la cuarta consola. Puede
acceder a ésta pulsando Alt Izq+F4 (mantenga presionada la tecla Alt mientras
presiona la tecla de función F4). Para volver al proceso de instalación
principal pulse Alt Izq+F1.

También puede encontrar los mensajes de error en /var/log/syslog. Este registro
se copia a /var/log/installer/syslog en su nuevo sistema una vez finalizada la
instalación. Durante el proceso de instalación puede encontrar otros mensajes
en /var/log/, y en /var/log/installer/ después de que el ordenador haya sido
iniciado con el sistema instalado.

6.1.1. Usar el instalador gráfico

El instalador gráfico funciona básicamente de la misma manera que el instalador
en modo texto y por lo tanto, puede utilizar el resto de este manual para que
le guíe durante el proceso de instalación.

Si prefiere utilizar el teclado en lugar del ratón, hay dos cosas que debe
saber. Para expandir una lista reducida (como la usada en la selección de
países dentro de cada continente), puede utilizar las teclas + y -. En las
preguntas que permiten seleccionar más de un elemento (p. ej., la selección de
tareas), primero tiene que ubicarse con el tabulador en el botón Continue antes
de seleccionar los elementos; si pulsa Enter se cambiará el estado de la
selección pero no se activará Continue.

Si algún cuadro de diálogo ofrece información de ayuda adicional, se le
mostrará el botón Ayuda. En ese caso, podrá acceder a la información de ayuda
activando el botón o pulsando la tecla F1.

Para cambiar a otra consola, también tendrá que utilizar la tecla Ctrl, como si
se tratara del Sistema de Ventanas X. Por ejemplo, para cambiar a la VT2 (el
primer intérprete de depuración) tendría que utilizar la siguiente combinación
de teclas: Ctrl+Alt Izq+F2. El instalador gráfico se ejecuta en la VT5, por lo
que para volver al instalador puede utilizar la siguiente combinación Alt Izq+
F5.

6.2. Introducción a los componentes

A continuación se muestra una lista de los componentes del instalador con una
breve descripción del propósito de cada uno. Puede encontrar los detalles que
necesite conocer de un determinado componente en la Sección 6.3, "Uso de
componentes individuales".

main-menu

    Muestra al usuario la lista de componentes durante el trabajo del
    instalador, e inicia un componente cuando se selecciona. Las preguntas de "
    main-menu" tienen prioridad media ("medium"), de modo que no verá el menú
    si define su prioridad a valores alto ("high") o crítico ("critical"). El
    valor predeterminado es alto. Por otro lado, se reducirá temporalmente la
    prioridad de alguna pregunta si se produce un error que haga necesaria su
    intervención de forma que pueda resolver el problema. En este caso es
    posible que aparezca el menú.

    Puede volver al menú principal pulsando repetidamente el botón Go Back
    hasta salir del componente que está ejecutando.

localechooser

    Permite que el usuario seleccione las opciones de localización tanto para
    la instalación como para el sistema a instalar. Estas opciones incluyen
    idioma, país y valores de localización. El instalador mostrará los mensajes
    en el idioma seleccionado a menos que la traducción para ese idioma no esté
    completa, en cuyo caso podrán mostrarse algunos mensajes en inglés.

console-setup

    Muestra una lista de teclados (distribuciones), para que el usuario elija
    el modelo que mejor se adapte al suyo.

hw-detect

    Detecta automáticamente la mayoría del hardware del sistema, incluyendo
    tarjetas de red, discos duros y PCMCIA.

cdrom-detect

    Busca y monta un medio de instalación de Debian.

netcfg

    Configura las conexiones de red del ordenador de modo que éste pueda
    comunicarse a través de Internet.

iso-scan

    Busca imágenes ISO (ficheros .iso) en el disco duro.

choose-mirror

    Presenta una lista de los servidores de réplica del archivo de Debian. El
    usuario puede elegir la fuente que se utilizará para sus paquetes de
    instalación.

cdrom-checker

    Verifica la integridad del medio de instalación. De esta forma, se puede
    comprobar que la imagen de instalación no está dañada.

lowmem

    Lowmem intenta detectar sistemas con poca memoria y entonces realiza varios
    trucos para eliminar partes innecesarias del debian-installer en la memoria
    (a costa de algunas características).

anna

    "Anna's Not Nearly APT" (Anna casi no es APT, N. del t.). Instala paquetes
    que han sido obtenidos del servidor de réplica escogido o del medio de
    instalación.

user-setup

    Configura la contraseña del usuario «root» (administrador) y añade un
    usuario no-administrador.

clock-setup

    Actualiza el reloj del sistema y determina si el reloj está fijado como UTC
    o no.

tzsetup

    Selecciona la zona horaria, basada en el lugar seleccionado previamente.

partman

    Permite al usuario particionar los discos conectados al sistema, crear
    sistemas de ficheros en las particiones seleccionadas y añadirlos a los
    puntos de montaje. Incluye algunas características interesantes como son un
    modo totalmente automático de particionado o el uso de volúmenes lógicos
    (LVM). Es la herramienta de particionado recomendada para Debian.

partitioner

    Permite al usuario particionar los discos conectados al sistema. Se elige
    un programa de particionado apropiado para la arquitectura de su ordenador.

partconf

    Muestra una lista de particiones y crea sistemas de ficheros en las
    particiones seleccionadas de acuerdo a las instrucciones del usuario.

partman-lvm

    Ayuda al usuario con la configuración del gestor de volúmenes lógicos
    (Logical Volume Manager ó LVM, N. del t.).

partman-md

    Permite al usuario configurar Software RAID («Redundant Array of
    Inexpensive Disks»). Este software RAID habitualmente es mejor que los
    controladores baratos RAID IDE (pseudo hardware) que puedes encontrar en
    placas base nuevas.

base-installer

    Instala el conjunto de paquetes más básico que permitirá que el ordenador
    opere con Debian GNU/Linux cuando se reinicie.

apt-setup

    Configura apt, casi todo automáticamente, basándose en el medio desde el
    que se está ejecutando el instalador.

pkgsel

    Utiliza tasksel para seleccionar e instalar programas adicionales.

os-prober

    Detecta los sistemas operativos instalados actualmente en el ordenador y
    entrega esta información a "bootloader-installer". Éste le ofrecerá la
    posibilidad de añadir estos sistemas operativos al menú de inicio del
    gestor de arranque. De esta manera el usuario podría fácilmente elegir qué
    sistema operativo iniciar en el momento de arrancar su sistema.

bootloader-installer

    Los distintos instaladores del gestor de arranque instalan un programa de
    gestión de arranque en el disco duro, necesario para que el ordenador
    arranque usando Linux sin usar una memoria USB o un CD-ROM. Muchos gestores
    de arranque permiten al usuario elegir un sistema operativo alternativo
    cada vez que el equipo se inicia.

shell

    Permite al usuario ejecutar un intérprete de órdenes ya sea desde el menú o
    desde la segunda consola.

save-logs

    Permite que el usuario pueda guardar información en una memoria USB, red,
    disco duro u otros dispositivos cuando se encuentre ante un problema, para
    que pueda informar después, adecuadamente, sobre los problemas que ha
    tenido con el programa del instalador a los desarrolladores de Debian.

6.3. Uso de componentes individuales

En esta sección describiremos en detalle cada componente del instalador. Los
componentes han sido agrupados en etapas que los usuarios podrán reconocer.
Éstos se presentan en el orden en el que aparecen durante la instalación. Note
que no se usarán todos los módulos en cada instalación; los módulos que se usan
realmente dependen del método de instalación que use y de su hardware.

6.3.1. Configurar el instalador de Debian y configuración de hardware

Asumamos que el instalador de Debian ha arrancado y está visualizando su
pantalla inicial. En este momento, las capacidades del debian-installer son
todavía algo limitadas. Éste no conoce mucho sobre su hardware, idioma
preferido, o incluso la tarea que deberá realizar. No se preocupe. Porque
debian-installer es bastante intuitivo, puede automáticamente explorar su
hardware, localizar el resto de sus componentes y actualizarse automáticamente
a un sistema de instalación capacitado. Sin embargo, todavía deberá ayudar al
debian-installer suministrando la información que no puede determinar
automáticamente (como elegir su idioma preferido, el mapa del teclado o el
servidor de réplica deseado).

Notará que debian-installer realiza la detección de hardware varias veces
durante esta etapa. La primera vez se enfoca específicamente en el hardware
requerido para cargar los componentes del instalador (como su CD-ROM o tarjeta
de red). En vista de que no todos los controladores podrían estar disponibles
en esta primera ejecución, la detección de hardware necesita repetirse después,
durante el proceso.

Durante la detección de hardware debian-installer detecta si cualquiera de los
controladores para los dispositivos hardware su sistema necesitan que se cargue
un «firmware». Si es necesario un «firmware» pero no está disponible se
mostrará un diálogo que le permite cargar el fichero de un medio extraíble.
Para más información consulte Sección 6.4, "Carga de Firmware adicional".

6.3.1.1. Comprobación de la memoria disponible / modo de baja memoria

Una de las primeras cosas que realiza debian-installer, es comprobar la memoria
disponible. Si esta es reducida, este componente realizará algunos cambios en
el sistema de instalación que, con un poco de suerte, le permitirán instalar
Debian GNU/Linux en su sistema.

La primera medida que se toma para reducir el consumo de memoria en el
instalador es deshabilitar las traducciones, lo que significa que la
instalación sólo la podrá hacer en inglés. Por supuesto, puede localizar el
sistema que haya instalado una vez haya terminado la instalación.

Si no es suficiente, el instalador intentará reducir el consumo de memoria
cargando solamente los componentes esenciales para completar una instalación
básica. Esto reduce la funcionalidad del sistema de instalación. Se le dará la
oportunidad de cargar componentes adicionales de forma manual pero debe tener
en cuenta que cada componente que cargue consumirá más memoria y podría hacer
que toda la instalación fallara.

Si el instalador se ejecuta en modo de baja memoria es recomendable crear una
partición de intercambio relativamente grande (64 a 128 MB). La partición de
swap se utilizará como memoria virtual y por tanto incrementa la cantidad de
memoria disponible al sistema. El instalador activará la partición de
intercambio lo antes posible en el proceso de instalación. Tenga en cuenta que
si se usa demasiado la zona de intercambio se degradará el rendimiento de su
sistema y puede tener como consecuencia una alta actividad en el disco.

A pesar de estas medidas, es posible que su sistema se congele, que se
produzcan errores inesperados o que el núcleo mate procesos porque el sistema
se quede sin memoria (si esto sucede aparecerán mensajes diciendo "Out of
memory", es decir, «Sin memoria» en VT4 y en el syslog).

Por ejemplo, se ha reportado que la creación de un sistema de ficheros ext3
grande falla en el modo de baja memoria cuando no hay suficiente espacio de
intercambio. Si el tener una partición de intercambio no ayuda, intente crear
el sistema de ficheros como si fuera ext2 (que es un componente esencial del
instalador). Puede cambiar una partición ext2 a ext3 después de la instalación.

Es posible forzar al instalador para que utilice un nivel superior de memoria
baja que el valor que se utilizaría basándose en la memoria disponible. Para
ello se puede utilizar el parámetro de arranque "lowmem" tal y como se describe
en Sección 5.3.2, "Parámetros del instalador de Debian".

6.3.1.2. Seleccionar las opciones de localización

En la mayoría de los casos las primeras preguntas que se le harán estarán
relacionadas con las opciones de localización que se van a utilizar tanto en la
instalación como en el sistema instalado. Las opciones de localización
consisten del idioma, el país y la ubicación geográfica.

El idioma que escoja se utilizará durante el resto del proceso de instalación,
siempre que exista una traducción para los distintos mensajes que se muestran.
Si no hay una traducción disponible para el idioma seleccionado el instalador
mostrará los mensajes en inglés.

La ubicación geográfica seleccionada (habitualmente, un país) se utilizará más
adelante en el proceso de instalación para seleccionar la zona horaria correcta
y el servidor de réplica de Debian más apropiada en función de ese país. El
idioma y el país se utilizarán conjuntamente para ayudar a definir la locale
predeterminada del sistema y seleccionar la distribución del teclado adecuada.

Primero se le preguntará cuál es su idioma preferido. Los nombres de idioma se
muestran tanto en inglés (lado izquierdo) como en el propio idioma (lado
derecho). También se utiliza la tipografía apropiada para su idioma en el lado
derecho. La lista está ordenada alfabéticamente por el nombre en inglés. El
primer elemento de la lista es una opción adicional que le permite seleccionar
la locale "C" en lugar de un idioma concreto. Si escoge la locale "C" la
instalación procederá en inglés, y el sistema instalado no tendrá la
funcionalidad de localización ya que no se instalará el paquete locales.

A continuación se le pedirá que seleccione su ubicación geográfica si ha
seleccionado un idioma que es el idioma oficial de más de un país^[6], sólo se
le mostrará una lista de esos países. Para seleccionar un país que no esté en
la lista escoja la opción «otro», al final de la lista. Se le mostrará una
lista de continentes; si escoge un continente se le mostrarán los países
relevantes para este continente.

Si el idioma elegido tiene sólo un país asociado, se mostrará una lista de
países del continente o región al que pertenece, con tal país seleccionado de
forma predeterminada. Use la opción Retroceder para seleccionar países en un
continente distinto.

Nota

Es importante seleccionar dónde vive o su ubicación actual para determinar la
zona horaria que se configurará para el sistema instalado.

Si ha seleccionado una combinación del idioma y país para la cual no hay
definida ninguna locale, y si existen varias locales para ese idioma, el
instalador le permitirá seleccionar cuáles de esas configuraciones regionales
prefiere como la predeterminada del sistema instalado.^[7]. En todos los demás
casos, se seleccionará una locale basada en el idioma y país seleccionado.

Todas las locales definidas como se describe en el anterior párrafo usarán
UTF-8 para la codificación de caracteres.

Si está haciendo una instalación con prioridad baja, tendrá la opción de
seleccionar locales adicionales, incluyendo locales "legacy" (obsoletas)^[8],
para su generación para el sistema instalado; si hace esto, se le preguntará
cual de las locales seleccionadas debería ser la predeterminada del sistema
instalado.

6.3.1.3. Elección del teclado

Normalmente los teclados están sujetos a los caracteres usados en un
determinado idioma. Selecciona un teclado de acuerdo al modelo que uses, o
seleccione algo parecido a éste si el tuyo no aparece. Una vez que la
instalación haya finalizado, podrás seleccionar un modelo de teclado en un
rango más amplio de opciones (ejecuta dpkg-reconfigure keyboard-configuration
como root cuando hayas completado la instalación).

Mueva el cursor hacia la selección de teclado que desee y presione Enter.
Utilice las teclas de direccionado para mover el cursor -- están en el mismo
lugar en todos los modelos nacionales de teclado, así que son independientes de
la configuración de teclado.

6.3.1.4. Búsqueda de la imagen ISO del instalador de Debian

Al instalar usando el método hd-media, habrá un momento en el que se requiera
localizar y montar la imagen ISO del Instalador de Debian para obtener el resto
de los ficheros de instalación. El componente iso-scan hace exactamente esto.

En primer lugar, iso-scan monta automáticamente todos los dispositivos de tipo
bloque (p. ej. particiones y volúmenes lógicos) que tengan algún sistema de
ficheros conocido y busca secuencialmente ficheros que terminen en .iso (o
.ISO). Tenga en cuenta que en el primer intento sólo se buscan ficheros en el
directorio raíz y en el primer nivel de subdirectorios (esto es, puede
localizar /loquesea.iso, /data/loquesea.iso, pero no /data/tmp/loquesea.iso).
Después de localizar una imagen ISO, iso-scan comprobará su contenido para
determinar si la imagen es o no una imagen ISO de Debian válida. Si es una
imagen válida se finaliza la búsqueda, en caso contrario iso-scan busca otra
imagen.

En caso de que falle el intento anterior de encontrar la imagen ISO del
instalador, iso-scan le preguntará si quiere realizar una búsqueda más
exhaustiva. Este paso no sólo buscará en los directorios de primer nivel sino
en todo el sistema de ficheros.

En el caso de que iso-scan no sea capaz de encontrar la imagen ISO del
instalador, deberá reiniciar, arrancar su sistema operativo original y
comprobar que el nombre de la imagen es correcto (verifique que termina en
.iso), se encuentra en un lugar reconocible por debian-installer, y no es una
imagen defectuosa (verifique la suma de control). Los usuarios de Unix más
expertos pueden hacer esto sin reiniciar, utilizando para ello la segunda
consola.

Tenga en cuenta que la partición (o el disco) que contiene la imagen ISO no se
puede volver a utilizar durante el proceso de instalación puesto que el
instalador va a hacer uso de ella. Para evitarlo, siempre y cuando el sistema
disponga de suficiente memoria, el instalador puede copiar la imagen ISO en la
memoria RAM antes de montarlo. Esta operación se controla a través de la
pregunta de debconf de baja prioridad iso-scan/copy_iso_to_ram (solo se
pregunta cuando se cumplen con los requisitos de memoria).

6.3.1.5. Configuración de la red

En este paso, si el sistema detecta que tiene más de un dispositivo de red, se
le pedirá que elija cual quiere usar como interfaz de red primaria, esto es, la
que quiera usar para la instalación. El resto de las interfaces no se
configurarán en este momento. Podrá configurar las demás interfaces una vez se
haya terminado la instalación; lea la página de manual interfaces(5).

6.3.1.5.1. Configuración de red automática

Por omisión, debian-installer intenta configurar la red de su ordenador de
forma automática en la medida de lo posible. Si falla la configuración
automática, puede ser por varios factores, desde un cable sin conexión a la red
a un infraestructura insuficiente para la configuración automática. Para una
explicación detallada en caso de error, compruebe los mensajes de error en el
cuarto intérprete de órdenes. En cualquier caso, se le solicitará decidir si
desea reintentar el proceso o realizar una configuración manual. A veces, los
servicios de red empleados para la configuración automática pueden tener una
respuesta lenta, así que si está seguro de que todo es correcto, simplemente
vuelva a iniciar el intento de configuración automática. Si la configuración
automática falla varias veces, puede seleccionar la configuración manual de la
red.

6.3.1.5.2. Configuración de red manual

La configuración de red manual pregunta sucesivamente datos acerca de la red,
principalmente: dirección IP, máscara de red, pasarela, direcciones de los
servidores de nombres, y el nombre de la máquina. Además, si tiene una interfaz
de red inalámbrica, se le pedirá que proporcione el ESSID inalámbrico ("nombre
de red inalámbrica") y la clave WEP o la clave WPA/WPA2 passphrase. Rellene las
respuestas con la información de Sección 3.3, "Información que necesitará".

Nota

A continuación se indican algunos detalles técnicos que posiblemente encuentre
útiles (o no): el programa asume que la dirección IP de la red es el resultado
de aplicar la operación «AND» a nivel de bit a la dirección IP de su sistema y
a su máscara de red. Obtendrá la dirección de difusión («broadcast», N. del T.)
por omisión a través de una operación «OR» a nivel de bit de la dirección IP de
su sistema con el valor negado a nivel de bit de la máscara de red. También
intentará adivinar su pasarela. Debería utilizar los valores sugeridos por el
programa si no sabe las respuestas a algunas de las preguntas que se le
presenten. Si fuera necesario, podrá cambiar estos valores editando el fichero
/etc/network/interfaces una vez el sistema esté instalado.

6.3.1.5.3. IPv4 y IPv6

A partir de la versión Debian GNU/Linux 7.0 ("Wheezy"), debian-installer
permite IPv6 así como el "clásico" IPv4. Todas las combinación de IPv4 y IPv6
(soloIPv4, solo IPv6 y configuraciones de pila dual) son compatibles.

La configuración automática de IPv4 se realiza mediante DHCP (Dynamic Host
Configuration Protocol). La configuración automática de IPv6 permite una
configuración automática sin estado mediante NDP (Neighbor Discovery Protocol,
incluyendo una asignación de servidor recursivo DNS (RDNSS)), configuración con
estado mediante DHCPv6, y la configuración automática mixta con estado/sin
estado (configuración de dirección mediante NDP, parámetros adicionales
mediante DHCPv6).

6.3.2. Configurar usuarios y contraseñas

El instalador le permitirá configurar la cuenta del usuario "root"
(superusuario, o usuario administrador, N. del T.) y/o una cuenta para el
primer usuario después de configurar la hora. Puede crear otras cuentas de
usuario una vez haya terminado el proceso de instalación.

6.3.2.1. Configurar la contraseña de root

La cuenta de root también se la conoce como la cuenta de super-usuario. Se
trata de una cuenta que puede saltarse todas las protecciones de seguridad del
sistema. Es una cuenta que sólo debería utilizarse para realizar la
administración del sistema y sólo durante un tiempo tan corto como sea posible.

Cualquier contraseña para esta cuenta debería tener al menos seis caracteres y
debería tener tanto caracteres en mayúsculas como en minúsculas así como
caracteres de puntuación. Tenga mucho cuidado cuando configure la contraseña de
root ya que es una cuenta con muchos privilegios. Evite el uso de palabras de
diccionario o utilizar información personal que se podría averiguar fácilmente.

Si alguien le pregunta alguna vez que necesita su contraseña de root sea
extremadamente cuidadoso. Nunca debería entregar su contraseña de root, a no
ser que haya más de una persona haciendo tareas de administración del equipo.

Si no especifica una contraseña para el usuario "root" en este apartado, la
cuenta estará desactivada pero se instalará el paquete sudo más adelante para
permitir que las tareas administrativas se puedan ejecutar en el nuevo sistema.
De manera predeterminada, el primer usuario creado en el sistema tendrá acceso
a la orden sudo para convertirse en súperusuario.

6.3.2.2. Crear un usuario normal

El sistema le preguntará si desea o no crear una cuenta de usuario normal. Esta
cuenta debería utilizarse como su cuenta personal para acceder al sistema. No
debe utilizar la cuenta de root como su cuenta personal o de uso diario.

¿Por qué no debe hacer esto? Una razón es que el uso de los privilegios de root
hace muy fácil que pueda causar daños irreparables al sistema. Otra razón es
que alguien le podría intentar engañar y hacer que entre en funcionamiento un 
caballo de Troya (un programa que parece inocuo pero que toma control de la
seguridad de su sistema sin que vd. lo sepa gracias a los privilegios de root).
Cualquier buen libro de administración de sistemas Unix cubre este tema en más
detalle, le recomendamos que lea alguno si este tema es nuevo para vd.

Primero se le preguntará el nombre completo del usuario. Después se le pedirá
un nombre para la cuenta de usuario. Habitualmente se utiliza su nombre o algo
parecido y, de hecho, éste será el valor por omisión. A continuación se le
pedirá una contraseña para esta cuenta.

Si quiere crear otra cuenta de usuario después de la instalación, puede
utilizar la orden adduser.

6.3.3. Configuración del reloj y zona horaria

El instalador intentará conectar a un servidor de tiempos en Internet
(utilizando el protocolo NTP) para poder fijar correctamente la hora del
sistema. Si esta operación no tiene éxito, el instalador asumirá que la fecha y
hora obtenida del reloj del sistema cuando el sistema de instalación arrancó es
la hora correcta. No es posible fijar la hora del sistema manualmente durante
el proceso de instalación.

De acuerdo con el lugar seleccionado con anterioridad en el proceso de
instalación, se le mostrará una lista de zonas horarias apropiadas. No se le
hará ninguna pregunta si su ubicación tiene sólo una zona horaria ya que el
sistema supondrá que está en esa zona.

En modo experto o al realizar una instalación con prioridad media, tendrá la
opción adicional de seleccionar el "Tiempo universal coordinado" (UTC) como
zona horaria.

Si por alguna razón desea establecer una zona horaria que no corresponde con la
ubicación para el sistema instalado elegida, hay dos opciones.

 1. La opción más sencilla implica elegir una zona horaria distinta después de
    terminada la instalación y haber reiniciado al nuevo sistema. La orden para
    lograrlo sería:

    # dpkg-reconfigure tzdata

 2. Por otra parte, la zona horaria puede establecerse justo al comienzo de la
    instalación utilizando el parámetro time/zone=value cuando arranca el
    sistema de instalación. El valor tiene que ser una zona horaria válida, por
    ejemplo Europe/London o UTC.

En el caso de instalaciones automatizadas puede definir la zona horaria con
cualquier valor usando la preconfiguración.

6.3.4. Particionado y elección de punto de montaje

En este momento, después de que ha sido ejecutada la detección de hardware por
última vez, debian-installer deberá estar en su total capacidad, adaptado para
las necesidades del usuario y listo para realizar el verdadero trabajo. Como lo
indica el título de esta sección, la tarea principal de los próximos
componentes radica en particionar sus discos, crear sistemas de ficheros,
asignar puntos de montaje y opcionalmente configurar opciones estrechamente
relacionadas como LVM o dispositivos RAID.

Si no se siente a gusto particionando, o simplemente quiere conocer más
detalles, lea el Apéndice C, Particionado en Debian.

Primero se le dará la oportunidad de particionar automáticamente todo el disco
o el espacio libre disponible en el disco. A esto también se le llama
particionado "guiado". Si no quiere autoparticionar, elija Manual en el menú.

6.3.4.1. Opciones de particionado aceptados

El particionador usado en debian-installer is muy versátil. Permite crear
muchos esquemas de particionado, usar distintas tablas de partición, sistemas
de fichero y dispositivos de bloque avanzado.

Exactamente qué opciones están disponibles depende principalmente de la
arquitectura, aunque también hay otros factores. Por ejemplo, puede que no
todas las opciones estén disponibles en sistemas con una memoria interna
limitada. Los valores predefinidos también pueden variar. El tipo de tabla de
particionado usado por omisión puede ser muy distinto con discos duros de gran
capacidad que el usado con discos duros más pequeños. Algunas opciones sólo se
pueden cambiar al instalar con una prioridad debconf media o baja; se usarán
valores predefinidos adecuados con prioridades más altas.

El instalador permite varias formas de particionado avanzado y el uso de
dispositivos de almacenamiento, que en la mayoría de los casos se pueden usar
en combinación.

  • Gestor de Volúmenes Lógicos (LVM)

  • Software RAID

    Se aceptan los niveles de RAID 0, 1, 4, 5, 6 y 10.

  • Cifrado

  • Serial ATA RAID (usando dmraid)

    También llamado "fake RAID" (falso) o "BIOS RAID". En la actualidad, Serial
    ATA RAID sólo está disponible al arrancar el instalador. Para más
    información consulte nuestra wiki.

  • Multipath (experimental)

    Para más información consulte our Wiki. La compatibilidad con «multipath»
    sólo está disponible si se activa al arrancar el instalador.

Se permiten los siguientes sistemas de fichero.

  • ext2, ext3, ext4

    El sistema de ficheros por omisión seleccionado en la mayoría de los casos
    es ext4; por omisión, se seleccionará ext2 para particiones /boot si se usa
    el particionado guiado.

  • jfs (no disponible para todas las arquitecturas)

  • xfs (no disponible para todas las arquitecturas)

  • reiserfs (opcional; no disponible para todas las arquitecturas)

    El uso del sistema de ficheros Reiser no está disponible por omisión. Puede
    activarlo cuando el instalador se ejecuta con una prioridad de debconf
    media o baja seleccionando el componente partman-reiserfs. Sólo se permite
    la versión 3 del sistema de ficheros.

  • qnx4

    Se reconocerán las particiones existentes, y es posible asignar a éstos
    puntos de montaje. No es posible crear particiones qnx4 nuevas.

  • FAT16, FAT32

  • NTFS (sólo lectura)

    Se pueden redimensionar particiones NTFS, y es posible asignar a estos
    puntos de montaje. No es posible crear particiones NTFS nuevas.

6.3.4.2. Particionado guiado

Si elije el particionado guiado, puede tener tres opciones: crear las
particiones directamente en el disco duro (el método clásico), utilizar el
Gestor de Volúmenes Lógicos («Logical Volumen Manager», LVM), o crearlas
utilizando un LVM cifrado^[9].

Nota

La opción de usar LVM (cifrado) puede no estar disponible en todas las
arquitecturas.

Cuando utilice LVM o LVM cifrado el instalador creará la mayoría de las
particiones dentro de una partición si escoge la segunda opción, la ventaja de
este método es que las particiones dentro de una partición más grande pueden
cambiarse de tamaño más adelante relativamente fácil. En el caso de LVM cifrado
la partición más grande no será legible sin el conocimiento de una contraseña
especial, lo que da un seguridad adicional en su datos (personales).

El instalador borra automáticamente el disco escribiendo datos aleatorios en él
antes de utilizar LVM cifrado. Esto mejora la seguridad (ya que hace imposible
determinar qué partes del disco se están utilizando y también se asegura de que
cualquier traza de instalación previa se borra). Sin embargo, esto puede llevar
un tiempo dependiendo del tamaño de su disco.

Nota

Si elige el particionado guiado con LVM o LVM cifrado, es posible que algunos
cambios tengan que escribirse en el disco seleccionado mientras se termina la
configuración de LVM. Estos cambios borran de forma permanente todos los datos
que existan en el disco que haya seleccionado y no podrán deshacerse más
adelante. El instalador, sin embargo, le pedirá que confirme estos cambios
antes de escribirlos en disco.

Una vez haya elegido el particionado guiado, tanto en el caso del método
clásico como en el caso de LVM, se le pedirá primero que seleccione el disco
que quiere utilizar. Compruebe que todos sus discos están en la lista y, si
tiene más de un disco, asegúrese de escoger el disco correcto. Tenga en cuenta
que el orden en el que están listados los discos puede ser distinto del que
está acostumbrado. El tamaño de los discos puede ayudarle a identificarlos.

Se borrará cualquier dato en el disco que haya seleccionado, pero siempre se le
pedirá que confirme los cambios antes de escribirlos en el disco. Si ha
seleccionado el método clásico de particionado podrá deshacer los cambios hasta
el final. Esto no es posible cuando utiliza LVM (cifrado).

Posteriormente podrá escoger de algunos de los esquemas listados en la tabla
mostrada a continuación. Todos los esquemas tienen sus pros y sus contras,
algunos de éstos se discuten en Apéndice C, Particionado en Debian. Si no está
seguro, escoja el primero. Tenga en mente, que el particionado guiado necesita
un cierto espacio libre mínimo para operar. Si no le asigna al menos un 1 GB de
espacio (depende del esquema seleccionado), el particionado guiado fallará.

┌───────────────────────────────────┬────────────┬────────────────────────────┐
│      Esquema de particionado      │  Espacio   │    Particiones creadas     │
│                                   │   mínimo   │                            │
├───────────────────────────────────┼────────────┼────────────────────────────┤
│Todos los ficheros en una partición│600 MB      │/, intercambio              │
├───────────────────────────────────┼────────────┼────────────────────────────┤
│Partición /home separada           │500 MB      │/, /home, intercambio       │
├───────────────────────────────────┼────────────┼────────────────────────────┤
│Particiones /home, /var y /tmp     │1GB         │/, /home, /var, /tmp,       │
│separadas                          │            │intercambio                 │
└───────────────────────────────────┴────────────┴────────────────────────────┘

El instalador creará una partición separada para /boot si escoge el guiado
particionado con LVM (cifrado). Todas las demás particiones, incluyendo la
partición de intercambio, se crearán dentro de la partición LVM.

Si ha arrancado en modo EFI, en el paso del particionamiento guiado se
configurará una partición adicional, con un formato de sistema de archivos
arrancable FAT32 para el cargador de arranque EFI. Esta partición se conoce
como Partición del Sistema EFI (ESP). Además hay una opción adicional en el
menú que le permite configurar manualmente una partición como ESP.

Después de seleccionar un esquema, la siguiente pantalla le mostrará la nueva
tabla de particiones, incluyendo a qué particiones se dará formato, cómo, y
dónde se montarán.

La lista de particiones podría ser como la siguiente:

  SCSI1 (0,0,0) (sda) - 6.4 GB WDC AC36400L
        #1 primary   16.4 MB  B f ext2       /boot
        #2 primary  551.0 MB      swap       swap
        #3 primary    5.8 GB      ntfs
           pri/log    8.2 MB      ESPACIO LIBRE

  SCSI2 (1,0,0) (sdb) - 80.0 GB ST380021A
        #1 primary   15.9 MB      ext3
        #2 primary  996.0 MB      fat16
        #3 primary    3.9 GB      xfs        /home
        #5 logical    6.0 GB    f ext4       /
        #6 logical    1.0 GB    f ext3       /var
        #7 logical  498.8 GB      ext3

Este ejemplo muestra dos discos duros divididos en varias particiones, el
primer disco tiene algo de espacio libre. Cada línea de partición está
conformada por el número de partición, su tipo, tamaño, banderas opcionales,
sistema de ficheros y punto de montaje (si fuese el caso). Nota: esta
configuración particular no puede crearse con el particionado guiado pero sí
muestra una variación que puede conseguirse utilizando el particionado manual.

Esto finaliza con el particionado guiado. Si está satisfecho con la tabla de
particiones generada, puede elegir Finalizar el particionado y escribir los
cambios en el disco desde el menú para implementar la nueva tabla de
particiones (como se describe al final de esta sección). Si no le gusta, puede
elegir Deshacer los cambios realizados a las particiones, para ejecutar
nuevamente el particionado guiado o modificar los cambios propuestos de forma
manual tal y como se describe a continuación.

6.3.4.3. Particionado manual

Una pantalla similar a la mostrada anteriormente aparecerá si elige particionar
manualmente excepto que se mostrará su partición actual sin los puntos de
montaje. Al final de esta sección se explica cómo configurar manualmente sus
particiones y el uso de éstas en su sistema Debian nuevo.

Si elige un disco nuevo que no tiene ni particiones o espacio libre en él, se
le podría ofrecer la creación de una nueva tabla de particiones (esto es
necesario para que pueda crear nuevas particiones). Después de esto una nueva
línea titulada "ESPACIO LIBRE" deberá aparecer bajo el disco seleccionado.

Si elije el espacio libre, tendrá la oportunidad de crear una nueva partición.
Tendrá que responder un conjunto de preguntas cortas sobre su tamaño, tipo
(primaria o lógica) y ubicación (al inicio o final del espacio libre). Después
de esto, se le presentará un resumen detallado sobre su nueva partición. El
valor principal es Utilizar como:, que determina si la partición tendrá un
sistema de ficheros o se utilizará como intercambio, RAID por software, LVM, un
sistema de ficheros cifrado, o no se utilizará. Otras opciones incluyen el
punto de montaje, opciones de montaje y marca de arranque. Las opciones que se
muestren dependen de cómo se va a utilizar la partición. Si no le gustan las
opciones predeterminadas, no dude en cambiarlas a su gusto. Por ejemplo, si
selecciona la opción Usar como:, puede elegir un sistema de ficheros distinto
para esta partición, incluyendo opciones para usar la partición como
intercambio, RAID por software, LVM, o simplemente no usarla. Cuando esté
satisfecho con su nueva partición, elija Se ha terminado de definir la
partición y regresará a la pantalla principal de partman.

Si decide que desea cambiar algo en su partición, simplemente elija la
partición, lo cual le conducirá al menú de configuración de la partición. Esta
es la misma pantalla que cuando crea la partición, así que puede cambiar el
mismo conjunto de opciones. Algo que podría no ser muy obvio a primera vista,
es que puede redimensionar el tamaño de la partición seleccionando el elemento
que muestra el tamaño de ésta. Los sistemas de ficheros que se conoce que
funcionan con esta opción son por lo menos fat16, fat32, ext2, ext3 y «swap».
Este menú también le permite eliminar una partición.

Asegúrese de crear al menos dos particiones: una para el sistema de ficheros 
raíz (que debe montarse en /) y otra para el espacio de intercambio. Si olvida
montar el sistema de ficheros raíz, partman no le dejará continuar hasta que
corrija esto.

Si arranca en modo EFI pero olvida seleccionar y dar formato a una partición de
arranque EFI partman lo detectará y no le dejará continuar hasta que habilite
una.

Se pueden extender las capacidades de partman con módulos para el instalador,
pero dependen de la arquitectura de su sistema. Así que si no están disponibles
todas las funcionalidades que esperaba, compruebe que ha cargado todos los
módulos necesarios (p. ej. partman-ext3, partman-xfs, o partman-lvm).

Cuando esté satisfecho con el particionado, seleccione Finalizar el
particionado y escribir los cambios en el disco del menú de particionado. Se le
presentará un resumen de los cambios realizados en los discos y se le pedirá
confirmación para crear los sistemas de ficheros solicitados.

6.3.4.4. Configuración de dispositivos multidisco (RAID)

Si tiene más de un disco duro^[10] en su ordenador, con partman-md puede
configurar sus discos para un mayor rendimiento y/o una mayor seguridad de los
datos. El resultado se denomina Dispositivo multidisco (o como su variante más
conocida RAID).

Básicamente el metadispositivo es un grupo de particiones de distintos discos
combinadas para formar un dispositivo lógico. Este dispositivo puede usarse
como una partición ordinaria (p. ej. puede darle formato con partman, asignarle
un punto de montaje, etc.).

Los beneficios obtenidos dependen del tipo de MD creado. Actualmente los tipos
compatibles son:

RAID 0

    Su principal objetivo es el rendimiento. RAID 0 divide todos los datos de
    entrada en franjas y los distribuye igualmente por cada disco en el sistema
    RAID. Esto puede aumentar la velocidad de las operaciones de lectura/
    escritura, pero cuando falle un disco, perderá todo (parte de la
    información todavía está en el disco o discos que funcionan, la otra parte 
    estaba en el disco que falló).

    El uso típico de RAID 0 en una partición para edición de vídeo.

RAID 1

    Es adecuado para los casos en los que la fiabilidad sea lo primordial.
    Consiste en varias (normalmente dos) particiones del mismo tamaño donde
    cada partición contiene exactamente los mismos datos. Esto significa tres
    cosas. Primero, si un disco falla, todavía tiene una copia de los datos en
    los discos restantes. Segundo, sólo puede usar una fracción de la capacidad
    disponible (con más precisión, el tamaño de la partición más pequeña del
    sistema RAID). Tercero, la carga producida por la lectura de ficheros se
    reparte entre los discos, lo que puede ampliar el rendimiento de algunos
    servidores, como los servidores de ficheros, que tienden a tener más carga
    de lecturas que escrituras.

    Opcionalmente puede tener un disco de reserva en el sistema que tomará el
    lugar del disco defectuoso en caso de fallo.

RAID 5

    Es una buena elección entre velocidad, confiabilidad y redundancia de
    datos. RAID 5 divide todos los datos de entrada en franjas y los distribuye
    igualmente en todos los discos (similar a RAID 0), a excepción de uno. A
    diferencia de RAID 0, RAID 5 también calcula la información de paridad, la
    cual se escribe en el disco restante. El disco de paridad no es estático
    (esto sería RAID 4), sino que cambia periódicamente, de modo que la
    información de paridad se distribuye entre todos los discos. Cuando falla
    uno de los discos, la parte faltante de la información puede reconstruirse
    desde la información existente y su paridad. Debe utilizar al menos tres
    particiones activas para un sistema RAID 5. Opcionalmente, puede tener un
    disco de reserva, el cual se utilizará en lugar del primer disco que falle
    dentro del array.

    Como puede ver, RAID 5 tiene un grado similar de confiabilidad a RAID 1
    logrando menos redundancia. Por otro lado, podría ser un poco más lento en
    operaciones de escritura que RAID 0 debido al cálculo de la información de
    paridad.

RAID 6

    Es parecido al RAID 5 pero usa dos dispositivos de paridad en lugar de uno
    solo.

    Un arreglo RAID 6 puede sobrevivir a un daño de hasta dos discos.

RAID 10

    Un arreglo RAID 10 combina divisiones (como en RAID 0) y espejo (como en
    RAID 1). Crea n copias de los datos y los distribuye transversalmente en
    las particiones de forma tal que ninguna de las copias de datos estén en el
    mismo dispositivo. El valor predeterminado para n es 2, pero puede
    establecerse a otro en el modo experto. La cantidad de particiones usadas
    debe ser de por lo menos n. El RAID 10 tiene diferentes disposiciones para
    distribuir las copias. En principio se usa copias cercanas. Las copias
    cercanas tienen todas las copias casi con el mismo corrimiento en todos los
    discos. Las copias lejanas tienen las copias en corrimientos distintos en
    los discos. Los corrimientos de las copias copian las franjas y no las
    copias individuales.

    Los RAID 10 buscan alcanzar la confiabilidad y redundancia evitando el
    cálculo de paridad, que aveces es visto como un inconveniente.

Resumiendo:

┌────┬────────────┬───────────┬────────────┬──────────────────────────────────┐
│    │Dispositivos│Dispositivo│ ¿Sobrevive │                                  │
│Tipo│  mínimos   │de reserva │al fallo de │        Espacio disponible        │
│    │            │           │ un disco?  │                                  │
├────┼────────────┼───────────┼────────────┼──────────────────────────────────┤
│RAID│            │           │            │Tamaño de la partición menor      │
│0   │2           │no         │no          │multiplicado por el número de     │
│    │            │           │            │dispositivos en RAID.             │
├────┼────────────┼───────────┼────────────┼──────────────────────────────────┤
│RAID│2           │opcional   │sí          │Tamaño de la partición menor en   │
│1   │            │           │            │RAID.                             │
├────┼────────────┼───────────┼────────────┼──────────────────────────────────┤
│RAID│            │           │            │Tamaño de la partición más pequeña│
│5   │3           │opcional   │sí          │multiplicada por el (número de    │
│    │            │           │            │dispositivos en RAID menos uno)   │
├────┼────────────┼───────────┼────────────┼──────────────────────────────────┤
│RAID│            │           │            │Tamaño de la partición más pequeña│
│6   │4           │opcional   │sí          │multiplicado por (el número de    │
│    │            │           │            │dispositivos RAID menos dos)      │
├────┼────────────┼───────────┼────────────┼──────────────────────────────────┤
│RAID│            │           │            │Total de todas las particiones    │
│10  │2           │opcional   │sí          │dividido en el número de porciones│
│    │            │           │            │de copias (predeterminado a 2)    │
└────┴────────────┴───────────┴────────────┴──────────────────────────────────┘

Si quiere saber más acerca de RAID, consulte el CÓMO de RAID.

Para crear un dispositivo MD, necesitas tener todas las particiones que deseas
utilizar para su uso con RAID. (Esto se puede hacer con partman en el menú 
Configuración de la partición donde deberías seleccionar Utilizar como: → 
volumen físico para RAID).

Nota

Asegúrese de que el sistema puede arrancar con el esquema de particiones que ha
planeado. Usualmente será necesario crear un sistema de ficheros separado para
/boot cuando se usa RAID para el sistema de ficheros raíz (/). La mayoría de
cargadores de arranque (incluyendo grub) permiten usar RAID 1 de tipo espejo
(¡sin bandas de datos!), por lo tanto es posible usar RAID 5 para / y RAID 1
para /boot.

A continuación, debes elegir Configurar RAID software desde el menú principal
de partman. (El menú sólo aparecerá una vez hayas marcado al menos una
partición para que se use como volumen físico para RAID.) En la primera
pantalla de partman-md simplemente seleccionaCrear un dispositivo MD. Se te
presentará una lista de los dispositivos MD soportados, de los que debes elegir
uno (p. ej. RAID1). Los siguientes pasos dependen del tipo de MD seleccionado.

  • RAID 0 es simple -- se le presentará una lista de particiones RAID
    disponibles y únicamente tendrá que seleccionar las particiones que
    formarán el MD.

  • RAID 1 es un poco más complejo. Primero, se le preguntará el número de
    dispositivos activos y el número de dispositivos de reserva que formarán el
    MD. A continuación, necesita seleccionar de la lista de particiones RAID
    disponibles las que estarán activas y las que quedarán en reserva. El total
    de las particiones seleccionadas debe ser igual al que se dio
    anteriormente. No se preocupe. Si comete algún error y selecciona un número
    distinto de particiones, debian-installer no le dejará continuar hasta que
    solucione el problema.

  • RAID 5 tiene un procedimiento de configuración similar al de RAID 1, con la
    excepción que necesita usar por lo menos tres particiones activas.

  • RAID 6 también tiene un procedimiento de configuración parecido a RAID 1
    excepto que se necesita por lo menos four particiones activas.

  • RAID 10 también tiene un procedimiento de configuración parecido a RAID1
    excepto en el modo experto. En modo experto, el debian-installer le
    preguntará por la disposición. La disposición consta de dos partes. La
    primera parte es el tipo de disposición. Puede ser n (para copias
    cercanas), f (para copias lejanas), u o (para copias con corrimientos). La
    segunda parte es el número de copias que se desea hacer de los datos. Debe
    haber por lo menos tantos dispositivos activos como copias estarían
    distribuidas en diferentes discos.

Es perfectamente posible tener varios tipos de MD a la vez. Por ejemplo, si
tiene tres discos duros de 200 GB dedicados para el MD, cada uno con dos
particiones de 100 GB, puede combinar la primera partición de los tres discos
en un RAID 0 (una partición rápida de 300 GB para edición de vídeo) y usar las
otras tres (2 activas, 1 de reserva) en un RAID 1 (una partición bastante
segura de 100 GB para /home).

Después de configurar los MD a su gusto, elija Terminar en partman-md para
volver a partman y crear los sistemas de ficheros en sus nuevos MD y asignarles
los atributos habituales, como los puntos de montaje.

6.3.4.5. Configuración del gestor de volúmenes lógicos (LVM)

Si trabaja con ordenadores como administrador del sistema o usuario "avanzado",
seguro que se ha visto en alguna situación en la que alguna partición del disco
(normalmente la más importante) tenía poco espacio, mientras que otras
particiones tenían mucho espacio libre malgastado, y ha tenido que solucionarlo
moviendo cosas de un lado para otro, realizando enlaces simbólicos, etc.

Para evitar ésta situación puede usar el gestor de volúmenes lógicos («Logical
Volume Manager» ó LVM , N. del T.). Una descripción sencilla de LVM es que con
él puede combinar sus particiones (volúmenes físicos en jerga LVM) para formar
un disco virtual (llamado grupo de volúmenes), que puede dividirse en
particiones virtuales (volúmenes lógicos). Los volúmenes lógicos (y por
supuesto, los grupos de volúmenes que hay debajo) pueden extenderse a lo largo
de varios discos.

En esta situación, cuando detecte que necesita más espacio para su vieja
partición /home de 160 GB, simplemente puede añadir un nuevo disco de 300 GB al
ordenador, unirlo al grupo de volúmenes existente, y entonces redimensionar el
volumen lógico que sostiene su sistema de ficheros /home y ¡eureka!, sus
usuarios vuelven a tener espacio en su nueva partición de 460 GB. Por supuesto,
este ejemplo está muy simplificado. Si aún no lo ha leído, debería consultar el
CÓMO LVM.

La configuración LVM con el debian-installer es bastante sencilla y está
totalmente permitida usando partman. Primero, tiene que marcar las particiones
que va a usar con volúmenes físicos para el LVM. Esto se hace en el menú 
Configuración de la partición: donde puede seleccionar Utilizar como: → volumen
físico para LVM.

Aviso

Tenga cuidado: la nueva configuración de LVM destruirá todos los datos de todas
las particiones marcadas con el código de tipo LVM. Por lo que, si ya dispone
de una partición LVM en sus discos y quiere añadir una nueva instalación de
Debian, el volumen LVM antiguo (el que ya existe) ¡se eliminará por completo!
Lo mismo sucede con las particiones que (por cualquier motivo) están marcadas
con el código de tipo LVM pero contienen otro tipo de datos (como un volumen
cifrado). ¡Debe desconectar esos discos del sistema antes de realizar una nueva
configuración LVM!

Cuando vuelva a la pantalla principal de partman verá una nueva opción: 
Configurar el Gestor de Volúmenes Lógicos (LVM). Si lo selecciona se le pedirá
que confirme las modificaciones que están pendientes en la tabla de particiones
(si es que hay alguna) y después de esto se le mostrará el menú de
configuración de LVM. Se le muestra la configuración de LVM resumida encima del
menú. El menú es sensible al contexto y sólo le mostrará las acciones que sean
válidas en cada momento. Las acciones posibles son:

  • Mostrar los detalles de la configuración: muestra la estructura del
    dispositivo LVM, y los nombres y tamaños de los volúmenes lógicos junto con
    otra información

  • Crear grupo de volúmenes

  • Crear volúmenes lógicos

  • Borrar el grupo de volúmenes

  • Borrar volúmenes lógicos

  • Extender los grupos de volúmenes

  • Reducir los grupos de volúmenes

  • Terminar: vuelve a la pantalla principal de partman

Utilice las opciones en este menú para crear el grupo de volúmenes por primera
vez y después cree dentro de éste sus volúmenes lógicos.

Después de volver a la pantalla principal de partman, verá los volúmenes
lógicos como si fuesen particiones ordinarias (y debe tratarlas como tales).

6.3.4.6. Configurar volúmenes cifrados

debian-installer permite la configuración de particiones cifradas. Cualquier
fichero que se guarde en una partición de estas características se guardará al
dispositivo cifrado. El acceso a los datos sólo se puede conseguir una vez haya
introducido la clave utilizada para crear originalmente la partición cifrada.
Esta función es útil para proteger datos sensibles en caso de que alguien robe
su portátil o disco duro. El ladrón podrá lograr acceder al disco duro pero los
datos en el disco parecerán ser caracteres aleatorios y no podrá acceder a los
mismos si no sabe la clave correcta.

Las particiones más importantes a cifrar son: la partición «home» que es donde
se guardan sus datos privados y la partición de intercambio («swap») ya que
pueden guardarse datos sensibles en ésta durante la operación del sistema. Por
supuesto, nada impide que cifre otras particiones que podrían ser de interés.
Por ejemplo /var, que es donde se guardan los datos de los sistemas de base de
datos, servidores de correo o servidores de impresora, o /tmp, que lo utilizan
algunos programas para almacenar algunos datos temporales que pudieran ser de
interés. Algunos usuarios pueden querer incluso cifrar todo su sistema. En este
caso, la única excepción es la partición /boot que debe permanecer sin cifrar
ya que de momento no hay ninguna forma de cargar un núcleo desde una partición
cifrada (GRUB ya puede hacerlo, pero actualmente debian-installer no permite
cifrar /boot. Esta configuración se encuentra disponible en un documento
independiente.)

Nota

Tenga en cuenta que el rendimiento de las particiones cifradas será peor que el
de las particiones sin cifrar porque se tienen que descifrar o cifrar los datos
en cada acceso de lectura o escritura. El impacto en el rendimiento dependen de
la velocidad de su CPU, y del cifrado y longitud de clave escogidos.

Para usar cifrado, has de crear una nueva partición en el menú de particionado
seleccionando algún espacio libre. Otra opción es utilizar una partición
existente (p. ej. una partición normal, o un volumen lógico LVM o RAID). En el
menú Configurar la partición, has de seleccionar un volumen físico para
encriptar en la opción Usar como:. El menú cambiará para incluir varias
opciones criptográficas para la partición.

El sistema de cifrado que admite debian-installer es dm-crypt (incluido en los
nuevos núcleos de Linux, permite almacenar volúmenes físicos LVM).

En primer lugar veamos las opciones disponibles cuando seleccione como método
de cifrado Device-mapper (dm-crypt). Como siempre: cuando tenga dudas utilice
los valores por omisión, se han escogido con mucho cuidado pensando en la
seguridad de su sistema.

Cifrado: aes

    Esta opción le permite seleccionar el algoritmo de cifrado (cifra) que se
    utiliza para cifrar los datos en la partición. Actualmente debian-installer
    permite el uso de los siguientes cifrados de bloque: aes, blowfish, serpent
    , y twofish. La discusión de la calidad de los distintos algoritmos de
    cifrado queda fuera del alcance de este documento. Sin embargo, puede
    ayudarle a tomar una decisión el hecho de que en el año 2000 el Instituto
    Nacional de Estándares y Tecnología Norteamericano («American National
    Institute of Standards and Technology», NIST) escogió AES como el algoritmo
    de cifrado estándar para proteger información sensible en el siglo XXI.

Longitud de clave: 256

    En este punto puede especificar la longitud de la clave de cifrado. El
    cifrado es mejor cuanto mayor sea la longitud de cifrado. Pero, por otro
    lado, un incremento en el tamaño de la clave de cifrado tiene un impacto
    negativo en el rendimiento. En función del cifrado utilizado dispondrá de
    distintos tamaños de longitud de clave.

Algoritmo de VI: xts-plain64

    El algoritmo del Vector de Inicialización o VI (IV en inglés) se utiliza en
    criptografía para asegurar que la aplicación del cifrado en los mismos
    datos de texto en claro con la misma clave generan siempre un texto cifrado
    único. El objetivo es impedir que un atacante pueda deducir información
    basándose en patrones repetidos en los datos cifrados.

    De las alternativas disponibles el valor por omisión xts-plain64 es
    actualmente el menos vulnerable a ataques conocidos. Utilice las otras
    alternativas sólo si tiene que asegurar compatibilidad con algunos sistemas
    instalados previamente que no sean capaces de utilizar los nuevos
    algoritmos.

Clave de cifrado: Frase de contraseña

    Aquí puede introducir el tipo de clave de cifrado para esta partición.

    Frase de contraseña

        La clave de cifrado se computará^[11] basándose en la contraseña que
        podrá introducir en el proceso más adelante.

    Clave aleatoria

        Se generará una nueva clave de cifrado con valores aleatorios cada vez
        que se arranque la partición cifrada. En otras palabras: cada vez que
        se reinicie el sistema el contenido de la partición se perderá al
        borrarse la clave de la memoria. (Por supuesto, podrías intentar
        adivinar la contraseña a través de un ataque de fuerza bruta pero, a no
        ser que haya una debilidad desconocida en el algoritmo de cifrado, no
        es algo realizable en un tiempo razonable.)

        Las claves aleatorias son útiles para las particiones de intercambio
        porque no es deseable acordarse de una frase de contraseña ni es
        recomendable borrar la información sensible de dicha partición antes de
        apagar su sistema. Sin embargo esto también significa que no podrá
        utilizar la funcionalidad "suspend-to-disk" (suspensión a disco, N. del
        T.) ofrecida por los nuevos núcleos ya que será imposible (en el
        rearranque posterior del sistema) recuperar los datos de la suspensión
        del sistema guardados en la partición de intercambio.

Borrar los datos: sí

    Indica si debería borrarse el contenido de la partición con datos
    aleatorios antes de configurar el cifrado. Se recomienda hacer esto porque
    en caso contrario un posible atacante podría determinar qué partes de la
    partición se están utilizando y cuáles no. Además, esto hará más difícil la
    recuperación de datos que permanecieran en la partición asociados a
    instalaciones previas^[12].

Una vez ha seleccionado los parámetros para su partición cifrada debe volver al
menú de particionado principal. Aquí debería encontrar un nuevo elemento del
menú llamado Configurar los volúmenes cifrados. Una vez lo seleccione se le
pedirá confirmación para borrar los datos de las particiones marcadas para ser
borradas así como otras opciones como, por ejemplo, la escritura de la tabla de
particiones en disco. Estas tareas tardarán un tiempo si está trabajando con
particiones grandes.

A continuación se le pedirá que introduzca una frase de contraseña para las
particiones que haya configurado para que la utilicen. Una buena frase de
contraseña tendrá más de ocho caracteres, será una mezcla de letras, números y
otros caracteres que no se pueden encontrar en palabras comunes del diccionario
y que no estén relacionadas con información que pueda asociarse a vd. con
facilidad (como son fecha de nacimiento, aficiones, nombre de mascotas, nombres
de miembros de la familia, etc.).

Aviso

Antes de introducir cualquier frase de contraseña debería asegurarse de que su
teclado está configurado adecuadamente y genera los caracteres que vd. supone.
Si no está seguro debería cambiar a la segunda consola virtual y escribir algún
texto en el indicador. Esto asegura que no vaya a sorprenderse más adelante,
por ejemplo, si introduce su frase de contraseña en un teclado configurado como
QWERTY cuando en realidad ha utilizado una configuración de teclado AZERTY
durante la instalación. Esta situación puede provocarse por varias situaciones:
quizás cambio de configuración de teclado durante la instalación, o la
configuración de teclado que ha elegido no está disponible cuando vaya a
introducir la frase de contraseña para el sistema de ficheros raíz.

Si ha seleccionado para generar las claves de cifrado métodos distintos de la
frase de contraseña se generarán ahora. El proceso puede tomar mucho tiempo
dado que el núcleo puede no haber sido capaz de obtener suficiente información
de entropía en este punto de la instalación. Puede ayudar a acelerar este
proceso si genera entropía, por ejemplo: si pulsa teclas al azar o si cambia a
la segunda consola virtual y genera tráfico de red o de disco (como pueda ser
una descarga de algunos ficheros o enviar ficheros muy grandes a /dev/null,
etc.). Este paso se repetirá para cada partición a cifrar.

Verá todos los volúmenes cifrados como particiones adicionales que puede
configurar igual que las particiones normales una vez vuelva al menú de
particionado principal. El siguiente ejemplo muestra un volumen cifrado con
dm-crypt.

Volumen cifrado (sda2_crypt0) - 115.1 GB Linux device-mapper
     #1 115.1 GB  F ext3

Ahora es cuando puede asignar los puntos de montaje a los volúmenes y cambiar,
opcionalmente, los tipos de sistema de ficheros si los valores por omisión no
se ajustan a sus necesidades.

Centre su atención en los identificadores entre paréntesis (sda2_crypt en este
caso) y en los puntos de montaje asignados a cada volumen cifrado. Necesitará
esta información más adelante cuando vaya a arrancar el nuevo sistema. Podrá
encontrar más información sobre las diferencias entre el proceso de arranque
normal y el proceso de arranque con volúmenes cifrados en Sección 7.2, "Montaje
de volúmenes cifrados".

Continúe con la instalación cuando esté satisfecho con el esquema de
particionado.

6.3.5. Instalar el sistema base

Aunque esta etapa es la menos problemática, consume una gran parte del tiempo
de instalación debido a que descarga, verifica y desempaqueta el sistema base
completo. Si tiene un ordenador o conexión de red lentos, esto podría tomar
algún tiempo.

Durante la instalación del sistema base, los mensajes de desempaquetado y
configuración de los paquetes se redirigen a tty4. Puede acceder a esta
terminal pulsando Alt izquierdo+F4; y volver al proceso principal del
instalador con Alt izquierdo+F1.

Los mensajes de desempaquetado y configuración generados durante esta fase se
guardan en /var/log/syslog. Puede verlos ahí en caso de que la instalación se
realice a través de una consola serie.

Se instalará un núcleo Linux como parte de la instalación. En la prioridad
predeterminada, el instalador elegirá por usted el que mejor se adapte a su
hardware. En los modos de menor prioridad, podrá elegir uno entre una lista de
núcleos disponibles.

Cuando los paquetes se instalan mediante el sistema de gestión de software,
también se instalarán de forma predeterminada los paquetes recomendados por
esos paquetes. Los paquetes recomendados no son estrictamente necesarios para
la funcionalidad básica de los programas seleccionados, pero mejoran esos
programas y deberían, dependiendo de los responsables de los paquetes, ser
instalados junto con esos programas.

Nota

Por razones técnicas, los paquetes instalados durante la instalación del
sistema base se instalan sin sus paquetes recomendados ("Recommends"). La regla
descrita anteriormente sólo tiene efecto después de este punto del proceso de
instalación.

6.3.6. Instalar programas adicionales

A partir de este punto tendrá un sistema usable pero limitado. La mayoría de
los usuarios querrán instalar programas adicionales en el sistema para
ajustarlo a sus necesidades, y el instalador le permite hacer esto. Este paso
puede tardar más tiempo que la instalación del sistema base si tiene un
ordenador lento o su conexión de red es lenta.

6.3.6.1. Configurar apt

Una de las herramientas utilizadas para instalar paquetes en un sistema Debian
GNU/Linux es el programa apt, que está dentro del paquete apt^[13]. Existen
otras interfaces para la gestión de paquetes, como aptitude y synaptic. Se
recomienda a los usuarios noveles que utilicen estas interfaces ya que integran
otras funciones adicionales (como la búsqueda de paquetes y comprobaciones de
estado) en una interfaz de usuario más amigable.

Debe configurar apt para que sepa de dónde descargar paquetes. Los resultados
de la configuración realizada se guardan en el fichero /etc/apt/sources.list.
Podrá examinar y editar este fichero a su gusto una vez haya terminado la
instalación.

Si está instalando con la prioridad predeterminada, basado en el método de
instalación que esté usando y posiblemente usando las elecciones previas en la
instalación, el instalador se encargará en gran medida de la configuración de
forma automática. La mayor parte de ocasiones el instalador añadirá
automáticamente una réplica de seguridad, y si está instalando una distribución
estable, una réplica para el servicio de actualización "stable-updates".

Tendrá oportunidad de tomar muchas más decisiones por su cuenta si está usando
en la instalación una prioridad menor (p.e. modo experto). Puede elegir usar o
no los servicios seguridad y/o stable-updates, y puede elegir añadir paquetes
de las secciones del archivo "contrib" y "non-free".

6.3.6.1.1. Instalar desde más de una imagen de CD o DVD

Si instala desde un CD o un DVD que forma parte de un conjunto más grande, el
instalador le preguntará si desea explorar medios de instalación adicionales.
Si los tiene, probablemente deseará hacerlo, de forma que el instalador pueda
usar los paquetes incluidos en ellos.

Si no tiene medios de instalación adicionales, no hay problema: no son
indispensables. Si tampoco usa una réplica de red (como se explica en la
sección siguiente), podría darse que no todos los paquetes pertenecientes a las
tareas que seleccione en el siguiente paso de la instalación puedan instalarse.

Nota

Los paquetes se incluyen en las imágenes de CD y DVD de acuerdo con su
popularidad. Esto significa que la mayoría de los usuarios solamente
necesitarán la primera imagen del conjunto completo y que muy poca gente
realmente usa cualesquiera de los paquetes incluidos en la última de las
imágenes del conjunto.

También significa que comprar o descargar y quemar el conjunto completo de CDs
es un desperdicio de dinero, debido a que usted no usará la mayoría de ellos.
En general, es mejor obtener solamente entre los primeros 3 y 8 CDs y usar una
réplica de red por Internet para instalar cualquier paquete adicional. De igual
forma sucede con los conjuntos de DVDs: el primer DVD, o el primer y segundo
DVD suplirían la mayoría de necesidades.

Si analiza varios medios de instalación, el instalador le solicitará
insertarlos cuando necesite paquetes que no estén en la unidad. Tenga en cuenta
que debería analizar únicamente los discos que pertenezcan a un mismo conjunto.
El orden en el que se analizan no es relevante, pero si los analiza en orden
ascendente reducirá posibles equivocaciones.

6.3.6.1.2. Usar una réplica en red

Una pregunta que se hará durante la mayoría de instalaciones es si se desea o
no usar una réplica en red como fuente de paquetes. En la mayoría de
oportunidades, la respuesta predeterminada es la adecuada, pero hay
excepciones.

Si no está instalando desde una imagen completa de CD/DVD, debería usar una
réplica en red, puesto que de otra manera terminaría con un sistema realmente
mínimo. Si tiene una conexión a Internet limitada, es mejor not seleccionar la
tarea escritorio en el paso siguiente de la instalación.

Si instala desde una única imagen completa de CD, no es necesaria una réplica
en red, pero es muy recomendado emplearla porque un solo CD contiene solamente
una cantidad limitada de paquetes. Si tiene una conexión a Internet limitada,
podría ser mejor no seleccionar una réplica en red en este momento y finalizar
la instalación usando únicamente lo que está en la imagen del CD e instalar
selectivamente paquetes adicionales después de la instalación (esto es, después
de haber reiniciado en el nuevo sistema).

Si instala desde un DVD, cualquier paquete que necesite durante la instalación
debería estar presente en la primera imagen del DVD. El uso de una réplica en
red es opcional.

Una ventaja de añadir una réplica en red, es que las actualizaciones que se
hayan producido desde que se crearan las imágenes de CD/DVD y se incluyeran en
las posteriores revisiones de la distribución, estarán disponibles para
instalarse, extendiendo de esta manera la vida de su conjunto de CD/DVD sin
comprometer la seguridad o estabilidad del sistema instalado.

En resumen: el seleccionar una réplica en red en general es una buena idea,
excepto si no tiene una conexión a Internet buena. Si la versión actual de un
paquete está disponible en el medio de instalación, el instalador siempre lo
usará. La cantidad de datos que se descargará si usted ha seleccionado una
réplica en red dependerá de

 1. las tareas que seleccione en el paso siguiente de esta instalación,

 2. los paquetes que se requieran para esas tareas,

 3. cuáles de esos paquetes estén presentes en los medios de instalación que
    haya explorado, y

 4. si hay versiones actualizadas en las réplicas en red de los paquetes
    incluidos en el medio de instalación (bien sea para una réplica en red de
    paquetes o una réplica de seguridad o actualizaciones stable-updates).

Observe que el último punto significa que, incluso si usted no ha seleccionado
una réplica en red, algunos paquetes pueden descargarse de Internet si hay
actualizaciones de seguridad o stable-updates para aquellos servicios que se
hayan configurado.

6.3.6.1.3. Seleccionar una réplica de red

Si ha seleccionado utilizar un réplica de red durante la instalación, se le
mostrará una lista de réplicas de red geográficamente cercanas, en base a la
selección de país realizada previamente durante el proceso de instalación.
Habitualmente, seleccionar la opción predefinida es correcto.

La propuesta predeterminada es deb.debian.org, que no es exactamente una
réplica sino un redirector a una réplica actualizada y rápida. Estás réplicas
admiten TLS (protocolo https) e IPv6. Este servicio se mantiene por el equipo
de Administradores del Sistema Debian (DSA).

También puede especificar una réplica manualmente escogiendo "introducir
información manualmente". Podrá entonces especificar el nombre de un servidor
réplica y opcionalmente un número de puerto. Actualmente, esto tiene que ser
una URL base, es decir, cuando se especifique una dirección IPv6, se tienen que
añadir corchetes alrededor de ésta, como por ejemplo "[2001:db8::1]".

Si su máquina se conecta a una red solo IPv6 (posiblemente no es el caso para
la mayoría de usuarios), puede que conectarse a la réplica predefinida en su
país no funcione. Todas las réplicas en la lista son accesibles mediante IPv4,
pero solo unos pocos mediante IPv6. Debido a que la conectividad de réplicas
específicas puede variar con el tiempo, la información no está disponible para
el instalador. Si la réplica predefinida para su país no ofrece conectividad
IPv6, puede intentar otras réplicas ofrecidas, o seleccionar la opción de "
entrada manual de información". Entonces, puede especificar "
ftp.ipv6.debian.org" como el nombre de réplica, que es una alias para una
réplica disponible mediante IPv6, aunque probablemente no sea la más rápida.

6.3.6.2. Elegir e instalar programas

Se le da la oportunidad durante el proceso de instalación de seleccionar e
instalar programas adicionales. Esta fase de la instalación está enfocada en la
selección e instalación de conjuntos predefinidos de programas para preparar su
sistema para realizar distintas tareas, en lugar de elegir programas de
paquetes individuales de entre los 87573 paquetes disponibles.

Estas tareas representan un conjunto de tareas o cosas que querrás realizar con
tu sistema. Ejemplo de estas tareas son: "Entorno de escritorio", "Servidor web
" o "Servidor SSH"^[14]. Puedes encontrar una lista de los requisitos de
espacio de las tareas disponibles en Sección D.2, "Espacio en disco requerido
para las tareas".

Algunas de las tareas estarán preseleccionadas basándose en las características
del sistema que está instalando. Deseleccione estas tareas si no está de
acuerdo con esta selección. También puede elegir no instalar ninguna tarea en
este punto.

Sugerencia

Puede usar la barra de espacio para marcar la selección de una tarea en la
interfaz de usuario estándar del instalador.

Nota

La tarea "Entorno de escritorio" instalará un entorno de escritorio de
gráfico..

De manera predeterminada, debian-installer instala el entorno de escritorio 
Gnome . Puede seleccionar de manera interactiva un entorno de escritorio
distinto durante la instalación. También puede instalar múltiples escritorios,
pero es posible que algunas combinaciones de escritorios no se puedan instalar
de manera conjunta.

Tenga en cuenta que esto sólo funcionará si los paquetes necesarios para el
entorno de escritorio deseado están disponibles. Deberán descargarse desde una
réplica de red si la instalación se realiza con una única imagen completa de
CD, ya que los paquetes necesarios no se incluyen en esta imagen de CD debido a
su espacio limitado. Si está utilizando una imagen de DVD u otro medio de
instalación la instalación de cualquier entorno de escritorio debería funcionar
sin problemas.

Las distintas tareas de servidor instalarán de forma básica estas aplicaciones.
Servidor web: apache2; Servidor SSH: openssh.

La tarea "Sistema estándar" instalará todos los paquetes con una prioridad
«estándar» ("standard"). Incluye muchas de las herramientas comunes que
generalmente están disponibles en cualquier sistema Linux o Unix. Debería dejar
esta tarea seleccionada a menos que sepa lo que está haciendo y si desea un
sistema realmente básico.

Si ha seleccionado una configuración regional («locale») predefinido distinto
de "C" durante la selección de idioma, tasksel seleccionará cualquier tarea de
localización configurada para esa configuración regional e intentará instalar
de forma automática los paquetes de localización relevantes. Incluye, por
ejemplo, paquetes que contienen listas de palabras o tipos de letra específicos
a su idioma. Si se selecciona un entorno de escritorio, instalará los paquetes
de localización adecuados a él (si están disponibles).

Una vez ha seleccionado las tareas sólo tiene que seleccionar Continue. Una vez
hecho esto, el programa apt instalará los paquetes que están incluidos en las
tareas que ha seleccionado. Pueden realizarse preguntas durante este proceso si
alguno de los programas necesita información del usuario.

Debería tener en cuenta que la tarea de Escritorio es muy grande. El instalador
puede intentar descargar muchos paquetes de la red especialmente si instala de
un CD-ROM normal combinándolo con un servidor de réplica para aquellos paquetes
que no están en el CD-ROM. Si tiene una conexión a Internet relativamente lenta
esto puede tomar un tiempo. No hay ninguna opción para cancelar la instalación
de paquetes una vez haya comenzado.

El instalador puede que descargue paquetes de un servidor de réplica aún cuando
los paquetes estén en el CD-ROM si hay una versión disponible en la réplica que
es más reciente que la que se incluye en el CD-ROM. Si está instalando la
distribución estable esto puede suceder tras la publicación de una nueva
revisión de la distribución (una actualización de la versión original estable);
si está instalando la distribución en pruebas esto puede suceder si está
utilizando una imagen antigua en el CD-ROM.

6.3.7. Hacer su sistema arrancable

Si está instalando una estación de trabajo sin disco, obviamente, arrancar
desde el disco local no es una opción significativa, de modo que esta etapa se
saltará.

6.3.7.1. Detección de otros sistemas operativos

El instalador intentará encontrar otros sistemas operativos instalados en la
máquina antes de instalar un gestor de arranque. Se le informará al respecto en
el paso de la instalación del gestor de arranque si se encuentra un sistema
operativo aceptado por éste. También, se configurará al ordenador para que
arranque este sistema operativo además de Debian.

Tenga en cuenta que el arranque de más de un sistema operativo en la misma
máquina es aún una especie de magia negra. La funcionalidad automática de
detectar y configurar los gestores de arranque de forma que puedan arrancar
otros sistemas operativos varía con la arquitectura, e incluso con las
distintas variantes de la arquitectura. Si no funciona en su caso debería
consultar la documentación de su gestor de arranque para obtener más
información.

6.3.7.2. Instalación del gestor de arranque Grub en un disco duro

El cargador de arranque amd64 se llama "grub". Grub es un gestor de arranque
flexible y robusto y una buena opción predeterminada tanto para los usuarios
principiantes como para los veteranos.

De forma predeterminada, grub se instalará en la partición UEFI o el sector de
arranque del disco duro principal, donde tendrá todo el control del proceso de
arranque. También puede instalarlo en algún otro lugar si lo prefiere. Consulte
el manual de grub para más información.

Si no quiere instalar grub, use el botón Go Back para regresar al menú
principal, y desde ahí seleccione el gestor de arranque que quiere usar.

6.3.7.3. Continuar sin gestor de arranque

Esta opción se usa para finalizar la instalación, incluso cuando no se instale
un gestor de arranque, bien porque la arquitectura o subarquitectura no
disponga de uno o bien porque no es necesario (p. ej. cuando vaya a usar un
gestor de arranque que ya exista en el sistema).

Si planea configurar manualmente su gestor de arranque, deberá verificar el
nombre del núcleo instalado en /target/boot. También deberá verificar la
presencia de un fichero initrd en este directorio; probablemente deba indicar
al gestor de arranque que lo utilice si existe. Necesitará también conocer,
como información adicional, el disco y partición que ha elegido para su sistema
de ficheros / (raíz) y también su sistema de ficheros /boot, si elige instalar
/boot en una partición separada.

6.3.8. Finalizar la instalación

Este es el último paso en el proceso de instalación de Debian durante el cual
el instalador realizará algunas tareas finales. En su mayoría consiste en
limpiar lo dejado por el debian-installer.

6.3.8.1. Configurar el reloj del sistema

El instalador puede preguntarle si el reloj del sistema está configurado con la
hora UTC (Coordinated Universal Time, o Tiempo Universal Coordinado, N. del
T.). Generalmente se intenta evitar esta pregunta y el instalador decide si el
reloj está configurado con el UTC o no basándose en cosas como, por ejemplo,
otros sistemas operativos que están instalados.

Siempre se le dejará elegir si el reloj está configurado con UTC o no en el
modo experto. Los sistemas que también pueden ejecutar Dos o Windows están
configurados con la hora local. Si desea poder cargar dos sistemas operativos
distintos debe elegir la hora local en lugar de la hora UTC.

En este punto el debian-installer tratará de definir la hora actual al reloj
del ordenador. Se haría en UTC o en hora local, de acuerdo con la selección que
se acaba de hacer.

6.3.8.2. Reiniciar el sistema

Se le pedirá que extraiga el medio de arranque (CD, dispositivo de memoria USB,
etc.) que usó para arrancar el instalador. Tras esto el sistema reiniciará
cargando su nuevo sistema Debian.

6.3.9. Resolución de problemas

Los componentes listados en esta sección usualmente no están involucrados en el
proceso de instalación, pero están esperando en el segundo plano para ayudar al
usuario en caso de que algo falle.

6.3.9.1. Guardado de los registros de instalación

Si la instalación es satisfactoria, los ficheros creados durante el proceso de
instalación se guardarán automáticamente en el directorio /var/log/installer/
de su nuevo sistema Debian.

Si escoge la opción Grabar registros de depuración en el menú principal podrá
guardar los registros en una memoria USB, red, disco duro u otro tipo de
dispositivo. Esto puede ser útil si se encuentra con problemas críticos durante
la instalación y quiere estudiar los registros en otro sistema, o adjuntarlos
en un informe de instalación.

6.3.9.2. Uso del intérprete de órdenes y consulta de registros

Hay distintos métodos para obtener un intérprete de órdenes mientras realiza
una instalación. En la mayoría de los sistemas, y en el caso de que no esté
instalando utilizando una consola serie, el método más sencillo es cambiar a la
segunda consola virtual pulsando Alt izquierdo+F2 ^[15] (en un teclado Mac, 
Opción+F2). Utilice Alt izquierdo+F1 para volver al propio instalador.

Si va a utilizar el instalador gráfico consulte Sección 6.1.1, "Usar el
instalador gráfico".

Si no puede cambiar entre consolas puede utilizar la opción en el menú
principal denominada Ejecutar un intérprete de órdenes (o «shell», N. del t.).
Puede volver al menú principal desde la mayor parte de los diálogos utilizando
el botón Go Back una o más veces. Para volver al instalador sólo tiene que
escribir exit para cerrar el intérprete.

En este punto de la instalación ha arrancado desde un disco que utiliza la
memoria RAM, y, consecuentemente, sólo dispone de un número limitado de
utilidades Unix. Puede ver los programas disponibles con la orden ls /bin /sbin
/usr/bin /usr/sbin y también si escribe help. El intérprete es un clon del
intérprete de órdenes Bourne llamado ash que tiene algunas características que
le pueden ser útiles como una función para completar órdenes y un histórico.

Puede utilizar el editor de textos nano para editar y ver ficheros. Encontrará
los registros del sistema de instalación en el directorio /var/log.

Nota

Aunque puede hacer básicamente todo lo que podría hacer en un intérprete de
órdenes que le permiten hacer los programas disponibles, la opción para
utilizar el intérprete de órdenes se proporciona sólo para los casos en los que
algo no funcione correctamente o tenga que depurar algún problema.

Las cosas que haga manualmente en el intérprete de órdenes pueden interferir
con el proceso de instalaciones y dar lugar a errores o a una instalación
incompleta. En particular, siempre debe utilizar el instalador y no el
intérprete para activar la partición de intercambio.

6.3.10. Instalación a través de la red-consola

Uno de los componentes más interesantes es network-console. Ésta te permite
hacer una gran parte de la instalación a través de la red mediante SSH. El uso
de la red implica que tienes que llevar a cabo los primeros pasos de la
instalación a través de la consola, al menos hasta llegar al punto en el que se
configura la red. (Aunque puedes automatizar esta parte con Sección 4.6,
"Instalación automática").

De manera predeterminada, este componente no aparece en el menú principal de la
instalación, por lo que tiene que pedirlo explícitamente. En el caso de que
esté instalando desde un medio óptico, debe arrancar fijando la prioridad a
media o llamar al menú de instalación y seleccionar Cargar componentes del
instalador desde el medio de instalación y seleccionar de la lista de
componentes network-console: Continuar la instalación de forma remota
utilizando SSH. Si el componente se carga correctamente, verá una nueva entrada
de menú llamada Continuar la instalación de forma remota utilizando SSH.

Después de seleccionar esta nueva entrada se le preguntará la contraseña a
utilizar para conectarse con el sistema de instalación, y se confirmará esta
nueva contraseña. Eso es todo lo que necesita. Ahora debería poder ver una
pantalla que le indica que debe conectarse de forma remota con el identificador
de usuario installer y la contraseña que introdujo. Un detalle importante a
destacar es que se le indicará también la huella digital del sistema que está
instalando. Tiene que transferir esta huella de forma segura a la persona que
continuará con la instalación remota.

Siempre puede pulsar Enter para continuar con la instalación local si lo desea.
Si lo hace se le mostrará el menú principal y podrá elegir otro componente.

En el otro extremo de la comunicación, como prerrequisito, deberá configurar su
terminal para que utilice codificación UTF-8, porque es la que utiliza el
sistema de instalación. Si no lo hace podrá hacer la instalación pero puede que
vea caracteres extraños en la pantalla, como puedan ser bordes de cuadro de
diálogo rotos o caracteres no americanos ilegibles. Para conectarse al sistema
de instalación remoto sólo tiene que escribir:

$ ssh -l installer sistema_a_instalar

donde sistema_a_instalar es o bien el nombre o bien la dirección IP del equipo
que está instalando. Antes de conectarse se le mostrará la huella digital del
sistema remoto y deberá confirmar que es la correcta.

Nota

La orden ssh en el instalador usa una configuración predeterminada que no envía
paquetes de keep-alive. En principio, una conexión al sistema que está
instalándose debería mantener la conexión abierta de forma indefinida. Pero, en
ciertas situaciones -- dependiendo de su configuración local de red -- la
conexión puede interrumpirse después de un período de inactividad. Un caso
común puede ocurrir cuando hay alguna modalidad de Traducción de Direcciones de
Red (NAT) en algún sitio entre el cliente y el sistema que está instalándose.
Dependiendo del punto en el cual la conexión se perdió, podría resultar
imposible dar continuidad a la instalación después de reconectarse.

Podría evitar que caiga la conexión añadiendo la opción -o ServerAliveInterval=
value cuando se hace la conexión ssh, o adicionar tal opción en su fichero de
configuración de ssh. Pero tenga en cuenta que en algunos casos adicionar tal
orden podría también causar la caída de la conexión (por ejemplo si los
paquetes keep-alive se envían mientras haya una caída corta de la red, en la
cuál la orden ssh se ha recuperado), por lo tanto debe usarse únicamente cuando
sea necesario.

Nota

Si instalas muchos sistemas de forma consecutiva y, por casualidad, comparten
la dirección IP o nombre de equipo, ssh se negará a conectarse a ellos. La
razón es que tendrá diferentes huellas digitales, lo que normalmente es
indicativo de un posible ataque de suplantación. Si estás seguro de que no es
este el caso, tendrás que eliminar la línea correspondiente de ~/.ssh/
known_hosts^[16] y vuelve a intentarlo.

Después de acceder al sistema se le mostrará una pantalla de instalación
inicial donde tendrá dos posibilidades: Arrancar menú y Arrancar consola. La
primera de estas opciones le llevará al menú de instalación, donde podrá seguir
con la instalación como lo hace habitualmente. La segunda de estas opciones
ejecuta un intérprete de línea de órdenes desde el que puede examinar, y quizás
arreglar, el sistema remoto. Sólo debería arrancar una sesión de SSH para el
menú de instalación, aunque puede tener tantas sesiones como quiera con
consolas remotas.

Aviso

Una vez ha arrancado la instalación por SSH de forma remota no debería volver a
la sesión de instalación que se está ejecutando en la consola local. Si lo
hace, podría corromper la base de datos que guarda la configuración del nuevo
sistema, al realizar accesos simultáneos a ella. Esto podría llevar a que la
instalación fallara o a que tuviera problemas con el sistema que ha instalado.

6.4. Carga de Firmware adicional

Como se indicó en Sección 2.2, "Dispositivos que requieren firmware", ciertos
dispositivos requieren la carga de firmware. La mayoría de veces el dispositivo
no funcionará sin el firmware; en ciertas ocasiones estará disponible cierta
funcionalidad básica sin que esté cargado el firmware, pero con este se podría
contar con características adicionales.

Si un controlador de un dispositivo solicita firmware que no está disponible,
el debian-installer mostrará un diálogo ofreciéndole la oportunidad de cargar
el firmware faltante. Si selecciona esta opción, debian-installer buscará
ficheros o paquetes que puedan contener el firmware en los dispositivos
disponibles. Si los encuentra, copiará el firmware al lugar correcto(/lib/
firmware) y se recargará el módulo del controlador.

Nota

De acuerdo con la arquitectura, el método de instalación y la etapa de
instalación se buscará en los dispositivos y en los sistemas de ficheros.
Especialmente en los primeros pasos de la instalación, la carga del firmware
podría cargarse con mayor éxito desde una memoria USB con formato FAT. El
firmware también puede cargarse desde tarjetas MMC o SD en arquitecturas i386 y
amd64.

Tenga en cuenta que es posible obviar la carga del firmware si sabe que el
dispositivo funciona sin él, o si el dispositivo no se necesita durante la
instalación.

debian-installer solo solicita el firmware necesario para los módulos del
núcleo que se cargan durante la instalación. No se incluyen todos los
controladores en debian-installer, en particular, no se incluye radeon, lo que
implica que algunos dispositivos se comportarán de la misma forma tras
finalizar la instalación. Asimismo, algunos de los dispositivos de hardware no
se utilizarán con el máximo rendimiento. Si cree que es así, o tiene
curiosidad, es una buena idea comprobar la salida de la orden dmesg en el
sistema recién iniciado, y busque "firmware".

6.4.1. Preparación del medio

Las imágenes de instalación oficiales no incluyen firmware propietario. El
método más común para cargar ese tipo de firmware es desde un dispositivo
extraíble como una memoria USB. De forma alternativa, puede encontrar imágenes
de instalación no oficiales que contienen firmware propietario en https://
cdimage.debian.org/cdimage/unofficial/non-free/cd-including-firmware/. Para
preparar una memoria USB (u otro medio como una partición del disco duro), los
ficheros o paquetes de firmware se deben colocar en el directorio raíz o un
directorio llamado /firmware en el sistema de ficheros del dispositivo. El
sistema de ficheros recomendado es FAT, dado que es probable que sea compatible
durante los primeros pasos de la instalación.

Los archivos tar y zip que contienen los ficheros de firmware más comunes están
disponibles en:

  • https://cdimage.debian.org/cdimage/unofficial/non-free/firmware/

Descargue el archivo tar o zip para la versión correcta y desempaquételo en el
sistema de ficheros o en el dispositivo de almacenamiento.

Si el firmware que necesita no está incluido en el paquete de archivos, puede
descargar paquetes de firmware específico (de la sección no-libre) del archivo.
La siguiente lista debería mostrar la mayoría de paquetes de firmware
disponibles, pero no se garantiza que esté completa y puede contener paquetes
que no son de firmware:

  • https://packages.debian.org/search?keywords=firmware

También es posible copiar ficheros individuales de firmware. Otro firmware
puede obtenerse por ejemplo de un sistema previamente instalado o de un
proveedor de hardware.

6.4.2. Firmware y el Sistema Instalado

Cualquier firmware que se cargue durante la instalación se copiará
automáticamente al sistema instalado. La mayoría de veces esto garantizará que
los dispositivos que requieren el firmware también funcionarán correctamente
después de que se ha reiniciado al sistema instalado. Sin embargo, si el
sistema instalado se ejecuta con un núcleo diferente del núcleo del instalador,
es probable que el firmware no pueda cargarse debido a la diferencia de
versiones.

Si el firmware se cargó de un paquete de firmware, el debian-installer también
instalará este paquete para el sistema instalado y añadirá automáticamente la
sección non-free del archivo de paquetes en sources.list de APT. La ventaja de
esto es que el firmware debería actualizarse automáticamente si está disponible
una nueva versión.

Si se obvió la carga del firmware durante la instalación, los dispositivos en
cuestión probablemente no funcionarán en el sistema instalado hasta que el
(paquete de) firmware sea instalado manualmente.

Nota

Si el firmware se cargó desde ficheros adicionales, el firmware copiado al
sistema instalado no se actualizará automáticamente a menos que el
correspondiente paquete de firmware (en caso de estar disponible) se instale
después de finalizada la instalación.

6.4.3. Completando el Sistema Instalado

Dependiendo de cómo se haya realizado la instalación, puede ser que no se haya
detectado la necesidad de algún firmware durante la instalación, que el
firmware correspondiente no esté disponible, o que se haya optado por no
instalar algún firmware en ese momento. En algunos casos, una instalación
exitosa puede terminar con una pantalla negra o una pantalla confusa al
reiniciar el sistema instalado. Cuando esto ocurre, se pueden probar las
siguientes soluciones:

  • Agrega la opción nomodeset en la línea de comandos del kernel. Esto puede
    ayudar a arrancar en modo "fallback graphics" .

  • Usa la conbimación de teclas Ctrl+Alt+F2 para cambiar a VT2, que podría
    ofrecer un aviso de inicio de sesión funcional.

Una vez iniciada la sesión en el sistema instalado, es posible automatizar la
detección del firmware que falta, y dar los pasos necesarios para habilitarlos
siguiendo este procedimiento:

 1. Instalar el paquete isenkram-cli.

 2. Ejecutar el comando isenkram-autoinstall-firmware como "root".

Normalmente, reiniciar es la forma más sencilla de asegurarse de que todos los
módulos del kernel están correctamente inicializados; esto es especialmente
importante cuando uno ha arrancado el sistema con la opción nomodeset como
medida provisional.

Nota

La instalación de paquetes de firmware es muy probable que requiera habilitar
la sección no libre del archivo de paquetes. A partir de Debian GNU/Linux 11.0,
ejecutar el comando isenkram-autoinstall-firmware lo hará automáticamente
creando un archivo dedicado (/etc/apt/sources.list.d/
isenkram-autoinstall-firmware.list), apuntando a un espejo genérico.

6.5. Personalización

Usando el shell (ver Sección 6.3.9.2, "Uso del intérprete de órdenes y consulta
de registros"), el proceso de instalación se puede personalizar cuidadosamente,
para adaptarse a casos de uso excepcionales:

6.5.1. Instalación de un sistema init alternativo

Debian utiliza systemd como init system por defecto. Sin embargo, otros
sistemas init (como sysvinit y OpenRC) están soportados, y el momento más fácil
para seleccionar un sistema init alternativo es durante el proceso de
instalación. Para obtener instrucciones detalladas sobre cómo hacerlo, consulta
la página página Init en la wiki de Debian.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[6] En términos técnicos esto significa que hay múltiples localizaciones para
ese lenguaje con distintos códigos de país.

^[7] Siempre puede seleccionar con prioridad media y baja su locale preferida
entre las disponibles para el idioma seleccionado (si hay más de una).

^[8] Las locales «legacy» son aquellas que no usan UTF-8, sino algún estándar
de codificación de caracteres más antiguo como ISO 8859-1 (usada para idiomas
de Europa occidental) o EUC-JP (usada para el japonés).

^[9] El instalador cifrará el grupo de volúmenes LVM con una clave AES de 256
bit y hace uso de la compatibilidad con "dm-crypt" en el núcleo.

^[10] Siendo honestos, puede construir un MD (Metadispositivo) incluso con
particiones de un mismo disco físico, pero no tiene ninguna ventaja.

^[11] La utilización de una contraseña como clave significa que la partición se
configurará utilizando LUKS.

^[12] Se cree, sin embargo, que las personas que trabajan en agencias
gubernamentales de «tres letras» (FBI, NSA, CIA, N. del T.) pueden recuperar
los datos aunque se hayan realizado varias escrituras en medios
magneto-ópticos.

^[13] En realidad el programa que instala los paquetes se llama dpkg. Este
programa es, sin embargo, una herramienta de bajo nivel. apt es una herramienta
de más alto nivel que llama a dpkg cuando es necesario. Sabe cómo obtener los
paquetes desde su medio de instalación, de la red o de cualquier otra
ubicación. También es capaz de instalar otros paquetes indispensables para que
los paquetes que intenta instalar funcionen adecuadamente.

^[14] Deberías saber que para presentar esta lista el instalador simplemente
llama al programa tasksel. Se puede ejecutar en cualquier momento después de la
instalación para instalar más paquetes (o eliminarlos), o se puede utilizar una
herramienta más fina como aptitude. Si estás buscando un paquete específico
sólo tienes que ejecutar, después de la instalación aptitude install paquete,
donde paquete es el nombre del paquete que estás buscando.

^[15] Esto es, la tecla Alt a la izquierda de la barra espaciadora, y al mismo
tiempo la tecla de función F2.

^[16] El siguiente comando eliminará una entrada existente para un host: 
ssh-keygen -R <hostname|IP address>.

Capítulo 7. Arrancar desde su nuevo sistema Debian

Tabla de contenidos

7.1. El momento de la verdad
7.2. Montaje de volúmenes cifrados

    7.2.1. Resolución de problemas

7.3. Acceso

7.1. El momento de la verdad

El primer arranque autónomo de su sistema es lo que los ingenieros eléctricos
llaman "la prueba de humo".

Lo primero que debería ver cuando arranque el sistema es el menú del cargador
de arranque grub si ha hecho la instalación por omisión. Las primeras opciones
en el menú serán las de su nuevo sistema Debian. Se listarán más abajo otros
sistemas operativos en su sistema (como Windows) si los tenía y los detectó el
sistema de instalación.

No se preocupe si el sistema no llega a arrancar. Si la instalación se completó
con éxito es posible que sólo haya un problema menor que impida que su sistema
arranque Debian. En muchos casos estos problemas pueden arreglarse sin tener
que repetir la instalación. Una opción disponible para arreglar problemas de
arranque es utilizar el modo de rescate que está disponible en el propio
instalador (consulte Sección 8.6, "Recuperar un sistema roto").

Es posible que necesite ayuda de usuarios más experimentados si es nuevo a
Debian y a Linux. Puede intentar obtener ayuda directamente en línea en los
canales de IRC #debian o #debian-boot en la red OFTC. También puede contactar
la lista de usuarios debian-user (en inglés) o lista de usuarios
debian-user-spanish (en español). También puede enviar un informe de
instalación tal y como se describe en Sección 5.4.7, "Enviar los informes de la
instalación". Por favor, asegúrese de que describe claramente su problema y de
que incluye cualquier mensaje que se muestra de forma que otros puedan
diagnosticar el problema.

Si tenía algún sistema operativo en su ordenador que no se detectó o se detectó
incorrectamente, por favor, envíe un informe de instalación.

7.2. Montaje de volúmenes cifrados

Se le solicitará la contraseña para cada uno de los volúmenes cifrados durante
el arranque si ha creado volúmenes cifrados durante la instalación y los ha
asociado a puntos de montaje.

Se mostrará la siguiente indicación durante el arranque para las particiones
que están cifradas con «dm-crypt»:

Starting early crypto disks... part_crypt(starting)
Enter LUKS passphrase:

En la primera línea del indicador, part es el nombre de la partición
subyacente, p.ej. sda2 o md0. La pregunta que puede hacerse es ¿para qué
volumen está introduciendo la contraseña? ¿Se trata de /home o de /var? Por
supuesto, si tiene solamente un volumen cifrado es muy sencillo y sólo tendrá
que introducir la clave que utilizó cuando definía esta volumen. Las notas que
escribió tras el último paso en Sección 6.3.4.6, "Configurar volúmenes
cifrados" le serán ahora de utilidad si configuró más de un volumen cifrado
durante la instalación. Si no tomo nota de la relación entre part_crypt y los
puntos de montaje anteriormente aún podrá encontrarla en los ficheros /etc/
crypttab y /etc/fstab de su nuevo sistema.

El indicador puede ser un poco distinto cuando lo que se monta es el sistema de
ficheros raíz. El mensaje exacto dependerá del generador de initramfs que se
utilizó para generar el initrd utilizado para el arranque del sistema. El
ejemplo que se muestra a continuación corresponde al mensaje del initrd
generado con initramfs-tools:

Begin: Mounting root file system... ...
Begin: Running /scripts/local-top ...
Enter LUKS passphrase:

No se mostrará ningún carácter (ni siquiera asteriscos) mientras vd. introduce
la clave. Si introduce mal la clave tendrá dos intentos más para corregirla.
Después del tercer intento erróneo el proceso de arranque saltará ese volumen y
continuará intentando montar el siguiente sistemas de ficheros. Para más
información consulte Sección 7.2.1, "Resolución de problemas".

El proceso de arranque debería continuar normalmente una vez haya introducido
todas las claves.

7.2.1. Resolución de problemas

Tendrá que montar manualmente los volúmenes cifrados si no se pudieron montar
porque no introdujo bien la clave. Aquí se dan ciertos casos distintos:

  • El primer caso está asociado a la partición raíz. El proceso de arranque no
    podrá continuar y se parará si no se monta ésta correctamente, con lo que
    tendrá que reiniciar el equipo e intentarlo de nuevo.

  • El caso más sencillo es para los volúmenes cifrados que almacenan datos
    como /home o /srv. Puede montarlos manualmente justo después de arrancar.

    Es un poco más complicado para el caso de «dm-crypt». Primero tendrá que
    registrar los volúmenes con el device mapper ejecutando:

    # /etc/init.d/cryptdisks start

    Esto hará que se sondeen todos los volúmenes descritos en /etc/crypttab y
    se crearán todos los dispositivos necesarios en el directorio /dev tras
    introducir la contraseña correctamente. Se omitirán los volúmenes que ya
    estén registrados por lo que puede repetir esta orden tantas veces como
    necesite. Una vez que haya registrado con éxito el dispositivo sólo tiene
    que montarlos de la forma habitual:

    # mount /punto_de_montaje

  • El sistema debería arrancar aún cuando no se puedan montar los sistemas de
    ficheros que no contengan ficheros del sistema críticos (/usr o /var). Por
    lo que debería poder montar los volúmenes manualmente como se ha descrito
    anteriormente. Sin embargo, tendrá que arrancar o reiniciar los servicios
    que se ejecutan en su nivel de ejecución normal porque es muy probable que
    no se hayan podido arrancar. La forma más fácil de conseguir esto
    simplemente reiniciar el ordenador.

7.3. Acceso

Se le presentará el cursor de «login» (acceso, N. del t.) después de que haya
arrancado su sistema. Puede acceder usando la cuenta personal y clave que ha
seleccionado durante la instalación. Su sistema está ahora listo para ser
usado.

Si usted es un usuario novel, tal vez quiera explorar la documentación que ya
está instalada en su sistema mientras empieza a utilizarlo. Actualmente existen
varios sistemas de documentación, aunque se está trabajando en integrar los
diferentes tipos disponibles. Aquí encontrará algunas guías que le indicarán
dónde empezar a buscar.

La documentación que acompaña a los programas que ha instalado se encuentra en
el directorio /usr/share/doc/, bajo un subdirectorio cuyo nombre coincide con
el del programa (o, más exactamente, el nombre del paquete Debian que contiene
el programa). Sin embargo podrá encontrar documentación más extensa en paquetes
independientes de documentación que generalmente no se instalan por omisión.
Por ejemplo, puede encontrar documentación de la herramienta de gestión de
paquetes apt en los paquetes apt-doc o apt-howto.

Además, existen algunos directorios especiales dentro de la jerarquía de /usr/
share/doc/. Puede encontrar los CÓMOs de Linux en formato .gz (comprimido), en
/usr/share/doc/HOWTO/en-txt/. Encontrará un índice navegable de la
documentación instalada en /usr/share/doc/HTML/index.html una vez instale
dhelp.

Una forma fácil de consultar estos documentos utilizando un navegador con
interfaz de texto es ejecutar las siguientes órdenes:

$ cd /usr/share/doc/
$ w3m .

El punto después de la orden w3m le indica que debe mostrar los contenidos del
directorio actual.

Puede utilizar el navegador web del entorno gráfico de escritorio si dispone de
uno instalado. Inicie el navegador web mediante el menú de aplicaciones y
escriba /usr/share/doc/ en la barra de direcciones.

También puede escribir info programa o man programa para consultar la
documentación de la mayoría de los programas disponibles en la línea de
órdenes. Si escribe «help» se le mostrará una ayuda sobre las órdenes del guión
de línea de órdenes. Habitualmente, si escribe el nombre de un programa seguido
de --help se le mostrará un breve resumen del uso de este programa. Si la
salida es mayor que el tamaño de su pantalla, escriba | more después de la
llamada anterior para hacer que los resultados se pausen antes de que
sobrepasen el tamaño de la pantalla. Puede también ver la lista de todos los
programas disponibles que empiezan con una cierta letra. Simplemente, escriba
la letra en cuestión y luego presione dos veces el tabulador.

Capítulo 8. Siguientes pasos y dónde continuar

Tabla de contenidos

8.1. Apagando el sistema
8.2. Orientación sobre Debian

    8.2.1. El sistema de paquetes de Debian
    8.2.2. Software adicional disponible para Debian
    8.2.3. Gestión de versión de las aplicaciones
    8.2.4. Gestión de tareas de cron

8.3. Lectura e información adicional
8.4. Configurar tu sistema para utilizar el correo electrónico

    8.4.1. Configuración de correo electrónico por omisión
    8.4.2. Enviar correo electrónico fuera del sistema
    8.4.3. Configurar el agente de transporte de correo Exim4

8.5. Compilar un nuevo núcleo
8.6. Recuperar un sistema roto

8.1. Apagando el sistema

Para apagar un sistema Debian GNU/Linux activo, no debes reiniciarlo con el
botón «reset» que se encuentra en frente o detrás del ordenador, o simplemente
apagarlo. Debian GNU/Linux debe apagarse en una forma controlada, algunos
ficheros podrían perderse y/o producirse daño al disco si no se hace así. Si
estás ejecutando un entorno de escritorio encontrarás, generalmente, una opción
para "cerrar tu sesión" disponible desde el menú de aplicación que te permite
apagar (o reiniciar) el sistema.

También puede presionar la combinación de teclas Ctrl+Alt+Del . Una última
opción si la combinación de teclas no funciona es acceder como superusuario y
utilizar las órdenes necesarias. Utiliza reboot para reiniciar el sistema.
Utiliza halt para parar el sistema sin apagarlo por completo ^[17]. Para apagar
el equipo, utiliza poweroff o shutdown -h now. El sistema init systemd
proporciona órdenes adicionales para hacer las mismas funciones. Como por
ejemplo: systemctl reboot o systemctl poweroff.

8.2. Orientación sobre Debian

Debian es un poco diferente a otras distribuciones. Incluso si estás
familiarizado con Linux en otras distribuciones, hay cosas que debes conocer
sobre Debian para ayudarte a mantener tu sistema en buen estado. Este capítulo
contiene material que te ayudará a orientarte; no tiene la intención de ser un
tutorial sobre el uso de Debian, pero sí un breve resumen sobre el sistema para
aquellos con prisa.

8.2.1. El sistema de paquetes de Debian

El concepto más importante a entender es el sistema de paquetes Debian.
Esencialmente, podría considerarse que gran parte de tu sistema está bajo el
control del sistema de paquetes. Esto incluye:

  • /usr (excluyendo /usr/local)

  • /var (puedes crear /var/local sin riesgos)

  • /bin

  • /sbin

  • /lib

Por ejemplo, si sustituyes /usr/bin/perl, éste funcionará, pero si luego
actualizas tu paquete perl, se sustituirá el fichero que pusiste en su lugar.
Los usuarios avanzados pueden evitar esto poniendo los paquetes en estado "hold
" ("retenido"), en aptitude.

Uno de los mejores métodos de instalación es apt. Puedes usar la versión de
línea de órdenes apt también como herramientas como aptitude o synaptic (que
son simplemente interfaces gráficas para apt. Ten en cuenta que apt también te
permitirá combinar «main», «contrib» y «non-free», de este modo puedes tener
paquetes restringidos (que estrictamente hablando no forman parte de Debian)
así como paquetes de Debian GNU/Linux al mismo tiempo.

8.2.2. Software adicional disponible para Debian

Hay repositorios de software oficiales y no oficiales que no se activan durante
la instalación predeterminada de Debian. Contienen software que muchos
consideran importante y esperan tener. Se puede encontrar información sobre
estos repositorios adicionales la wiki de Debian litulada The Software
Available for Debian's Stable Release.

8.2.3. Gestión de versión de las aplicaciones

Las versiones alternativas de la aplicaciones se manejan con
«update-alternatives». Si mantienes múltiples versiones de tus aplicaciones,
lee la página de manual de «update-alternatives».

8.2.4. Gestión de tareas de cron

Cualquier tarea bajo supervisión del administrador del sistema debe estar en /
etc, puesto que éstos son ficheros de configuración. Si tienes una tarea de
cron de root que se ejecuta diariamente, semanalmente o mensualmente, colócala
en /etc/cron.{daily,weekly,monthly}. Estos programas se invocan desde /etc/
crontab y se ejecutarán en orden alfabético, con lo que se serializan.

Por otro lado, si tienes una tarea de cron que (a) necesita ejecutarse como un
usuario específico o (b) necesita ejecutarse en un momento o frecuencia
específica, puedes usar tanto /etc/crontab como /etc/cron.d/cualquier-cosa.
Estos ficheros específicos también tienen un campo adicional que te permite
definir la cuenta de usuario bajo la que se ejecuta la tarea.

En cualquier caso, simplemente edita los ficheros y cron se dará cuenta
automáticamente. No hay necesidad de ejecutar una orden especial. Para más
información consulta cron(8), crontab(5) y /usr/share/doc/cron/README.Debian.

8.3. Lectura e información adicional

El sitio web de Debian contiene una gran cantidad de documentación sobre
Debian. En particular, lee las Preguntas frecuentes de Debian GNU/Linux y la
Referencia Debian. Encontrarás un índice de más documentación disponible Debian
en el Proyecto de documentación de Debian. La comunidad Debian se ayuda a sí
misma; para suscribirte a una o más de las listas de correo de Debian, ve a la
página de suscripción a las listas de correo. Por último, aunque no por ello
menos importante, podrás encontrar gran cantidad de información en los archivos
de las listas de correo de Debian.

Si necesitas información sobre un programa en particular, debes intentar
primeroman programa o info programa.

También encontrarás mucha documentación útil en /usr/share/doc. Específicamente
en /usr/share/doc/HOWTO y /usr/share/doc/FAQ, donde podrás leer mucha
información interesante. Para enviar informes de fallos, mira en /usr/share/doc
/debian/bug*. Consulta /usr/share/doc/(nombre de paquete)/README.Debian si
deseas saber más sobre la información concreta que Debian pueda ofrecer para un
programa en particular.

Una fuente de información general sobre GNU/Linux es el Proyecto de
documentación de Linux. Allí encontraras CÓMOs y enlaces a otras valiosas
fuentes de información sobre partes del sistema GNU/Linux.

Linux es una implementación de Unix. El Proyecto de Documentación de Linux
(LDP) proporciona un buen número de CÓMOs y de libros en línea relacionados con
Linux.

Si eres nuevo en Unix, probablemente deberías salir, comprar algunos libros y
leer un poco. La lista de PUFs de Unix contiene un conjunto de documentos de
UseNet que pueden servir como una buena referencia histórica.

8.4. Configurar tu sistema para utilizar el correo electrónico

Actualmente, el correo electrónico es una parte muy importante de la vida de
muchas personas. Dado que hay muchas opciones para configurarlo y que para
algunas herramientas de Debian es importante tener su sistema de correo
configurado, intentamos cubrir lo básico en esta sección.

Existen tres elementos principales que forman parte de los sistemas de correo
electrónico. En primer lugar está el Agente de usuario de correo (oMail User
Agent o MUA) que es el programa que el usuario utiliza para escribir y leer el
correo. Después está el Agente de transporte de correo (Mail Transfer Agent o
MTA), que se encarga de transferir los mensajes de un sistema a otro. Y por
último está el Agente de entrega de correo (Mail Delivery Agent o MDA) que se
encarga de transferir el correo entrante al buzón del usuario.

Cada una de estas tres funciones las puede realizar un programa distinto, pero
también pueden combinarse en uno o dos programas. También es posible tener
distintos programas que gestionen estas funciones para diferentes tipos de
correo.

En el caso de Linux y sistemas Unix mutt ha sido siempre un MUA muy popular.
Como la mayoría de los programas tradicionales en Linux, se trata de un
programa basado en texto. Muchas veces se utiliza conjuntamente con exim o 
sendmail como MTA y con procmail como MDA.

Al hacerse cada vez más populares los entornos de escritorio gráficos también
se han hecho populares los programas gráficos para el correo electrónico como 
evolution de GNOME, kmail de KDE o thunderbird de Mozilla. Estos programas
combinan la función de un MUA, MTA y MDA, pero pueden -- y se hace a veces --
combinarse con las herramientas de Linux tradicionales.

8.4.1. Configuración de correo electrónico por omisión

Es importante instalar y configurar correctamente un gestor de correo («MTA/
MDA») tradicional en tu sistema Debian GNU/Linux aunque vayas a utilizar un
programa gráfico de correo electrónico. La razón principal es que algunas
herramientas que se ejecutan en el sistema^[18] pueden tener que enviar
información mediante el correo electrónico para informar al administrador del
sistema de problemas (potenciales) o de cambios que se han producido.

Para esto puedes instalar los paquetes exim4 y mutt con apt install exim4 mutt.
exim4 es una combinación de MTA/MDA que es relativamente pequeño y muy
flexible. La configuración por omisión hará que trate solamente el correo local
al sistema y envíe los correos dirigidos al administrador del sistema (usuario
«root») a la cuenta de usuario creada durante la instalación^[19].

Cuando se envían correos del sistema se guardan en el fichero /var/mail/
nombre_de_la_cuenta. Estos correos electrónicos se pueden leer con mutt.

8.4.2. Enviar correo electrónico fuera del sistema

Como ya se ha mencionado, la instalación de un sistema Debian sólo está
configurado para gestionar el correo electrónico de forma local en el sistema,
no para enviar correo ni recibir correos de otros.

Si deseas que exim4 gestione correo externo deberás seguir las indicaciones que
se describen en la siguiente sección que describen las opciones de
configuración básicas. Asegúrate de probar que se puede enviar y recibir el
correo correctamente.

Si vas a utilizar un programa de correo gráfico y vas a utilizar el servidor de
correo de tu proveedor de servicios a Internet ( ISP), o el servidor de correo
de tu compañía, no necesitas configurar exim4 para gestionar el correo externo.
Sólo debes configurar tu programa de correo electrónico favorito para que use
los servidores apropiados para enviar y recibir correo (describir cómo hacerlo
se sale del ámbito de este manual).

En este caso, sin embargo, posiblemente tengas que configurar herramientas
individuales para enviar correctamente correos electrónicos. Una de estas
utilidades es reportbug, un programa que facilita el envío de informes de error
de paquetes Debian. Este programa, por omisión, espera poder utilizar exim4
para realizar el envío de los informes de error.

Para configurar correctamente reportbug para utilizar un servidor de correo
externo, debes usar la orden reportbug --configure y responder "no" cuando
pregunte si hay un MTA disponible. A continuación te preguntará qué servidor
SMTP se debe utilizar para enviar informes de error.

8.4.3. Configurar el agente de transporte de correo Exim4

Si quieres que tu sistema gestione correo electrónico externo, deberás
reconfigurar el paquete exim4 ^[20]:

# dpkg-reconfigure exim4-config

Después de ejecutar esta orden (como root), te preguntará si quieres o no
separar la configuración en múltiples ficheros pequeños. Seleccione la opción
por omisión si no estás seguro.

A continuación, te presentará distintos escenarios habituales. Elige aquél que
se parezca más a tus necesidades:

sitio en Internet

    Tu equipo está conectado a una red y envía y recibe correo directamente a
    través de SMTP. En las siguientes pantallas te hará preguntas básicas
    incluyendo el nombre de correo de tu equipo, o la lista de dominios para
    los que aceptas o reenvías correos.

se envía el correo a través de una pasarela

    En este escenario tu correo saliente se reenvía a través de otro equipo
    llamado "pasarela" que se encarga de gestionar tu correo. La pasarela
    generalmente también almacenará el correo entrante dirigido a tu equipo,
    así no es necesario que estés permanentemente conectado. Eso quiere decir
    que tendrás que descargar tu correo de la pasarela con un programa como
    fetchmail.

    En muchos casos la pasarela será tu servidor de correo ISP, lo que hace que
    esta opción sea la más apropiada para los usuarios que utilicen acceso
    remoto a redes. También puede ser un servidor de correo de empresa o
    incluso otro sistema en tu misma red.

correo enviado a través de smarhost; no hay correo local

    Esta opción es básicamente igual que la anterior excepto que el sistema no
    se configurará para utilizar correo de un dominio local de correo
    electrónico. Se seguirá gestionando el correo del propio sistema (como por
    ejemplo, el del administrador del sistema).

solamente entrega local

    Esta es la opción que se configura por omisión en tu sistema.

sin configuración de momento

    Elige esta opción si estás absolutamente seguro de lo que estás haciendo.
    Esto dejará tu sistema de correo sin configurar system -- hasta que lo
    hagas. Esto implica que el sistema no podrá enviar o recibir correo y puede
    que no recibas avisos enviados por correo de las herramientas del sistema.

Si ninguno de estos escenarios se ajusta a tus necesidades, o si necesitas una
configuración más detallada, tendrás que editar los archivos de configuración
en el directorio /etc/exim4 una vez completada la instalación. Puedes encontrar
más información sobre exim4 en /usr/share/doc/exim4; el archivo
README.Debian.gz tiene más detalles sobre la configuración de exim4 y explica
donde encontrar documentación adicional.

Ten en cuenta que el envío de correos directamente a Internet sin tener un
nombre de dominio oficial puede hacer que tu correo se rechace por las medidas
anti-spam implementadas en los servidores que lo reciben. Lo preferible es
utilizar el servidor de correo de tu ISP. En el caso de que sí desees enviar
correos directamente, deberías usar un nombre de dirección de correo distinta
de la que se genera por omisión. Si usas exim4 como tu MTA , eso es posible
añadiendo una entrada en /etc/email-addresses.

8.5. Compilar un nuevo núcleo

¿Por qué podría querer alguien compilar un nuevo núcleo? En general esto no es
necesario porque el núcleo por omisión proporcionado en Debian gestiona la
mayoría de las configuraciones.

Si aún así quieres compilar tu propio núcleo, esto es por supuesto posible y te
recomendamos que utilices "make deb-pkg" . Para más información puedes
consultar el Manual del Núcleo de Linux en Debian.

8.6. Recuperar un sistema roto

Algunas veces las cosas salen mal y el sistema que has instalado con mucho
cuidado no puede arrancar. Quizás se rompió la configuración del cargador de
arranque mientras estaba probando un cambio, o quizás el nuevo núcleo que
instaló ya no puede arrancar, o quizás unos rayos cósmicos golpearon tu disco
duro y cambiaron un bit de /sbin/init. Independientemente del motivo,
necesitarás un sistema desde el cual poder trabajar para arreglarlo, y el modo
de rescate puede ser útil para esto.

Para acceder al modo de rescate, seleccionaen el menú de arranque rescue,
escribe rescue en el prompt boot:, o arranca con el parámetro de arranque
rescate/enable=true Se te mostrarán las primeras pantallas del instalador, con
una nota en la esquina de la pantalla para indicar que esto es modo de rescate,
no una instalación completa. No te preocupes, ¡tu sistema no está a punto de
machacarse! El modo Rescate simplemente aprovecha las instalaciones de
detección de hardware disponibles en el instalador para asegurar que tus
discos, dispositivos de red, etc. estén disponibles para ti mientras repara el
sistema.

Te mostrará la lista de particiones del sistema en lugar de la herramienta de
particionado y te pedirá que seleccione una de éstas. Por regla general
seleccionarás la partición que contiene el sistema de ficheros raíz que
necesitas reparar. Puedes seleccionar también particiones en dispositivos RAID
o LVM así como las creadas directamente en los discos.

Si es posible, el instalador te presentará ahora un aviso del intérprete de
órdenes en el sistema de archivos que has seleccionado, que puedes usar para
realizar cualquier reparación necesaria. Por ejemplo, si necesitas reinstalar
el cargador de arranque GRUB en el registro de arranque principal del primer
disco duro, para hacerlo puedes introducir el comando grub-install '(hd0)'.

Si el instalador no puede ejecutar un intérprete de órdenes en el sistema de
ficheros raíz que has seleccionado quizás se deba a que el sistema de ficheros
se ha corrompido. En este caso aparecerá un aviso y te permitirá usar un
intérprete de órdenes en el entorno de instalación. Puede que no tengas tantas
herramientas a tu alcance en este entorno, pero deberían ser suficientes para
reparar el sistema. El sistema de ficheros raíz que hayas seleccionado estará
montado en el directorio /target.

En cualquier caso, el sistema se reiniciará automáticamente cuando salgas del
intérprete de órdenes.

Para terminar: reparar un sistema roto puede ser difícil y este manual no
intenta detallar todas las cosas que pueden ir mal y cómo arreglarlas. Si
tienes algún problema, consulte con un experto.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[17] En el sistema de SysV la orden halt y poweroff tienen el mismo efecto,
pero con el sistema init system (el sistema por omisión desde jessie) sus
efectos son distintos.

^[18] Entre éstas se encuentran: cron, quota, logcheck, aide, ...

^[19] El reenvío del correo dirigido a «root» a una cuenta normal de usuario se
configura en /etc/aliases. Si no hay ninguna cuenta de usuario el correo se
enviará a la propia cuenta del usuario «root».

^[20] Puedes, por supuesto, eliminar exim4 y reemplazarlo por un MTA/MDA
alternativo.

Apéndice A. CÓMO de instalación

Tabla de contenidos

A.1. Preliminares
A.2. Arrancar el instalador

    A.2.1. Disco óptico
    A.2.2. Dispositivo de memoria USB
    A.2.3. Arranque desde la red
    A.2.4. Arrancar desde un disco duro

A.3. Instalación
A.4. Envíanos un informe de la instalación
A.5. Y finalmente...

Este documento describe cómo instalar Debian GNU/Linux bullseye para 64-bit PC
("amd64") con el nuevo debian-installer. Es un paseo rápido por el proceso de
instalación que contiene toda la información necesaria para la mayoría de las
instalaciones. Enlazaremos con explicaciones más detalladas disponibles en
otras partes del documento cuando puedan ser útiles para obtener más
información.

A.1. Preliminares

Si encuentra fallos durante tu instalación, por favor, consulta Sección 5.4.7,
"Enviar los informes de la instalación" para instrucciones sobre cómo informar
de éstos. Si tiene preguntas que este documento no responda, por favor, escribe
a la lista de correo debian-boot (debian-boot@lists.debian.org) o pregunta en
el IRC (#debian-boot en la red OFTC).

A.2. Arrancar el instalador

El equipo debian-cd construye imágenes de instalación que utilizan
debian-installer y están disponibles en la página de Debian CD/DVD. Para
obtener más información sobre dónde obtener imágenes de instalación, ver
Sección 4.1, "Imágenes oficiales de Debian GNU/Linux de instalación".

Algunos métodos de instalación requieren imágenes distintas a las de los medios
ópticos. Sección 4.2.1, "Dónde encontrar los archivos de instalación" explica
cómo encontrar imágenes en las réplicas de Debian.

Las siguientes subsecciones dan más detalles sobre las imágenes que deberías
conseguir según el método de instalación que vayas a seguir.

A.2.1. Disco óptico

La imagen de CD «netinst» es una imagen popular que se puede utilizar para
instalar bullseye con el debian-installer. Este método de instalación está
diseñado de forma que puede arrancar desde la imagen e instalar los paquetes
adicionales que desee a través de la red, de ahí el nombre "netinst". La imagen
incluye los componentes de software necesarios para ejecutar el instalador, y
los paquetes base necesarios para proporcionar un sistema mínimo bullseye. Si
lo deseas, puedes obtener una imagen de CD/DVD completa que no necesita
disponer de una conexión a la red para poder llevar a cabo la instalación. Sólo
necesitas usar la primera imagen del conjunto de CD/DVD de Debian.

Descarga la imagen que prefieraa y la grábas en un disco óptico. Para arrancar
el disco, es posible que tengas que modificar la configuración de la BIOS, como
se detalla en Sección 3.6.1, "Utilización del menú de configuración de la BIOS/
UEFI".

A.2.2. Dispositivo de memoria USB

También es posible realizar la instalación desde un dispositivo de
almacenamiento USB extraíble. Un llavero USB puede ser un medio de instalación
de Debian bastante útil gracias a que puedes llevarlo consigo a cualquier
lugar.

La forma más fácil de preparar tu dispositivo de memoria USB es descargar
cualquier imagen de CD o DVD de Debian que tenga un tamaño adecuado para la
memoria USB, y después escribir la imagen directamente en la memoria USB. Ten
en cuenta que se perderán todos los datos que se encuentren en la memoria USB.
Esto es posible debido a que las imágenes de los CD/DVD de Debian son imágenes
ISO "híbridas" que se pueden iniciar tanto desde discos ópticos como de
memorias USB.

Existen otras formas más flexibles de configurar un dispositivo de memoria para
usar el instalador de Debian, y es posible hacerlo funcionar con dispositivos
de menor capacidad. Para más detalles, ver Sección 4.3, "Preparación de
ficheros para el arranque desde un dispositivo de memoria USB".

El arranque de un almacenamiento USB es muy común en los sistemas UEFI pero es
diferente en el caso de BIOS antiguas. Algunas BIOS pueden arrancar
directamente desde dispositivos de almacenamiento USB, pero otras no. Puede que
necesites configurar la BIOS para activar el "USB legacy support" o "Legacy
support"). El menú de selección de arranque de dispositivos debería mostrar un 
"dispositivos extraíble" o "USB-HDD" para hacerlo arrancar desde el dispositivo
USB. Puedes encontrar algunos consejos útiles y obtener más información en
Sección 5.1.1, "Arranque desde un dispositivo de memoria USB".

A.2.3. Arranque desde la red

También es posible arrancar el debian-installer completamente desde la red. Los
diversos métodos de arranque de red dependen de su arquitectura y configuración
de arranque desde red. Se pueden usar los ficheros en netboot/ para arrancar el
debian-installer desde la red.

La forma más fácil de configurar el arranque desde red probablemente sea usando
PXE. Extrae el archivo netboot/pxeboot.tar.gz en /srv/tftp o donde sea
apropiado para tu servidor tftp. Configura tu servidor DHCP para pasar el
fichero pxelinux.0 a los clientes, y, con suerte, todo funcionará
correctamente. Para más instrucciones, ver Sección 4.5, "Preparación de los
ficheros para el arranque a través de red usando TFTP".

A.2.4. Arrancar desde un disco duro

Es posible arrancar el instalador sin usar medios extraíbles, pero sólo si
dispones de un disco duro, que puede tener un sistema operativo diferente.
Descarga hd-media/initrd.gz, hd-media/vmlinuz, y una imagen de CD/DVD de Debian
en el directorio de nivel más alto en el disco duro. Asegúrate de que la imagen
tiene un nombre de fichero que termine en .iso. Ahora sólo es cuestión de
arrancar linux con initrd. Sección 5.1.5, "Arranque desde Linux utilizando GRUB
" explica una forma de hacerlo.

A.3. Instalación

Una vez que se inicie el instalador, aparecerá una pantalla inicial de
bienvenida. Pulsa Enter para arrancar, o lee las instrucciones para obtener
información de otros métodos y parámetros para la instalación (vea Sección 5.3,
"Parámetros de arranque").

Después de unos instantes dirá que elijas un idioma. Use las teclas de
desplazamiento para elegirlo y pulsa Enter para continuar. Seguidamente
solicitará seleccionar su país, las opciones que se muestran incluirán países
en donde se habla tu idioma. Si el país no aparece en la lista corta puedes
acceder a una lista con todos los países en el mundo.

Puede que necesites confirmar tu mapa de teclado. Selecciona el propuesto a
menos que sepas que no es el adecuado.

Ahora siéntate y espere mientras el instalador de Debian detecta el hardware
del equipo y carga otros componentes de la imagen de instalación.

A continuación el instalador intentará detectar el hardware de red y configurar
la red usando DHCP. Podrás configurar la red de forma manual si no estás en una
red o no tienes DHCP.

A la configuración de la red le sigue la creación de cuentas de usuario. Por
omisión, se te pide que proporciones una contraseña para la cuenta de usuario "
root" (administrador) y la información necesaria para crear una cuenta de
usuario habitual. Si no se define una contraseña para el usuario "root", se
desactiva esta cuenta y posteriormente se instala el paquete sudo para permitir
la realización de tareas de administración en el nuevo sistema. Por omisión, se
permitirá al primer usuario creado en el sistema la utilización de la orden 
sudo para convertirse en usuario root.

El siguiente paso es fijar el reloj y la zona horaria. El instalador intentará
contactar con un servidor de tiempos en Internet para asegurarse que el reloj
está bien fijado. La zona horaria se basa en el país seleccionado anteriormente
y el instalador sólo pedirá seleccionar una si el país tiene múltiples zonas
horarias.

Ahora toca particionar los discos. Primero tendrás la oportunidad de
particionar automáticamente el disco entero o bien el espacio libre disponible
en el disco (ver Sección 6.3.4.2, "Particionado guiado"). Esta opción es la más
recomendable para usuarios noveles o alguien con prisa. Utiliza Manual en el
menú si no deseas particionado automático.

Si tienes una partición DOS o Windows que quieras preservar, ten cuidado con el
particionado automático. Si elijes particionado manual, puedes usar el
instalador para redimensionar particiones FAT o NTFS y dejar espacio para la
instalación de Debian simplemente selecciona la partición y especifica su nuevo
tamaño.

En la siguiente pantalla verás la tabla de particiones, cómo se formatearán las
particiones, y dónde se montarán. Selecciona una partición para modificarla o
eliminarla. Si has efectuado un particionado automático, solamente se te
permitirá elegir Finalizar particionado y escribir cambios en el disco en el
menú, para usar lo definido. Recuerda que debes crear por lo menos una
partición de intercambio y montar una partición en /. Para más detalles de cómo
usar el particionado, visita Sección 6.3.4, "Particionado y elección de punto
de montaje"; el apéndice Apéndice C, Particionado en Debian tiene más
información general sobre el particionado.

Ahora el debian-installer formatea tus particiones y empieza a instalar el
sistema base, lo que puede tomar un tiempo. Tras esto se llevará a cabo la
instalación del núcleo.

El sistema base que se instala al principio es una instalación funcional, pero
mínima. El paso siguiente te permite instalar paquetes adicionales y
seleccionar tareas de forma que el sistema instalado sea más operativo. Debes
configurar apt antes de que se puedan instalar los paquetes, ya que esta
configuración define de dónde se obtendrán los paquetes. Por omisión se instala
el "Sistema estándar" y es el que generalmente debería estar instalado. Puedes
seleccionar el "Entorno de escritorio" si desea tener un entorno gráfico
después de la instalación. Para más información sobre este paso consulta
Sección 6.3.6.2, "Elegir e instalar programas".

El último paso es la instalación del gestor de arranque. El instalador añadirá
automáticamente al menú de arranque y mostrará un aviso si detecta otros
sistemas operativos en el ordenador. GRUB se instala de forma predeterminada en
el sector de arranque o partición UEFI del primer disco duro, lo que
generalmente es una buena elección. Podrás cambiarlo e instalarlo en otra
ubicación si así lo desea.

Ahora el debian-installer te indicará que la instalación ha finalizado. Retira
el CDROM o el medio que hayas utilizado para la instalación y pulsa Enter para
reiniciar la máquina. Ésta deberá arrancar en el sistema que acabas de instalar
y permitirte autenticarte. Este paso se explica en Capítulo 7, Arrancar desde
su nuevo sistema Debian.

Consulta Capítulo 6, Usar el instalador de Debian si necesitas más información
sobre el proceso de instalación.

A.4. Envíanos un informe de la instalación

Si has realizado una instalación con éxito con el debian-installer, por favor,
tómate un momento para enviarnos un informe. La forma más sencilla es instalar
el paquete reportbug (apt install reportbug), configurar reportbug como se
describe en Sección 8.4.2, "Enviar correo electrónico fuera del sistema", y
ejecutar reportbug installation-reports.

Si no logró completar la instalación es posible que haya encontrado un fallo en
el instalador de Debian. Para mejorar el instalador es necesario que conozcamos
el fallo, así que, por favor, tómate un momento para informar de éste. También
puedes usar un informe de instalación para informar sobre los problemas que
hayas sufrido. Consulta Sección 5.4.6, "Informar de fallos" si la instalación
falla por completo.

A.5. Y finalmente...

Esperamos que tu instalación de Debian sea satisfactoria y que encuentre útil
Debian. Es posible que ahora quieras leer Capítulo 8, Siguientes pasos y dónde
continuar.

Apéndice B. Instalar automáticamente utilizando preconfiguración

Tabla de contenidos

B.1. Introducción

    B.1.1. Métodos de preconfiguración
    B.1.2. Limitaciones

B.2. Utilizar la preconfiguración

    B.2.1. Cargar el fichero de preconfiguración
    B.2.2. Usar parámetros de arranque para preconfigurar preguntas
    B.2.3. Modo «auto»
    B.2.4. Abreviaturas útiles para la preconfiguración
    B.2.5. Ejemplos de preconfiguración del indicador de arranque
    B.2.6. Utilizar un servidor DHCP para especificar los ficheros de
        preconfiguración

B.3. Crear un fichero de preconfiguración
B.4. Contenidos del fichero de preconfiguración (para bullseye)

    B.4.1. Localización
    B.4.2. Configuración de red
    B.4.3. Consola de red
    B.4.4. Configuración de la réplica
    B.4.5. Configuración de cuentas de usuario
    B.4.6. Configuración del reloj y zona horaria
    B.4.7. Particionado
    B.4.8. Configuración del sistema base
    B.4.9. Configuración de APT
    B.4.10. Selección de paquetes
    B.4.11. Instalación del cargador de arranque
    B.4.12. Finalizar la instalación
    B.4.13. Preconfiguración de otros paquetes

B.5. Opciones avanzadas

    B.5.1. Ejecutar órdenes personalizadas durante la instalación
    B.5.2. Utilizar la preconfiguración para cambiar valores por omisión
    B.5.3. Carga de ficheros de configuración en cadena

Este apéndice explica cómo preconfigurar respuestas a preguntas en
debian-installer para poder así automatizar una instalación.

Los fragmentos de configuración que se utilizan en este apéndice están también
disponibles como un fichero de preconfiguración de ejemplo en ../
example-preseed.txt.

B.1. Introducción

La preconfiguración ofrece un mecanismo para responder a preguntas realizadas
durante la instalación sin tener que introducir manualmente las respuestas
mientras ésta se ejecuta. Esto hace posible que se automaticen la mayoría de
las instalaciones e incluso ofrece funcionalidades que no están disponibles
durante una instalación normal.

La preconfiguración no es indispensable. Si usa un fichero vacío de
preconfiguración, el instalador se comportará como una instalación manual
usual. Cada pregunta que haya preconfigurado modificará (¡si lo ha hecho bien!)
la instalación de alguna forma con tal información.

B.1.1. Métodos de preconfiguración

Se pueden utilizar tres métodos de preconfiguración: initrd (imagen de
arranque), file (fichero, n. del t.) y network (red, n. del t.). La
preconfiguración a través de initrd funciona en cualquier método de instalación
y permite preconfigurar más cosas, pero es la que más preparación requiere. Los
métodos de preconfiguración con fichero o vía red se pueden utilizar en
distintos métodos de instalación.

La siguiente tabla muestra los métodos de preconfiguración que se pueden
utilizar con los distintos métodos de instalación.

┌─────────────────────────────────────────────────┬─────────┬──────┬──────────┐
│              Método de instalación              │ initrd  │ file │ network  │
├─────────────────────────────────────────────────┼─────────┼──────┼──────────┤
│CD/DVD/USB                                       │sí       │sí    │sí^[a]    │
├─────────────────────────────────────────────────┼─────────┼──────┼──────────┤
│netboot                                          │sí       │no    │sí        │
├─────────────────────────────────────────────────┼─────────┼──────┼──────────┤
│hd-media (incluyendo memorias usb)               │sí       │sí    │sí^[a]    │
├─────────────────────────────────────────────────┴─────────┴──────┴──────────┤
│^[a] pero sólo si tienes acceso a la red y configuras preseed/url            │
│correctamente                                                                │
└─────────────────────────────────────────────────────────────────────────────┘

Una diferencia importante entre los métodos de preconfiguración es el punto en
el que se carga y procesa el fichero de preconfiguración. Para la
preconfiguración a través de la imagen de arranque «initrd» esto se produce
justo al comienzo de la instalación, antes de hacer siquiera la primera
pregunta. La preconfiguración en la línea de órdenes del núcleo se produce
justo después. Por ello es posible reemplazar el conjunto de configuración en
initrd editando la línea de órdenes del núcleo (bien en la configuración del
cargador de arranque o manualmente en el momento del arranque en aquellos
cargadores que lo permiten). Para la preconfiguración con fichero esto se hace
después de que la imagen de instalación se haya cargado. Para la
preconfiguración de red esto se hace sólo después de que se haya configurado la
red.

Importante

Obviamente, cualquier pregunta que se haya procesado antes de cargar el fichero
de preconfiguración no puede preconfigurarse (esto incluye las preguntas que
sólo se muestran a prioridad media o baja, como el primer intento de detección
automática del hardware). Puede encontrar una forma para evitar que se omitan
estas preguntas si se preconfiguran a través de los parámetros de arranque,
como se describe en Sección B.2.2, "Usar parámetros de arranque para
preconfigurar preguntas".

Puede arrancar el instalador en modo "auto" para evitar las preguntas que
generalmente aparecen antes de que se realice la preconfiguración. Esto hace
que las preguntas que se harían antes de poderse preconfigurar (p. ej. idioma,
país y selección del teclado) se hagan después de la configuración de la red,
lo que permite que se preconfiguren. Esto también hace que la instalación se
ejecute en prioridad crítica, lo que hace que se omitan muchas preguntas poco
importantes. Para más información consulte Sección B.2.3, "Modo «auto»".

B.1.2. Limitaciones

Aunque la mayoría de las preguntas que utiliza debian-installer se pueden
preconfigurar con este mecanismo hay algunas excepciones importantes. Tiene que
(re)particionar el disco completo o utilizar el espacio en disco libre
disponible, no puede usar particiones existentes.

B.2. Utilizar la preconfiguración

En primer lugar ha de crear primero el fichero de preconfiguración y ponerlo en
la ubicación donde pretende utilizarlo. La creación del fichero de
preconfiguración se describe más adelante en este apéndice. Colocar el fichero
en la ubicación correcta es algo relativamente sencillo para la
preconfiguración vía red o si quiere leer el fichero desde una memoria usb. Si
desea incluir el fichero en la imagen ISO de instalación, tendrá que rehacer la
imagen. La inclusión del fichero de preconfiguración en la imagen de arranque
initrd queda fuera del alcance de este documento. Consulte la documentación
para desarrolladores de debian-installer si está interesado.

Tiene un fichero de preconfiguración de ejemplo, que puede utilizar como base
para su propio fichero de preconfiguración, en ../example-preseed.txt. Este
fichero está basado en fragmentos de configuración incluidos en este apéndice.

B.2.1. Cargar el fichero de preconfiguración

Si está utilizando la preconfiguración por imagen de arranque tiene que
comprobar que exista un fichero con el nombre de preseed.cfg en el directorio
raíz de la imagen de arranque. El instalador buscará automáticamente este
fichero y lo cargará.

Para otros métodos de preconfiguración tiene que decirle al instalador qué
fichero utilizar en el inicio. Esto se hace habitualmente dando un valor al
parámetro de arranque del núcleo, bien manualmente en el arranque o bien
editando el fichero de configuración del cargador de arranque (p. ej.
syslinux.cfg) y añadiendo el parámetro al final de la/s línea/s para el núcleo
.

Si especificas un fichero de preconfiguración en la configuración del cargador
de arranque, podrías cambiar la configuración para que no tengas que pulsar
«Intro» en el arranque del instalador. Para syslinux esto significa establecer
el tiempo de espera a 1 en syslinux.cfg.

Para asegurarse de que el instalador obtiene el fichero de preconfiguración
correcto puede especificar, opcionalmente, una suma de control del fichero.
Actualmente, esta debe ser una suma de control MD5 y, si se especifica debe
coincidir con el valor que se obtenga del fichero de preconfiguración o el
instalador se negará a utilizarlo.

Parámetros de arranque a especificar:
- si está arrancando de red:
  preseed/url=http://host/path/to/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d
- o
  preseed/url=tftp://host/path/to/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d

- si está arrancando de una imagen de instalación remasterizada:
  preseed/file=/cdrom/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

- si está instalando de un dispositivo USB (ponga el fichero de preconfiguración
  en el directorio raíz de la memoria USB):
  preseed/file=/hd-media/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

Tenga en cuenta que puede abreviar preseed/url a url, preseed/file a file y
preseed/file/checksum a preseed-md5 cuando se introducen como parámetros de
arranque.

B.2.2. Usar parámetros de arranque para preconfigurar preguntas

Puede automatizar la instalación aún cuando no pueda utilizar el archivo de
preconfiguración para preconfigurar algunos pasos. Esto es gracias a que se
pueden preconfigurar valores en la línea de órdenes cuando se arranca el
instalador.

Los parámetros de arranque también se pueden utilizar cuando no quiere
realmente preconfigurar sino que sólo quiere dar una respuesta a una pregunta
concreta. Algunos de los ejemplos donde esto puede ser útil están documentados
en otras partes de este manual.

Para fijar un valor que vaya a utilizar debian-installer, sólo tiene que pasar
ruta/a/variable=valor para cualquiera de las variables de preconfiguración que
se listan como ejemplos en este apéndice. Si se va a utilizar el valor para
preconfigurar paquetes en el sistema destino, deberán estar precedidos por el
propietario^[21] de la variable como sigue: propietario:ruta/a/variable=valor.
No se copiará el valor de la variable a la base de datos de debconf del sistema
destino si no especifica el propietario, por lo que no se utilizará durante la
configuración del paquete apropiado.

Normalmente, al preconfigurar una pregunta de esta forma la pregunta no se
mostrará. Para especificar un valor predeterminado para la pregunta, y que ésta
se muestre, use el operando "?=" en lugar de "=". Consulte Sección B.5.2,
"Utilizar la preconfiguración para cambiar valores por omisión".

Tenga en cuenta que hay una abreviatura para las variables que se utilizan con
más frecuencia en el indicador de arranque. Los ejemplos de este apéndice
utilizan la abreviatura, si hay una disponible, en lugar de la variable
completa. Por ejemplo, se ha abreviado la variable preseed/url a url. Otro
ejemplo es la abreviatura tasks que se traduce como tasksel:tasksel/first.

Un "---" en las opciones de arranque tiene un significado especial. Los
parámetros que aparezcan tras el último "---" se pueden copiar a la
configuración del cargador de arranque del sistema instalado (si el instalador
ofrece compatibilidad con esa opción con el cargador de arranque seleccionado).
El instalador filtrará de forma automática cualquier opción (como las opciones
de preconfiguración) que reconozca.

Nota

Los núcleos actuales (2.6.9 y posteriores) aceptan hasta 32 opciones de línea
de órdenes y 32 opciones de entornos, incluyendo cualquier opción añadida por
defecto para el instalador. Si se exceden estos números el núcleo fallará (se
colgará). (Para núcleos anteriores, estas cifras serán más bajas).

En la mayoría de las instalaciones se pueden eliminar con seguridad algunas de
las opciones del fichero de configuración del cargador de arranque, como por
ejemplo vga=normal, lo que permite añadir más opciones para la
preconfiguración.

Nota

No siempre es posible especificar valores con espacios entre los parámetros de
arranque aunque se delimiten con comillas dobles.

B.2.3. Modo «auto»

Hay algunas funciones del Instalador de Debian que se combinan para permitir
que algunas entradas de línea de órdenes en el indicador del arranque tengan
como consecuencia una instalación automática adaptada y de arbitrariedad
compleja.

Esto se habilita utilizando la opción de arranque Instalación automatizada,
también llamada auto en algunas arquitecturas o métodos de arranque. En esta
sección, auto no es por tanto un parámetro, significa la selección de esta
opción de arranque y añadiendo los parámetros de arranque indicados al
indicador de arranque. Consulte Sección 5.1.7, "La pantalla de arranque" para
más información sobre cómo añadir un parámetro en el arranque.

Para mostrar esto aquí tiene algunos ejemplos que se pueden utilizar en el
indicador del arranque:

auto url=autoserver

Este valor depende de la existencia de un servidor de DHCP que hará que la
máquina llegue al punto donde autoserver puede resolverse por DNS, quizás
después de añadir un dominio local entregado por el servidor de DHCP. Si esto
se utilizase en un sitio donde el dominio fuera ejemplo.com, y tuviese una
configuración de DHCP razonablemente correcta, haría que se descargase el
fichero de preconfiguración de http://autoserver.example.com/d-i/bullseye/./
preseed.cfg.

La última parte de esa URL (d-i/bullseye/./preseed.cfg) se toma de auto-install
/defaultroot. Por omisión incluye el directorio bullseye para que versiones
futuras puedan especificar su propio nombre en clave y permitir hacer
migraciones de forma controlada. La sección /./ se utiliza para indicar la
raíz, relativa a la cual se anclarán las rutas siguientes (que se utilizará en
preseed/include y preseed/run). Esto permite que los ficheros se especifiquen o
bien como una URL completa, bien como rutas que empiezan con «/» y que están
ancladas como se mencionaba, o bien como rutas relativas a la ubicación donde
se encontró el último fichero de preconfiguración. Esto puede utilizarse para
construir guiones más portables de forma que una jerarquía completa de guiones
se pueda mover a una nueva ubicación sin romperla. Por ejemplo, copiando los
ficheros a una llave USB cuando antes estaban en un servidor web. En este
ejemplo, si el fichero de preconfiguración preseed/run tiene el valor /scripts/
orden_tardia.sh, el fichero se intentará obtener de http://
autoserver.example.com/d-i/bullseye/./scripts/orden_tardia.sh.

Aún puede utilizar una URL específica si no tiene una infraestructura de DHCP o
DNS o si no quiere utilizar la ruta por omisión preseed.cfg. Si no utiliza el
elemento /./, entonces se anclará al principio de la ruta (esto es, al tercer /
en la URL). A continuación se muestra un ejemplo que requiere poco soporte de
la infraestructura de red local:

auto url=http://192.168.1.2/ruta/a/mipreconfiguracion.archivo

Funciona de la siguiente forma:

  • si la URL no indica un protocolo se presupone que es http,

  • si la sección del nombre de equipo no tiene puntos se le añade el dominio
    derivado del DHCP, y

  • si no hay ningún / tras el nombre de host se añade la ruta por omisión.

Además de indicar la url, también puede especificar los valores que no afectan
directamente al comportamiento de debian-installer pero que se pueden
introducir a los guiones indicados en preseed/run en el fichero de
preconfiguración cargado. De momento, el único ejemplo de esto es auto-install/
classes, que tiene la abreviatura classes. Puede usarse de la siguiente forma:

auto url=ejemplo.com classes=clase_A;clase_B

Las clases podrían indicar, por ejemplo, el tipo de sistema a utilizar o la
localización a usar.

Por supuesto, se puede extender este concepto y, si lo hace, puede utilizar el
espacio de nombres «auto-install» para ello. Así, uno podría tener algo como
auto-install/style que después se utilizará en sus guiones. Si piensa que
necesita hacerlo, por favor, comuníquelo a la lista de correo <
debian-boot@lists.debian.org> para intentar evitar conflictos en el espacio de
nombres y para quizás añadir una abreviatura al parámetro para usted.

La etiqueta de arranque auto aún no se ha definido en todas las arquitecturas.
Para obtener el mismo efecto basta con añadir dos parámetros a la línea de
órdenes del núcleo: auto=true priority=critical. El parámetro auto es una
abreviatura para auto-install/enable que estableciéndola como true controla el
tiempo de espera de las preguntas de localización y teclado para que estas se
realicen más adelante y se puedan preconfigurar. El parámetro priority es la
abreviatura de debconf/priority, si se fija a critical no se hará ninguna
pregunta con una prioridad inferior a ésta.

Algunas opciones de interés cuando intenta automatizar una instalación
utilizando DHCP son: interface=auto netcfg/dhcp_timeout=60 que hace que el
sistema seleccione la primera tarjeta de red disponible y sea un poco más
paciente mientras espera una respuesta a su consulta DHCP.

Sugerencia

Puede encontrar en el sitio web del desarrollador un ejemplo muy largo que
muestra cómo usar esta plataforma, el sitio incluye programas y clases de
ejemplo. Los ejemplos disponibles en esa ubicación también muestran algunos de
los efectos positivos que se pueden conseguir gracias al uso creativo de la
preconfiguración.

B.2.4. Abreviaturas útiles para la preconfiguración

Las siguientes abreviaturas pueden ser útiles cuando se utiliza
preconfiguración (en modo auto). Tenga en cuenta que son solamente abreviaturas
para las preguntas y siempre se deberá especificar un valor para éstas, por
ejemplo, auto=true o interface=eth0.

priority                          debconf/priority
fb                                debian-installer/framebuffer
language                          debian-installer/language
country                           debian-installer/country
locale                            debian-installer/locale
theme                             debian-installer/theme
auto                              auto-install/enable
classes                           auto-install/classes
file                              preseed/file
url                               preseed/url
domain                            netcfg/get_domain
hostname                          netcfg/get_hostname
interface                         netcfg/choose_interface
protocol                          mirror/protocol
suite                             mirror/suite
modules                           anna/choose_modules
recommends                        base-installer/install-recommends
tasks                             tasksel:tasksel/first
Entorno de escritorio («desktop») tasksel:tasksel/desktop
dmraid                            disk-detect/dmraid/enable
keymap                            keyboard-configuration/xkb-keymap
preseed-md5                       preseed/file/checksum

B.2.5. Ejemplos de preconfiguración del indicador de arranque

Estos son algunos ejemplos de uso para el indicador de arranque (tendrá que
adaptarlo a sus necesidades ; consulte también Sección 5.1.7, "La pantalla de
arranque").

# Para establecer francés como idioma y Francia como país:
 /install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz language=fr country=FR --- quiet
# Para establecer inglés como idioma, Alemania como país y usar una distribución de teclado en alemán:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz language=en country=DE locale=en_US.UTF-8
keymap=de --- quiet
# Para instalar el escritorio MATE:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz desktop=mate-desktop --- quiet
# Para instalar la tarea web-server (servidor web):
/install.amd/vmlinuz initrd=/install.amd/initrd.gz tasksel:tasksel/first=web-server --- quiet

B.2.6. Utilizar un servidor DHCP para especificar los ficheros de
preconfiguración

También es posible utilizar DHCP para especificar un fichero de
preconfiguración que se debe descargar de la red. El protocolo DHCP permite
especificar un fichero. Generalmente, es un fichero para el arranque en red,
pero si parece ser una URL, el medio de instalación que permite la
preconfiguración vía red descargará un fichero de la URL y lo utilizará como un
fichero de preconfiguración. A continuación se muestra un ejemplo de cómo
configurar el dhcp.conf de la versión 3 del servidor de DHCP de ISC (el paquete
Debian isc-dhcp-server).

if substring (option vendor-class-identifier, 0, 3) = "d-i" {
    filename "http://servidor/preconfiguracion.cfg";
}

Tenga en cuenta que el ejemplo anterior limita la entrega de este nombre de
fichero a clientes DHCP que se identifiquen como "d-i". De esta forma no se
afectará a clientes DHCP normales sino sólo al instalador. También puede poner
ese texto en la definición de un sistema específico para evitar preconfigurar
todas las instalaciones que se hagan en su red.

Una buena forma de hacer uso de la preconfiguración de DHCP es sólo
preconfigurar los valores específicos a su red, como puedan ser la réplica
Debian a utilizar. De esta forma todas las instalaciones en su red
seleccionarán automáticamente la réplica adecuada, mientras que el resto de la
instalación se realizará de forma interactiva. Debe tener cuidado al utilizar
la preconfiguración mediante DHCP para automatizar la instalación completa de
Debian.

B.3. Crear un fichero de preconfiguración

El fichero de preconfiguración tiene el formato que utiliza la orden 
debconf-set-selections. El formato general para una línea del fichero de
preconfiguración es:

<propietario> <nombre-de-la-pregunta> <tipo-de-pregunta> <valor>

El fichero debería iniciar con #_preseed_V1

Existen algunas reglas a tener en cuenta al escribir un fichero de
preconfiguración.

  • Sólo se permite un espacio entre tipo de plantilla y valor. Cualquier
    espacio adicional se considerará como parte del valor.

  • Se puede dividir una línea en múltiples líneas si se añade un barra
    invertida ("\") como carácter de continuación de línea. Un buen punto para
    la división de la linea es después del nombre de la pregunta. Es mala idea
    dividir la línea entre el tipo y el valor. Las líneas con saltos se unirán
    en una sola línea con todo el espacio al principio y al final condensado en
    un solo espacio.

  • Para las variables debconf (plantillas) que se usan solo en el mismo
    instalador, el dueño debería ser "d-i"; para preconfigurar las variables
    que se usan en el sistema instalado, se debe usar el nombre del paquete que
    contiene la correspondiente plantilla de debconf. Solamente se propagarán
    las variables a la base de datos debconf del sistema instalado que tengan
    un dueño distinto a "d-i".

  • La mayoría de las preguntas se tienen que preconfigurar con los valores que
    sean válidos en inglés y no en las traducciones de esos mismos valores. Hay
    algunas preguntas, sin embargo (como es el caso de partman) donde se tienen
    que utilizar los valores traducidos.

  • Algunas preguntas toman un código como valor en lugar del campo de texto
    mostrado durante la instalación (en inglés).

  • Iniciar con #_preseed_V1

  • Un comentario consiste en una línea que comienzas con un carácter hash ("#"
    ) y se extiende hasta la longitud de esa línea.

La forma más sencilla de crear un fichero de configuración es utilizar como
base el ejemplo enlazado en Sección B.4, "Contenidos del fichero de
preconfiguración (para bullseye)" y trabajar a partir de ahí.

Un método alternativo es realizar una instalación manual y, tras el rearranque,
utilizar debconf-get-selections, disponible en el paquete debconf-utils, para
volcar la base de datos de debconf y la base de datos cdebconf del instalador
en un sólo fichero:

$ echo "#_preseed_V1" > fichero
$ debconf-get-selections --installer >> fichero
$ debconf-get-selections >> fichero

Sin embargo, un fichero generado de esta forma tendrá algunos elementos que no
se deberían preconfigurar. Lo recomendable para la mayoría de los usuarios es
empezar con el fichero de ejemplo.

Nota

Este método se basa en el hecho de que al final de la instalación la base de
datos de cdebconf del instalador se guarda en el sistema instalado en /var/log/
installer/cdebconf. Dado que esta base de datos puede contener información
sensible sólo la puede leer, por omisión, el superusuario.

Si purga el paquete installation-report se eliminará el directorio /var/log/
installer y todos los ficheros en él incluidos de su sistema.

Puede utilizar nano para comprobar los posibles valores de las preguntas,
examinando los ficheros en /var/lib/cdebconf durante una instalación que está
en progreso. Consulte templates.dat si quiere las plantillas en crudo o
questions.dat si quiere consultar los valores actuales y asignados a las
variables.

Para comprobar si el formato de su fichero de preconfiguración es válido antes
de hacer una instalación puede utilizar la orden debconf-set-selections -c 
preseed.cfg.

B.4. Contenidos del fichero de preconfiguración (para bullseye)

Los fragmentos de configuración que se utilizan en este apéndice están también
disponibles como un fichero de preconfiguración de ejemplo en ../
example-preseed.txt.

Tenga en cuenta que este ejemplo está basado en una instalación para la
arquitectura Intel x86. Si está instalando en otra arquitectura no serán
relevantes algunos de los ejemplos (como la selección de teclado o la
instalación del cargador) y tendrá que reemplazarlos por los valores de debconf
más apropiados a su arquitectura.

Para más detalles sobre el funcionamiento de los componentes del instalador de
Debian, consulte Sección 6.3, "Uso de componentes individuales".

B.4.1. Localización

En una instalación convencional, las preguntas sobre la localización se
realizan en primer lugar, por lo que estos valores solo se pueden usar en la
preconfiguración a través de initrd o utilizando los parámetros de arranque del
núcleo. El modo automático (Sección B.2.3, "Modo «auto»") incluye el ajuste de
auto-install/enable=true (normalmente a través del alias de preconfiguración
auto). Esta opción permite retrasar las preguntas sobre la localización, para
que se puedan preconfigurar desde cualquier método.

Definir la configuración regional («locale») se puede utilizar para especificar
tanto el idioma como el país y puede usarse cualquier combinación de idioma y
país reconocido permitidos por debian-installer. Si la combinación no
constituye una configuración regional válida, el instalador seleccionará
automáticamente una válida para el idioma seleccionado. Puede utilizar locale=
es_ES. para especificar la localización como un parámetro de arranque.

Aunque este método es muy fácil de usar, no permite la preconfiguración de
todas las combinaciones posibles de idioma, país y configuración regional
(«locale»)^[22]. Así que, de forma alternativa, puede preconfigurar los valores
individualmente. El país y el idioma también se pueden definir como parámetros
de arranque.

# Configuración de localización para el idioma, país y «locale».
d-i debian-installer/locale string es_ES

# Puede preconfigurar los valores de forma individual para una mayor flexiblidad.
#d-i debian-installer/language string en
#d-i debian-installer/country string NL
#d-i debian-installer/locale string en_GB.UTF-8
# Opcionalmente, especifique las «locales» adicionales a generar.
#d-i localechooser/supported-locales multiselect en_US.UTF-8, nl_NL.UTF-8

La configuración del teclado consiste en seleccionar un mapa de teclado y para
(para mapas de teclado no latinos) un interruptor de conmutación para cambiar
entre el mapa de teclado no latino y el mapa de teclado para América del Norte.
Durante la instalación, solo están disponibles los mapas de teclado básicos.
Las variantes más avanzadas solo están disponibles en un sistema instalado,
mediante la orden dpkg-reconfigure keyboard-configuration.

# Selección de teclado.
d-i keyboard-configuration/xkb-keymap select es
# d-i keyboard-configuration/toggle select No toggling

Para omitir la configuración del teclado preconfigure keymap con skip-config.
Esto hará que el mapa de teclado del núcleo permanezca activo.

B.4.2. Configuración de red

Por supuesto, la preconfiguración de la tarjeta de red no funcionará si está
obteniendo el fichero de preconfiguración desde la red. Pero esta opción es muy
cómoda cuando está arrancando desde un disco óptico o memoria USB. Si carga
ficheros de preconfiguración desde la red, puede introducir los parámetros de
configuración de la red a través de parámetros de arranque del núcleo.

Use un parámetro de arranque similar a interface=eth1 si tiene que escoger una
interfaz particular durante el arranque vía red antes de cargar el fichero de
preconfiguración de la red.

Aunque generalmente no es posible preconfigurar la red cuando se hace la
preconfiguración a través de una red (usando "preseed/url"), puede utilizar
este truco para evitar esto si, por ejemplo, quiere configurar una dirección
estática para la interfaz de red. El truco es obligar a que la configuración de
red se ejecute de nuevo después de haber cargado el fichero de preconfiguración
creando un guión "preseed/run" con las siguientes órdenes:

kill-all-dhcp; netcfg

Las siguientes variables de debconf son relevantes para la configuración de la
red.

# Deshabilitar completamente la configuración de red. Es útil para
# instalaciones desde cdrom o dispositivos que no están en red, para
# los cuales las preguntas y advertencias de red así como los tiempos
# de espera serían molestos.
#d-i netcfg/enable boolean false

# netcfg escogerá la interfaz que tiene enlace si puede. Esto hace que no
# muestre la lista si hay más de un interfaz.
d-i netcfg/choose_interface select auto

# Escoger una interfaz específica en lugar de la encontrada:
#d-i netcfg/choose_interface select eth1

# Para definir un tiempo de espera de detección de enlace distinto (por
# omisión, 3 segundos).
# Los valores se interpretan como segundos.
#d-i netcfg/link_wait_timeout string 10

# Si tienes un servidor de DHCP lento y el instalador expira intentando
# conectarse a él, esto puede serle útil.
#d-i netcfg/dhcp_timeout string 60
#d-i netcfg/dhcpv6_timeout string 60

# La configuración automática de la red es la predeterminada.
# Si prefiere configurar la red de forma manual, descomente esta línea
# y la configuración de red estática más abajo.
#d-i netcfg/disable_autoconfig boolean true

# Si quieres que el fichero de preconfiguración funcione tanto en
# sistemas con un servidor de DHCP como en los que no lo tienen,
# descomenta estas líneas y añade la configuración estática de red
# a continuación.
#d-i netcfg/dhcp_failed note
#d-i netcfg/dhcp_options select Configure network manually

# Configuración estática de red
#
#Ejemplo IPv4
#d-i netcfg/get_ipaddress string 192.168.1.42
#d-i netcfg/get_netmask string 255.255.255.0
#d-i netcfg/get_gateway string 192.168.1.1
#d-i netcfg/get_nameservers string 192.168.1.1
#d-i netcfg/confirm_static boolean true
#
# Ejemplo IPv6
#d-i netcfg/get_ipaddress string fc00::2
#d-i netcfg/get_netmask string ffff:ffff:ffff:ffff::
#d-i netcfg/get_gateway string fc00::1
#d-i netcfg/get_nameservers string fc00::1
#d-i netcfg/confirm_static boolean true

# Cualquier nombre de host y de dominio que se obtengan por DHCP se utilizan
# antes que los valores aquí definidos. Por otra parte, definir los valores
# impide que se muestren las preguntas, incluso si los valores provienen
# de DHCP.
d-i netcfg/get_hostname string unassigned-hostname
d-i netcfg/get_domain string unassigned-domain

# Si deseas forzar un nombre de host, sin importar lo que devuelva
# el servidor DHCP, o cual es la entrada DNS inversa para la IP, descomenta
# y ajuste la siguiente línea.
#d-i netcfg/hostname string somehost

# Desactivar el molesto diálogo de clave WEP.
d-i netcfg/wireless_wep string
# El nombre de servidor raro que algunos ISP utilizan como una especie de
# contraseña
#d-i netcfg/dhcp_hostname string radish

# Si se requiere firmware no libre para la red o para otro dispositivo,
# puedes configurar el instalador para que siempre intente cargarlo, sin
# preguntar. O cambiar a false para inhibir la pregunta.
#d-i hw-detect/load_firmware boolean true

Tenga en cuenta que netcfg determinará automáticamente la máscara de red si no
se preconfigura netcfg/get_netmask. En tal caso, la variable tiene que marcarse
como seen en el caso de las instalaciones automáticas. De la misma forma, 
netcfg elegirá una dirección apropiada si netcfg/get_gateway no ha sido
establecida. La excepción es definir netcfg/get_gateway como "none" para
especificar que no se debería usar puerta de enlace alguna.

B.4.3. Consola de red

# Use los siguientes parámetros si desea hacer uso del componente
# network-console (consola de red) para instalaciones remotas vía SSH.
# Sólo tiene sentido si desea hacer el resto de la instalación
# manualmente
#d-i anna/choose_modules string network-console
#d-i network-console/authorized_keys_url string http://10.0.0.1/openssh-key
#d-i network-console/password password r00tme
#d-i network-console/password-again password r00tme

Puedes encontrar más información sobre la consola de red en Sección 6.3.10,
"Instalación a través de la red-consola".

B.4.4. Configuración de la réplica

Dependiendo del método de instalación que utilice se utilizará una réplica
tanto para descargar componentes adicionales del instalador como para instalar
el sistema base y para configurar /etc/apt/sources.list en el sistema
instalado.

El parámetro mirror/suite determina la publicación que utiliza el sistema
instalado.

El parámetro mirror/udeb/suite determina la publicación de los componentes
adicionales del instalador. Sólo es necesario establecer este valor si se
llegan a descargar componentes a través de la red y debería coincidir con el
valor que se utilizó para construir la imagen de arranque «initrd» para el
método de instalación utilizado. Habitualmente, el instalador usará
automáticamente el valor adecuado y no debería existir la necesidad de
configurar esto.

# No tienes que definir la cadena mirror/country si seleccionas ftp.
# Valor predeterminado para el protocolo del espejo: http.
#d-i mirror/protocol string ftp
d-i mirror/country string manual
d-i mirror/http/hostname string ftp.es.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

# Programas a instalar.
#d-i mirror/suite string testing
# Conjunto de programas a utilizar para descargar componentes de instalación
# (opcional)
#d-i mirror/udeb/suite string testing

B.4.5. Configuración de cuentas de usuario

Puede preconfigurar la contraseña para la cuenta del superusuario ("root") y el
nombre y la contraseña de la primera cuenta de usuario normal. Para las
contraseñas se pueden utilizar tanto hashes crypt(3) como valores en texto
plano .

Aviso

Tenga en cuenta que la preconfiguración de la contraseña no es un proceso
seguro dado que cualquiera que pueda acceder a los ficheros de preconfiguración
podrá conocer las contraseñas. Se considera seguro almacenar las contraseñas en
hashes salvo que se utilice un algoritmo de hashes débil como DES o MD5,
susceptibles a ataques de fuerza bruta. Los algoritmos de hashes recomendados
para las contraseñas son SHA-256 y SHA512.

# Omite crear una cuenta de superusuario (la cuenta del usuario normal
# podrá utilizar sudo).
#d-i passwd/root-login boolean false
# Igualmente, se puede omitir la creación de una cuenta de un usuario
# normal.
#d-i passwd/make-user boolean false

# Contraseña del superusuario, bien en texto en claro
#d-i passwd/root-password password r00tme
#d-i passwd/root-password-again password r00tme
# o cifrada utilizando un hash crypt(3)
#d-i passwd/root-password-crypted password [crypt(3) hash]

# Para crear una cuenta de un usuario:
#d-i passwd/user-fullname string Debian User
#d-i passwd/username string debian
# Contraseña del usuario normal, bien en texto en claro:
#d-i passwd/user-password password insecure
#d-i passwd/user-password-again password insecure
# o cifrada utilizando un hash crypt(3).
#d-i passwd/user-password-crypted password [crypt(3) hash]
# Crea el primer usuario con el UID especificado en lugar del
# predeterminado.
#d-i passwd/user-uid string 1010

# La cuenta de usuario se añadirá a ciertos grupos comunes iniciales.
# Para cambiarlos, use lo siguiente:
#d-i passwd/user-default-groups string audio cdrom video

También se pueden preconfigurar las variables passwd/root-password-crypted y
passwd/user-password-crypted utilizando como valor "!". Si hace esto para
cualquiera de las dos cuentas ésta se deshabilitará. Esto puede ser de ayuda
para el caso de la cuenta de superusuario, siempre que tenga un mecanismo
alternativo para poder llevar a cabo tareas de administración o acceder como
superusuario (como por ejemplo, la utilización de autenticación mediante clave
SSH o sudo).

Puede usar la siguiente orden (disponible en el paquete whois) para generar una
hash crypt(3) basado en SHA-512 para una contraseña:

mkpasswd -m sha-512

B.4.6. Configuración del reloj y zona horaria

# Controla si el reloj del sistema debe establecerse a UTC.
d-i clock-setup/utc boolean true

# Puede establecer esto a cualquier valor válido para $TZ;
# consulte los contenidos de /usr/share/zoneinfo/ para hallar
# valores válidos.
d-i time/zone string US/Eastern

# Controla si se usará NTP para establecer el reloj durante la
# instalación
d-i clock-setup/ntp boolean true
# Servidores NTP a usar. El predeterminado es casi siempre
# el mejor.
#d-i clock-setup/ntp-server string ntp.example.com

B.4.7. Particionado

La utilización de la preconfiguración para particionar el disco duro está
limitada a lo que partman-auto puede permitir. Puede elegir o bien particionar
el espacio libre en el disco o todo el disco. La distribución del disco puede
basarse en una receta existente o utilizar una receta de un fichero o una
receta incluida en el fichero de preconfiguración. Actualmente no es posible
utilizar la preconfiguración para particionar más de un disco.

Es posible preconfigurar un particionado usando RAID, LVM y cifrado, pero no
con toda la flexibilidad ofrecida al realizar una instalación sin
preconfiguración.

Los ejemplos a continuación sólo ofrecen información básica sobre el uso de
recetas. Para una información detallada consulte los ficheros
partman-auto-recipe.txt y partman-auto-raid-recipe.txt, incluidos en el paquete
debian-installer. Ambos ficheros también están disponibles desde el repositorio
de fuentes de debian-installer. Tenga en cuenta que la funcionalidad permitida
puede variar entre diferentes publicaciones.

Aviso

La identificación de los discos depende del orden en el que se cargaron las
unidades. Asegúrese de utilizar el disco correcto antes de configurarlo si el
sistema tiene más de un disco.

B.4.7.1. Ejemplo de particionado

# Si el sistema tiene espacio libre puede elegir particionar solamente
# este espacio. Se prestará atención a este parámetro solamente
# si no se ha definido partman-auto/method (más abajo).
#d-i partman-auto/init_automatically_partition select biggest_free
# También puede especificar un disco a particionar. Si el sistema
# solo tiene un disco, el instalador lo seleccionará de manera
# predeterminada, de lo contrario debe indicar el nombre del dispositivo
# en formato tradicional (no devfs), p. ej., /dev/sda en lugar de
# p. ej., /dev/discs/disc0/disc).
# Por ejemplo, si quiere usar el primer disco duro SCSI/SATA:
#d-i partman-auto/disk string /dev/sda
# Además, debe especificar el método a utilizar.
# Los métodos disponibles actualmente son:
# - regular: usa el tipo de partición habitual para su arquitectura
# - lvm:     usa LVM para particionar el disco
# - crypto:  usa LVM dentro de una partición cifrada
d-i partman-auto/method string lvm
# Puede definir la cantidad de espacio que se utilizará para el grupo del
# volumen LVM. Puede elegir entre indicar el tamaño y la unidad (p. ej., 20 GB),
# porcentaje de espacio disponible o la palabra clave 'max'.
d-i partman-auto-lvm/guided_size string max
# Si alguno de los discos que va a ser automáticamente particionado
# contiene una configuración antigua de LVM, se le presentará un
# aviso al usuario. Puede preconfigurarse para que no aparezca:
d-i partman-lvm/device_remove_lvm boolean true
# De la misma forma para «arrays» RAID por software preexistentes:
d-i partman-md/device_remove_md boolean true
# Y lo mismo pasa con la confirmación para escribir las particiones
# lvm.
d-i partman-lvm/confirm boolean true
d-i partman-lvm/confirm_nooverwrite boolean true
# Puede elegir cualquiera de las tres recetas de particionado
# predefinidas:
# - atomic: todos los ficheros en una partición
# - home:   separa la partición /home
# - multi:  separar las particiones /home, /var y /tmp
d-i partman-auto/choose_recipe select atomic
# O indicar su propia receta...
# Si tiene una forma de colocar el fichero de receta dentro del entorno
# del d-i, simplemente puede direccionarlo a éste.
#d-i partman-auto/expert_recipe_file string /hd-media/recipe
# Si no, puede colocar la receta completa en el fichero de
# preconfiguración en una única línea (lógica).
# Este ejemplo crea una pequeña partición /boot, una
# partición de intercambio apropiada y usa el resto del espacio para
# la partición raíz:
#d-i partman-auto/expert_recipe string                         \
#      boot-root ::                                            \
#              40 50 100 ext3                                  \
#                      $primary{ } $bootable{ }                \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ /boot }                     \
#              .                                               \
#              500 10000 1000000000 ext3                       \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ / }                         \
#              .                                               \
#              64 512 300% linux-swap                          \
#                      method{ swap } format{ }                \
#              .
# El formato completo de la receta se documenta en el fichero
# «partman-auto-recipe.txt», incluido en el paquete 'debian-installer' o
# en el repositorio de fuentes del instalador de Debian.
# También documenta cómo definir opciones tales como las etiquetas del
# sistema de ficheros, nombres del grupo de volúmenes y qué dispositivos
# físicos incluir en un grupo de volúmenes.
## Particionado para EFI
# Si el sistema necesita una partición EFI, puede añadir algo como esto
# a la receta anterior, como primer elemento de la receta:
#               538 538 1075 free                              \
#                      $iflabel{ gpt }                         \
#                      $reusemethod{ }                         \
#                      method{ efi }                           \
#                      format{ }                               \
#               .                                              \
#
# El fragmento anterior es para la arquitectura amd64; los detalles podrían
# ser diferentes en otras arquitecturas. El paquete 'partman-auto' disponible
# en el repositorio fuente D-I puede contener algún ejemplo que pueda seguir.
# La siguiente receta hace que «partman» particione automáticamente el
# espacio sin confirmación, en caso de que usted haya indicado qué hacer
# mediante uno de los métodos mencionados anteriormente.
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true
# Forzar el arranque UEFI (se perderá el modo de 'compatibilidad con BIOS').
# Predeterminado: false.
#d-i partman-efi/non_efi_system boolean true
# Asegurarse de que la tabla de particiones es GPT - requerido para EFI
#d-i partman-partitioning/choose_label select gpt
#d-i partman-partitioning/default_label string gpt
# Cuando esté habilitado el cifrado del disco, omitir el borrado seguro
# de las particiones de antemano.
#d-i partman-auto-crypto/erase_disks boolean false

B.4.7.2. Particionar usando RAID

También puede utilizar la preconfiguración para configurar las particiones en
arreglos RAID por software. Se puede utilizar para niveles RAID 0, 1 y 5, 6 y
10 creando arreglos degradados y especificando dispositivos libres.

Puede configurar grub para que se instale en todos los dispositivos utilizados
en el arreglo si está utilizando RAID 1, consulte Sección B.4.11, "Instalación
del cargador de arranque".

Aviso

Es fácil equivocarse en este tipo de particionado automático. También es una
funcionalidad que es poco probada por los desarrolladores del debian-installer.
El usuario es responsable de aplicar bien las posibles recetas (de forma que
tengan sentido y no entren en conflicto). Si tiene problemas compruebe /var/log
/syslog.

# AVISO: esta opción es de calidad beta y debería utilizarse con
# cuidado.
# Debería definirse el como «raid».
#d-i partman-auto/method string raid
# Especificar los discos a particionar. Deberían tener la misma
# distribución por lo que esto sólo funcionará si los discos son del
# mismo tamaño.
#d-i partman-auto/disk string /dev/sda /dev/sdb
# A continuación, tiene que especificar las particiones físicas que se
# utilizarán.
#d-i partman-auto/expert_recipe string \
#      multiraid ::                                         \
#              1000 5000 4000 raid                          \
#                      $primary{ } method{ raid }           \
#              .                                            \
#              64 512 300% raid                             \
#                      method{ raid }                       \
#              .                                            \
#              500 10000 1000000000 raid                    \
#                      method{ raid }                       \
#              .
# Por último, tiene que especificar cómo van a utilizarse las
# particiones antes definidas en la configuración RAID. Recuerde que
# tiene que utilizar los números de partición correctos para las
# particiones lógicas. Se permiten los niveles RAID 0, 1, 5, 6 y 10:
# los dispositivos se separan mediante «#».
# Los parámetros son
# <raidtype> <devcount> <sparecount> <fstype> <mountpoint> \
#          <devices> <sparedevices>
# Se soportan los niveles RAID 0, 1 y 5,6 y 10; los dispositivos se separan
# con "#"
#d-i partman-auto-raid/recipe string \
#    1 2 0 ext3 /                    \
#          /dev/sda1#/dev/sdb1       \
#    .                               \
#    1 2 0 swap -                    \
#          /dev/sda5#/dev/sdb5       \
#    .                               \
#    0 2 0 ext3 /home                \
#          /dev/sda6#/dev/sdb6       \
#    .
# Para información adicional, consulte el fichero «partman-auto-raid-recipe.txt»
# incluido en el paquete debian-installer, o a través del repositorio de fuentes
# del instalador de Debian.
# Esto hace que partman particione de forma automática sin
# confirmación.
d-i partman-md/confirm boolean true
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

B.4.7.3. Controlar como se montan las particiones

Usualmente los sistemas de ficheros se montan con el identificador único
universal (UUID) como clave; esto permite montarlos adecuadamente a pesar de
que el nombre del dispositivo cambie. Los identificadores UUID son largos y
difíciles de leer, así que si prefiere, el instalador puede montar los sistemas
de ficheros basado en los nombres tradicionales de los dispositivos o basado en
una etiqueta asignada por usted. Si se especifica montaje por etiqueta,
cualquier sistema de ficheros sin etiqueta se montará a partir del UUID.

Los dispositivos con nombres estables, tales como los volúmenes lógicos LVM
continuarán usando sus nombres tradicionales en lugar de los UUID.

Aviso

Los nombres de dispositivos tradicionales pueden cambiar basados en el orden en
el cual el núcleo los descubra al momento del arranque, lo que puede causar un
montaje erróneo de los sistemas de ficheros. De la misma forma, las etiquetas
pueden descoordinarse si conecta un nuevo disco o unidad USB. Su sistema se
comportará aleatoriamente en el momento del arranque si sucede esto.

# De forma predeterminada se montará por UUID, pero puede elegir
# "traditional" para usar nombres de dispositivos tradicionales, o
# "label" para intentar con etiquetas de sistemas de ficheros antes
# de usar el identificador UUID.
#d-i partman/mount_style select uuid

B.4.8. Configuración del sistema base

No hay mucho que se pueda preconfigurar en esta etapa de la instalación. La
única pregunta concerniente a la instalación se refiere al núcleo.

# Configure APT para que no instale paquetes recomendados por omisión.
# El uso de esta opción puede resultar en un sistema incompleto, y por ello
# sólo lo deberían usar usuarios experimentados.
#d-i base-installer/install-recommends boolean false

# El (meta) paquete de imagen de núcleo que instalar; se puede utilizar
# «none» si no se va a instalar ningún núcleo.
#d-i base-installer/kernel/image string linux-image-686

B.4.9. Configuración de APT

Tanto la configuración de /etc/apt/sources.list como las opciones de
configuraciones básicas se automatizan completamente de acuerdo al método de
instalación y las respuestas a preguntas anteriores. De forma opcional, puede
añadir otros repositorios (locales).

# Choose, if you want to scan additional installation media
# (default: false).
d-i apt-setup/cdrom/set-first boolean false
# You can choose to install non-free and contrib software.
#d-i apt-setup/non-free boolean true
#d-i apt-setup/contrib boolean true
# Uncomment the following line, if you don't want to have the sources.list
# entry for a DVD/BD installation image active in the installed system
# (entries for netinst or CD images will be disabled anyway, regardless of
# this setting).
#d-i apt-setup/disable-cdrom-entries boolean true
# Uncomment this if you don't want to use a network mirror.
#d-i apt-setup/use_mirror boolean false
# Select which update services to use; define the mirrors to be used.
# Values shown below are the normal defaults.
#d-i apt-setup/services-select multiselect security, updates
#d-i apt-setup/security_host string security.debian.org

# Additional repositories, local[0-9] available
#d-i apt-setup/local0/repository string \
#       http://local.server/debian stable main
#d-i apt-setup/local0/comment string local server
# Enable deb-src lines
#d-i apt-setup/local0/source boolean true
# URL to the public key of the local repository; you must provide a key or
# apt will complain about the unauthenticated repository and so the
# sources.list line will be left commented out.
#d-i apt-setup/local0/key string http://local.server/key
# If the provided key file ends in ".asc" the key file needs to be an
# ASCII-armoured PGP key, if it ends in ".gpg" it needs to use the
# "GPG key public keyring" format, the "keybox database" format is
# currently not supported.

# By default the installer requires that repositories be authenticated
# using a known gpg key. This setting can be used to disable that
# authentication. Warning: Insecure, not recommended.
#d-i debian-installer/allow_unauthenticated boolean true

# Uncomment this to add multiarch configuration for i386
#d-i apt-setup/multiarch string i386


B.4.10. Selección de paquetes

Puede elegir la instalación de cualquier combinación de las tareas que están
disponibles. Las tareas disponibles en el momento de escribir estas líneas
incluyen:

  • standard (herramientas estándar)

  • desktop (escritorio gráfico)

  • gnome-desktop (escritorio Gnome)

  • xfce-desktop (escritorio XFCE)

  • kde-desktop (escritorio KDE Plasma)

  • cinnamon-desktop (escritorio Cinnamon)

  • mate-desktop (escritorio MATE)

  • lxde-desktop (escritorio LXDE)

  • web-server (servidor web)

  • ssh-server (servidor SSH)

También puede no seleccionar ninguna tarea y forzar la instalación de un
conjunto de paquetes de alguna otra forma. Le recomendamos que siempre
introduzca la tarea Sistema estándar.

O si no quieres que se muestre el diálogo tasksel en absoluto, preconfigura
pkgsel/run_tasksel (en ese caso no se instala ningún paquete a través de
tasksel).

Puede utilizar el parámetro pkgsel/include para instalar paquetes individuales
además de los paquetes que las tareas instalan. Este parámetro toma valores que
pueden estar separados por comas o por espacios, de forma que se puede utilizar
fácilmente en la línea de órdenes del núcleo.

#tasksel tasksel/first multiselect standard, web-server, kde-desktop

# Or choose to not get the tasksel dialog displayed at all (and don't install
# any packages):
#d-i pkgsel/run_tasksel boolean false

# Individual additional packages to install
#d-i pkgsel/include string openssh-server build-essential
# Whether to upgrade packages after debootstrap.
# Allowed values: none, safe-upgrade, full-upgrade
#d-i pkgsel/upgrade select none

# You can choose, if your system will report back on what software you have
# installed, and what software you use. The default is not to report back,
# but sending reports helps the project determine what software is most
# popular and should be included on the first CD/DVD.
#popularity-contest popularity-contest/participate boolean false

B.4.11. Instalación del cargador de arranque

# Grub es el gestor de arranque predeterminado (para la arquitectura x86).

# Esta es una configuración adecuada y segura, hace que grub se instale
# automáticamente en la partición/sector de arranque (UEFI) si no se detecta otro
# sistema operativo en la máquina.
d-i grub-installer/only_debian boolean true

# Lo siguiente hace que «grub-installer» se instale en la partición/sector de arranque
# (UEFI) en caso de que se encuentre instalado otro sistema operativo.
# Esto es menos seguro puesto que podría hacer que el otro sistema operativo
# no se pudiera arrancar.
d-i grub-installer/with_other_os boolean true

# Debido principalmente al uso de memorias USB, no siempre se puede determinar
# con seguridad la unidad de disco principal, por lo que necesita especificar lo siguiente:
#d-i grub-installer/bootdev  string /dev/sda
# Para instalar el cargador arranque en la unidad de disco principal (asumiendo que no sea una memoria USB):
#d-i grub-installer/bootdev  string default

# Alternativamente, descomente y edite estas líneas
# si desea instalar en una ubicación distinta a la partición/sector de arranque UEFI:
#d-i grub-installer/only_debian boolean false
#d-i grub-installer/with_other_os boolean false
#d-i grub-installer/bootdev  string (hd0,1)
# Para instalar grub en múltiples discos:
#d-i grub-installer/bootdev  string (hd0,1) (hd1,1) (hd2,1)

# Contraseña opcional para grub, bien sea en texto plano
#d-i grub-installer/password password r00tme
#d-i grub-installer/password-again password r00tme
# o cifrada usando un hash MD5, consulte grub-md5-crypt(8).
#d-i grub-installer/password-crypted password [MD5 hash]

# Use la siguiente opción para añadir parámetros de arranque
# opcionales para el sistema instalado (en caso de que el
# gestor de arranque del instalador lo permita).
# Nota: Las opciones que se pasen al instalador se añadirán
# automáticamente.
#d-i debian-installer/add-kernel-opts string nousb

Se puede generar un hash MD5 para una contraseña grub usando grub-md5-crypt, o
usando el comando del ejemplo en Sección B.4.5, "Configuración de cuentas de
usuario".

B.4.12. Finalizar la instalación

# En instalaciones desde la consola serial, las consolas virtuales usuales
# (VT1-VT6) están deshabilitadas normalmente en «/etc/inittab». Descomente
# la siguiente línea para evitar este comportamiento:
#d-i finish-install/keep-consoles boolean true

# Omitir el mensaje final sobre la finalización de la instalación.
d-i finish-install/reboot_in_progress note

# Esta opción impedirá que el instalador expulse el CD durante
# el reinicio, y puede ser útil en algunas circunstancias:
#d-i cdrom-detect/eject boolean false

# Para hacer que el sistema se detenga cuando termine la instalación en
# lugar de reiniciar al sistema instalado:
#d-i debian-installer/exit/halt boolean true
# Para apagar la máquina en lugar de detenerla:
#d-i debian-installer/exit/poweroff boolean true

B.4.13. Preconfiguración de otros paquetes

# Dependiendo del software que elija instalar, o si las cosas no salen
# bien durante el proceso de instalación, es posible que se formulen
# otra preguntas. Por supuesto también puede preconfigurar éstas.
# Para obtener una lista de cada pregunta posible que podría llegar a ser
# formulada durante una instalación puede hacer una instalación y
# ejecutar estas órdenes:
#   debconf-get-selections --installer > fichero
#   debconf-get-selections >> fichero

B.5. Opciones avanzadas

B.5.1. Ejecutar órdenes personalizadas durante la instalación

Una opción muy potente y flexible que se ofrece con las herramientas de
preconfiguración es la capacidad de ejecutar órdenes o programas en distintos
puntos de la instalación.

Cuando se monta el sistema de archivos del sistema a instalar, se encuentra
disponible en /target. Si se usa un CD de instalación, cuando se monta se
encuentra disponible en /cdrom.

# La preconfiguración de d-i es inherentemente insegura. Ninguna parte del
# instalador verifica intentos de desbordamiento de búfer u otras
# formas de malversación de los valores de un fichero de preconfiguración
# como éste. ¡Use solamente ficheros de preconfiguración de fuentes
# de confianza! Para poder gestionar esto, y porque generalmente es útil,
# a continuación ofrecemos una forma de ejecutar automáticamente cualquier
# orden de la línea de órdenes que desee dentro del instalador.

# Esta primera orden se ejecuta tan pronto como sea posible, después de
# leer el fichero de preconfiguración:
#d-i preseed/early_command string anna-install some-udeb
# Esta orden se ejecuta inmediatamente después de iniciar el particionador.
# Puede ser de utilidad aplicar una preconfiguración dinámica para el particionador
# que dependa del estado de los discos (que pueden no ser visibles cuando
# se ejecutó previamente preseed/early_command).
#d-i partman/early_command \
#       string debconf-set partman-auto/disk "$(list-devices disk | head -n1)"
# Ésta orden se ejecuta justamente antes de que finalice la instalación,
# pero cuando todavía existe un directorio «/target» usable. Puede
# hacer un chroot a «/target» y utilizarlo directamente o utilizar las
# órdenes «apt-install» e «in-target» para instalar fácilmente paquetes
# y ejecutar órdenes en el sistema destino
#d-i preseed/late_command string apt-install zsh; in-target chsh -s /bin/zsh

B.5.2. Utilizar la preconfiguración para cambiar valores por omisión

Es posible utilizar la preconfiguración para cambiar la respuesta por omisión
para una pregunta, pero haciendo que aún se plantee tal pregunta. Para ello,
tiene que establecer de nuevo el campo seen (n. del t., «visto») como "false"
después de definir el valor para la pregunta.

d-i foo/bar string value
d-i foo/bar seen false

Puede conseguir el mismo efecto en todas las preguntas configurando el
parámetro preseed/interactive=true en el indicador de arranque. Esta opción
puede ser útil para probar o depurar su fichero de preconfiguración.

Tenga en cuenta que el propietario "d-i" solamente se debería usar en variables
usadas en el instalador. Para aquellas variables que pertenecen a paquetes
instalados en el sistema destino, debería usar el nombre del paquete. Vea el
pie de página en Sección B.2.2, "Usar parámetros de arranque para preconfigurar
preguntas".

Puede hacer que el instalador le realice una pregunta específica utilizando el
operador "?=" si está preconfigurando con parámetros del arranque. Por ejemplo,
foo/bar?=value (o propietario:foo/bar?=value). Esta opción sólo tendrá utilidad
en el caso de los parámetros que correspondan a preguntas que se muestran
durante la instalación y no para el caso de parámetros "internos".

Para obtener más información de depuración de fallos, utilice el parámetro de
arranque DEBCONF_DEBUG=5. Esto hace que debconf muestre muchos más detalles de
la configuración actual de cada variable, y acerca del progreso para cada guión
de instalación de paquete.

B.5.3. Carga de ficheros de configuración en cadena

Es posible incluir otros ficheros de preconfiguración en el fichero de
configuración habitual. Cualquier configuración en estos ficheros modificará
los valores existentes de un fichero cargado anteriormente. Esto permite, por
ejemplo, poner la configuración general de red para su ubicación en un fichero
y poner configuraciones más específicas para algunas configuraciones en otros
ficheros.

# Se puede listar más de un fichero, separado por espacios, y se cargarán
# todos. Los ficheros incluidos también pueden tener directivas propias
# «preseed/include». Tenga en cuenta que si los nombres de
# fichero son relativos, éstos se toman del mismo directorio donde se
# ubica el fichero que los incluye.
#d-i preseed/include string x.cfg

# El instalador puede, opcionalmente, verificar las sumas de control
# de los ficheros de preconfiguración antes de utilizarlos. De momento
# sólo se pueden utilizar sumas MD5. Debe listar las sumas MD5 en el
# mismo orden en el que lista los ficheros a incluir.
#d-i preseed/include/checksum string 5da499872becccfeda2c4872f9171c3d


# Esta opción es todavía más flexible: se ejecuta una orden de
# línea de órdenes y se incluyen nuevos ficheros si ésta
# imprime los nombres de otros ficheros de preconfiguración.
#d-i preseed/include_command \
#      string if [ "`hostname`" = bob ]; then echo bob.cfg; fi

# Lo más flexible es descargar un programa y ejecutarlo. El programa
# puede utilizar órdenes como debconf-set para manipular la base de datos
# de debconf.
# Puede listar más de un guión, separándolos entre sí con espacios.
# Tenga en cuenta que los nombres de fichero son relativos,
# se obtienen del mismo directorio donde está el fichero de
# preconfiguración que los ejecuta.
#d-i preseed/run string foo.sh

También es posible cargar en cadena desde la fase de imagen de arranque o
preconfiguración de fichero, a la preconfiguración con red definiendo «preseed/
url» en los ficheros anteriores. Esto hará que la preconfiguración de la red se
realice antes de configurar la red. Ha de tener cuidado cuando hace esto ya que
habrá dos ejecuciones independientes de la preconfiguración. Esto significa que
tiene dos oportunidades para ejecutar la orden «preseed/early», la segunda
tendrá lugar justo después de que se habilite el acceso a la red.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[21] El propietario de una variable debconf (o plantilla) normalmente es el
nombre del paquete que contiene la plantilla debconf en cuestión. El
propietario es "d-i" para el caso de las variables que se utilizan en el mismo
instalador. Las plantillas y las variables pueden tener más de un propietario,
lo que ayuda a determinar si se pueden eliminar de la base de datos de debconf
si se purga el paquete.

^[22] Preconfigurar locale como en_NL resultaría, en en_US.UTF-8 como la
configuración regional por omisión en el sistema instalado. Si prefiere, por
ejemplo. en_GB.UTF-8, tendrá que preconfigurar los valores de forma individual.

Apéndice C. Particionado en Debian

Tabla de contenidos

C.1. Deciendo sobre las particiones de Debian y tamaños
C.2. Árbol de directorios
C.3. Esquemas recomendados de particionado
C.4. Nombres de dispositivos en Linux
C.5. Programas para particionar en Debian

    C.5.1. Particionado en 64-bit PC

C.1. Deciendo sobre las particiones de Debian y tamaños

Como mínimo, GNU/Linux necesita una partición para funcionar. Puedes tener una
sola partición para alojar a todo el sistema operativo, aplicaciones y tus
ficheros personales. La mayoría de las personas creen que tener una partición
swap también es necesaria, a pesar de que no es estrictamente cierto. La "Swap"
(partición de intercambio) es un espacio en sí dentro del sistema operativo, el
cual le permite al sistema usar espacio del disco como "memoria virtual". Al
crear una partición de intercambio separada, Linux puede hacer un uso mucho más
eficiente de ésta. Es posible forzar a Linux para que use un fichero como
espacio de intercambio, pero no es recomendable.

La mayoría de la gente elige dar a GNU/Linux más que el número mínimo de
particiones, sin embargo. Hay dos razones por las que podrías querer dividir el
sistema de archivos en un número de particiones más pequeñas. La primera es por
seguridad. Si algo sucede que corrompa el sistema de archivos, generalmente
sólo se ve afectada una partición. Así, sólo tienes que sustituir (a partir de
las copias de seguridad que has guardado cuidadosamente) una parte de tu
sistema. Como mínimo, deberías pensar la posibilidad de crear lo que comúnmente
se llama una "partición root". Esta contiene los componentes más esenciales del
sistema. Si cualquier otra partición se corrompe, aún puedes arrancar en GNU/
Linux para arreglar el sistema. Esto puede ahorrarte la molestia de tener que
reinstalar el sistema desde cero.

La segunda razón, es generalmente más importante en un entorno laboral, pero
realmente depende del uso de tu máquina. Por ejemplo, un servidor de correo que
recibe una gran cantidad de correo no deseado, puede llenar fácilmente una
partición, Si colocas /var/mail en una partición separada, por lo general el
sistema seguirá funcionado perfectamente, a pesar de recibir una gran cantidad
de de correo no deseado.

Realmente, la única desventaja de usar más particiones es que a menudo es
difícil saber por adelantado cuales serán tus necesidades. Si hace una
partición demasiado pequeña, deberás reinstalar el sistema o bien, tendrás que
estar constantemente haciendo espacio en tu disco duro para que no se llene
completamente. Por otra parte, si haces la partición demasiado grande, perderás
espacio que podría usarse en otra parte. Hoy en día los discos son baratos,
pero ¿por qué tirar el dinero tontamente?

C.2. Árbol de directorios

Debian GNU/Linux se basa en el Estándar de jerarquía de los sistemas de
ficheros (FHS) en cuanto a directorios y nombres. Este estándar permite
predecir a los usuarios y programas la localización de ficheros y directorios.
El directorio root se representa por una barra vertical /. Todos los sistemas
Debian incluyen los siguientes directorios partiendo del directorio root:

┌──────────┬─────────────────────────────────────────────────────────┐
│Directorio│                        Contenido                        │
├──────────┼─────────────────────────────────────────────────────────┤
│bin       │Binarios de órdenes esenciales                           │
├──────────┼─────────────────────────────────────────────────────────┤
│boot      │Ficheros estáticos utilizados por el cargador de arranque│
├──────────┼─────────────────────────────────────────────────────────┤
│dev       │Ficheros de dispositivos                                 │
├──────────┼─────────────────────────────────────────────────────────┤
│etc       │Configuración del sistema específico del host            │
├──────────┼─────────────────────────────────────────────────────────┤
│home      │Directorios de los usuarios                              │
├──────────┼─────────────────────────────────────────────────────────┤
│lib       │Bibliotecas compartidas esenciales y módulos del núcleo  │
├──────────┼─────────────────────────────────────────────────────────┤
│media     │Puntos de montaje para medios extraíbles                 │
├──────────┼─────────────────────────────────────────────────────────┤
│mnt       │Punto de montaje para un sistema de ficheros             │
├──────────┼─────────────────────────────────────────────────────────┤
│proc      │Directorio virtual para la información del sistema       │
├──────────┼─────────────────────────────────────────────────────────┤
│root      │Directorio Home para el usuario root                     │
├──────────┼─────────────────────────────────────────────────────────┤
│run       │Datos variables en tiempo de ejecución                   │
├──────────┼─────────────────────────────────────────────────────────┤
│sbin      │Binarios esenciales del sistema                          │
├──────────┼─────────────────────────────────────────────────────────┤
│sys       │Directorio virtual para la información del sistema       │
├──────────┼─────────────────────────────────────────────────────────┤
│tmp       │Ficheros temporales                                      │
├──────────┼─────────────────────────────────────────────────────────┤
│usr       │Jerarquía secundaria                                     │
├──────────┼─────────────────────────────────────────────────────────┤
│var       │Datos variables                                          │
├──────────┼─────────────────────────────────────────────────────────┤
│srv       │Datos de los servicios ofrecidos por el sistema          │
├──────────┼─────────────────────────────────────────────────────────┤
│opt       │Paquetes de programas y aplicaciones opcionales          │
└──────────┴─────────────────────────────────────────────────────────┘

A continuación, se presenta una lista de consideraciones importantes con
respecto a los directorios y a las particiones. Ten en cuenta que el uso del
disco varía mucho según la configuración del sistema y los patrones de uso
específicos.. Las recomendaciones indicadas a continuación son guías generales
y dan un punto de partida para el particionado.

  • La partición raíz / siempre debe contener físicamente las particiones /etc,
    /bin, /sbin, /lib y /dev, sino el sistema no podrá arrancar. Habitualmente
    es suficiente tener de 250 a 350 MB para una partición raíz.

  • /usr: contiene todos los programas para usuarios (/usr/bin), bibliotecas (/
    usr/lib), documentación (/usr/share/doc), etc. Ésta es la parte del sistema
    de ficheros que requiere mayor espacio. Debes asignar al menos 500 MB de
    espacio de tu disco. Debes incrementar el tamaño de esta partición en
    función del número y tipo de paquetes que vayas a instalar. Una instalación
    generosa de una estación de trabajo o servidor debería tener de 4 a 6 GB.

  • Se recomienda tener /usr en la partición raíz /, de no estar así podrías
    tener problemas durante el arranque. Esto significa que deberías tener al
    menos 600-750MB de espacio de disco para la partición raíz incluyendo /usr,
    o 5-6GB para una instalación de escritorio o servidor.

  • /var: aquí se almacenan todos los datos variables tales como los artículos
    de noticias, correo electrónico, sitios web, la caché del sistema de
    empaquetado, etc. El tamaño de este directorio depende directamente del uso
    que haga del sistema, pero para los usuarios normales el valor estará
    fijado por la sobrecarga de la herramienta de gestión de paquetes. Si
    planeas hacer una instalación completa de todos los programas que te ofrece
    el sistema Debian, en una sola sesión, 2 ó 3 GB de espacio para /var
    debería ser suficiente. Si va a instalar el sistema por partes (esto
    implica, instalar los servicios y herramientas, seguidos por herramientas
    de texto, luego el entorno gráfico, ...), debería asignar alrededor de 300
    ó 500 MB. Si va a ser un sistema donde no harás actualizaciones importantes
    y tiene problemas de espacio en disco puede llegar a funcionar con 30 ó 40
    MB.

  • /tmp: lo más probable es que los datos temporales de los programas se
    almacenen en este directorio. 40-100MB debería ser suficiente. Algunas
    aplicaciones, como los manipuladores de archivos, las herramientas de
    creación de CD/DVD y el software multimedia, pueden utilizar /tmp para
    almacenar temporalmente los archivos de imagen. Si vas a utilizar este tipo
    de programas deberías ajustar el tamaño disponible en /tmp.

  • /home: cada usuario guardará sus datos en un subdirectorio de este
    directorio. El tamaño de éste depende del número de usuarios que haya en el
    sistema y los ficheros que guarden en sus directorios. Dependiendo de lo
    que pretendas hacer, deberías reservar alrededor unos 100 MB para cada
    usuario pero deberá adaptarse este valor a las necesidades. Reserva mucho
    más espacio si planeas guardar muchos ficheros multimedia (películas, MP3,
    fotografías, etc.) en tu directorio de usuario.

C.3. Esquemas recomendados de particionado

Para usuarios novatos, equipos personales con Debian, sistemas para el hogar y
en general, cuando sea usado por un solo usuario, probablemente una simple
partición en / (además de la swap), es la forma más fácil de comenzar. El tipo
de partición recomendado es ext4.

Para sistemas multiusuario, o bien, con una gran cantidad de espacio libre
disponible, lo mejor es que /var, /tmp y /home sean particiones separadas de la
partición /.

Necesitarás una partición /usr/local separada si planeas instalar una gran
cantidad de programas que no son parte de la distribución Debian. Si tu máquina
va a ser un servidor de correo, necesitarás crear una partición separada para /
var/mail. Si estás configurando un servidor con una gran cantidad de cuentas de
usuarios, es muy recomendable dejar separada la partición /home. En general, la
partición del disco depende del uso que se quiera dar al ordenador.

Para sistemas muy complejos, debes leer el CÓMO de multidiscos. Éste contiene
información bastante profunda, sobre todo de interés para ISPs, y gente que
desea instalar un servidor.

Con respecto al tamaño de la partición de intercambio, hay diversos puntos de
vista. Uno de ellos, que generalmente funciona muy bien, es asignar tanto
espacio a la partición swap como memoria tenga tu sistema. En la mayoría de los
casos no es recomendable que sea más pequeña que 512 MB. Obviamente, hay
excepciones a estas reglas.

Como ejemplo, una máquina antigua con 512 MB de RAM y un disco duro SATA de 20
GB en /dev/sda. En este caso sería conveniente dejar una partición de 8 GB para
otro sistema operativo en /dev/sda1, 512 MB swap en /dev/sda3 y sobre 11.4 GB
en /dev/sda2 usada como partición de Linux.

Para tener una clara idea del espacio qué ocupan las tareas, te puede interesar
añadirlas después de completar la instalación del sistema, lee Sección D.2,
"Espacio en disco requerido para las tareas".

C.4. Nombres de dispositivos en Linux

En Linux, los nombres de los discos y las particiones pueden ser diferentes que
en otros sistemas operativos. Necesitas conocer los nombres que Linux usa
cuando crea y monta particiones. A continuación, una lista del esquema básico
de nombres:

  • El primer disco duro detectado se llama /dev/sda.

  • El segundo disco duro detectado se llama /dev/sdb, y así sucesivamente.

  • La primera unidad de un CD-ROM SCSI se llama /dev/scd0, también conocida
    como /dev/sr0.

Las particiones en cada disco son representadas añadiendo un número decimal al
nombre del disco: sda1 y sda2 representan a la primera y segunda partición en
la primera unidad de disco SCSI en el sistema.

Aquí un ejemplo de un caso real. Supongamos que tienes un sistema con 2 discos
SCSI, uno en la dirección SCSI 2 y el otro en la dirección SCSI 4. El primer
disco (en la dirección 2) se llama entonces sda, y el segundo sdb. Si el
dispositivo sda tiene 3 particiones, éstas se llamarán sda1, sda2, y sda3
respectivamente. Lo mismo se aplica a el disco sdb y sus particiones.

Nota que si tiene dos adaptadores de concentrador de bus SCSI (p. ej.,
controladores), el orden de las unidades puede confundirse. La mejor solución
para este caso es ver los mensajes de arranque del sistema, asumiendo que
conoces los modelos de los dispositivos y/o las capacidades.

Linux representa la partición primaria como el nombre del dispositivo, más un
número del 1 al 4. Por ejemplo, la primera partición en la primera unidad IDE
es /dev/sda1. Las particiones lógicas son enumeradas empezando desde el número
5, así la primera partición lógica en el mismo disco es /dev/sda5. Recuerda que
la partición extendida, es decir, la partición primaria que contiene a las
particiones lógicas, no se puede usar.

C.5. Programas para particionar en Debian

Los desarrolladores de Debian han adaptado una gran cantidad de programas para
particionar, así se puede trabajar con una gran cantidad de discos duros y
arquitecturas de ordenador. A continuación, se presenta una lista de los
programas que se pueden aplicar a tu arquitectura.

partman

    La herramienta recomendada en Debian para particionar discos. Esta navaja
    suiza también puede ajustar el tamaño de las particiones, crear sistemas de
    ficheros ("formatear" como se dice en Windows) y asignarlos a sus
    respectivos puntos de montaje.

fdisk

    Es la herramienta original de Linux para particionar discos, buena para
    expertos.

    Ten cuidado si tienes particiones FreeBSD en tu máquina. Los núcleos de
    instalación incluyen soporte para estas particiones, pero la forma en que 
    fdisk los representa (o no) puede hacer que los nombres de los dispositivos
    difieren. Ver el Linux+FreeBSD HOWTO.

cfdisk

    Una sencilla herramienta para particionar a pantalla completa, recomendada
    para todo el mundo.

    cfdisk no reconoce las particiones de FreeBSD, y nuevamente, como
    consecuencia los dispositivos mostrados en pantalla pueden ser diferentes.

Se ejecutará uno de estos programas por omisión cuando selecciones Particionar
discos duros (o similar). Puedes usar otro programa de particionado desde el
intérprete de órdenes en VT2, pero no se recomienda.

Recuerda marcar tu partición como "Bootable" (arrancable).

C.5.1. Particionado en 64-bit PC

Si estás usando un hd nuevo (o si quiere destruir la tabla de particiones
completa de tu disco), hay que crear una nueva tabla de particiones. El "
Particionado guiado" lo hace de forma automática. Pero si lo utilizas manual
tendrás que mover la selección a la entrada más alta del disco y pulsar Enter.
Esta acción creará una nueva tabla de particiones en el disco. En modo experto
te preguntará por el tipo de tabla de partición. Por omisión el tipo es "gpt"
en sistemas basados en UEFI, mientras que para BIOS antiguas el valor por
omisión es "msdos". En una instalación de prioridad estándar estos valores por
omisión se utilizarán automáticamente.

Nota

Cuando se selecciona una tabla de partición con el tipo "gpt" (valor por
omisión en sistemas UEFI), se creará automáticamente un espacio libre de 1 MB
al principio del disco. Este espacio se utiliza y es necesario para introducir
el cargador de arranque GRUB2.

Si tienes otro sistema operativo como DOS o Windows y quieres conservar ese
sistema operativo mientras instalas Debian, hay que cambiar el tamaño de la
partición para la instalación de Debian para lo que habrá que liberar espacio.
El instalador puede ajustar los tamaños de sistemas de ficheros FAT y NTFS;
cuando llegues al paso de particionado en la instalación deberás elegir la
opción Manual y simplemente seleccionar una partición ya existente para cambiar
su tamaño.

Mientras que los sistemas UEFI modernos no tienen las limitaciones que abajo se
indican, la BIOS de ordenadores antiguos generalmente añaden restricciones
adicionales para particionar el disco. Hay un límite al número de particiones "
primary" y "logical" que un disco puede tener. Adicionalmente, con las BIOS
fabricadas antes de 1994-98, existen limitaciones sobre la ubicación en el
dispositivo desde el que la BIOS puede iniciar el sistema. Para más
información, ver la documentación acerca de Cómo particionar en Linux, pero
esta sección incluye una visión general para guiarte en la mayoría de las
situaciones posibles.

Las particiones "primarias" son el método original de particionado para discos.
Sin embargo, solamente puede haber cuatro de ellas. Para rebasar esta
limitación, se inventaron las particiones de tipo "extendida" y "lógica".
Estableciendo tu partición primaria como partición extendida, puedes subdividir
todo rl espacio asignado dentro de ésta en particiones lógicas. Puedes crear
hasta 60 particiones lógicas en cada partición extendida; sin embargo, puedes
tener solamente una partición extendida por disco.

Linux limita a 255 particiones como máximo por cada disco SCSI (3 particiones
primarias, 252 particiones lógicas), y 63 particiones en una unidad IDE (3
particiones primarias, 60 particiones lógicas). Sin embargo, los sistemas
Debian GNU/Linux comunes proveen sólo 20 dispositivos por partición, por lo
tanto, no podrás instalar sobre la partición número 20 o siguientes, a menos
que haya creado manualmente los dispositivos para esas particiones.

Si tienes un disco IDE relativamente grande, y no esta usando LBA, ni
controladores externos (proporcionados a veces por los fabricantes de los
discos duros), la partición de inicio (aquella que contiene la imagen del
núcleo de Linux) ha de estar ubicada en los primeros 1024 cilindros del disco
duro (generalmente alrededor de 524 megabytes, sin la traducción de la BIOS).

Esta restricción no se aplica si tienes una BIOS relativamente nueva,
(posterior a 1995-98, dependiendo del fabricante) que permita las "Enhanced
Disk Driver Support Specification"). La alternativa Lilo de Debian mbr debe
usar la BIOS para leer el núcleo desde el disco y cargarlo en la RAM. Si la
BIOS dispone de las extensiones «int 0x13» de acceso a discos grandes, se
usarán esas extensiones. De otra manera, se utilizará la interfaz nativa de
acceso al disco, que no se podrá usar para acceder a posiciones superiores al
cilindro 1023. Una vez que se inicie Linux, no tiene importancia la BIOS que
tenga, ya que las restricciones ya no se aplican más, puesto que Linux no
utiliza la BIOS para acceder a los discos.

Si tienes un disco grande, podrías tener que usar las técnicas para la
traducción de cilindros, que se pueden configurar desde la BIOS, opciones,
tales como LBA (Dirección lógica de bloques) o traducción de modo ("grande"), a
través de CHS. Más información sobre estos problemas con discos grandes en
Documentación acerca de discos grandes. Si estás usando un esquema de
traducción de cilindros, y la BIOS no tiene la extensión para el uso de discos
grandes, tu partición de arranque debe estar dentro de los primeros 1024
cilindros (según la visión traducida de la BIOS).

La manera recomendada de solucionar este problema, es creando una pequeña
partición (25 a 50 MB deberían ser suficientes) al principio del disco para
usarla como partición de arranque, y después, en el área restante, crear las
otras particiones que desees tener. Esta partición de arranque se debe montar
en /boot, ya que es en este directorio donde se almacenarán los núcleos de
Linux. Está configuración funcionará en cualquier sistema, sin importar si se
utiliza traducción LBA o CHS, ni tampoco si tu BIOS permite usar las
extensiones para discos grandes.

Apéndice D. Información adicional

Tabla de contenidos

D.1. Dispositivos en Linux

    D.1.1. Configurar su ratón

D.2. Espacio en disco requerido para las tareas
D.3. Instalar Debian GNU/Linux desde un sistema Unix/Linux

    D.3.1. Primeros pasos
    D.3.2. Instalar debootstrap
    D.3.3. Ejecutar debootstrap
    D.3.4. Configurar el sistema base
    D.3.5. Instalar un núcleo
    D.3.6. Configurar el gestor de arranque
    D.3.7. Acceso remoto: instalación de SSH y configurar el acceso
    D.3.8. Toques finales

D.4. Instalar Debian GNU/Linux a través de una línea IP paralela (PLIP)

    D.4.1. Requisitos
    D.4.2. Configurar el sistema origen
    D.4.3. Instalar el objetivo

D.5. Instalación de Debian GNU/Linux a través de PPP sobre Ethernet (PPPoE)

D.1. Dispositivos en Linux

Linux tiene varios ficheros especiales en /dev. Estos ficheros se llaman
ficheros de dispositivo pero no se comportan como los ficheros habituales. Los
tipos más comunes de ficheros de dispositivos son los de dispositivos de
bloques o de carácter. Estos ficheros son una interfaz al controlador de
dispositivo (parte del núcleo de Linux) que a su vez le permite el acceso al
hardware. Un tipo de fichero de dispositivo menos frecuente son las pipe (N.
del T., a veces traducido como «tubería»). En la tabla a continuación se lista
los ficheros de dispositivo más importantes.

┌────┬────────────────────────────────────────┐
│sda │Primer disco duro                       │
├────┼────────────────────────────────────────┤
│sdb │Segundo disco duro                      │
├────┼────────────────────────────────────────┤
│sda1│Primera partición del primer disco duro │
├────┼────────────────────────────────────────┤
│sdb7│Séptima partición del segundo disco duro│
└────┴────────────────────────────────────────┘

┌───┬───────────────┐
│sr0│Primer CD-ROM  │
├───┼───────────────┤
│sr1│Segundo CD-ROM │
└───┴───────────────┘

┌───────┬─────────────────────────────────────────────────────────────────────┐
│ttyS0  │Puerto serie 0, COM1 en MS-DOS                                       │
├───────┼─────────────────────────────────────────────────────────────────────┤
│ttyS1  │Puerto serie 1, COM2 en MS-DOS                                       │
├───────┼─────────────────────────────────────────────────────────────────────┤
│psaux  │Ratón de tipo PS/2                                                   │
├───────┼─────────────────────────────────────────────────────────────────────┤
│gpmdata│Pseudo-dispositivo, repite los datos generados por el demonio GPM    │
│       │(ratón)                                                              │
└───────┴─────────────────────────────────────────────────────────────────────┘

┌─────┬────────────────────────────────────────────────────┐
│cdrom│Enlace simbólico a la unidad de CD-ROM              │
├─────┼────────────────────────────────────────────────────┤
│mouse│Enlace simbólico al fichero de dispositivo del ratón│
└─────┴────────────────────────────────────────────────────┘

┌────┬─────────────────────────────────────────────────────────┐
│null│Todo lo que se escriba en este dispositivo desaparecerá  │
├────┼─────────────────────────────────────────────────────────┤
│zero│Se pueden leer continuamente ceros desde este dispositivo│
└────┴─────────────────────────────────────────────────────────┘

D.1.1. Configurar su ratón

Puede usar su ratón tanto en consola de Linux (con gpm) como en el entorno de
ventanas X. Generalmente para lograr esto sólo tiene que instalar gpm y el
servidor de X. Ambos deberían configurarse para utilizar como dispositivo de
ratón /dev/input/mice. El protocolo de ratón a utilizar se llama exps2 en gpm,
y ExplorerPS/2 en X. Los ficheros de configuración son /etc/gpm.conf y /etc/X11
/xorg.conf respectivamente.

Para que su ratón funcione debe cargar algunos módulos del núcleo. El ratón se
detecta de forma automática en la mayoría de los casos, pero esto no siempre
sucede en el caso de ratones serie antiguos o ratones de bus ^[23], que son muy
raros salvo en el caso de utilizar ordenadores antiguos. A continuación se
resumen los módulos del núcleo necesarios para los distintos tipos de ratón:

┌────────┬──────────────────────────────────────────────────────────────────┐
│ Modulo │                           Descripción                            │
├────────┼──────────────────────────────────────────────────────────────────┤
│psmouse │ratón PS/2 mice (debería detectarse automáticamente)              │
├────────┼──────────────────────────────────────────────────────────────────┤
│usbhid  │ratón USB (debería detectarse automáticamente)                    │
├────────┼──────────────────────────────────────────────────────────────────┤
│sermouse│Para la mayoría de los ratones serie                              │
├────────┼──────────────────────────────────────────────────────────────────┤
│logibm  │Ratón de bus conectado a una tarjeta adaptadora de Logitech       │
├────────┼──────────────────────────────────────────────────────────────────┤
│inport  │Ratón de bus conectado a una tarjeta de ATI or InPort de Microsoft│
└────────┴──────────────────────────────────────────────────────────────────┘

Debe usar la orden modconf (en el paquete del mismo nombre) para cargar un
módulo para la controladora del ratón y mirar en la categoría kernel/drivers/
input/mouse.

D.2. Espacio en disco requerido para las tareas

Una instalación estándar para amd64, incluyendo todos los paquetes estándar y
el núcleo utilizado por omisión, ocupa 971 MB de espacio en disco. Una
instalación mínima base sin seleccionar la tarea "Sistema estándar" ocupará 769
MB.

Importante

En ambos casos es importante tener en cuenta que este es el espacio después de
haber terminado la instalación y de que se hayan borrado todos los ficheros
temporales. Tampoco tiene en cuenta la cantidad utilizada por el propio sistema
de ficheros, por ejemplo por los ficheros de «journal». Esto significa que hace
falta bastante más disco durante la instalación y durante el uso habitual del
sistema.

La siguiente tabla lista los tamaños indicados por aptitude para las tareas
listadas en tasksel. Tenga en cuenta que algunas tareas tienen componentes
comunes, de modo que el tamaño total instalado para dos tareas juntas podría
ser inferior al total obtenido al sumar sus tamaños individualmente.

Por defecto, el instalador de Debian instalará el entorno de escritorio GNOME,
pero puedes seleccionar otros entornos de escritorio usando uno de las imágenes
de CD especiales, o especificando el entorno de escritorio deseado cuando se
inicia el instalador (ver Sección 6.3.6.2, "Elegir e instalar programas").

Tenga en cuenta que tendrá que añadir los tamaños que se indican en la tabla al
tamaño de la instalación estándar para poder determinar el tamaño de sus
particiones. La mayoría del espacio en disco que se indica en "Tamaño instalado
" acabará utilizándose de /usr y en /lib. Por otro lado, el tamaño que se
indica en "Tamaño de descarga" será necesario (temporalmente) en /var.

┌──────────────────┬───────────────┬────────────────┬─────────────────────────┐
│      Tarea       │    Tamaño     │   Tamaño de    │ Espacio necesario para  │
│                  │instalado (MB) │ descarga (MB)  │      instalar (MB)      │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│Entorno de        │               │                │                         │
│escritorio        │               │                │                         │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • GNOME         │2790           │786             │3576                     │
│(predeterminado)  │               │                │                         │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • KDE Plasma    │4122           │1212            │5334                     │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • Xfce          │2187           │621             │2808                     │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • LXDE          │2271           │653             │2924                     │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • MATE          │2574           │711             │3285                     │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • Cinnamon      │4197           │1251            │5448                     │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│Servidor Web      │44             │11              │55                       │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│Servidor de SSH   │2              │0               │2                        │
└──────────────────┴───────────────┴────────────────┴─────────────────────────┘

Puede que tasksel instale automáticamente una tarea de localización si está
realizando la instalación en un idioma que no sea el inglés, siempre y cuando
haya una disponible para su idioma. Los requisitos de espacio varían por idioma
pero debería, en este caso, tener en cuenta que podría necesitar 350 MB en
total para la descarga e instalación de esta tarea.

D.3. Instalar Debian GNU/Linux desde un sistema Unix/Linux

Esta sección explica cómo instalar Debian GNU/Linux desde un sistema Unix o
Linux existente, sin usar el instalador basado en menús, como se explica en el
resto de este manual. Los usuarios que se cambian a Debian GNU/Linux desde Red
Hat, Mandriva y SuSE han solicitado este CÓMO de "instalación cruzada". En esta
sección se asume alguna familiaridad con la introducción de órdenes en *nix y
navegación en el sistema de ficheros. En esta sección $ simboliza una orden a
introducirse en el sistema actual del usuario, mientras que # se refiere a una
orden introducida en la jaula ("chroot", N. del t.) de Debian.

Una vez que tenga el nuevo sistema Debian configurado a su preferencia, puede
migrar los datos existentes de sus usuarios (si fuese el caso) a éste y
continuar funcionando. Esto es por tanto una instalación "sin parada" de Debian
GNU/Linux. Es también una forma inteligente de tratar con hardware que no puede
utilizarse de forma sencilla con los distintos mecanismos de instalación o
arranque disponibles.

Nota

Dado que este proceso es, en gran parte, manual ha de tener en cuenta que
tendrá que hacer gran parte de la configuración básica del sistema por su
cuenta. Para poder hacer esto necesitará más conocimientos de Debian y en
general de Linux que si fuera a hacer una instalación normal. No espere que el
resultado de este procedimiento sea un sistema idéntico al que uno obtendría si
realizara la instalación normalmente. También debería tener en cuenta que este
procedimiento solamente describe los pasos básicos para configurar un sistema.
Es posible que puedan tener que realizarse pasos adicionales en la instalación
y/o configuración.

D.3.1. Primeros pasos

Con tus herramientas actuales de particionado de *nix, reparticiona el disco
duro como necesites, creando al menos un sistema de archivos más un swap.
Necesitas alrededor de 769MB de espacio disponible para una instalación sólo de
consola, o alrededor de 2271MB si planeas instalar X (más si pretendes instalar
entornos de escritorio como GNOME o KDE Plasma).

A continuación, deberá crear sistemas de ficheros en sus particiones. Por
ejemplo, para crear un sistema de ficheros ext3 en la partición /dev/sda6 (es
nuestra partición raíz de ejemplo):

# mke2fs -j /dev/sda6

En cambio para crear un sistema de ficheros ext2, omita -j.

Inicialice y active la partición de intercambio (sustituya el número de
partición por la partición de intercambio de Debian que vaya a utilizar):

# mkswap /dev/sda5
# sync
# swapon /dev/sda5

Monte una partición como /mnt/debinst (el punto de instalación, que será el
sistema de ficheros raíz (/) en su nuevo sistema). El nombre del punto de
montaje es estrictamente arbitrario, pero se utilizará este mismo nombre más
adelante.

# mkdir /mnt/debinst
# mount /dev/sda6 /mnt/debinst

Nota

Deberá crear y montar manualmente los directorios que sean necesarios antes de
continuar con la siguiente parte del proceso si desea montar partes del sistema
de ficheros (como por ejemplo "/usr") en particiones distintas.

D.3.2. Instalar debootstrap

debootstrap es la herramienta que usa el instalador de Debian, es también la
forma oficial de instalar un sistema base Debian. Usa wget y ar, pero, salvo
esto, sólo depende de /bin/sh y algunas herramientas básicas de Unix/Linux^[24]
. Si aún no lo ha hecho, instale wget y ar en su sistema actual, y luego
descargue e instale debootstrap.

O, puedes usar el siguiente procedimiento para instalarlo manualmente. Crea un
directorio de trabajo para extraer el fichero «.deb» en:

# mkdir work
# cd work

El binario de debootstrap se encuentra en el archivo de Debian (asegúrate de
elegir el fichero adecuado para tu arquitectura). Descarga .deb de debootstrap
desde pool, copia el paquete al directorio de trabajo, y extrae los ficheros de
éste. Necesitarás privilegios de superusuario para instalar los ficheros.

# ar -x debootstrap_0.X.X_all.deb
# cd /
# zcat /ruta-completa-hasta-trabajo/trabajo/data.tar.gz | tar xv

D.3.3. Ejecutar debootstrap

debootstrap descargará los ficheros necesarios directamente desde el archivo
cuando lo ejecute. Puede sustituir ftp.es.debian.org/debian por cualquier
servidor de réplica del archivo Debian, en la orden de ejemplo que se muestra a
continuación. Es mejor que utilice un servidor de réplica cercano (es decir, en
una red próxima). Puede encontrar una lista completa de los servidores de
réplica en: http://www.debian.org/mirror/list.

Si tienes una imagen de instalación bullseye Debian GNU/Linux montada en /
cdrom, podrías sustituir una URL de archivo en lugar de la URL http: file:/
cdrom/debian/

Sustituye uno de los siguientes elementos por ARCH en el comando debootstrap
command: amd64, arm64, armel, armhf, i386, mips64el, mipsel, ppc64el, s390x.

# /usr/sbin/debootstrap --arch ARCH bullseye \
     /mnt/debinst http://ftp.us.debian.org/debian

Si la arquitectura de destino es diferente a la del host, debes añadir la
opción --foreign.

D.3.4. Configurar el sistema base

Ahora tienes un verdadero sistema Debian, aunque bastante magro, en el disco. 
chroot en él:

# LANG=C.UTF-8 chroot /mnt/debinst /bin/bash

Si la arquitectura de destino es diferente a la del host, tendrás que copiar
primero qemu-user-static al nuevo host:

# cp /usr/bin/qemu-ARCH-static /mnt/debinst/usr/bin
# LANG=C.UTF-8 chroot /mnt/debinst qemu-ARCH-static /bin/bash

Después de hacer chroot puede ser necesario establecer la definición de
terminal para que sea compatible con el sistema base Debian, por ejemplo:

# export TERM=xterm-color

Dependiendo del valor de TERM, puede que tengas que instalar el paquete
ncurses-term para obtener soporte.

Si la arquitectura de destino es diferente a la del host, necesitas terminar el
proceso de arraque multietapas:

/debootstrap/debootstrap --second-stage

D.3.4.1. Crear ficheros de dispositivos

Llegados a este punto el directorio /dev/ contiene solamente ficheros de
dispositivo muy básicos. Es posible que necesite ficheros de dispositivo
adicionales para llevar a cabo los pasos siguientes de la instalación. Hay
varias formas de hacerlo y el método que vaya a usar dependerá del sistema
inicial que esté usando para la instalación; si desea usar un núcleo modular o
no, si pretende usar ficheros de dispositivo dinámicos (p. ej. con udev) o
estáticos en el sistema nuevo.

Algunas de las opciones disponibles son las siguientes:

  • instale el paquete makedev, y cree un conjunto predeterminado de ficheros
    de dispositivo estáticos (después de acceder a la jaula chroot) con

    # apt install makedev
    # mount none /proc -t proc
    # cd /dev
    # MAKEDEV generic

  • cree manualmente sólo ficheros de dispositivos específicos con MAKEDEV

  • bind mount /dev desde tu sistema anfitrión sobre /dev en el sistema
    destino; ten en cuenta que los scripts postinst de algunos paquetes pueden
    intentar crear archivos de dispositivo, por lo que esta opción sólo debe
    utilizarse con cuidado

D.3.4.2. Montar particiones

Necesitas crear /etc/fstab.

# editor /etc/fstab

Aquí tienes un ejemplo que puedes modificar a tu gusto:

# /etc/fstab: información estática del sistema de archivos.
#
# file system mount point type options dump pass
/dev/XXX / ext3 defaults 0 1
/dev/XXX /boot ext3 ro,nosuid,nodev 0 2

/dev/XXX none swap sw 0 0
proc /proc proc defaults 0 0

/dev/cdrom /media/cdrom iso9660 noauto,ro,user,exec 0 0

/dev/XXX /tmp ext3 rw,nosuid,nodev 0 2
/dev/XXX /var ext3 rw,nosuid,nodev 0 2
/dev/XXX /usr ext3 rw,nodev 0 2
/dev/XXX /home ext3 rw,nosuid,nodev 0 2

Usa mount -a para montar todos los sistemas de archivos que haya especificado
en tu /etc/fstab, o, para montar sistemas de archivos individualmente, utiliza:

# mount /path # e.g.: mount /usr

Los sistemas actuales Debian tienen puntos de montaje para los medios
extraíbles en /media, pero mantienen los enlaces simbólicos de compatibilidad
en /. Crea estos como necesites, por ejemplo::

# cd /media
# mkdir cdrom0
# ln -s cdrom0 cdrom
# cd /
# ln -s media/cdrom

Puedes montar el sistema de archivos proc varias veces y en ubicaciones
arbitrarias, aunque /proc es lo habitual. Si no has usado mount -a, asegúrate
de montar proc antes de continuar:

# mount -t proc proc /proc

La orden ls /proc debería mostrar un directorio no vacío. Si esto falla, puedes
intentar montar proc fuera del entorno chroot:

# mount -t proc proc /mnt/debinst/proc

D.3.4.3. Configurar la zona horaria

Si se define la tercera línea del fichero /etc/adjtime como "UTC" o "LOCAL", se
determina si el sistema interpreta el reloj de hardware como UTC o como hora
local. Las siguientes órdenes le permiten configurar ésto.

# editor /etc/adjtime

Here is a sample:

0.0 0 0.0
0
UTC

La siguiente orden le permite elegir su zona horaria.

# dpkg-reconfigure tzdata

D.3.4.4. Configurar la red

Para configurar la red, edita /etc/network/interfaces, /etc/resolv.conf, /etc/
hostname y /etc/hosts.

# editor /etc/network/interfaces

He aquí algunos sencillos ejemplos que podrás encontrar en /usr/share/doc/
ifupdown/examples:

######################################################################
# /etc/network/interfaces -- fichero de configuración para ifup(8), ifdown(8)
# Ver la página de manual de interfaces(5) para información sobre las
# opciones disponibles.
######################################################################
# Ya no es necesaria realmente la interfaz de loopback, pero puede utilizarse
# si fuera necesario.
#
# auto lo
# iface lo inet loopback

# Para usar dhcp:
#
# auto eth0
# iface eth0 inet dhcp

# Un ejemplo de configuración de IP estática: (la red, el broadcast y la pasarela son opcionales)
#
# auto eth0
# iface eth0 inet static
#     address 192.168.0.42
#     network 192.168.0.0
#     netmask 255.255.255.0
#     broadcast 192.168.0.255
#     gateway 192.168.0.1

Introduce tu servidor de nombres y las directivas de búsqueda en /etc/
resolv.conf:

# editor /etc/resolv.conf

Un sencillo ejemplo /etc/resolv.conf:

search example.com
nameserver 10.1.1.36
nameserver 192.168.9.100

Escribe el nombre de host de tu sistema (de 2 a 63 caracteres):

# echo DebianHostName > /etc/hostname

Y una /etc/hosts básico que permita IPv6 sería:

127.0.0.1 localhost
127.0.1.1 DebianHostName

# Las siguientes líneas son recomendables en equipos que pueden utilizar IPv6
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts

Si tienes múltiples tarjetas de red, debes añadir los nombres de los módulos de
controlador en el fichero /etc/modules en el orden que desees. Luego durante el
arranque, se asociará cada tarjeta con el nombre de la interfaz (eth0, eth1,
etc.) que hayas indicado.

D.3.4.5. Configurar Apt

Debootstrap habrá creado una /etc/apt/sources.list muy básica que permite
instalar paquetes adicionales. Seguramente querrás, sin embargo, tener algunas
fuentes adicionales para poder acceder a paquetes fuente y a actualizaciones de
seguridad:

deb-src http://ftp.us.debian.org/debian bullseye main

deb http://security.debian.org/ bullseye-security main
deb-src http://security.debian.org/ bullseye-security main

Asegúrate de ejecutar apt update después de hacer cambios a la lista de
fuentes.

D.3.4.6. Configurar la localización y el teclado

Para configurar la configuración regional para utilizar un idioma distinto del
inglés, instala el paquete de soporte locales y configúrelo. Actualmente se
recomienda utilizar locales codificados en UTF-8.

# apt install locales
# dpkg-reconfigure locales

Para configurar tu teclado (si lo necesitas):

# apt install console-setup
# dpkg-reconfigure keyboard-configuration

Tenga en cuenta que no puede configurar el teclado mientras esté dentro del
chroot, pero se configurará en el siguiente reinicio.

D.3.5. Instalar un núcleo

Si intenta arrancar este sistema, probablemente querrá un núcleo Linux y un
gestor de arranque. Identifique los núcleos previamente empaquetados
disponibles con:

# apt search linux-image

A continuación, instale el paquete del núcleo deseado usando el nombre del
paquete.

# apt install linux-image-arch-etc

D.3.6. Configurar el gestor de arranque

Para poder arrancar tu sistema Debian GNU/Linux deberás configurar tu gestor de
arranque para cargar el núcleo instalado en tu nueva partición raíz. Ten en
cuenta que debootstrap no instala un gestor de arranque, pero puedes usar apt
en tú Debian chroot para hacer esto.

Consulta info grub para tener instrucciones sobre la configuración del cargador
de arranque. Si mantienes el sistema que utilizastes para instalar Debian, sólo
tienes que añadir una entrada para la instalación de Debian a tu grub2
existente grub.cfg.

La instalación y configuración de grub2 es tan sencilla como hacer:

# apt install grub-pc
# grub-install /dev/sda
# update-grub

La segunda orden instalará grub2 (en este caso en el sector de arranque de
sda). La última orden creará un /boot/grub/grub.cfg funcional.

Estos ejemplos asumen que se ha creado el fichero de dispositivo /dev/sda.
Existen métodos alternativos para instalar grub2, pero están fuera del alcance
de este apéndice.

D.3.7. Acceso remoto: instalación de SSH y configurar el acceso

Si puedes acceder al sistema a través de la consola, puedes saltarte esta
sección. Si, más adelante, el sistema debe ser accesible a través de la red, es
necesario instalar SSH y configurar el acceso..

# apt install ssh

El inicio de sesión de root con contraseña está deshabilitado por defecto, por
lo que se puede configurar el acceso estableciendo una contraseña y volver a
habilitar el inicio de sesión de root con contraseña:

# passwd
# editor /etc/ssh/sshd_config

Esta es la opción que hay que activar:

PermitRootLogin yes

El acceso también puede configurarse añadiendo una clave ssh a la cuenta root:

# mkdir /root/.ssh
# cat << EOF > /root/.ssh/authorized_keys
ssh-rsa ....
EOF

Por último, se puede configurar el acceso añadiendo un usuario no root y
estableciendo una contraseña:

# adduser joe
# passwd joe

D.3.8. Toques finales

El sistema instalado, como se ha mencionado previamente, será muy básico. Si
quieres que tu sistema sea un poco más maduro, pueded hacerlo fácilmente
instalando todos los paquetes de prioridad "standard":

# tasksel install standard

Por supuesto, también puede utilizar aptitude para instalar individualmente
todos los paquetes.

Después de la instalación habrá muchos paquetes descargados en /var/cache/apt/
archives/. Puede liberar algo de espacio de disco ejecutando:

# apt clean

D.4. Instalar Debian GNU/Linux a través de una línea IP paralela (PLIP)

Esta sección explica cómo se puede instalar Debian GNU/Linux en un ordenador
que carezca de tarjeta de red y que sólo tiene un ordenador actuando como
pasarela conectado a través de un cable de "módem nulo" (también llamado cable 
"null-modem" o "null-printer"). El sistema pasarela debería estar conectado a
una red por la que se pueda acceder a una réplica de Debian (por ejemplo, en
Internet).

En el ejemplo de este apéndice se configura una conexión PLIP con una pasarela
que está conectada a Internet a través de una conexión de acceso telefónico
(ppp0). Se utilizarán las direcciones IP 192.168.0.1 y 192.168.0.2 para las
interfaces PLIP en el sistema a instalar (objetivo) y en el sistema origen,
respectivamente (estas direcciones IP deberían estar libres en su espacio de
direcciones de red).

La conexión PLIP que se configura durante la instalación también estará
disponible después del reinicio del sistema en el propio sistema instalado
(véase Capítulo 7, Arrancar desde su nuevo sistema Debian).

Antes de empezar, deberás comprobar la configuración de la BIOS (dirección base
IO e IRQ) de los puertos paralelos de los sistemas de origen y destino. Los
valores más comunes son io=0x378, irq=7.

D.4.1. Requisitos

  • Un sistema destino, llamado objetivo, donde se va a instalar Debian.

  • Los medios para la instalación del sistema; véase Sección 2.4, "Medios de
    instalación".

  • Otro ordenador conectado a Internet, llamado fuente, que funcionará como
    puerta de enlace.

  • Un cable "módem nulo" DB-25. Para más información sobre este cable e
    instrucciones de cómo hacer uno, puede consultar el documento
    PLIP-Install-HOWTO.

D.4.2. Configurar el sistema origen

El programa mostrado a continuación es un ejemplo sencillo que configura el
ordenador fuente como una pasarela a Internet utilizando ppp0.

#!/bin/sh

# Eliminamos los módulos que están ejecutándose en el núcleo para evitar
# conflictos y para reconfigurarlos manualmente.
modprobe -r lp parport_pc
modprobe parport_pc io=0x378 irq=7
modprobe plip

# Configura la interfaz plip (plip0 en este caso, pruebe en caso de duda "dmesg | grep plip" ).
ifconfig plip0 192.168.0.2 pointopoint 192.168.0.1 netmask 255.255.255.255 up

# Configurar la pasarela.
modprobe iptable_nat
iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE
echo 1 > /proc/sys/net/ipv4/ip_forward

D.4.3. Instalar el objetivo

Arranque con el medio de instalación. Tiene que ejecutar la instalación en modo
experto, utilizando expert en el indicador de sistema del arranque. También
debe indicar los parámetros que necesite para los módulos del núcleo en el
indicador de sistema del arranque. Por ejemplo, deberá introducir lo que se
muestra a continuación si necesita arrancar el instalador y fijar los valores
necesarios a las opciones "io" e "irq" en el módulo parport_pc:

expert parport_pc.io=0x378 parport_pc.irq=7

Abajo se dan las respuestas que debería dar durante las distintas fases de la
instalación.

 1. Load installer components from installation media

    Seleccione la opción plip-modules de la lista, esto hará que el sistema de
    instalación pueda utilizar los controladores PLIP.

 2. Detección del hardware de red

      □ Si el objetivo tiene una tarjeta de red se mostrará una lista de los
        módulos con controladores para las tarjetas detectadas. Si quiere hacer
        que debian-installer utilice plip en lugar de éstas tendrá que
        deseleccionar todos los módulos de controladores listados. Obviamente,
        si el objetivo no tiene una tarjeta de red el instalador no mostrará
        esta lista.

      □ El instalador le preguntará si quiere seleccionar un módulo de
        controlador de red de la lista dado que antes no se ha seleccionado ni
        detectado una tarjeta de red. Seleccione el módulo plip.

 3. Configurar la red

      □ ¿Desea configurar automáticamente la red con DHCP? No

      □ Dirección IP: 192.168.0.1

      □ Dirección punto a punto: 192.168.0.2

      □ Direcciones de servidores de nombres: puede introducir la misma
        dirección que la que utiliza la fuente (consúltela en /etc/resolv.conf)

D.5. Instalación de Debian GNU/Linux a través de PPP sobre Ethernet (PPPoE)

El protocolo PPP sobre Ethernet (PPPoE) para banda ancha (ADSL o cable) es muy
común en algunos países cuando se establecen conexiones con un proveedor de
servicio de Internet. Si bien la configuración de la red a través de PPPoE no
se puede hacer en el instalador, puede hacerse funcionar de manera muy
sencilla. Esta sección explica cómo.

La configuración de la conexión PPPoE que se realice durante la instalación
también estará disponible al reiniciar en el sistema instalado (consulte
Capítulo 7, Arrancar desde su nuevo sistema Debian).

Para tener la opción de configurar y utilizar PPPoE durante la instalación,
tendrás que instalar usando una de las imágenes de CD-ROM/DVD que están
disponibles. No es compatible con otros métodos de instalación (por ejemplo,
netboot).

La instalación a través de PPPoE es casi idéntica que cualquier otra
instalación. Las diferencias se explican en los pasos descritos a continuación.

  • Arranque el instalador con el parámetro de arranque modules=ppp-udeb^[25].
    Esta opción hará que se cargue y se ejecute automáticamente componente
    responsable de la configuración de PPPoE (ppp-udeb).

  • Siga los pasos iniciales usuales de instalación: selección de idioma, país
    y mapa de teclado, carga de componentes adicionales del instalador^[26]).

  • El siguiente paso es la detección de hardware de red, que permite
    identificar cualquier tarjeta Ethernet presente en su sistema.

  • Después de esto comienza la configuración específica de PPPoE. El
    instalador probará todas las interfaces Ethernet detectadas tratando de
    encontrar un concentrador PPPoE (un tipo de servidor que maneja las
    conexiones PPPoE).

    Es probable que el concentrador no se encuentre en el primer intento. Puede
    suceder usualmente en redes lentas o sobrecargadas o con servidores poco
    fiables. La mayoría de veces tendrá éxito un segundo intento de detección
    de un concentrador. Para volver a intentar, seleccione en el menú principal
    del instalador Configurar e iniciar una conexión PPPoE.

  • Después de haber encontrado el concentrador, se solicitará al usuario
    teclear su información de autenticación (el usuario y la clave de PPPoE).

  • En este punto el instalador usará la información proporcionada para
    establecer una conexión PPPoE. Si se proporcionó la información correcta,
    debería configurarse la conexión PPPoE y el instalador debería ser capaz de
    usarla para conectarse a Internet y descargar los paquetes a través de esta
    (en caso de que fuera necesario). El instalador se detendrá si la
    información de autenticación no es correcta o si se produce cualquier
    error, pero se podrá intentar de nuevo la configuración seleccionando la
    opción Configurar e iniciar una conexión PPPoE del menú.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[23] Los ratones serie tienen generalmente un conector de 9 pines con forma de
letra D. Los ratones de bus tienen un conector de 8 pines redondos, que no debe
confundirse con el conector de 6 pines redondo de los ratones PS/2 o el
conector redondo de cuatro pines de los ratones ADB.

^[24] Esto incluye las utilidades principales de GNU y órdenes como sed, grep, 
tar y gzip.

^[25] Consulte Sección 5.1.7, "La pantalla de arranque" para información acerca
de cómo añadir un parámetro de arranque.

^[26] En este paso se carga el componente ppp-udeb como uno de los componentes
adicionales. Si quiere instalar utilizando la prioridad media o baja (modo
experto), puede seleccionar manualmente el componente ppp-udeb en lugar de
indicar explícitamente el parámetro "modules" en el indicador de sistema del
arranque.

Apéndice E. Información administrativa

Tabla de contenidos

E.1. Acerca de este documento
E.2. Cómo contribuir a este documento
E.3. Contribuciones importantes
E.4. Reconocimiento de las marcas registradas

E.1. Acerca de este documento

Este manual fue creado para el instalador de Debian Sarge, basándose en el
manual de instalación de Woody para el sistema de arranque de disco, que se
basaba a su vez en los manuales de instalación de versiones previas de Debian,
y basándose también en el manual de instalación de la distribución Progeny,
publicado bajo los términos de la licencia GPL el año 2003.

Este documento está escrito en DocBook XML. Se han generado los formatos de
salida por distintos programas usando la información de los paquetes
docbook-xml y docbook-xsl.

Se usan algunas de las funcionalidades de XML, como las entidades y los
atributos de los perfiles, para aumentar la capacidad de mantenimiento de este
documento. Éstos desempeñan un papel similar al de las variables y las
condicionales en los lenguajes de programación. Las fuentes en XML de este
documento contienen información para cada una de las arquitecturas -- y se
utilizan atributos de perfil para aislar algunas partes del texto que son
específicas de cada arquitectura.

La traducción de este documento ha sido posible gracias a la colaboración y
trabajo de Javier Fernández-Sanguino Peña, Rubén Porras, Rudy Godoy, David
Moreno Garza, Bruno Barrera, Igor Támara, Omar Campagne Polaino, Eulalio
Barbero Espinosa, así como las contribuciones en traducción y revisión de los
miembros del equipo de traducción a español de Debian (<
debian-l10n-spanish@lists.debian.org>).

E.2. Cómo contribuir a este documento

Si tienes problemas o sugerencias relacionadas con este documento, deberías
enviar un informe de bug dirigido al paquete installation-guide. Por favor, usa
el paquete reportbug o lee la documentación en línea del Sistema de seguimiento
de fallos de Debian. Sería conveniente que revisaras primero la lista de
erratas abiertas enviadas contra el paquete installation-guide para ver si
aparece tu problema. Si es así, puedes dar información adicional enviando un
correo a <XXXX@bugs.debian.org>, donde XXXX es el número asignado a la errata.

Mejor aún, consigue una copia fuente en DocBook de este documento, y
proporciona parches basándote en éste. Puedes obtener las fuentes en DocBook en
el proyecto installation-guide en salsa. No te preocupes si no estás
familiarizado con DocBook, existe una hoja introductoria en el directorio de
manuales que te puede servir para comenzar. El formato DocBook es parecido a
HTML, pero está más orientado al significado del texto que a la presentación.
Se agradece cualquier parche que puedas enviar a la lista de correo de
debian-boot (consulta más abajo). Para leer las instrucciones de cómo descargar
las fuentes a través de git, lee el fichero README disponible en el directorio
raíz.

Por favor, no contactes directamente con los autores de este documento. También
hay una lista de discusión para debian-installer, que incluye discusiones sobre
este manual. La lista de correo es <debian-boot@lists.debian.org>. Puedes
encontrar las instrucciones para suscribirse a esta lista en la página
Suscripción a la lista de correo de Debian; o puedes navegar por los Archivos
de la lista de correo de Debian en línea.

E.3. Contribuciones importantes

Bruce Perens, Sven Rudolph, Igor Grobman, James Treacy y Adam Di Carlo
escribieron la primera versión de documento. Sebastian Ley escribió el CÓMO de
instalación.

Miroslav Kuře ha documentado muchas de las nuevas funciones del instalador en
Sarge. Frans Pop ha sido el editor principal y responsable de publicación de
las distribuciones Etch, Lenny y Squeeze.

Muchos, muchos usuarios y desarrolladores de Debian han contribuido a este
documento. Queremos agradecer de forma particular las numerosas revisiones y
textos proporcionados por Michael Schmitz (compatibilidad con m68k), Frank
Neumann (autor original del Manual de instalación en Amiga), Arto Astala, Eric
Delaunay y Ben Collins (información sobre SPARC), Tapio Lehtonen, y Stéphane
Bortzmeyer para numerosas ediciones y textos. De igual manera queremos
agradecer a Pascal Le Bail la valiosa información de cómo arrancar un sistema
utilizando memorias USB.

Hemos encontrado extremadamente útil los textos y la información disponibles,
entre otros, en el CÓMO de arranque del sistema a través de la red escrito por
Jim Mintha (no hay sitio web disponible), las PUF de Debian, las PUF de Linux/
m68k, las PUF de Linux en procesadores SPARC, o las PUF de Linux en Alpha,
entre otros. Queremos desde aquí reconocer el trabajo de los desarrolladores de
estas fuentes libres de información tan valiosas.

La sección en este manual de instalaciones en entornos de chroot (Sección D.3,
"Instalar Debian GNU/Linux desde un sistema Unix/Linux") se ha basado en parte
de documentos propiedad de Karsten M. Self.

La sección en este manual que cubre las instalaciones a través plip (
Sección D.4, "Instalar Debian GNU/Linux a través de una línea IP paralela
(PLIP)") se basa en el PLIP-Install-HOWTO de Gilles Lamiral.

E.4. Reconocimiento de las marcas registradas

Todas las marcas registradas son propiedad de sus respectivos dueños.

Apéndice F. Licencia pública general GNU

Nota

This is an unofficial translation of the GNU General Public License into
Spanish. It was not published by the Free Software Foundation, and does not
legally state the distribution terms for software that uses the GNU GPL -- only
the original English text of the GNU GPL does that. However, we hope that this
translation will help Spanish speakers to better understand the GNU GPL.

Esta es una traducción no oficial al español de la GNU General Public License
realizada por Jesús González Barahona y Pedro de las Heras Quirós. No ha sido
publicada por la Free Software Foundation, y no establece legalmente las
condiciones de distribución para el software que usa la GNU GPL. Estas
condiciones se establecen solamente por el texto original, en inglés, de la GNU
GPL. Sin embargo, esperamos que esta traducción ayude a los hispanohablantes a
entender mejor la GNU GPL.

Versión 2, June 1991

Copyright (C) 1989, 1991 Free Software Foundation, Inc.
51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.

Se permite la copia y distribución de copias literales de este
documento, pero no se permite su modificación.

Preámbulo

Las licencias que cubren la mayor parte del software están diseñadas para
quitarle a usted la libertad de compartirlo y modificarlo. Por el contrario, la
Licencia Pública General de GNU pretende garantizarle la libertad de compartir
y modificar software libre, para asegurar que el software es libre para todos
sus usuarios. Esta Licencia Pública General se aplica a la mayor parte del
software del la Free Software Foundation y a cualquier otro programa si sus
autores se comprometen a utilizarla. (Existe otro software de la Free Software
Foundation que está cubierto por la Licencia Pública General de GNU para
Bibliotecas). Si quiere, también puede aplicarla a sus propios programas.

Cuando hablamos de software libre, estamos refiriéndonos a libertad, no a
precio. Nuestras Licencias Públicas Generales están diseñadas para asegurarnos
de que tenga la libertad de distribuir copias de software libre (y cobrar por
ese servicio si quiere), de que reciba el código fuente o que pueda conseguirlo
si lo quiere, de que pueda modificar el software o usar fragmentos de él en
nuevos programas libres, y de que sepa que puede hacer todas estas cosas.

Para proteger sus derechos necesitamos algunas restricciones que prohiban a
cualquiera negarle a usted estos derechos o pedirle que renuncie a ellos. Estas
restricciones se traducen en ciertas obligaciones que le afectan si distribuye
copias del software, o si lo modifica.

Por ejemplo, si distribuye copias de uno de estos programas, sea gratuitamente,
o a cambio de una contraprestación, debe dar a los receptores todos los
derechos que tiene. Debe asegurarse de que ellos también reciben, o pueden
conseguir, el código fuente. Y debe mostrarles estas condiciones de forma que
conozcan sus derechos.

Protegemos sus derechos con la combinación de dos medidas: 1. Ponemos el
software bajo copyright y 2. le ofrecemos esta licencia, que le da permiso
legal para copiar, distribuir y/o modificar el software.

También, para la protección de cada autor y la nuestra propia, queremos
asegurarnos de que todo el mundo comprende que no se proporciona ninguna
garantía para este software libre. Si el software se modifica por cualquiera y
éste a su vez lo distribuye, queremos que sus receptores sepan que lo que
tienen no es el original, de forma que cualquier problema introducido por otros
no afecte a la reputación de los autores originales.

Por último, cualquier programa libre está constantemente amenazado por patentes
sobre el software. Queremos evitar el peligro de que los redistribuidores de un
programa libre obtengan patentes por su cuenta, convirtiendo de facto el
programa en propietario. Para evitar esto, hemos dejado claro que cualquier
patente debe ser pedida para el uso libre de cualquiera, o no ser pedida.

Los términos exactos y las condiciones para la copia, distribución y
modificación se exponen a continuación.

LICENCIA PÚBLICA GENERAL GNU

Términos y condiciones para la copia, distribución y modificación

0.Esta Licencia se aplica a cualquier programa u otro tipo de trabajo que
contenga una nota colocada por el tenedor del copyright diciendo que puede ser
distribuido bajo los términos de esta Licencia Pública General. En adelante, "
Programa" se referirá a cualquier programa o trabajo que cumpla esa condición y
"trabajo basado en el Programa" se referirá bien al Programa o a cualquier
trabajo derivado de él según la ley de copyright. Esto es, un trabajo que
contenga el programa o una porción de él, bien en forma literal o con
modificaciones y/o traducido en otro lenguaje. Por lo tanto, la traducción está
incluida sin limitaciones en el término "modificación". Cada concesionario
(licenciatario) será denominado "usted".

Cualquier otra actividad que no sea la copia, distribución o modificación no
está cubierta por esta Licencia, está fuera de su ámbito. El acto de ejecutar
el Programa no está restringido, y los resultados del programa están cubiertos
únicamente si sus contenidos constituyen un trabajo basado en el Programa,
independientemente de haberlo producido mediante la ejecución del programa. El
que esto se cumpla, depende de lo que haga el programa.

1.Usted puede copiar y distribuir copias literales del código fuente del
Programa, según lo has recibido, en cualquier medio, supuesto que de forma
adecuada y bien visible publique en cada copia un anuncio de copyright adecuado
y un repudio de garantía, mantenga intactos todos los anuncios que se refieran
a esta Licencia y a la ausencia de garantía, y proporcione a cualquier otro
receptor del programa una copia de esta Licencia junto con el Programa.

Puede cobrar un precio por el acto físico de transferir una copia, y puede,
según su libre albedrío, ofrecer garantía a cambio de unos honorarios.

2.Puede modificar su copia o copias del Programa o de cualquier porción de él,
formando de esta manera un trabajo basado en el Programa, y copiar y distribuir
esa modificación o trabajo bajo los términos del apartado 1, antedicho,
supuesto que además cumpla las siguientes condiciones:

 a. a. Debe hacer que los ficheros modificados lleven anuncios prominentes
    indicando que los ha cambiado y la fecha de cualquier cambio.

 b. b. Debe hacer que cualquier trabajo que distribuya o publique y que en todo
    o en parte contenga o sea derivado del Programa o de cualquier parte de él
    sea licenciada como un todo, sin carga alguna, a todas las terceras partes
    y bajo los términos de esta Licencia.

 c. c. Si el programa modificado lee normalmente órdenes interactivamente
    cuando es ejecutado, debe hacer que, cuando comience su ejecución para ese
    uso interactivo de la forma más habitual, muestre o escriba un mensaje que
    incluya un anuncio de copyright y un anuncio de que no se ofrece ninguna
    garantía (o por el contrario que sí se ofrece garantía) y que los usuarios
    pueden redistribuir el programa bajo estas condiciones, e indicando al
    usuario cómo ver una copia de esta licencia. (Excepción: si el propio
    programa es interactivo pero normalmente no muestra ese anuncio, no se
    requiere que su trabajo basado en el Programa muestre ningún anuncio.)

Estos requisitos se aplican al trabajo modificado como un todo. Si partes
identificables de ese trabajo no son derivadas del Programa, y pueden,
razonablemente, ser consideradas trabajos independientes y separados por ellos
mismos, entonces esta Licencia y sus términos no se aplican a esas partes
cuando sean distribuidas como trabajos separados. Pero cuando distribuya esas
mismas secciones como partes de un todo que es un trabajo basado en el
Programa, la distribución del todo debe ser según los términos de esta
licencia, cuyos permisos para otros licenciatarios se extienden al todo
completo, y por lo tanto a todas y cada una de sus partes, con independencia de
quién la escribió.

Por lo tanto, no es la intención de este apartado reclamar derechos o desafiar
sus derechos sobre trabajos escritos totalmente por usted mismo. El intento es
ejercer el derecho a controlar la distribución de trabajos derivados o
colectivos basados en el Programa.

Además, el simple hecho de reunir un trabajo no basado en el Programa con el
Programa (o con un trabajo basado en el Programa) en un volumen de
almacenamiento o en un medio de distribución no hace que dicho trabajo entre
dentro del ámbito cubierto por esta Licencia.

3.Puede copiar y distribuir el Programa (o un trabajo basado en él, según se
especifica en el apartado 2, como código objeto o en formato ejecutable según
los términos de los apartados 1 y 2, supuesto que además cumpla una de las
siguientes condiciones:

 a. a. Acompañarlo con el código fuente completo correspondiente, en formato
    electrónico, que debe ser distribuido según se especifica en los apartados
    1 y 2 de esta Licencia en un medio habitualmente utilizado para el
    intercambio de programas, o

 b. b. Acompañarlo con una oferta por escrito, válida durante al menos tres
    años, de proporcionar a cualquier tercera parte una copia completa en
    formato electrónico del código fuente correspondiente, a un coste no mayor
    que el de realizar físicamente la distribución del fuente, que será
    distribuido bajo las condiciones descritas en los apartados 1 y 2
    anteriores, en un medio habitualmente utilizado para el intercambio de
    programas, o

 c. c. Acompañarlo con la información que recibiste ofreciendo distribuir el
    código fuente correspondiente. (Esta opción se permite sólo para
    distribución no comercial y sólo si usted recibió el programa como código
    objeto o en formato ejecutable con tal oferta, de acuerdo con el apartado b
    anterior.)

Por código fuente de un trabajo se entiende la forma preferida del trabajo
cuando se le hacen modificaciones. Para un trabajo ejecutable, se entiende por
código fuente completo todo el código fuente para todos los módulos que
contiene, más cualquier fichero asociado de definición de interfaces, más los
guiones utilizados para controlar la compilación e instalación del ejecutable.
Como excepción especial el código fuente distribuido no necesita incluir nada
que sea distribuido normalmente (bien como fuente, bien en forma binaria) con
los componentes principales (compilador, kernel y similares) del sistema
operativo en el cual funciona el ejecutable, a no ser que el propio componente
acompañe al ejecutable.

Si la distribución del ejecutable o del código objeto se hace mediante la
oferta acceso para copiarlo de un cierto lugar, entonces se considera la oferta
de acceso para copiar el código fuente del mismo lugar como distribución del
código fuente, incluso aunque terceras partes no estén forzadas a copiar el
fuente junto con el código objeto.

4.No puede copiar, modificar, sublicenciar o distribuir el Programa excepto
como prevé expresamente esta Licencia. Cualquier intento de copiar, modificar
sublicenciar o distribuir el Programa de otra forma es inválida, y hará que
cesen automáticamente los derechos que te proporciona esta Licencia. En
cualquier caso, las partes que hayan recibido copias o derechos de usted bajo
esta Licencia no cesarán en sus derechos mientras esas partes continúen
cumpliéndola.

5.No está obligado a aceptar esta licencia, ya que no la ha firmado. Sin
embargo, no hay hada más que le proporcione permiso para modificar o distribuir
el Programa o sus trabajos derivados. Estas acciones están prohibidas por la
ley si no acepta esta Licencia. Por lo tanto, si modifica o distribuye el
Programa (o cualquier trabajo basado en el Programa), está indicando que acepta
esta Licencia para poder hacerlo, y todos sus términos y condiciones para
copiar, distribuir o modificar el Programa o trabajos basados en él.

6.Cada vez que redistribuya el Programa (o cualquier trabajo basado en el
Programa), el receptor recibe automáticamente una licencia del licenciatario
original para copiar, distribuir o modificar el Programa, de forma sujeta a
estos términos y condiciones. No puede imponer al receptor ninguna restricción
más sobre el ejercicio de los derechos aquí garantizados. No es usted
responsable de hacer cumplir esta licencia por terceras partes.

7.Si como consecuencia de una resolución judicial o de una alegación de
infracción de patente o por cualquier otra razón (no limitada a asuntos
relacionados con patentes) se le imponen condiciones (ya sea por mandato
judicial, por acuerdo o por cualquier otra causa) que contradigan las
condiciones de esta Licencia, ello no le exime de cumplir las condiciones de
esta Licencia. Si no puede realizar distribuciones de forma que se satisfagan
simultáneamente sus obligaciones bajo esta licencia y cualquier otra obligación
pertinente entonces, como consecuencia, no puede distribuir el Programa de
ninguna forma. Por ejemplo, si una patente no permite la redistribución libre
de derechos de autor del Programa por parte de todos aquellos que reciban
copias directa o indirectamente a través de usted, entonces la única forma en
que podría satisfacer tanto esa condición como esta Licencia sería evitar
completamente la distribución del Programa.

Si cualquier porción de este apartado se considera inválida o imposible de
cumplir bajo cualquier circunstancia particular ha de cumplirse el resto y la
sección por entero ha de cumplirse en cualquier otra circunstancia.

No es el propósito de este apartado inducirle a infringir ninguna
reivindicación de patente ni de ningún otro derecho de propiedad o impugnar la
validez de ninguna de dichas reivindicaciones. Este apartado tiene el único
propósito de proteger la integridad del sistema de distribución de software
libre, que se realiza mediante prácticas de licencia pública. Mucha gente ha
hecho contribuciones generosas a la gran variedad de software distribuido
mediante ese sistema con la confianza de que el sistema se aplicará
consistentemente. Será el autor/donante quien decida si quiere distribuir
software mediante cualquier otro sistema y una licencia no puede imponer esa
elección.

Este apartado pretende dejar completamente claro lo que se cree que es una
consecuencia del resto de esta Licencia.

8.Si la distribución y/o uso de el Programa está restringida en ciertos países,
bien por patentes o por interfaces bajo copyright, el tenedor del copyright que
coloca este Programa bajo esta Licencia puede añadir una limitación explícita
de distribución geográfica excluyendo esos países, de forma que la distribución
se permita sólo en o entre los países no excluidos de esta manera. En ese caso,
esta Licencia incorporará la limitación como si estuviese escrita en el cuerpo
de esta Licencia.

9.La Free Software Foundation puede publicar versiones revisadas y/o nuevas de
la Licencia Pública General de tiempo en tiempo. Dichas nuevas versiones serán
similares en espíritu a la presente versión, pero pueden ser diferentes en
detalles para considerar nuevos problemas o situaciones. Cada versión recibe un
número de versión que la distingue de otras. Si el Programa especifica un
número de versión de esta Licencia que se refiere a ella y a "cualquier versión
posterior", tienes la opción de seguir los términos y condiciones, bien de esa
versión, bien de cualquier versión posterior publicada por la Free Software
Foundation. Si el Programa no especifica un número de versión de esta Licencia,
puedes escoger cualquier versión publicada por la Free Software Foundation.

10.Si quiere incorporar partes del Programa en otros programas libres cuyas
condiciones de distribución son diferentes, escribe al autor para pedirle
permiso. Si el software tiene copyright de la Free Software Foundation, escribe
a la Free Software Foundation: algunas veces hacemos excepciones en estos
casos. Nuestra decisión estará guiada por el doble objetivo de preservar la
libertad de todos los derivados de nuestro software libre y promover el que se
comparta y reutilice el software en general.

AUSENCIA DE GARANTÍA

11.Como el programa se licencia libre de cargas, no se ofrece ninguna garantía
sobre el programa, en toda la extensión permitida por la legislación aplicable.
Excepto cuando se indique de otra forma por escrito, los tenedores del
copyright y/u otras partes proporcionan el programa "tal cual", sin garantía de
ninguna clase, bien expresa o implícita, con inclusión, pero sin limitación a
las garantías mercantiles implícitas o a la conveniencia para un propósito
particular. Cualquier riesgo referente a la calidad y prestaciones del programa
es asumido por usted. Si se probase que el Programa es defectuoso, asume el
coste de cualquier servicio, reparación o corrección.

12.En ningún caso, salvo que lo requiera la legislación aplicable o haya sido
acordado por escrito, ningún tenedor del copyright ni ninguna otra parte que
modifique y/o redistribuya el Programa según se permite en esta Licencia será
responsable ante usted por daños, incluyendo cualquier daño general, especial,
incidental o resultante producido por el uso o la imposibilidad de uso del
Programa (con inclusión, pero sin limitación a la pérdida de datos o a la
generación incorrecta de datos o a pérdidas sufridas por usted o por terceras
partes o a un fallo del Programa al funcionar en combinación con cualquier otro
programa), incluso si dicho tenedor u otra parte ha sido advertido de la
posibilidad de dichos daños.

FIN DE TÉRMINOS Y CONDICIONES

Cómo aplicar estos términos a sus nuevos programas

Si usted desarrolla un nuevo Programa, y quiere que sea del mayor uso posible
para el público en general, la mejor forma de conseguirlo es convirtiéndolo en
software libre que cualquiera pueda redistribuir y cambiar bajo estos términos.

Para hacerlo, añada los siguientes anuncios al programa. Lo más seguro es
añadirlos al principio de cada fichero fuente para transmitir lo más
efectivamente posible la ausencia de garantía. Además cada fichero debería
tener al menos la línea de "copyright" y un indicador a dónde puede encontrarse
el anuncio completo.

una línea para indicar el nombre del programa y una rápida idea de qué hace.
Copyright (C) año  nombre del autor

Este programa es software libre. Puede redistribuirlo y/o modificarlo
bajo los términos de la Licencia Pública General de GNU según es
publicada por la Free Software Foundation, bien de la versión 2 de
dicha Licencia o bien (según su elección) de cualquier versión
posterior.

Este programa se distribuye con la esperanza de que sea útil, pero SIN
NINGUNA GARANTÍA, incluso sin la garantía MERCANTIL implícita o sin
garantizar la CONVENIENCIA PARA UN PROPÓSITO PARTICULAR. Véase la
Licencia Pública General de GNU para más detalles.

Debería haber recibido una copia de la Licencia Pública General junto
con este programa. Si no ha sido así, escriba a la Free Software
Foundation, Inc., en 59 Temple Place, Suite 330, Boston, MA 02111-1307
EEUU.

Añada también información sobre cómo contactar con usted mediante correo
electrónico y postal.

Si el programa es interactivo, haga que muestre un pequeño anuncio como el
siguiente, cuando comienza a funcionar en modo interactivo:

Gnomovision versión 69, Copyright (C) año nombre del autor
Gnomovision no ofrece ABSOLUTAMENTE NINGUNA GARANTÍA. Para más
detalles escriba show w.
Esto es software libre, y vd. es libre de redistribuirlo bajo ciertas
condiciones. Para más detalles escriba show c.

Las órdenes hipotéticas "show w" y "show c" deberían mostrar las partes
adecuadas de la Licencia Pública General. Por supuesto, las órdenes que use se
pueden invocar de cualquier otra manera. Podrían incluso ser pulsaciones del
ratón o elementos de un menú (lo que sea apropiado para su programa).

También deberías conseguir que su empleador (si trabaja como programador) o tu
Universidad (si es el caso) firme un "renuncia de copyright" para el programa,
si es necesario. A continuación se ofrece un ejemplo, altere los nombres según
sea conveniente:

Yoyodyne, Inc. mediante este documento renuncia a cualquier interés de
derechos de copyright con respecto al programa Gnomovision (que
hace pasadas a compiladores) escrito por Pepe Programador.

firma de Pepito Grillo, 20 de diciembre de 1996
 Pepito Grillo, Presidente de Asuntillos Varios.

Esta Licencia Pública General no permite que incluya sus programas en programas
propietarios. Si su programa es una biblioteca de subrutinas, puede considerar
más útil el permitir el enlazado de aplicaciones propietarias con la
biblioteca. Si este es el caso, use la Licencia Pública General de GNU para
Bibliotecas en lugar de esta Licencia.

